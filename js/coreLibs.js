!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=at.type(t);return"function"!==n&&!at.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t,e,n){if(at.isFunction(e))return at.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return at.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(gt.test(e))return at.filter(e,t,n);e=at.filter(e,t)}return at.grep(t,function(t){return Q.call(e,t)>-1!==n})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function a(t){var e={};return at.each(t.match(bt)||[],function(t,n){e[n]=!0}),e}function o(){G.removeEventListener("DOMContentLoaded",o),t.removeEventListener("load",o),at.ready()}function s(){this.expando=at.expando+s.uid++}function l(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Dt,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:kt.test(n)?at.parseJSON(n):n)}catch(t){}Ct.set(t,e,n)}else n=void 0;return n}function u(t,e,n,i){var r,a=1,o=20,s=i?function(){return i.cur()}:function(){return at.css(t,e,"")},l=s(),u=n&&n[3]||(at.cssNumber[e]?"":"px"),c=(at.cssNumber[e]||"px"!==u&&+l)&&Pt.exec(at.css(t,e));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do a=a||".5",c/=a,at.style(t,e,c+u);while(a!==(a=s()/l)&&1!==a&&--o)}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function c(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&at.nodeName(t,e)?at.merge([t],n):n}function h(t,e){for(var n=0,i=t.length;i>n;n++)At.set(t[n],"globalEval",!e||At.get(e[n],"globalEval"))}function p(t,e,n,i,r){for(var a,o,s,l,u,p,d=e.createDocumentFragment(),f=[],g=0,m=t.length;m>g;g++)if(a=t[g],a||0===a)if("object"===at.type(a))at.merge(f,a.nodeType?[a]:a);else if(Ft.test(a)){for(o=o||d.appendChild(e.createElement("div")),s=(Lt.exec(a)||["",""])[1].toLowerCase(),l=Xt[s]||Xt._default,o.innerHTML=l[1]+at.htmlPrefilter(a)+l[2],p=l[0];p--;)o=o.lastChild;at.merge(f,o.childNodes),o=d.firstChild,o.textContent=""}else f.push(e.createTextNode(a));for(d.textContent="",g=0;a=f[g++];)if(i&&at.inArray(a,i)>-1)r&&r.push(a);else if(u=at.contains(a.ownerDocument,a),o=c(d.appendChild(a),"script"),u&&h(o),n)for(p=0;a=o[p++];)Nt.test(a.type||"")&&n.push(a);return d}function d(){return!0}function f(){return!1}function g(){try{return G.activeElement}catch(t){}}function m(t,e,n,i,r,a){var o,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(s in e)m(t,s,n,i,e[s],a);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=f;else if(!r)return t;return 1===a&&(o=r,r=function(t){return at().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=at.guid++)),t.each(function(){at.event.add(this,e,r,i,n)})}function y(t,e){return at.nodeName(t,"table")&&at.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function v(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function S(t){var e=Yt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function T(t,e){var n,i,r,a,o,s,l,u;if(1===e.nodeType){if(At.hasData(t)&&(a=At.access(t),o=At.set(e,a),u=a.events)){delete o.handle,o.events={};for(r in u)for(n=0,i=u[r].length;i>n;n++)at.event.add(e,r,u[r][n])}Ct.hasData(t)&&(s=Ct.access(t),l=at.extend({},s),Ct.set(e,l))}}function b(t,e){var n=e.nodeName.toLowerCase();"input"===n&&_t.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function x(t,e,n,i){e=K.apply([],e);var r,a,o,s,l,u,h=0,d=t.length,f=d-1,g=e[0],m=at.isFunction(g);if(m||d>1&&"string"==typeof g&&!it.checkClone&&Wt.test(g))return t.each(function(r){var a=t.eq(r);m&&(e[0]=g.call(this,r,a.html())),x(a,e,n,i)});if(d&&(r=p(e,t[0].ownerDocument,!1,t,i),a=r.firstChild,1===r.childNodes.length&&(r=a),a||i)){for(o=at.map(c(r,"script"),v),s=o.length;d>h;h++)l=r,h!==f&&(l=at.clone(l,!0,!0),s&&at.merge(o,c(l,"script"))),n.call(t[h],l,h);if(s)for(u=o[o.length-1].ownerDocument,at.map(o,S),h=0;s>h;h++)l=o[h],Nt.test(l.type||"")&&!At.access(l,"globalEval")&&at.contains(u,l)&&(l.src?at._evalUrl&&at._evalUrl(l.src):at.globalEval(l.textContent.replace(Ut,"")))}return t}function M(t,e,n){for(var i,r=e?at.filter(e,t):t,a=0;null!=(i=r[a]);a++)n||1!==i.nodeType||at.cleanData(c(i)),i.parentNode&&(n&&at.contains(i.ownerDocument,i)&&h(c(i,"script")),i.parentNode.removeChild(i));return t}function w(t,e){var n=at(e.createElement(t)).appendTo(e.body),i=at.css(n[0],"display");return n.detach(),i}function A(t){var e=G,n=jt[t];return n||(n=w(t,e),"none"!==n&&n||(Vt=(Vt||at("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Vt[0].contentDocument,e.write(),e.close(),n=w(t,e),Vt.detach()),jt[t]=n),n}function C(t,e,n){var i,r,a,o,s=t.style;return n=n||Jt(t),o=n?n.getPropertyValue(e)||n[e]:void 0,""!==o&&void 0!==o||at.contains(t.ownerDocument,t)||(o=at.style(t,e)),n&&!it.pixelMarginRight()&&Gt.test(o)&&qt.test(e)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a),void 0!==o?o+"":o}function k(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function D(t){if(t in ie)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ne.length;n--;)if(t=ne[n]+e,t in ie)return t}function $(t,e,n){var i=Pt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function P(t,e,n,i,r){for(var a=n===(i?"border":"content")?4:"width"===e?1:0,o=0;4>a;a+=2)"margin"===n&&(o+=at.css(t,n+Et[a],!0,r)),i?("content"===n&&(o-=at.css(t,"padding"+Et[a],!0,r)),"margin"!==n&&(o-=at.css(t,"border"+Et[a]+"Width",!0,r))):(o+=at.css(t,"padding"+Et[a],!0,r),"padding"!==n&&(o+=at.css(t,"border"+Et[a]+"Width",!0,r)));return o}function E(e,n,i){var r=!0,a="width"===n?e.offsetWidth:e.offsetHeight,o=Jt(e),s="border-box"===at.css(e,"boxSizing",!1,o);if(G.msFullscreenElement&&t.top!==t&&e.getClientRects().length&&(a=Math.round(100*e.getBoundingClientRect()[n])),0>=a||null==a){if(a=C(e,n,o),(0>a||null==a)&&(a=e.style[n]),Gt.test(a))return a;r=s&&(it.boxSizingReliable()||a===e.style[n]),a=parseFloat(a)||0}return a+P(e,n,i||(s?"border":"content"),r,o)+"px"}function O(t,e){for(var n,i,r,a=[],o=0,s=t.length;s>o;o++)i=t[o],i.style&&(a[o]=At.get(i,"olddisplay"),n=i.style.display,e?(a[o]||"none"!==n||(i.style.display=""),""===i.style.display&&Ot(i)&&(a[o]=At.access(i,"olddisplay",A(i.nodeName)))):(r=Ot(i),"none"===n&&r||At.set(i,"olddisplay",r?n:at.css(i,"display"))));for(o=0;s>o;o++)i=t[o],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?a[o]||"":"none"));return t}function _(t,e,n,i,r){return new _.prototype.init(t,e,n,i,r)}function L(){return t.setTimeout(function(){re=void 0}),re=at.now()}function N(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=Et[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function X(t,e,n){for(var i,r=(R.tweeners[e]||[]).concat(R.tweeners["*"]),a=0,o=r.length;o>a;a++)if(i=r[a].call(n,e,t))return i}function F(t,e,n){var i,r,a,o,s,l,u,c,h=this,p={},d=t.style,f=t.nodeType&&Ot(t),g=At.get(t,"fxshow");n.queue||(s=at._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,at.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],u=at.css(t,"display"),c="none"===u?At.get(t,"olddisplay")||A(t.nodeName):u,"inline"===c&&"none"===at.css(t,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],oe.exec(r)){if(delete e[i],a=a||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;f=!0}p[i]=g&&g[i]||at.style(t,i)}else u=void 0;if(at.isEmptyObject(p))"inline"===("none"===u?A(t.nodeName):u)&&(d.display=u);else{g?"hidden"in g&&(f=g.hidden):g=At.access(t,"fxshow",{}),a&&(g.hidden=!f),f?at(t).show():h.done(function(){at(t).hide()}),h.done(function(){var e;At.remove(t,"fxshow");for(e in p)at.style(t,e,p[e])});for(i in p)o=X(f?g[i]:0,i,h),i in g||(g[i]=o.start,f&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}}function I(t,e){var n,i,r,a,o;for(n in t)if(i=at.camelCase(n),r=e[i],a=t[n],at.isArray(a)&&(r=a[1],a=t[n]=a[0]),n!==i&&(t[i]=a,delete t[n]),o=at.cssHooks[i],o&&"expand"in o){a=o.expand(a),delete t[i];for(n in a)n in t||(t[n]=a[n],e[n]=r)}else e[i]=r}function R(t,e,n){var i,r,a=0,o=R.prefilters.length,s=at.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=re||L(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,a=1-i,o=0,l=u.tweens.length;l>o;o++)u.tweens[o].run(a);return s.notifyWith(t,[u,a,n]),1>a&&l?n:(s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:at.extend({},e),opts:at.extend(!0,{specialEasing:{},easing:at.easing._default},n),originalProperties:e,originalOptions:n,startTime:re||L(),duration:n.duration,tweens:[],createTween:function(e,n){var i=at.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),c=u.props;for(I(c,u.opts.specialEasing);o>a;a++)if(i=R.prefilters[a].call(u,t,c,u.opts))return at.isFunction(i.stop)&&(at._queueHooks(u.elem,u.opts.queue).stop=at.proxy(i.stop,i)),i;return at.map(c,X,u),at.isFunction(u.opts.start)&&u.opts.start.call(t,u),at.fx.timer(at.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function H(t){return t.getAttribute&&t.getAttribute("class")||""}function z(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,a=e.toLowerCase().match(bt)||[];if(at.isFunction(n))for(;i=a[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function B(t,e,n,i){function r(s){var l;return a[s]=!0,at.each(t[s]||[],function(t,s){var u=s(e,n,i);return"string"!=typeof u||o||a[u]?o?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var a={},o=t===Ae;return r(e.dataTypes[0])||!a["*"]&&r("*")}function W(t,e){var n,i,r=at.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&at.extend(!0,t,i),t}function Y(t,e,n){for(var i,r,a,o,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){a=r;break}o||(o=r)}a=a||o}return a?(a!==l[0]&&l.unshift(a),n[a]):void 0}function U(t,e,n,i){var r,a,o,s,l,u={},c=t.dataTypes.slice();if(c[1])for(o in t.converters)u[o.toLowerCase()]=t.converters[o];for(a=c.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(o=u[l+" "+a]||u["* "+a],!o)for(r in u)if(s=r.split(" "),s[1]===a&&(o=u[l+" "+s[0]]||u["* "+s[0]])){o===!0?o=u[r]:u[r]!==!0&&(a=s[0],c.unshift(s[1]));break}if(o!==!0)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}function V(t,e,n,i){var r;if(at.isArray(e))at.each(e,function(e,r){n||$e.test(t)?i(t,r):V(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==at.type(e))i(t,e);else for(r in e)V(t+"["+r+"]",e[r],n,i)}function j(t){return at.isWindow(t)?t:9===t.nodeType&&t.defaultView}var q=[],G=t.document,J=q.slice,K=q.concat,Z=q.push,Q=q.indexOf,tt={},et=tt.toString,nt=tt.hasOwnProperty,it={},rt="2.2.1",at=function(t,e){return new at.fn.init(t,e)},ot=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,lt=/-([\da-z])/gi,ut=function(t,e){return e.toUpperCase()};at.fn=at.prototype={jquery:rt,constructor:at,selector:"",length:0,toArray:function(){return J.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:J.call(this)},pushStack:function(t){var e=at.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return at.each(this,t)},map:function(t){return this.pushStack(at.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(J.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:Z,sort:q.sort,splice:q.splice},at.extend=at.fn.extend=function(){var t,e,n,i,r,a,o=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||at.isFunction(o)||(o={}),s===l&&(o=this,s--);l>s;s++)if(null!=(t=arguments[s]))for(e in t)n=o[e],i=t[e],o!==i&&(u&&i&&(at.isPlainObject(i)||(r=at.isArray(i)))?(r?(r=!1,a=n&&at.isArray(n)?n:[]):a=n&&at.isPlainObject(n)?n:{},o[e]=at.extend(u,a,i)):void 0!==i&&(o[e]=i));return o},at.extend({expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===at.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!at.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){return"object"===at.type(t)&&!t.nodeType&&!at.isWindow(t)&&!(t.constructor&&!nt.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?tt[et.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=at.trim(t),t&&(1===t.indexOf("use strict")?(e=G.createElement("script"),e.text=t,G.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(st,"ms-").replace(lt,ut)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,r=0;if(n(t))for(i=t.length;i>r&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ot,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?at.merge(i,"string"==typeof t?[t]:t):Z.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:Q.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],a=0,o=t.length,s=!n;o>a;a++)i=!e(t[a],a),i!==s&&r.push(t[a]);return r},map:function(t,e,i){var r,a,o=0,s=[];if(n(t))for(r=t.length;r>o;o++)a=e(t[o],o,i),null!=a&&s.push(a);else for(o in t)a=e(t[o],o,i),null!=a&&s.push(a);return K.apply([],s)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),at.isFunction(t)?(i=J.call(arguments,2),r=function(){return t.apply(e||this,i.concat(J.call(arguments)))},r.guid=t.guid=t.guid||at.guid++,r):void 0},now:Date.now,support:it}),"function"==typeof Symbol&&(at.fn[Symbol.iterator]=q[Symbol.iterator]),at.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()});var ct=function(t){function e(t,e,n,i){var r,a,o,s,l,u,h,d,f=e&&e.ownerDocument,g=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return n;if(!i&&((e?e.ownerDocument||e:H)!==O&&E(e),e=e||O,L)){if(11!==g&&(u=yt.exec(t)))if(r=u[1]){if(9===g){if(!(o=e.getElementById(r)))return n;if(o.id===r)return n.push(o),n}else if(f&&(o=f.getElementById(r))&&I(e,o)&&o.id===r)return n.push(o),n}else{if(u[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&b.getElementsByClassName&&e.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(r)),n}if(b.qsa&&!U[t+" "]&&(!N||!N.test(t))){if(1!==g)f=e,d=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(St,"\\$&"):e.setAttribute("id",s=R),h=A(t),a=h.length,l=pt.test(s)?"#"+s:"[id='"+s+"']";a--;)h[a]=l+" "+p(h[a]);d=h.join(","),f=vt.test(t)&&c(e.parentNode)||e}if(d)try{return Z.apply(n,f.querySelectorAll(d)),n}catch(t){}finally{s===R&&e.removeAttribute("id")}}}return k(t.replace(st,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[R]=!0,t}function r(t){var e=O.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t,e){for(var n=t.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=e}function o(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||j)-(~t.sourceIndex||j);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return i(function(e){return e=+e,i(function(n,i){for(var r,a=t([],n.length,e),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function p(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function d(t,e,n){var i=e.dir,r=n&&"parentNode"===i,a=B++;return e.first?function(e,n,a){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,a)}:function(e,n,o){var s,l,u,c=[z,a];if(o){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,o))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(u=e[R]||(e[R]={}),l=u[e.uniqueID]||(u[e.uniqueID]={}),(s=l[i])&&s[0]===z&&s[1]===a)return c[2]=s[2];if(l[i]=c,c[2]=t(e,n,o))return!0}}}function f(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,a=n.length;a>r;r++)e(t,n[r],i);return i}function m(t,e,n,i,r){for(var a,o=[],s=0,l=t.length,u=null!=e;l>s;s++)(a=t[s])&&(!n||n(a,i,r))&&(o.push(a),u&&e.push(s));return o}function y(t,e,n,r,a,o){return r&&!r[R]&&(r=y(r)),a&&!a[R]&&(a=y(a,o)),i(function(i,o,s,l){var u,c,h,p=[],d=[],f=o.length,y=i||g(e||"*",s.nodeType?[s]:s,[]),v=!t||!i&&e?y:m(y,p,t,s,l),S=n?a||(i?t:f||r)?[]:o:v;if(n&&n(v,S,s,l),r)for(u=m(S,d),r(u,[],s,l),c=u.length;c--;)(h=u[c])&&(S[d[c]]=!(v[d[c]]=h));if(i){if(a||t){if(a){for(u=[],c=S.length;c--;)(h=S[c])&&u.push(v[c]=h);a(null,S=[],u,l)}for(c=S.length;c--;)(h=S[c])&&(u=a?tt(i,h):p[c])>-1&&(i[u]=!(o[u]=h))}}else S=m(S===o?S.splice(f,S.length):S),a?a(null,o,S,l):Z.apply(o,S)})}function v(t){for(var e,n,i,r=t.length,a=x.relative[t[0].type],o=a||x.relative[" "],s=a?1:0,l=d(function(t){return t===e},o,!0),u=d(function(t){return tt(e,t)>-1},o,!0),c=[function(t,n,i){var r=!a&&(i||n!==D)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,r}];r>s;s++)if(n=x.relative[t[s].type])c=[d(f(c),n)];else{if(n=x.filter[t[s].type].apply(null,t[s].matches),n[R]){for(i=++s;r>i&&!x.relative[t[i].type];i++);return y(s>1&&f(c),s>1&&p(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,i>s&&v(t.slice(s,i)),r>i&&v(t=t.slice(i)),r>i&&p(t))}c.push(n)}return f(c)}function S(t,n){var r=n.length>0,a=t.length>0,o=function(i,o,s,l,u){var c,h,p,d=0,f="0",g=i&&[],y=[],v=D,S=i||a&&x.find.TAG("*",u),T=z+=null==v?1:Math.random()||.1,b=S.length;for(u&&(D=o===O||o||u);f!==b&&null!=(c=S[f]);f++){if(a&&c){for(h=0,o||c.ownerDocument===O||(E(c),s=!L);p=t[h++];)if(p(c,o||O,s)){l.push(c);break}u&&(z=T)}r&&((c=!p&&c)&&d--,i&&g.push(c))}if(d+=f,r&&f!==d){for(h=0;p=n[h++];)p(g,y,o,s);if(i){if(d>0)for(;f--;)g[f]||y[f]||(y[f]=J.call(l));y=m(y)}Z.apply(l,y),u&&!i&&y.length>0&&d+n.length>1&&e.uniqueSort(l)}return u&&(z=T,D=v),g};return r?i(o):o}var T,b,x,M,w,A,C,k,D,$,P,E,O,_,L,N,X,F,I,R="sizzle"+1*new Date,H=t.document,z=0,B=0,W=n(),Y=n(),U=n(),V=function(t,e){return t===e&&(P=!0),0},j=1<<31,q={}.hasOwnProperty,G=[],J=G.pop,K=G.push,Z=G.push,Q=G.slice,tt=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",at=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",ot=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(at),pt=new RegExp("^"+it+"$"),dt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,St=/'|\\/g,Tt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),bt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=function(){E()};try{Z.apply(G=Q.call(H.childNodes),H.childNodes),G[H.childNodes.length].nodeType}catch(t){Z={apply:G.length?function(t,e){K.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}b=e.support={},w=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},E=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:H;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,_=O.documentElement,L=!w(O),(n=O.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),b.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=r(function(t){return t.appendChild(O.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=mt.test(O.getElementsByClassName),b.getById=r(function(t){return _.appendChild(t).id=R,!O.getElementsByName||!O.getElementsByName(R).length}),b.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&L){var n=e.getElementById(t);return n?[n]:[]}},x.filter.ID=function(t){var e=t.replace(Tt,bt);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(Tt,bt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=b.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):b.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,a=e.getElementsByTagName(t);if("*"===t){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},x.find.CLASS=b.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&L?e.getElementsByClassName(t):void 0},X=[],N=[],(b.qsa=mt.test(O.querySelectorAll))&&(r(function(t){_.appendChild(t).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+R+"-]").length||N.push("~="),t.querySelectorAll(":checked").length||N.push(":checked"),t.querySelectorAll("a#"+R+"+*").length||N.push(".#.+[+~]")}),r(function(t){var e=O.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")})),(b.matchesSelector=mt.test(F=_.matches||_.webkitMatchesSelector||_.mozMatchesSelector||_.oMatchesSelector||_.msMatchesSelector))&&r(function(t){b.disconnectedMatch=F.call(t,"div"),F.call(t,"[s!='']:x"),X.push("!=",at)}),N=N.length&&new RegExp(N.join("|")),X=X.length&&new RegExp(X.join("|")),e=mt.test(_.compareDocumentPosition),I=e||mt.test(_.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return P=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!b.sortDetached&&e.compareDocumentPosition(t)===n?t===O||t.ownerDocument===H&&I(H,t)?-1:e===O||e.ownerDocument===H&&I(H,e)?1:$?tt($,t)-tt($,e):0:4&n?-1:1)}:function(t,e){if(t===e)return P=!0,0;var n,i=0,r=t.parentNode,a=e.parentNode,s=[t],l=[e];if(!r||!a)return t===O?-1:e===O?1:r?-1:a?1:$?tt($,t)-tt($,e):0;if(r===a)return o(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?o(s[i],l[i]):s[i]===H?-1:l[i]===H?1:0},O):O},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==O&&E(t),n=n.replace(ct,"='$1']"),b.matchesSelector&&L&&!U[n+" "]&&(!X||!X.test(n))&&(!N||!N.test(n)))try{var i=F.call(t,n);if(i||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,O,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==O&&E(t),I(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==O&&E(t);var n=x.attrHandle[e.toLowerCase()],i=n&&q.call(x.attrHandle,e.toLowerCase())?n(t,e,!L):void 0;return void 0!==i?i:b.attributes||!L?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(P=!b.detectDuplicates,$=!b.sortStable&&t.slice(0),t.sort(V),P){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return $=null,t},M=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=M(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=M(e);return n},x=e.selectors={cacheLength:50,createPseudo:i,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Tt,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(Tt,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=A(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Tt,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var a=e.attr(r,t);return null==a?"!="===n:!n||(a+="","="===n?a===i:"!="===n?a!==i:"^="===n?i&&0===a.indexOf(i):"*="===n?i&&a.indexOf(i)>-1:"$="===n?i&&a.slice(-i.length)===i:"~="===n?(" "+a.replace(ot," ")+" ").indexOf(i)>-1:"|="===n&&(a===i||a.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var a="nth"!==t.slice(0,3),o="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,p,d,f,g=a!==o?"nextSibling":"previousSibling",m=e.parentNode,y=s&&e.nodeName.toLowerCase(),v=!l&&!s,S=!1;if(m){if(a){for(;g;){for(p=e;p=p[g];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[o?m.firstChild:m.lastChild],o&&v){for(p=m,h=p[R]||(p[R]={}),c=h[p.uniqueID]||(h[p.uniqueID]={}),u=c[t]||[],d=u[0]===z&&u[1],S=d&&u[2],p=d&&m.childNodes[d];p=++d&&p&&p[g]||(S=d=0)||f.pop();)if(1===p.nodeType&&++S&&p===e){c[t]=[z,d,S];break}}else if(v&&(p=e,h=p[R]||(p[R]={}),c=h[p.uniqueID]||(h[p.uniqueID]={}),u=c[t]||[],d=u[0]===z&&u[1],S=d),S===!1)for(;(p=++d&&p&&p[g]||(S=d=0)||f.pop())&&((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++S||(v&&(h=p[R]||(p[R]={}),c=h[p.uniqueID]||(h[p.uniqueID]={}),c[t]=[z,S]),p!==e)););return S-=r,S===i||S%i===0&&S/i>=0}}},PSEUDO:function(t,n){var r,a=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return a[R]?a(n):a.length>1?(r=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=a(t,n),o=r.length;o--;)i=tt(t,r[o]),t[i]=!(e[i]=r[o])}):function(t){return a(t,0,r)}):a}},pseudos:{not:i(function(t){var e=[],n=[],r=C(t.replace(st,"$1"));return r[R]?i(function(t,e,n,i){for(var a,o=r(t,null,i,[]),s=t.length;s--;)(a=o[s])&&(t[s]=!(e[s]=a))}):function(t,i,a){return e[0]=t,r(e,null,a,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(Tt,bt),function(e){return(e.textContent||e.innerText||M(e)).indexOf(t)>-1}}),lang:i(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(Tt,bt).toLowerCase(),function(e){var n;do if(n=L?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===_},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t;
}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},x.pseudos.nth=x.pseudos.eq;for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[T]=s(T);for(T in{submit:!0,reset:!0})x.pseudos[T]=l(T);return h.prototype=x.filters=x.pseudos,x.setFilters=new h,A=e.tokenize=function(t,n){var i,r,a,o,s,l,u,c=Y[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],u=x.preFilter;s;){(!i||(r=lt.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),i=!1,(r=ut.exec(s))&&(i=r.shift(),a.push({value:i,type:r[0].replace(st," ")}),s=s.slice(i.length));for(o in x.filter)!(r=dt[o].exec(s))||u[o]&&!(r=u[o](r))||(i=r.shift(),a.push({value:i,type:o,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):Y(t,l).slice(0)},C=e.compile=function(t,e){var n,i=[],r=[],a=U[t+" "];if(!a){for(e||(e=A(t)),n=e.length;n--;)a=v(e[n]),a[R]?i.push(a):r.push(a);a=U(t,S(r,i)),a.selector=t}return a},k=e.select=function(t,e,n,i){var r,a,o,s,l,u="function"==typeof t&&t,h=!i&&A(t=u.selector||t);if(n=n||[],1===h.length){if(a=h[0]=h[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&b.getById&&9===e.nodeType&&L&&x.relative[a[1].type]){if(e=(x.find.ID(o.matches[0].replace(Tt,bt),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(a.shift().value.length)}for(r=dt.needsContext.test(t)?0:a.length;r--&&(o=a[r],!x.relative[s=o.type]);)if((l=x.find[s])&&(i=l(o.matches[0].replace(Tt,bt),vt.test(a[0].type)&&c(e.parentNode)||e))){if(a.splice(r,1),t=i.length&&p(a),!t)return Z.apply(n,i),n;break}}return(u||C(t,h))(i,e,!L,n,!e||vt.test(t)&&c(e.parentNode)||e),n},b.sortStable=R.split("").sort(V).join("")===R,b.detectDuplicates=!!P,E(),b.sortDetached=r(function(t){return 1&t.compareDocumentPosition(O.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||a("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||a("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||a(et,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);at.find=ct,at.expr=ct.selectors,at.expr[":"]=at.expr.pseudos,at.uniqueSort=at.unique=ct.uniqueSort,at.text=ct.getText,at.isXMLDoc=ct.isXML,at.contains=ct.contains;var ht=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&at(t).is(n))break;i.push(t)}return i},pt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},dt=at.expr.match.needsContext,ft=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,gt=/^.[^:#\[\.,]*$/;at.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?at.find.matchesSelector(i,t)?[i]:[]:at.find.matches(t,at.grep(e,function(t){return 1===t.nodeType}))},at.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(at(t).filter(function(){for(e=0;n>e;e++)if(at.contains(r[e],this))return!0}));for(e=0;n>e;e++)at.find(t,r[e],i);return i=this.pushStack(n>1?at.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&dt.test(t)?at(t):t||[],!1).length}});var mt,yt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,vt=at.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||mt,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:yt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof at?e[0]:e,at.merge(this,at.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:G,!0)),ft.test(i[1])&&at.isPlainObject(e))for(i in e)at.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=G.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=G,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):at.isFunction(t)?void 0!==n.ready?n.ready(t):t(at):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),at.makeArray(t,this))};vt.prototype=at.fn,mt=at(G);var St=/^(?:parents|prev(?:Until|All))/,Tt={children:!0,contents:!0,next:!0,prev:!0};at.fn.extend({has:function(t){var e=at(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(at.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,a=[],o=dt.test(t)||"string"!=typeof t?at(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&at.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(a.length>1?at.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?Q.call(at(t),this[0]):Q.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(at.uniqueSort(at.merge(this.get(),at(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),at.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ht(t,"parentNode")},parentsUntil:function(t,e,n){return ht(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return ht(t,"nextSibling")},prevAll:function(t){return ht(t,"previousSibling")},nextUntil:function(t,e,n){return ht(t,"nextSibling",n)},prevUntil:function(t,e,n){return ht(t,"previousSibling",n)},siblings:function(t){return pt((t.parentNode||{}).firstChild,t)},children:function(t){return pt(t.firstChild)},contents:function(t){return t.contentDocument||at.merge([],t.childNodes)}},function(t,e){at.fn[t]=function(n,i){var r=at.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=at.filter(i,r)),this.length>1&&(Tt[t]||at.uniqueSort(r),St.test(t)&&r.reverse()),this.pushStack(r)}});var bt=/\S+/g;at.Callbacks=function(t){t="string"==typeof t?a(t):at.extend({},t);var e,n,i,r,o=[],s=[],l=-1,u=function(){for(r=t.once,i=e=!0;s.length;l=-1)for(n=s.shift();++l<o.length;)o[l].apply(n[0],n[1])===!1&&t.stopOnFalse&&(l=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(l=o.length-1,s.push(n)),function e(n){at.each(n,function(n,i){at.isFunction(i)?t.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==at.type(i)&&e(i)})}(arguments),n&&!e&&u()),this},remove:function(){return at.each(arguments,function(t,e){for(var n;(n=at.inArray(e,o,n))>-1;)o.splice(n,1),l>=n&&l--}),this},has:function(t){return t?at.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},at.extend({Deferred:function(t){var e=[["resolve","done",at.Callbacks("once memory"),"resolved"],["reject","fail",at.Callbacks("once memory"),"rejected"],["notify","progress",at.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return at.Deferred(function(n){at.each(e,function(e,a){var o=at.isFunction(t[e])&&t[e];r[a[1]](function(){var t=o&&o.apply(this,arguments);t&&at.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[a[0]+"With"](this===i?n.promise():this,o?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?at.extend(t,i):i}},r={};return i.pipe=i.then,at.each(e,function(t,a){var o=a[2],s=a[3];i[a[1]]=o.add,s&&o.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?i:this,arguments),this},r[a[0]+"With"]=o.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,a=J.call(arguments),o=a.length,s=1!==o||t&&at.isFunction(t.promise)?o:0,l=1===s?t:at.Deferred(),u=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?J.call(arguments):r,i===e?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(o>1)for(e=new Array(o),n=new Array(o),i=new Array(o);o>r;r++)a[r]&&at.isFunction(a[r].promise)?a[r].promise().progress(u(r,n,e)).done(u(r,i,a)).fail(l.reject):--s;return s||l.resolveWith(i,a),l.promise()}});var xt;at.fn.ready=function(t){return at.ready.promise().done(t),this},at.extend({isReady:!1,readyWait:1,holdReady:function(t){t?at.readyWait++:at.ready(!0)},ready:function(t){(t===!0?--at.readyWait:at.isReady)||(at.isReady=!0,t!==!0&&--at.readyWait>0||(xt.resolveWith(G,[at]),at.fn.triggerHandler&&(at(G).triggerHandler("ready"),at(G).off("ready"))))}}),at.ready.promise=function(e){return xt||(xt=at.Deferred(),"complete"===G.readyState||"loading"!==G.readyState&&!G.documentElement.doScroll?t.setTimeout(at.ready):(G.addEventListener("DOMContentLoaded",o),t.addEventListener("load",o))),xt.promise(e)},at.ready.promise();var Mt=function(t,e,n,i,r,a,o){var s=0,l=t.length,u=null==n;if("object"===at.type(n)){r=!0;for(s in n)Mt(t,e,s,n[s],!0,a,o)}else if(void 0!==i&&(r=!0,at.isFunction(i)||(o=!0),u&&(o?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(at(t),n)})),e))for(;l>s;s++)e(t[s],n,o?i:i.call(t[s],s,e(t[s],n)));return r?t:u?e.call(t):l?e(t[0],n):a},wt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};s.uid=1,s.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!wt(t))return{};var e=t[this.expando];return e||(e={},wt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,at.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,a=t[this.expando];if(void 0!==a){if(void 0===e)this.register(t);else{at.isArray(e)?i=e.concat(e.map(at.camelCase)):(r=at.camelCase(e),e in a?i=[e,r]:(i=r,i=i in a?[i]:i.match(bt)||[])),n=i.length;for(;n--;)delete a[i[n]]}(void 0===e||at.isEmptyObject(a))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!at.isEmptyObject(e)}};var At=new s,Ct=new s,kt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Dt=/[A-Z]/g;at.extend({hasData:function(t){return Ct.hasData(t)||At.hasData(t)},data:function(t,e,n){return Ct.access(t,e,n)},removeData:function(t,e){Ct.remove(t,e)},_data:function(t,e,n){return At.access(t,e,n)},_removeData:function(t,e){At.remove(t,e)}}),at.fn.extend({data:function(t,e){var n,i,r,a=this[0],o=a&&a.attributes;if(void 0===t){if(this.length&&(r=Ct.get(a),1===a.nodeType&&!At.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&(i=o[n].name,0===i.indexOf("data-")&&(i=at.camelCase(i.slice(5)),l(a,i,r[i])));At.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Ct.set(this,t)}):Mt(this,function(e){var n,i;if(a&&void 0===e){if(n=Ct.get(a,t)||Ct.get(a,t.replace(Dt,"-$&").toLowerCase()),void 0!==n)return n;if(i=at.camelCase(t),n=Ct.get(a,i),void 0!==n)return n;if(n=l(a,i,void 0),void 0!==n)return n}else i=at.camelCase(t),this.each(function(){var n=Ct.get(this,i);Ct.set(this,i,e),t.indexOf("-")>-1&&void 0!==n&&Ct.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Ct.remove(this,t)})}}),at.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=At.get(t,e),n&&(!i||at.isArray(n)?i=At.access(t,e,at.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=at.queue(t,e),i=n.length,r=n.shift(),a=at._queueHooks(t,e),o=function(){at.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete a.stop,r.call(t,o,a)),!i&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return At.get(t,n)||At.access(t,n,{empty:at.Callbacks("once memory").add(function(){At.remove(t,[e+"queue",n])})})}}),at.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?at.queue(this[0],t):void 0===e?this:this.each(function(){var n=at.queue(this,t,e);at._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&at.dequeue(this,t)})},dequeue:function(t){return this.each(function(){at.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=at.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)n=At.get(a[o],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var $t=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pt=new RegExp("^(?:([+-])=|)("+$t+")([a-z%]*)$","i"),Et=["Top","Right","Bottom","Left"],Ot=function(t,e){return t=e||t,"none"===at.css(t,"display")||!at.contains(t.ownerDocument,t)},_t=/^(?:checkbox|radio)$/i,Lt=/<([\w:-]+)/,Nt=/^$|\/(?:java|ecma)script/i,Xt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Xt.optgroup=Xt.option,Xt.tbody=Xt.tfoot=Xt.colgroup=Xt.caption=Xt.thead,Xt.th=Xt.td;var Ft=/<|&#?\w+;/;!function(){var t=G.createDocumentFragment(),e=t.appendChild(G.createElement("div")),n=G.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),it.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var It=/^key/,Rt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ht=/^([^.]*)(?:\.(.+)|)/;at.event={global:{},add:function(t,e,n,i,r){var a,o,s,l,u,c,h,p,d,f,g,m=At.get(t);if(m)for(n.handler&&(a=n,n=a.handler,r=a.selector),n.guid||(n.guid=at.guid++),(l=m.events)||(l=m.events={}),(o=m.handle)||(o=m.handle=function(e){return"undefined"!=typeof at&&at.event.triggered!==e.type?at.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(bt)||[""],u=e.length;u--;)s=Ht.exec(e[u])||[],d=g=s[1],f=(s[2]||"").split(".").sort(),d&&(h=at.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=at.event.special[d]||{},c=at.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&at.expr.match.needsContext.test(r),namespace:f.join(".")},a),(p=l[d])||(p=l[d]=[],p.delegateCount=0,h.setup&&h.setup.call(t,i,f,o)!==!1||t.addEventListener&&t.addEventListener(d,o)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,c):p.push(c),at.event.global[d]=!0)},remove:function(t,e,n,i,r){var a,o,s,l,u,c,h,p,d,f,g,m=At.hasData(t)&&At.get(t);if(m&&(l=m.events)){for(e=(e||"").match(bt)||[""],u=e.length;u--;)if(s=Ht.exec(e[u])||[],d=g=s[1],f=(s[2]||"").split(".").sort(),d){for(h=at.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,p=l[d]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=p.length;a--;)c=p[a],!r&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(p.splice(a,1),c.selector&&p.delegateCount--,h.remove&&h.remove.call(t,c));o&&!p.length&&(h.teardown&&h.teardown.call(t,f,m.handle)!==!1||at.removeEvent(t,d,m.handle),delete l[d])}else for(d in l)at.event.remove(t,d+e[u],n,i,!0);at.isEmptyObject(l)&&At.remove(t,"handle events")}},dispatch:function(t){t=at.event.fix(t);var e,n,i,r,a,o=[],s=J.call(arguments),l=(At.get(this,"events")||{})[t.type]||[],u=at.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(o=at.event.handlers.call(this,t,l),e=0;(r=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.rnamespace||t.rnamespace.test(a.namespace))&&(t.handleObj=a,t.data=a.data,i=((at.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,s),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,a,o=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(i=[],n=0;s>n;n++)a=e[n],r=a.selector+" ",void 0===i[r]&&(i[r]=a.needsContext?at(r,this).index(l)>-1:at.find(r,this,null,[l]).length),i[r]&&i.push(a);i.length&&o.push({elem:l,handlers:i})}return s<e.length&&o.push({elem:this,handlers:e.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,a=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||G,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===a||(t.which=1&a?1:2&a?3:4&a?2:0),t}},fix:function(t){if(t[at.expando])return t;var e,n,i,r=t.type,a=t,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Rt.test(r)?this.mouseHooks:It.test(r)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,t=new at.Event(a),e=i.length;e--;)n=i[e],t[n]=a[n];return t.target||(t.target=G),3===t.target.nodeType&&(t.target=t.target.parentNode),o.filter?o.filter(t,a):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==g()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===g()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&at.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return at.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},at.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},at.Event=function(t,e){return this instanceof at.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?d:f):this.type=t,e&&at.extend(this,e),this.timeStamp=t&&t.timeStamp||at.now(),void(this[at.expando]=!0)):new at.Event(t,e)},at.Event.prototype={constructor:at.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=d,t&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=d,t&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=d,t&&t.stopImmediatePropagation(),this.stopPropagation()}},at.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){at.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,a=t.handleObj;return(!r||r!==i&&!at.contains(i,r))&&(t.type=a.origType,n=a.handler.apply(this,arguments),t.type=e),n}}}),at.fn.extend({on:function(t,e,n,i){return m(this,t,e,n,i)},one:function(t,e,n,i){return m(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,at(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=f),this.each(function(){at.event.remove(this,t,n,e)})}});var zt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Bt=/<script|<style|<link/i,Wt=/checked\s*(?:[^=]|=\s*.checked.)/i,Yt=/^true\/(.*)/,Ut=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;at.extend({htmlPrefilter:function(t){return t.replace(zt,"<$1></$2>")},clone:function(t,e,n){var i,r,a,o,s=t.cloneNode(!0),l=at.contains(t.ownerDocument,t);if(!(it.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||at.isXMLDoc(t)))for(o=c(s),a=c(t),i=0,r=a.length;r>i;i++)b(a[i],o[i]);if(e)if(n)for(a=a||c(t),o=o||c(s),i=0,r=a.length;r>i;i++)T(a[i],o[i]);else T(t,s);return o=c(s,"script"),o.length>0&&h(o,!l&&c(t,"script")),s},cleanData:function(t){for(var e,n,i,r=at.event.special,a=0;void 0!==(n=t[a]);a++)if(wt(n)){if(e=n[At.expando]){if(e.events)for(i in e.events)r[i]?at.event.remove(n,i):at.removeEvent(n,i,e.handle);n[At.expando]=void 0}n[Ct.expando]&&(n[Ct.expando]=void 0)}}}),at.fn.extend({domManip:x,detach:function(t){return M(this,t,!0)},remove:function(t){return M(this,t)},text:function(t){return Mt(this,function(t){return void 0===t?at.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.appendChild(t)}})},prepend:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(at.cleanData(c(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return at.clone(this,t,e)})},html:function(t){return Mt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Bt.test(t)&&!Xt[(Lt.exec(t)||["",""])[1].toLowerCase()]){t=at.htmlPrefilter(t);try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(at.cleanData(c(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return x(this,arguments,function(e){var n=this.parentNode;at.inArray(this,t)<0&&(at.cleanData(c(this)),n&&n.replaceChild(e,this))},t)}}),at.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){at.fn[t]=function(t){for(var n,i=[],r=at(t),a=r.length-1,o=0;a>=o;o++)n=o===a?this:this.clone(!0),at(r[o])[e](n),Z.apply(i,n.get());return this.pushStack(i)}});var Vt,jt={HTML:"block",BODY:"block"},qt=/^margin/,Gt=new RegExp("^("+$t+")(?!px)[a-z%]+$","i"),Jt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Kt=function(t,e,n,i){var r,a,o={};for(a in e)o[a]=t.style[a],t.style[a]=e[a];r=n.apply(t,i||[]);for(a in e)t.style[a]=o[a];return r},Zt=G.documentElement;!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Zt.appendChild(o);var e=t.getComputedStyle(s);n="1%"!==e.top,a="2px"===e.marginLeft,i="4px"===e.width,s.style.marginRight="50%",r="4px"===e.marginRight,Zt.removeChild(o)}var n,i,r,a,o=G.createElement("div"),s=G.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(s),at.extend(it,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},pixelMarginRight:function(){return null==i&&e(),r},reliableMarginLeft:function(){return null==i&&e(),a},reliableMarginRight:function(){var e,n=s.appendChild(G.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",Zt.appendChild(o),e=!parseFloat(t.getComputedStyle(n).marginRight),Zt.removeChild(o),s.removeChild(n),e}}))}();var Qt=/^(none|table(?!-c[ea]).+)/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"},ne=["Webkit","O","Moz","ms"],ie=G.createElement("div").style;at.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=C(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,a,o,s=at.camelCase(e),l=t.style;return e=at.cssProps[s]||(at.cssProps[s]=D(s)||s),o=at.cssHooks[e]||at.cssHooks[s],void 0===n?o&&"get"in o&&void 0!==(r=o.get(t,!1,i))?r:l[e]:(a=typeof n,"string"===a&&(r=Pt.exec(n))&&r[1]&&(n=u(t,e,r),a="number"),void(null!=n&&n===n&&("number"===a&&(n+=r&&r[3]||(at.cssNumber[s]?"":"px")),it.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(n=o.set(t,n,i))||(l[e]=n))))}},css:function(t,e,n,i){var r,a,o,s=at.camelCase(e);return e=at.cssProps[s]||(at.cssProps[s]=D(s)||s),o=at.cssHooks[e]||at.cssHooks[s],o&&"get"in o&&(r=o.get(t,!0,n)),void 0===r&&(r=C(t,e,i)),"normal"===r&&e in ee&&(r=ee[e]),""===n||n?(a=parseFloat(r),n===!0||isFinite(a)?a||0:r):r}}),at.each(["height","width"],function(t,e){at.cssHooks[e]={get:function(t,n,i){return n?Qt.test(at.css(t,"display"))&&0===t.offsetWidth?Kt(t,te,function(){return E(t,e,i)}):E(t,e,i):void 0},set:function(t,n,i){var r,a=i&&Jt(t),o=i&&P(t,e,i,"border-box"===at.css(t,"boxSizing",!1,a),a);return o&&(r=Pt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=at.css(t,e)),$(t,n,o)}}}),at.cssHooks.marginLeft=k(it.reliableMarginLeft,function(t,e){return e?(parseFloat(C(t,"marginLeft"))||t.getBoundingClientRect().left-Kt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),at.cssHooks.marginRight=k(it.reliableMarginRight,function(t,e){return e?Kt(t,{display:"inline-block"},C,[t,"marginRight"]):void 0}),at.each({margin:"",padding:"",border:"Width"},function(t,e){at.cssHooks[t+e]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Et[i]+e]=a[i]||a[i-2]||a[0];return r}},qt.test(t)||(at.cssHooks[t+e].set=$)}),at.fn.extend({css:function(t,e){return Mt(this,function(t,e,n){var i,r,a={},o=0;if(at.isArray(e)){for(i=Jt(t),r=e.length;r>o;o++)a[e[o]]=at.css(t,e[o],!1,i);return a}return void 0!==n?at.style(t,e,n):at.css(t,e)},t,e,arguments.length>1)},show:function(){return O(this,!0)},hide:function(){return O(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ot(this)?at(this).show():at(this).hide()})}}),at.Tween=_,_.prototype={constructor:_,init:function(t,e,n,i,r,a){this.elem=t,this.prop=n,this.easing=r||at.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=a||(at.cssNumber[n]?"":"px")},cur:function(){var t=_.propHooks[this.prop];return t&&t.get?t.get(this):_.propHooks._default.get(this)},run:function(t){var e,n=_.propHooks[this.prop];return this.options.duration?this.pos=e=at.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):_.propHooks._default.set(this),this}},_.prototype.init.prototype=_.prototype,_.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=at.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){at.fx.step[t.prop]?at.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[at.cssProps[t.prop]]&&!at.cssHooks[t.prop]?t.elem[t.prop]=t.now:at.style(t.elem,t.prop,t.now+t.unit)}}},_.propHooks.scrollTop=_.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},at.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},at.fx=_.prototype.init,at.fx.step={};var re,ae,oe=/^(?:toggle|show|hide)$/,se=/queueHooks$/;at.Animation=at.extend(R,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return u(n.elem,t,Pt.exec(e),n),n}]},tweener:function(t,e){at.isFunction(t)?(e=t,t=["*"]):t=t.match(bt);for(var n,i=0,r=t.length;r>i;i++)n=t[i],R.tweeners[n]=R.tweeners[n]||[],R.tweeners[n].unshift(e)},prefilters:[F],prefilter:function(t,e){e?R.prefilters.unshift(t):R.prefilters.push(t)}}),at.speed=function(t,e,n){var i=t&&"object"==typeof t?at.extend({},t):{complete:n||!n&&e||at.isFunction(t)&&t,duration:t,easing:n&&e||e&&!at.isFunction(e)&&e};return i.duration=at.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in at.fx.speeds?at.fx.speeds[i.duration]:at.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){at.isFunction(i.old)&&i.old.call(this),i.queue&&at.dequeue(this,i.queue)},i},at.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ot).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=at.isEmptyObject(t),a=at.speed(e,n,i),o=function(){var e=R(this,at.extend({},t),a);(r||At.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",a=at.timers,o=At.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&se.test(r)&&i(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=t&&a[r].queue!==t||(a[r].anim.stop(n),e=!1,a.splice(r,1));(e||!n)&&at.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=At.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],a=at.timers,o=i?i.length:0;for(n.finish=!0,at.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;o>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),at.each(["toggle","show","hide"],function(t,e){var n=at.fn[e];at.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(N(e,!0),t,i,r)}}),at.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){at.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),at.timers=[],at.fx.tick=function(){var t,e=0,n=at.timers;for(re=at.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||at.fx.stop(),
re=void 0},at.fx.timer=function(t){at.timers.push(t),t()?at.fx.start():at.timers.pop()},at.fx.interval=13,at.fx.start=function(){ae||(ae=t.setInterval(at.fx.tick,at.fx.interval))},at.fx.stop=function(){t.clearInterval(ae),ae=null},at.fx.speeds={slow:600,fast:200,_default:400},at.fn.delay=function(e,n){return e=at.fx?at.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=G.createElement("input"),e=G.createElement("select"),n=e.appendChild(G.createElement("option"));t.type="checkbox",it.checkOn=""!==t.value,it.optSelected=n.selected,e.disabled=!0,it.optDisabled=!n.disabled,t=G.createElement("input"),t.value="t",t.type="radio",it.radioValue="t"===t.value}();var le,ue=at.expr.attrHandle;at.fn.extend({attr:function(t,e){return Mt(this,at.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){at.removeAttr(this,t)})}}),at.extend({attr:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return"undefined"==typeof t.getAttribute?at.prop(t,e,n):(1===a&&at.isXMLDoc(t)||(e=e.toLowerCase(),r=at.attrHooks[e]||(at.expr.match.bool.test(e)?le:void 0)),void 0!==n?null===n?void at.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=at.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!it.radioValue&&"radio"===e&&at.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,a=e&&e.match(bt);if(a&&1===t.nodeType)for(;n=a[r++];)i=at.propFix[n]||n,at.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),le={set:function(t,e,n){return e===!1?at.removeAttr(t,n):t.setAttribute(n,n),n}},at.each(at.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ue[e]||at.find.attr;ue[e]=function(t,e,i){var r,a;return i||(a=ue[e],ue[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,ue[e]=a),r}});var ce=/^(?:input|select|textarea|button)$/i,he=/^(?:a|area)$/i;at.fn.extend({prop:function(t,e){return Mt(this,at.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[at.propFix[t]||t]})}}),at.extend({prop:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&at.isXMLDoc(t)||(e=at.propFix[e]||e,r=at.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=at.find.attr(t,"tabindex");return e?parseInt(e,10):ce.test(t.nodeName)||he.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),it.optSelected||(at.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),at.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){at.propFix[this.toLowerCase()]=this});var pe=/[\t\r\n\f]/g;at.fn.extend({addClass:function(t){var e,n,i,r,a,o,s,l=0;if(at.isFunction(t))return this.each(function(e){at(this).addClass(t.call(this,e,H(this)))});if("string"==typeof t&&t)for(e=t.match(bt)||[];n=this[l++];)if(r=H(n),i=1===n.nodeType&&(" "+r+" ").replace(pe," ")){for(o=0;a=e[o++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");s=at.trim(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,a,o,s,l=0;if(at.isFunction(t))return this.each(function(e){at(this).removeClass(t.call(this,e,H(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(bt)||[];n=this[l++];)if(r=H(n),i=1===n.nodeType&&(" "+r+" ").replace(pe," ")){for(o=0;a=e[o++];)for(;i.indexOf(" "+a+" ")>-1;)i=i.replace(" "+a+" "," ");s=at.trim(i),r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):at.isFunction(t)?this.each(function(n){at(this).toggleClass(t.call(this,n,H(this),e),e)}):this.each(function(){var e,i,r,a;if("string"===n)for(i=0,r=at(this),a=t.match(bt)||[];e=a[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(void 0===t||"boolean"===n)&&(e=H(this),e&&At.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":At.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+H(n)+" ").replace(pe," ").indexOf(e)>-1)return!0;return!1}});var de=/\r/g;at.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=at.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,at(this).val()):t,null==r?r="":"number"==typeof r?r+="":at.isArray(r)&&(r=at.map(r,function(t){return null==t?"":t+""})),e=at.valHooks[this.type]||at.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=at.valHooks[r.type]||at.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(de,""):null==n?"":n)):void 0}}),at.extend({valHooks:{option:{get:function(t){return at.trim(t.value)}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,a="select-one"===t.type||0>r,o=a?null:[],s=a?r+1:i.length,l=0>r?s:a?r:0;s>l;l++)if(n=i[l],(n.selected||l===r)&&(it.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!at.nodeName(n.parentNode,"optgroup"))){if(e=at(n).val(),a)return e;o.push(e)}return o},set:function(t,e){for(var n,i,r=t.options,a=at.makeArray(e),o=r.length;o--;)i=r[o],(i.selected=at.inArray(at.valHooks.option.get(i),a)>-1)&&(n=!0);return n||(t.selectedIndex=-1),a}}}}),at.each(["radio","checkbox"],function(){at.valHooks[this]={set:function(t,e){return at.isArray(e)?t.checked=at.inArray(at(t).val(),e)>-1:void 0}},it.checkOn||(at.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var fe=/^(?:focusinfocus|focusoutblur)$/;at.extend(at.event,{trigger:function(e,n,i,r){var a,o,s,l,u,c,h,p=[i||G],d=nt.call(e,"type")?e.type:e,f=nt.call(e,"namespace")?e.namespace.split("."):[];if(o=s=i=i||G,3!==i.nodeType&&8!==i.nodeType&&!fe.test(d+at.event.triggered)&&(d.indexOf(".")>-1&&(f=d.split("."),d=f.shift(),f.sort()),u=d.indexOf(":")<0&&"on"+d,e=e[at.expando]?e:new at.Event(d,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:at.makeArray(n,[e]),h=at.event.special[d]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!at.isWindow(i)){for(l=h.delegateType||d,fe.test(l+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),s=o;s===(i.ownerDocument||G)&&p.push(s.defaultView||s.parentWindow||t)}for(a=0;(o=p[a++])&&!e.isPropagationStopped();)e.type=a>1?l:h.bindType||d,c=(At.get(o,"events")||{})[e.type]&&At.get(o,"handle"),c&&c.apply(o,n),c=u&&o[u],c&&c.apply&&wt(o)&&(e.result=c.apply(o,n),e.result===!1&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||h._default&&h._default.apply(p.pop(),n)!==!1||!wt(i)||u&&at.isFunction(i[d])&&!at.isWindow(i)&&(s=i[u],s&&(i[u]=null),at.event.triggered=d,i[d](),at.event.triggered=void 0,s&&(i[u]=s)),e.result}},simulate:function(t,e,n){var i=at.extend(new at.Event,n,{type:t,isSimulated:!0});at.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}}),at.fn.extend({trigger:function(t,e){return this.each(function(){at.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?at.event.trigger(t,e,n,!0):void 0}}),at.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){at.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),at.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),it.focusin="onfocusin"in t,it.focusin||at.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){at.event.simulate(e,t.target,at.event.fix(t))};at.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=At.access(i,e);r||i.addEventListener(t,n,!0),At.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=At.access(i,e)-1;r?At.access(i,e,r):(i.removeEventListener(t,n,!0),At.remove(i,e))}}});var ge=t.location,me=at.now(),ye=/\?/;at.parseJSON=function(t){return JSON.parse(t+"")},at.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return(!n||n.getElementsByTagName("parsererror").length)&&at.error("Invalid XML: "+e),n};var ve=/#.*$/,Se=/([?&])_=[^&]*/,Te=/^(.*?):[ \t]*([^\r\n]*)$/gm,be=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,xe=/^(?:GET|HEAD)$/,Me=/^\/\//,we={},Ae={},Ce="*/".concat("*"),ke=G.createElement("a");ke.href=ge.href,at.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ge.href,type:"GET",isLocal:be.test(ge.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ce,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":at.parseJSON,"text xml":at.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?W(W(t,at.ajaxSettings),e):W(at.ajaxSettings,t)},ajaxPrefilter:z(we),ajaxTransport:z(Ae),ajax:function(e,n){function i(e,n,i,s){var u,h,v,S,b,M=n;2!==T&&(T=2,l&&t.clearTimeout(l),r=void 0,o=s||"",x.readyState=e>0?4:0,u=e>=200&&300>e||304===e,i&&(S=Y(p,x,i)),S=U(p,S,x,u),u?(p.ifModified&&(b=x.getResponseHeader("Last-Modified"),b&&(at.lastModified[a]=b),b=x.getResponseHeader("etag"),b&&(at.etag[a]=b)),204===e||"HEAD"===p.type?M="nocontent":304===e?M="notmodified":(M=S.state,h=S.data,v=S.error,u=!v)):(v=M,(e||!M)&&(M="error",0>e&&(e=0))),x.status=e,x.statusText=(n||M)+"",u?g.resolveWith(d,[h,M,x]):g.rejectWith(d,[x,M,v]),x.statusCode(y),y=void 0,c&&f.trigger(u?"ajaxSuccess":"ajaxError",[x,p,u?h:v]),m.fireWith(d,[x,M]),c&&(f.trigger("ajaxComplete",[x,p]),--at.active||at.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,a,o,s,l,u,c,h,p=at.ajaxSetup({},n),d=p.context||p,f=p.context&&(d.nodeType||d.jquery)?at(d):at.event,g=at.Deferred(),m=at.Callbacks("once memory"),y=p.statusCode||{},v={},S={},T=0,b="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===T){if(!s)for(s={};e=Te.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===T?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return T||(t=S[n]=S[n]||t,v[t]=e),this},overrideMimeType:function(t){return T||(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>T)for(e in t)y[e]=[y[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||b;return r&&r.abort(e),i(0,e),this}};if(g.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,p.url=((e||p.url||ge.href)+"").replace(ve,"").replace(Me,ge.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=at.trim(p.dataType||"*").toLowerCase().match(bt)||[""],null==p.crossDomain){u=G.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=ke.protocol+"//"+ke.host!=u.protocol+"//"+u.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=at.param(p.data,p.traditional)),B(we,p,n,x),2===T)return x;c=at.event&&p.global,c&&0===at.active++&&at.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!xe.test(p.type),a=p.url,p.hasContent||(p.data&&(a=p.url+=(ye.test(a)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=Se.test(a)?a.replace(Se,"$1_="+me++):a+(ye.test(a)?"&":"?")+"_="+me++)),p.ifModified&&(at.lastModified[a]&&x.setRequestHeader("If-Modified-Since",at.lastModified[a]),at.etag[a]&&x.setRequestHeader("If-None-Match",at.etag[a])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ce+"; q=0.01":""):p.accepts["*"]);for(h in p.headers)x.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(p.beforeSend.call(d,x,p)===!1||2===T))return x.abort();b="abort";for(h in{success:1,error:1,complete:1})x[h](p[h]);if(r=B(Ae,p,n,x)){if(x.readyState=1,c&&f.trigger("ajaxSend",[x,p]),2===T)return x;p.async&&p.timeout>0&&(l=t.setTimeout(function(){x.abort("timeout")},p.timeout));try{T=1,r.send(v,i)}catch(t){if(!(2>T))throw t;i(-1,t)}}else i(-1,"No Transport");return x},getJSON:function(t,e,n){return at.get(t,e,n,"json")},getScript:function(t,e){return at.get(t,void 0,e,"script")}}),at.each(["get","post"],function(t,e){at[e]=function(t,n,i,r){return at.isFunction(n)&&(r=r||i,i=n,n=void 0),at.ajax(at.extend({url:t,type:e,dataType:r,data:n,success:i},at.isPlainObject(t)&&t))}}),at._evalUrl=function(t){return at.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},at.fn.extend({wrapAll:function(t){var e;return at.isFunction(t)?this.each(function(e){at(this).wrapAll(t.call(this,e))}):(this[0]&&(e=at(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return at.isFunction(t)?this.each(function(e){at(this).wrapInner(t.call(this,e))}):this.each(function(){var e=at(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=at.isFunction(t);return this.each(function(n){at(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){at.nodeName(this,"body")||at(this).replaceWith(this.childNodes)}).end()}}),at.expr.filters.hidden=function(t){return!at.expr.filters.visible(t)},at.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var De=/%20/g,$e=/\[\]$/,Pe=/\r?\n/g,Ee=/^(?:submit|button|image|reset|file)$/i,Oe=/^(?:input|select|textarea|keygen)/i;at.param=function(t,e){var n,i=[],r=function(t,e){e=at.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=at.ajaxSettings&&at.ajaxSettings.traditional),at.isArray(t)||t.jquery&&!at.isPlainObject(t))at.each(t,function(){r(this.name,this.value)});else for(n in t)V(n,t[n],e,r);return i.join("&").replace(De,"+")},at.fn.extend({serialize:function(){return at.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=at.prop(this,"elements");return t?at.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!at(this).is(":disabled")&&Oe.test(this.nodeName)&&!Ee.test(t)&&(this.checked||!_t.test(t))}).map(function(t,e){var n=at(this).val();return null==n?null:at.isArray(n)?at.map(n,function(t){return{name:e.name,value:t.replace(Pe,"\r\n")}}):{name:e.name,value:n.replace(Pe,"\r\n")}}).get()}}),at.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var _e={0:200,1223:204},Le=at.ajaxSettings.xhr();it.cors=!!Le&&"withCredentials"in Le,it.ajax=Le=!!Le,at.ajaxTransport(function(e){var n,i;return it.cors||Le&&!e.crossDomain?{send:function(r,a){var o,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)s.setRequestHeader(o,r[o]);n=function(t){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(_e[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}:void 0}),at.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return at.globalEval(t),t}}}),at.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),at.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=at("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),G.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Ne=[],Xe=/(=)\?(?=&|$)|\?\?/;at.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ne.pop()||at.expando+"_"+me++;return this[t]=!0,t}}),at.ajaxPrefilter("json jsonp",function(e,n,i){var r,a,o,s=e.jsonp!==!1&&(Xe.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xe.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=at.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Xe,"$1"+r):e.jsonp!==!1&&(e.url+=(ye.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||at.error(r+" was not called"),o[0]},e.dataTypes[0]="json",a=t[r],t[r]=function(){o=arguments},i.always(function(){void 0===a?at(t).removeProp(r):t[r]=a,e[r]&&(e.jsonpCallback=n.jsonpCallback,Ne.push(r)),o&&at.isFunction(a)&&a(o[0]),o=a=void 0}),"script"):void 0}),it.createHTMLDocument=function(){var t=G.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),at.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||(it.createHTMLDocument?G.implementation.createHTMLDocument(""):G);var i=ft.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=p([t],e,r),r&&r.length&&at(r).remove(),at.merge([],i.childNodes))};var Fe=at.fn.load;at.fn.load=function(t,e,n){if("string"!=typeof t&&Fe)return Fe.apply(this,arguments);var i,r,a,o=this,s=t.indexOf(" ");return s>-1&&(i=at.trim(t.slice(s)),t=t.slice(0,s)),at.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&at.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){a=arguments,o.html(i?at("<div>").append(at.parseHTML(t)).find(i):t)}).always(n&&function(t,e){o.each(function(){n.apply(o,a||[t.responseText,e,t])})}),this},at.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){at.fn[e]=function(t){return this.on(e,t)}}),at.expr.filters.animated=function(t){return at.grep(at.timers,function(e){return t===e.elem}).length},at.offset={setOffset:function(t,e,n){var i,r,a,o,s,l,u,c=at.css(t,"position"),h=at(t),p={};"static"===c&&(t.style.position="relative"),s=h.offset(),a=at.css(t,"top"),l=at.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1,u?(i=h.position(),o=i.top,r=i.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),at.isFunction(e)&&(e=e.call(t,n,at.extend({},s))),null!=e.top&&(p.top=e.top-s.top+o),null!=e.left&&(p.left=e.left-s.left+r),"using"in e?e.using.call(t,p):h.css(p)}},at.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){at.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},a=i&&i.ownerDocument;return a?(e=a.documentElement,at.contains(e,i)?(r=i.getBoundingClientRect(),n=j(a),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===at.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),at.nodeName(t[0],"html")||(i=t.offset()),i.top+=at.css(t[0],"borderTopWidth",!0),i.left+=at.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-at.css(n,"marginTop",!0),left:e.left-i.left-at.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===at.css(t,"position");)t=t.offsetParent;return t||Zt})}}),at.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;at.fn[t]=function(i){return Mt(this,function(t,i,r){var a=j(t);return void 0===r?a?a[e]:t[i]:void(a?a.scrollTo(n?a.pageXOffset:r,n?r:a.pageYOffset):t[i]=r)},t,i,arguments.length)}}),at.each(["top","left"],function(t,e){at.cssHooks[e]=k(it.pixelPosition,function(t,n){return n?(n=C(t,e),Gt.test(n)?at(t).position()[e]+"px":n):void 0})}),at.each({Height:"height",Width:"width"},function(t,e){at.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){at.fn[i]=function(i,r){var a=arguments.length&&(n||"boolean"!=typeof i),o=n||(i===!0||r===!0?"margin":"border");return Mt(this,function(e,n,i){var r;return at.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?at.css(e,n,o):at.style(e,n,i,o)},e,a?i:void 0,a,null)}})}),at.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),at.fn.andSelf=at.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return at});var Ie=t.jQuery,Re=t.$;return at.noConflict=function(e){return t.$===at&&(t.$=Re),e&&t.jQuery===at&&(t.jQuery=Ie),at},e||(t.jQuery=t.$=at),at}),function(t){"use strict";function e(t,e){return e=e||Error,function(){var n,i=arguments[0];for(n="["+(t?t+":":"")+i+"] http://errors.angularjs.org/1.6.4/"+(t?t+"/":"")+i,i=1;i<arguments.length;i++){n=n+(1==i?"?":"&")+"p"+(i-1)+"=";var r,a=encodeURIComponent;r=arguments[i],r="function"==typeof r?r.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof r?"undefined":"string"!=typeof r?JSON.stringify(r):r,n+=a(r)}return new e(n)}}function n(t){return T(t)?void(S(t.objectMaxDepth)&&(ui.objectMaxDepth=i(t.objectMaxDepth)?t.objectMaxDepth:NaN)):ui}function i(t){return M(t)&&0<t}function r(t){if(null==t||k(t))return!1;if(bi(t)||x(t)||ri&&t instanceof ri)return!0;var e="length"in Object(t)&&t.length;return M(e)&&(0<=e&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function a(t,e,n){var i,o;if(t)if(A(t))for(i in t)"prototype"!==i&&"length"!==i&&"name"!==i&&t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else if(bi(t)||r(t)){var s="object"!=typeof t;for(i=0,o=t.length;i<o;i++)(s||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==a)t.forEach(e,n,t);else if(b(t))for(i in t)e.call(n,t[i],i,t);else if("function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else for(i in t)li.call(t,i)&&e.call(n,t[i],i,t);return t}function o(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function s(t){return function(e,n){t(n,e)}}function l(){return++Si}function u(t,e,n){for(var i=t.$$hashKey,r=0,a=e.length;r<a;++r){var o=e[r];if(T(o)||A(o))for(var s=Object.keys(o),l=0,c=s.length;l<c;l++){var h=s[l],p=o[h];n&&T(p)?w(p)?t[h]=new Date(p.valueOf()):C(p)?t[h]=new RegExp(p):p.nodeName?t[h]=p.cloneNode(!0):E(p)?t[h]=p.clone():(T(t[h])||(t[h]=bi(p)?[]:{}),u(t[h],[p],!0)):t[h]=p}}return i?t.$$hashKey=i:delete t.$$hashKey,t}function c(t){return u(t,pi.call(arguments,1),!1)}function h(t){return u(t,pi.call(arguments,1),!0)}function p(t){return parseInt(t,10)}function d(t,e){return c(Object.create(t),e)}function f(){}function g(t){return t}function m(t){return function(){return t}}function y(t){return A(t.toString)&&t.toString!==gi}function v(t){return"undefined"==typeof t}function S(t){return"undefined"!=typeof t}function T(t){return null!==t&&"object"==typeof t}function b(t){return null!==t&&"object"==typeof t&&!mi(t)}function x(t){return"string"==typeof t}function M(t){return"number"==typeof t}function w(t){return"[object Date]"===gi.call(t)}function A(t){return"function"==typeof t}function C(t){return"[object RegExp]"===gi.call(t)}function k(t){return t&&t.window===t}function D(t){return t&&t.$evalAsync&&t.$watch}function $(t){return"boolean"==typeof t}function P(t){return t&&M(t.length)&&xi.test(gi.call(t))}function E(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function O(t){var e={};t=t.split(",");var n;for(n=0;n<t.length;n++)e[t[n]]=!0;return e}function _(t){return ci(t.nodeName||t[0]&&t[0].nodeName)}function L(t,e){var n=t.indexOf(e);return 0<=n&&t.splice(n,1),n}function N(t,e,n){function r(t,e,n){if(n--,0>n)return"...";var i,r=e.$$hashKey;if(bi(t)){i=0;for(var a=t.length;i<a;i++)e.push(o(t[i],n))}else if(b(t))for(i in t)e[i]=o(t[i],n);else if(t&&"function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&(e[i]=o(t[i],n));else for(i in t)li.call(t,i)&&(e[i]=o(t[i],n));return r?e.$$hashKey=r:delete e.$$hashKey,e}function o(t,e){if(!T(t))return t;var n=l.indexOf(t);if(-1!==n)return u[n];if(k(t)||D(t))throw yi("cpws");var n=!1,i=s(t);return void 0===i&&(i=bi(t)?[]:Object.create(mi(t)),n=!0),l.push(t),u.push(i),n?r(t,i,e):i}function s(t){switch(gi.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(o(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":return e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex,e;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(A(t.cloneNode))return t.cloneNode(!0)}var l=[],u=[];if(n=i(n)?n:NaN,e){if(P(e)||"[object ArrayBuffer]"===gi.call(e))throw yi("cpta");if(t===e)throw yi("cpi");return bi(e)?e.length=0:a(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),l.push(t),u.push(e),r(t,e,n)}return o(t,n)}function X(t,e){return t===e||t!==t&&e!==e}function F(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,i=typeof t;if(i===typeof e&&"object"===i){if(!bi(t)){if(w(t))return!!w(e)&&X(t.getTime(),e.getTime());if(C(t))return!!C(e)&&t.toString()===e.toString();if(D(t)||D(e)||k(t)||k(e)||bi(e)||w(e)||C(e))return!1;i=ut();for(n in t)if("$"!==n.charAt(0)&&!A(t[n])){if(!F(t[n],e[n]))return!1;i[n]=!0}for(n in e)if(!(n in i)&&"$"!==n.charAt(0)&&S(e[n])&&!A(e[n]))return!1;return!0}if(!bi(e))return!1;if((i=t.length)===e.length){for(n=0;n<i;n++)if(!F(t[n],e[n]))return!1;return!0}}return!1}function I(t,e,n){return t.concat(pi.call(e,n))}function R(t,e){var n=2<arguments.length?pi.call(arguments,2):[];return!A(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,I(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function H(e,n){var i=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=void 0:k(n)?i="$WINDOW":n&&t.document===n?i="$DOCUMENT":D(n)&&(i="$SCOPE"),i}function z(t,e){if(!v(t))return M(e)||(e=e?2:null),JSON.stringify(t,H,e)}function B(t){return x(t)?JSON.parse(t):t}function W(t,e){t=t.replace(ki,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return Ti(n)?e:n}function Y(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset();return e=W(e,i),n*=e-i,t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+n),t}function U(t){t=ri(t).clone();try{t.empty()}catch(t){}var e=ri("<div>").append(t).html();try{return t[0].nodeType===Oi?ci(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+ci(e)})}catch(t){return ci(e)}}function V(t){try{return decodeURIComponent(t)}catch(t){}}function j(t){var e={};return a((t||"").split("&"),function(t){var n,i,r;t&&(i=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),-1!==n&&(i=t.substring(0,n),r=t.substring(n+1)),i=V(i),S(i)&&(r=!S(r)||V(r),li.call(e,i)?bi(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r))}),e}function q(t){var e=[];return a(t,function(t,n){bi(t)?a(t,function(t){e.push(J(n,!0)+(!0===t?"":"="+J(t,!0)))}):e.push(J(n,!0)+(!0===t?"":"="+J(t,!0)))}),e.length?e.join("&"):""}function G(t){return J(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function J(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function K(t,e){var n,i,r=Di.length;for(i=0;i<r;++i)if(n=Di[i]+e,x(n=t.getAttribute(n)))return n;return null}function Z(e,n){var i,r,o={};a(Di,function(t){t+="app",!i&&e.hasAttribute&&e.hasAttribute(t)&&(i=e,r=e.getAttribute(t))}),a(Di,function(t){t+="app";var n;!i&&(n=e.querySelector("["+t.replace(":","\\:")+"]"))&&(i=n,r=n.getAttribute(t))}),i&&($i?(o.strictDi=null!==K(i,"strict-di"),n(i,r?[r]:[],o)):t.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function Q(e,n,i){T(i)||(i={}),i=c({strictDi:!1},i);var r=function(){if(e=ri(e),e.injector()){var r=e[0]===t.document?"document":U(e);throw yi("btstrpd",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}return n=n||[],n.unshift(["$provide",function(t){t.value("$rootElement",e)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng"),r=Ut(n,i.strictDi),r.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),r},o=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;return t&&o.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(o,"")),t&&!s.test(t.name)?r():(t.name=t.name.replace(s,""),vi.resumeBootstrap=function(t){return a(t,function(t){n.push(t)}),r()},void(A(vi.resumeDeferredBootstrap)&&vi.resumeDeferredBootstrap()))}function tt(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function et(t){if(t=vi.element(t).injector(),!t)throw yi("test");return t.get("$$testability")}function nt(t,e){return e=e||"_",t.replace(Pi,function(t,n){return(n?e:"")+t.toLowerCase()})}function it(){var e;if(!Ei){var n=Ci();(ai=v(n)?t.jQuery:n?t[n]:void 0)&&ai.fn.on?(ri=ai,c(ai.fn,{scope:Vi.scope,isolateScope:Vi.isolateScope,controller:Vi.controller,injector:Vi.injector,inheritedData:Vi.inheritedData}),e=ai.cleanData,ai.cleanData=function(t){for(var n,i,r=0;null!=(i=t[r]);r++)(n=ai._data(i,"events"))&&n.$destroy&&ai(i).triggerHandler("$destroy");e(t)}):ri=St,vi.element=ri,Ei=!0}}function rt(t,e,n){if(!t)throw yi("areq",e||"?",n||"required");return t}function at(t,e,n){return n&&bi(t)&&(t=t[t.length-1]),rt(A(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function ot(t,e){if("hasOwnProperty"===t)throw yi("badname",e)}function st(t,e,n){if(!e)return t;e=e.split(".");for(var i,r=t,a=e.length,o=0;o<a;o++)i=e[o],t&&(t=(r=t)[i]);return!n&&A(t)?R(r,t):t}function lt(t){for(var e,n=t[0],i=t[t.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(e||t[r]!==n)&&(e||(e=ri(pi.call(t,0,r))),e.push(n));return e||t}function ut(){return Object.create(null)}function ct(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=!y(t)||bi(t)||w(t)?z(t):t.toString()}return t}function ht(t){function n(t,e,n){return t[e]||(t[e]=n());
}var i=e("$injector"),r=e("ng");return t=n(t,"angular",Object),t.$$minErr=t.$$minErr||e,n(t,"module",function(){var t={};return function(e,a,o){var s={};if("hasOwnProperty"===e)throw r("badname","module");return a&&t.hasOwnProperty(e)&&(t[e]=null),n(t,e,function(){function t(t,e,n,i){return i||(i=l),function(){return i[n||"push"]([t,e,arguments]),p}}function n(t,n,i){return i||(i=l),function(r,a){return a&&A(a)&&(a.$$moduleName=e),i.push([t,n,arguments]),p}}if(!a)throw i("nomod",e);var l=[],u=[],c=[],h=t("$injector","invoke","push",u),p={_invokeQueue:l,_configBlocks:u,_runBlocks:c,info:function(t){if(S(t)){if(!T(t))throw r("aobj","value");return s=t,this}return s},requires:a,name:e,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:n("$provide","decorator",u),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:h,run:function(t){return c.push(t),this}};return o&&h(o),p})}})}function pt(t,e){if(bi(t)){e=e||[];for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}else if(T(t))for(n in e=e||{},t)"$"===n.charAt(0)&&"$"===n.charAt(1)||(e[n]=t[n]);return e||t}function dt(t,e){var n=[];return i(e)&&(t=N(t,null,e)),JSON.stringify(t,function(t,e){if(e=H(t,e),T(e)){if(0<=n.indexOf(e))return"...";n.push(e)}return e})}function ft(i){c(i,{errorHandlingConfig:n,bootstrap:Q,copy:N,extend:c,merge:h,equals:F,element:ri,forEach:a,injector:Ut,noop:f,bind:R,toJson:z,fromJson:B,identity:g,isUndefined:v,isDefined:S,isString:x,isFunction:A,isObject:T,isNumber:M,isElement:E,isArray:bi,version:_i,isDate:w,lowercase:ci,uppercase:hi,callbacks:{$$counter:0},getTestability:et,reloadWithDebugInfo:tt,$$minErr:e,$$csp:Ai,$$encodeUriSegment:G,$$encodeUriQuery:J,$$stringify:ct}),oi=ht(t),oi("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:tn}),t.provider("$compile",te).directive({a:Zr,input:ga,textarea:ga,form:na,script:io,select:oo,option:so,ngBind:va,ngBindHtml:Ta,ngBindTemplate:Sa,ngClass:xa,ngClassEven:wa,ngClassOdd:Ma,ngCloak:Aa,ngController:Ca,ngForm:ia,ngHide:Ja,ngIf:$a,ngInclude:Pa,ngInit:Oa,ngNonBindable:Wa,ngPluralize:ja,ngRepeat:qa,ngShow:Ga,ngStyle:Ka,ngSwitch:Za,ngSwitchWhen:Qa,ngSwitchDefault:to,ngOptions:Va,ngTransclude:no,ngModel:Ha,ngList:_a,ngChange:ba,pattern:uo,ngPattern:uo,required:lo,ngRequired:lo,minlength:ho,ngMinlength:ho,maxlength:co,ngMaxlength:co,ngValue:ya,ngModelOptions:Ba}).directive({ngInclude:Ea}).directive(Qr).directive(ka),t.provider({$anchorScroll:Vt,$animate:lr,$animateCss:hr,$$animateJs:or,$$animateQueue:sr,$$AnimateRunner:cr,$$animateAsyncRun:ur,$browser:Kt,$cacheFactory:Zt,$controller:oe,$document:se,$$isDocumentHidden:le,$exceptionHandler:ue,$filter:gn,$$forceReflow:vr,$interpolate:be,$interval:xe,$http:ye,$httpParamSerializer:he,$httpParamSerializerJQLike:pe,$httpBackend:Se,$xhrFactory:ve,$jsonpCallbacks:Cr,$location:Ne,$log:Xe,$parse:qe,$rootScope:Qe,$q:Ge,$$q:Je,$sce:an,$sceDelegate:rn,$sniffer:on,$templateCache:Qt,$templateRequest:sn,$$testability:ln,$timeout:un,$window:pn,$$rAF:Ze,$$jqLite:Ht,$$Map:Zi,$$cookieReader:fn})}]).info({angularVersion:"1.6.4"})}function gt(t,e){return e.toUpperCase()}function mt(t){return t.replace(Xi,gt)}function yt(t){return t=t.nodeType,1===t||!t||9===t}function vt(t,e){var n,i,r=e.createDocumentFragment(),o=[];if(zi.test(t)){for(n=r.appendChild(e.createElement("div")),i=(Bi.exec(t)||["",""])[1].toLowerCase(),i=Yi[i]||Yi._default,n.innerHTML=i[1]+t.replace(Wi,"<$1></$2>")+i[2],i=i[0];i--;)n=n.lastChild;o=I(o,n.childNodes),n=r.firstChild,n.textContent=""}else o.push(e.createTextNode(t));return r.textContent="",r.innerHTML="",a(o,function(t){r.appendChild(t)}),r}function St(e){if(e instanceof St)return e;var n;if(x(e)&&(e=Mi(e),n=!0),!(this instanceof St)){if(n&&"<"!==e.charAt(0))throw Ri("nosel");return new St(e)}if(n){n=t.document;var i;e=(i=Hi.exec(e))?[n.createElement(i[1])]:(i=vt(e,n))?i.childNodes:[],$t(this,e)}else A(e)?Nt(e):$t(this,e)}function Tt(t){return t.cloneNode(!0)}function bt(t,e){!e&&yt(t)&&ri.cleanData([t]),t.querySelectorAll&&ri.cleanData(t.querySelectorAll("*"))}function xt(t,e,n,i){if(S(i))throw Ri("offargs");var r=(i=wt(t))&&i.events,o=i&&i.handle;if(o)if(e){var s=function(e){var i=r[e];S(n)&&L(i||[],n),S(n)&&i&&0<i.length||(t.removeEventListener(e,o),delete r[e])};a(e.split(" "),function(t){s(t),Ii[t]&&s(Ii[t])})}else for(e in r)"$destroy"!==e&&t.removeEventListener(e,o),delete r[e]}function Mt(t,e){var n=t.ng339,i=n&&Li[n];i&&(e?delete i.data[e]:(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),xt(t)),delete Li[n],t.ng339=void 0))}function wt(t,e){var n=t.ng339,n=n&&Li[n];return e&&!n&&(t.ng339=n=++Ni,n=Li[n]={events:{},data:{},handle:void 0}),n}function At(t,e,n){if(yt(t)){var i,r=S(n),a=!r&&e&&!T(e),o=!e;if(t=(t=wt(t,!a))&&t.data,r)t[mt(e)]=n;else{if(o)return t;if(a)return t&&t[mt(e)];for(i in e)t[mt(i)]=e[i]}}}function Ct(t,e){return!!t.getAttribute&&-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")}function kt(t,e){e&&t.setAttribute&&a(e.split(" "),function(e){t.setAttribute("class",Mi((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Mi(e)+" "," ")))})}function Dt(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");a(e.split(" "),function(t){t=Mi(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",Mi(n))}}function $t(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;i<n;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function Pt(t,e){return Et(t,"$"+(e||"ngController")+"Controller")}function Et(t,e,n){for(9===t.nodeType&&(t=t.documentElement),e=bi(e)?e:[e];t;){for(var i=0,r=e.length;i<r;i++)if(S(n=ri.data(t,e[i])))return n;t=t.parentNode||11===t.nodeType&&t.host}}function Ot(t){for(bt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function _t(t,e){e||bt(t);var n=t.parentNode;n&&n.removeChild(t)}function Lt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):ri(n).on("load",e)}function Nt(e){function n(){t.document.removeEventListener("DOMContentLoaded",n),t.removeEventListener("load",n),e()}"complete"===t.document.readyState?t.setTimeout(e):(t.document.addEventListener("DOMContentLoaded",n),t.addEventListener("load",n))}function Xt(t,e){var n=ji[e.toLowerCase()];return n&&qi[_(t)]&&n}function Ft(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=e[i||n.type],a=r?r.length:0;if(a){if(v(n.immediatePropagationStopped)){var o=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),o&&o.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=r.specialHandlerWrapper||It;1<a&&(r=pt(r));for(var l=0;l<a;l++)n.isImmediatePropagationStopped()||s(t,n,r[l])}};return n.elem=t,n}function It(t,e,n){n.call(t,e)}function Rt(t,e,n){var i=e.relatedTarget;i&&(i===t||Ui.call(t,i))||n.call(t,e)}function Ht(){this.$get=function(){return c(St,{hasClass:function(t,e){return t.attr&&(t=t[0]),Ct(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Dt(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),kt(t,e)}})}}function zt(t,e){var n=t&&t.$$hashKey;return n?("function"==typeof n&&(n=t.$$hashKey()),n):(n=typeof t,n="function"===n||"object"===n&&null!==t?t.$$hashKey=n+":"+(e||l)():n+":"+t)}function Bt(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function Wt(t){return t=Function.prototype.toString.call(t).replace(ir,""),t.match(Qi)||t.match(tr)}function Yt(t){return(t=Wt(t))?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Ut(t,e){function n(t){return function(e,n){return T(e)?void a(e,s(t)):t(e,n)}}function i(t,e){if(ot(t,"service"),(A(e)||bi(e))&&(e=f.instantiate(e)),!e.$get)throw rr("pget",t);return d[t+"Provider"]=e}function r(t,e){return function(){var n=S.invoke(e,this);if(v(n))throw rr("undef",t);return n}}function o(t,e,n){return i(t,{$get:!1!==n?r(t,e):e})}function l(t){rt(v(t)||bi(t),"modulesToLoad","not an array");var e,n=[];return a(t,function(t){function i(t){var e,n;for(e=0,n=t.length;e<n;e++){var i=t[e],r=f.get(i[0]);r[i[1]].apply(r,i[2])}}if(!p.get(t)){p.set(t,!0);try{x(t)?(e=oi(t),S.modules[t]=e,n=n.concat(l(e.requires)).concat(e._runBlocks),i(e._invokeQueue),i(e._configBlocks)):A(t)?n.push(f.invoke(t)):bi(t)?n.push(f.invoke(t)):at(t,"module")}catch(e){throw bi(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),rr("modulerr",t,e.stack||e.message||e)}}}),n}function u(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===c)throw rr("cdep",e+" <- "+h.join(" <- "));return t[e]}try{return h.unshift(e),t[e]=c,t[e]=n(e,i),t[e]}catch(n){throw t[e]===c&&delete t[e],n}finally{h.shift()}}function r(t,n,r){var a=[];t=Ut.$$annotate(t,e,r);for(var o=0,s=t.length;o<s;o++){var l=t[o];if("string"!=typeof l)throw rr("itkn",l);a.push(n&&n.hasOwnProperty(l)?n[l]:i(l,r))}return a}return{invoke:function(t,e,n,i){if("string"==typeof n&&(i=n,n=null),n=r(t,n,i),bi(t)&&(t=t[t.length-1]),i=t,ii||"function"!=typeof i)i=!1;else{var a=i.$$ngIsClass;$(a)||(a=i.$$ngIsClass=/^(?:class\b|constructor\()/.test(Function.prototype.toString.call(i))),i=a}return i?(n.unshift(null),new(Function.prototype.bind.apply(t,n))):t.apply(e,n)},instantiate:function(t,e,n){var i=bi(t)?t[t.length-1]:t;return t=r(t,e,n),t.unshift(null),new(Function.prototype.bind.apply(i,t))},get:i,annotate:Ut.$$annotate,has:function(e){return d.hasOwnProperty(e+"Provider")||t.hasOwnProperty(e)}}}e=!0===e;var c={},h=[],p=new Ki,d={$provide:{provider:n(i),factory:n(o),service:n(function(t,e){return o(t,["$injector",function(t){return t.instantiate(e)}])}),value:n(function(t,e){return o(t,m(e),!1)}),constant:n(function(t,e){ot(t,"constant"),d[t]=e,g[t]=e}),decorator:function(t,e){var n=f.get(t+"Provider"),i=n.$get;n.$get=function(){var t=S.invoke(i,n);return S.invoke(e,null,{$delegate:t})}}}},f=d.$injector=u(d,function(t,e){throw vi.isString(e)&&h.push(e),rr("unpr",h.join(" <- "))}),g={},y=u(g,function(t,e){var n=f.get(t+"Provider",e);return S.invoke(n.$get,n,void 0,t)}),S=y;d.$injectorProvider={$get:m(y)},S.modules=f.modules=ut();var b=l(t),S=y.get("$injector");return S.strictDi=e,a(b,function(t){t&&S.invoke(t)}),S}function Vt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function r(t){var e=null;return Array.prototype.some.call(t,function(t){if("a"===_(t))return e=t,!0}),e}function a(t){if(t){t.scrollIntoView();var n;n=o.yOffset,A(n)?n=n():E(n)?(n=n[0],n="fixed"!==e.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):M(n)||(n=0),n&&(t=t.getBoundingClientRect().top,e.scrollBy(0,t-n))}else e.scrollTo(0,0)}function o(t){t=x(t)?t:M(t)?t.toString():n.hash();var e;t?(e=s.getElementById(t))?a(e):(e=r(s.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var s=e.document;return t&&i.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||Lt(function(){i.$evalAsync(o)})}),o}]}function jt(t,e){return t||e?t?e?(bi(t)&&(t=t.join(" ")),bi(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function qt(t){x(t)&&(t=t.split(" "));var e=ut();return a(t,function(t){t.length&&(e[t]=!0)}),e}function Gt(t){return T(t)?t:{}}function Jt(t,e,n,i){function r(t){try{t.apply(null,pi.call(arguments,1))}finally{if(m--,0===m)for(;y.length;)try{y.pop()()}catch(t){n.error(t)}}}function o(){M=null,l()}function s(){S=w(),S=v(S)?null:S,F(S,k)&&(S=k),T=k=S}function l(){var t=T;s(),b===u.url()&&t===S||(b=u.url(),T=S,a(A,function(t){t(u.url(),S)}))}var u=this,c=t.location,h=t.history,p=t.setTimeout,d=t.clearTimeout,g={};u.isMock=!1;var m=0,y=[];u.$$completeOutstandingRequest=r,u.$$incOutstandingRequestCount=function(){m++},u.notifyWhenNoOutstandingRequests=function(t){0===m?t():y.push(t)};var S,T,b=c.href,x=e.find("base"),M=null,w=i.history?function(){try{return h.state}catch(t){}}:f;s(),u.url=function(e,n,r){if(v(r)&&(r=null),c!==t.location&&(c=t.location),h!==t.history&&(h=t.history),e){var a=T===r;if(b===e&&(!i.history||a))return u;var o=b&&De(b)===De(e);return b=e,T=r,!i.history||o&&a?(o||(M=e),n?c.replace(e):o?(n=c,r=e.indexOf("#"),r=-1===r?"":e.substr(r),n.hash=r):c.href=e,c.href!==e&&(M=e)):(h[n?"replaceState":"pushState"](r,"",e),s()),M&&(M=e),u}return M||c.href.replace(/%27/g,"'")},u.state=function(){return S};var A=[],C=!1,k=null;u.onUrlChange=function(e){return C||(i.history&&ri(t).on("popstate",o),ri(t).on("hashchange",o),C=!0),A.push(e),e},u.$$applicationDestroyed=function(){ri(t).off("hashchange popstate",o)},u.$$checkUrlChange=l,u.baseHref=function(){var t=x.attr("href");return t?t.replace(/^(https?:)?\/\/[^\/]*/,""):""},u.defer=function(t,e){var n;return m++,n=p(function(){delete g[n],r(t)},e||0),g[n]=!0,n},u.defer.cancel=function(t){return!!g[t]&&(delete g[t],d(t),r(f),!0)}}function Kt(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new Jt(t,i,e,n)}]}function Zt(){this.$get=function(){function t(t,i){function r(t){t!==p&&(d?d===t&&(d=t.n):d=t,a(t.n,t.p),a(t,p),p=t,p.n=null)}function a(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}if(t in n)throw e("$cacheFactory")("iid",t);var o=0,s=c({},i,{id:t}),l=ut(),u=i&&i.capacity||Number.MAX_VALUE,h=ut(),p=null,d=null;return n[t]={put:function(t,e){if(!v(e)){if(u<Number.MAX_VALUE){var n=h[t]||(h[t]={key:t});r(n)}return t in l||o++,l[t]=e,o>u&&this.remove(d.key),e}},get:function(t){if(u<Number.MAX_VALUE){var e=h[t];if(!e)return;r(e)}return l[t]},remove:function(t){if(u<Number.MAX_VALUE){var e=h[t];if(!e)return;e===p&&(p=e.p),e===d&&(d=e.n),a(e.n,e.p),delete h[t]}t in l&&(delete l[t],o--)},removeAll:function(){l=ut(),o=0,h=ut(),p=d=null},destroy:function(){h=s=l=null,delete n[t]},info:function(){return c({},s,{size:o})}}}var n={};return t.info=function(){var t={};return a(n,function(e,n){t[n]=e.info()}),t},t.get=function(t){return n[t]},t}}function Qt(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function te(e,n){function i(t,e,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,r=ut();return a(t,function(t,a){if(t in M)r[a]=M[t];else{var o=t.match(i);if(!o)throw pr("iscp",e,a,t,n?"controller bindings definition":"isolate scope definition");r[a]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||a},o[4]&&(M[t]=r[a])}}),r}function r(t){var e=t.charAt(0);if(!e||e!==ci(e))throw pr("baddir",t);if(t!==t.trim())throw pr("baddir",t)}function o(t){var e=t.require||t.controller&&t.name;return!bi(e)&&T(e)&&a(e,function(t,n){var i=t.match(y);t.substring(i[0].length)||(e[n]=i[0]+n)}),e}var l={},u=/^\s*directive:\s*([\w-]+)\s+(.*)$/,h=/(([\w-]+)(?::([^;]+))?;?)/,p=O("ngSrc,ngSrcset,src,srcset"),y=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,b=/^(on[a-z]+|formaction)$/,M=ut();this.directive=function t(n,i){return rt(n,"name"),ot(n,"directive"),x(n)?(r(n),rt(i,"directiveFactory"),l.hasOwnProperty(n)||(l[n]=[],e.factory(n+"Directive",["$injector","$exceptionHandler",function(t,e){var i=[];return a(l[n],function(r,a){try{var s=t.invoke(r);A(s)?s={compile:m(s)}:!s.compile&&s.link&&(s.compile=m(s.link)),s.priority=s.priority||0,s.index=a,s.name=s.name||n,s.require=o(s);var l=s,u=s.restrict;if(u&&(!x(u)||!/[EACM]/.test(u)))throw pr("badrestrict",u,n);l.restrict=u||"EA",s.$$moduleName=r.$$moduleName,i.push(s)}catch(t){e(t)}}),i}])),l[n].push(i)):a(n,s(t)),this},this.component=function(t,e){function n(t){function n(e){return A(e)||bi(e)?function(n,i){return t.invoke(e,this,{$element:n,$attrs:i})}:e}var r=e.template||e.templateUrl?e.template:"",o={controller:i,controllerAs:ae(e.controller)||e.controllerAs||"$ctrl",template:n(r),templateUrl:n(e.templateUrl),transclude:e.transclude,scope:{},bindToController:e.bindings||{},restrict:"E",require:e.require};return a(e,function(t,e){"$"===e.charAt(0)&&(o[e]=t)}),o}var i=e.controller||function(){};return a(e,function(t,e){"$"===e.charAt(0)&&(n[e]=t,A(i)&&(i[e]=t))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(t){return S(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return S(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var w=!0;this.debugInfoEnabled=function(t){return S(t)?(w=t,this):w};var C=!1;this.preAssignBindingsEnabled=function(t){return S(t)?(C=t,this):C};var k=10;this.onChangesTtl=function(t){return arguments.length?(k=t,this):k};var P=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(P=t,this):P};var E=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(E=t,this):E},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,n,r,o,s,m,M,O,N,I){function H(){try{if(!--kt)throw xt=void 0,pr("infchng",k);M.$apply(function(){for(var t=[],e=0,n=xt.length;e<n;++e)try{xt[e]()}catch(e){t.push(e)}if(xt=void 0,t.length)throw t})}finally{kt++}}function z(t,e){if(e){var n,i,r,a=Object.keys(e);for(n=0,i=a.length;n<i;n++)r=a[n],this[r]=e[r]}else this.$attr={};this.$$element=t}function B(t,e,n){wt.innerHTML="<span "+e+">",e=wt.firstChild.attributes;var i=e[0];e.removeNamedItem(i.name),i.value=n,t.attributes.setNamedItem(i)}function W(t,e){try{t.addClass(e)}catch(t){}}function Y(t,e,n,i,r){t instanceof ri||(t=ri(t));var a=V(t,e,t,n,i,r);Y.$$addScopeClass(t);var o=null;return function(e,n,i){if(!t)throw pr("multilink");rt(e,"scope"),r&&r.needsNewScope&&(e=e.$parent.$new()),i=i||{};var s=i.parentBoundTranscludeFn,l=i.transcludeControllers;if(i=i.futureParentElement,s&&s.$$boundTransclude&&(s=s.$$boundTransclude),o||(o=(i=i&&i[0])&&"foreignobject"!==_(i)&&gi.call(i).match(/SVG/)?"svg":"html"),i="html"!==o?ri(ft(o,ri("<div>").append(t).html())):n?Vi.clone.call(t):t,l)for(var u in l)i.data("$"+u+"Controller",l[u].instance);return Y.$$addScopeInfo(i,e),n&&n(i,e),a&&a(e,i,i,s),n||(t=a=null),i}}function V(t,e,n,i,r,a){function o(t,n,i,r){var a,o,s,l,u,c,d;if(h)for(d=Array(n.length),l=0;l<p.length;l+=3)a=p[l],d[a]=n[a];else d=n;for(l=0,u=p.length;l<u;)o=d[p[l++]],n=p[l++],a=p[l++],n?(n.scope?(s=t.$new(),Y.$$addScopeInfo(ri(o),s)):s=t,c=n.transcludeOnThisElement?q(t,n.transclude,r):!n.templateOnThisElement&&r?r:!r&&e?q(t,e):null,n(a,s,o,i,c)):a&&a(t,o.childNodes,void 0,r)}for(var s,l,u,c,h,p=[],d=bi(t)||t instanceof ri,f=0;f<t.length;f++)s=new z,11===ii&&j(t,f,d),l=G(t[f],[],s,0===f?i:void 0,r),(a=l.length?tt(l,t[f],s,e,n,null,[],[],a):null)&&a.scope&&Y.$$addScopeClass(s.$$element),s=a&&a.terminal||!(u=t[f].childNodes)||!u.length?null:V(u,a?(a.transcludeOnThisElement||!a.templateOnThisElement)&&a.transclude:e),(a||s)&&(p.push(f,a,s),c=!0,h=h||a),a=null;return c?o:null}function j(t,e,n){var i,r=t[e],a=r.parentNode;if(r.nodeType===Oi)for(;i=a?r.nextSibling:t[e+1],i&&i.nodeType===Oi;)r.nodeValue+=i.nodeValue,i.parentNode&&i.parentNode.removeChild(i),n&&i===t[e+1]&&t.splice(e+1,1)}function q(t,e,n){function i(i,r,a,o,s){return i||(i=t.$new(!1,s),i.$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:a,futureParentElement:o})}var r,a=i.$$slots=ut();for(r in e.$$slots)a[r]=e.$$slots[r]?q(t,e.$$slots[r],n):null;return i}function G(t,e,n,i,r){var a,o=n.$attr;switch(t.nodeType){case 1:a=_(t),ot(e,ne(a),"E",i,r);for(var s,l,u,c,p=t.attributes,d=0,f=p&&p.length;d<f;d++){var g=!1,m=!1;s=p[d],l=s.name,u=s.value,s=ne(l),(c=Et.test(s))&&(l=l.replace(fr,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()})),(s=s.match(Ot))&&st(s[1])&&(g=l,m=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),s=ne(l.toLowerCase()),o[s]=l,!c&&n.hasOwnProperty(s)||(n[s]=u,Xt(t,s)&&(n[s]=!0)),mt(t,e,u,s,c),ot(e,s,"A",i,r,g,m)}if("input"===a&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!Ct)break;if(o=t.className,T(o)&&(o=o.animVal),x(o)&&""!==o)for(;t=h.exec(o);)s=ne(t[2]),ot(e,s,"C",i,r)&&(n[s]=Mi(t[3])),o=o.substr(t.index+t[0].length);break;case Oi:dt(e,t.nodeValue);break;case 8:if(!At)break;J(t,e,n,i,r)}return e.sort(ht),e}function J(t,e,n,i,r){try{var a=u.exec(t.nodeValue);if(a){var o=ne(a[1]);ot(e,o,"M",i,r)&&(n[o]=Mi(a[2]))}}catch(t){}}function K(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw pr("uterdir",e,n);1===t.nodeType&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(0<r)}else i.push(t);return ri(i)}function Z(t,e,n){return function(i,r,a,o,s){return r=K(r[0],e,n),t(i,r,a,o,s)}}function Q(t,e,n,i,r,a){var o;return t?Y(e,n,i,r,a):function(){return o||(o=Y(e,n,i,r,a),e=n=a=null),o.apply(this,arguments)}}function tt(t,e,n,i,o,s,l,u,h){function p(t,e,n,i){t&&(n&&(t=Z(t,n,i)),t.require=f.require,t.directiveName=g,(w===f||f.$$isolateScope)&&(t=vt(t,{isolateScope:!0})),l.push(t)),e&&(n&&(e=Z(e,n,i)),e.require=f.require,e.directiveName=g,(w===f||f.$$isolateScope)&&(e=vt(e,{isolateScope:!0})),u.push(e))}function d(t,i,o,s,h){function p(t,e,n,i){var r;if(D(t)||(i=n,n=e,e=t,t=void 0),O&&(r=S),n||(n=O?$.parent():$),!i)return h(t,e,r,n,_);var a=h.$$slots[i];if(a)return a(t,e,r,n,_);if(v(a))throw pr("noslot",i,U($))}var d,f,g,m,y,S,b,$;e===o?(s=n,$=n.$$element):($=ri(o),s=new z($,n)),y=i,w?m=i.$new(!0):x&&(y=i.$parent),h&&(b=p,b.$$boundTransclude=h,b.isSlotFilled=function(t){return!!h.$$slots[t]}),M&&(S=it($,s,b,M,m,i,w)),w&&(Y.$$addScopeInfo($,m,!0,!(k&&(k===w||k===w.$$originalDirective))),Y.$$addScopeClass($,!0),m.$$isolateBindings=w.$$isolateBindings,f=bt(i,s,m,m.$$isolateBindings,w),f.removeWatches&&m.$on("$destroy",f.removeWatches));for(d in S){f=M[d],g=S[d];var P=f.$$bindings.bindToController;if(C){g.bindingInfo=P?bt(y,s,g.instance,P,f):{};var E=g();E!==g.instance&&(g.instance=E,$.data("$"+f.name+"Controller",E),g.bindingInfo.removeWatches&&g.bindingInfo.removeWatches(),g.bindingInfo=bt(y,s,g.instance,P,f))}else g.instance=g(),$.data("$"+f.name+"Controller",g.instance),g.bindingInfo=bt(y,s,g.instance,P,f)}for(a(M,function(t,e){var n=t.require;t.bindToController&&!bi(n)&&T(n)&&c(S[e].instance,et(e,n,$,S))}),a(S,function(t){var e=t.instance;if(A(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){r(t)}if(A(e.$onInit))try{e.$onInit()}catch(t){r(t)}A(e.$doCheck)&&(y.$watch(function(){e.$doCheck()}),e.$doCheck()),A(e.$onDestroy)&&y.$on("$destroy",function(){e.$onDestroy()})}),d=0,f=l.length;d<f;d++)g=l[d],St(g,g.isolateScope?m:i,$,s,g.require&&et(g.directiveName,g.require,$,S),b);var _=i;for(w&&(w.template||null===w.templateUrl)&&(_=m),t&&t(_,o.childNodes,void 0,h),d=u.length-1;0<=d;d--)g=u[d],St(g,g.isolateScope?m:i,$,s,g.require&&et(g.directiveName,g.require,$,S),b);a(S,function(t){t=t.instance,A(t.$postLink)&&t.$postLink()})}h=h||{};for(var f,g,m,y,S,b=-Number.MAX_VALUE,x=h.newScopeDirective,M=h.controllerDirectives,w=h.newIsolateScopeDirective,k=h.templateDirective,$=h.nonTlbTranscludeDirective,P=!1,E=!1,O=h.hasElementTranscludeDirective,L=n.$$element=ri(e),N=i,X=!1,F=!1,I=0,H=t.length;I<H;I++){f=t[I];var B=f.$$start,W=f.$$end;if(B&&(L=K(e,B,W)),m=void 0,b>f.priority)break;if((S=f.scope)&&(f.templateUrl||(T(S)?(pt("new/isolated scope",w||x,f,L),w=f):pt("new/isolated scope",w,f,L)),x=x||f),g=f.name,!X&&(f.replace&&(f.templateUrl||f.template)||f.transclude&&!f.$$tlb)){for(S=I+1;X=t[S++];)if(X.transclude&&!X.$$tlb||X.replace&&(X.templateUrl||X.template)){F=!0;break}X=!0}if(!f.templateUrl&&f.controller&&(M=M||ut(),pt("'"+g+"' controller",M[g],f,L),M[g]=f),S=f.transclude)if(P=!0,f.$$tlb||(pt("transclusion",$,f,L),$=f),"element"===S)O=!0,b=f.priority,m=L,L=n.$$element=ri(Y.$$createComment(g,n[g])),e=L[0],yt(o,pi.call(m,0),e),m[0].$$parentNode=m[0].parentNode,N=Q(F,m,i,b,s&&s.name,{nonTlbTranscludeDirective:$});else{var V=ut();if(T(S)){m=[];var j=ut(),q=ut();a(S,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,j[t]=e,V[e]=null,q[e]=n}),a(L.contents(),function(t){var e=j[ne(_(t))];e?(q[e]=!0,V[e]=V[e]||[],V[e].push(t)):m.push(t)}),a(q,function(t,e){if(!t)throw pr("reqslot",e)});for(var J in V)V[J]&&(V[J]=Q(F,V[J],i))}else m=ri(Tt(e)).contents();L.empty(),N=Q(F,m,i,void 0,void 0,{needsNewScope:f.$$isolateScope||f.$$newScope}),N.$$slots=V}if(f.template)if(E=!0,pt("template",k,f,L),k=f,S=A(f.template)?f.template(L,n):f.template,S=Pt(S),f.replace){if(s=f,m=zi.test(S)?re(ft(f.templateNamespace,Mi(S))):[],e=m[0],1!==m.length||1!==e.nodeType)throw pr("tplrt",g,"");yt(o,L,e),H={$attr:{}},S=G(e,[],H);var tt=t.splice(I+1,t.length-(I+1));(w||x)&&at(S,w,x),t=t.concat(S).concat(tt),lt(n,H),H=t.length}else L.html(S);if(f.templateUrl)E=!0,pt("template",k,f,L),k=f,f.replace&&(s=f),d=ct(t.splice(I,t.length-I),L,n,o,P&&N,l,u,{controllerDirectives:M,newScopeDirective:x!==f&&x,newIsolateScopeDirective:w,templateDirective:k,nonTlbTranscludeDirective:$}),H=t.length;else if(f.compile)try{y=f.compile(L,n,N);var nt=f.$$originalDirective||f;A(y)?p(null,R(nt,y),B,W):y&&p(R(nt,y.pre),R(nt,y.post),B,W)}catch(t){r(t,U(L))}f.terminal&&(d.terminal=!0,b=Math.max(b,f.priority))}return d.scope=x&&!0===x.scope,d.transcludeOnThisElement=P,d.templateOnThisElement=E,d.transclude=N,h.hasElementTranscludeDirective=O,d}function et(t,e,n,i){var r;if(x(e)){var o=e.match(y);e=e.substring(o[0].length);var s=o[1]||o[3],o="?"===o[2];if("^^"===s?n=n.parent():r=(r=i&&i[e])&&r.instance,!r){var l="$"+e+"Controller";r=s?n.inheritedData(l):n.data(l)}if(!r&&!o)throw pr("ctreq",e,t)}else if(bi(e))for(r=[],s=0,o=e.length;s<o;s++)r[s]=et(t,e[s],n,i);else T(e)&&(r={},a(e,function(e,a){r[a]=et(t,e,n,i)}));return r||null}function it(t,e,n,i,r,a,o){var s,l=ut();for(s in i){var u=i[s],c={$scope:u===o||u.$$isolateScope?r:a,$element:t,$attrs:e,$transclude:n},h=u.controller;"@"===h&&(h=e[u.name]),c=m(h,c,!0,u.controllerAs),l[u.name]=c,t.data("$"+u.name+"Controller",c.instance)}return l}function at(t,e,n){for(var i=0,r=t.length;i<r;i++)t[i]=d(t[i],{$$isolateScope:e,$$newScope:n})}function ot(t,n,r,a,o,s,u){if(n===o)return null;var c=null;if(l.hasOwnProperty(n)){o=e.get(n+"Directive");for(var h=0,p=o.length;h<p;h++)if(n=o[h],(v(a)||a>n.priority)&&-1!==n.restrict.indexOf(r)){if(s&&(n=d(n,{$$start:s,$$end:u})),!n.$$bindings){var f=c=n,g=n.name,m={isolateScope:null,bindToController:null};if(T(f.scope)&&(!0===f.bindToController?(m.bindToController=i(f.scope,g,!0),m.isolateScope={}):m.isolateScope=i(f.scope,g,!1)),T(f.bindToController)&&(m.bindToController=i(f.bindToController,g,!0)),m.bindToController&&!f.controller)throw pr("noctrl",g);c=c.$$bindings=m,T(c.isolateScope)&&(n.$$isolateBindings=c.isolateScope)}t.push(n),c=n}}return c}function st(t){if(l.hasOwnProperty(t))for(var n=e.get(t+"Directive"),i=0,r=n.length;i<r;i++)if(t=n[i],t.multiElement)return!0;return!1}function lt(t,e){var n=e.$attr,i=t.$attr;a(t,function(i,r){"$"!==r.charAt(0)&&(e[r]&&e[r]!==i&&(i=i.length?i+(("style"===r?";":" ")+e[r]):e[r]),t.$set(r,i,!0,n[r]))}),a(e,function(e,r){t.hasOwnProperty(r)||"$"===r.charAt(0)||(t[r]=e,"class"!==r&&"style"!==r&&(i[r]=n[r]))})}function ct(t,e,n,i,s,l,u,c){var h,p,f=[],g=e[0],m=t.shift(),y=d(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=A(m.templateUrl)?m.templateUrl(e,n):m.templateUrl,S=m.templateNamespace;return e.empty(),o(v).then(function(r){var o,d;if(r=Pt(r),m.replace){if(r=zi.test(r)?re(ft(S,Mi(r))):[],o=r[0],1!==r.length||1!==o.nodeType)throw pr("tplrt",m.name,v);r={$attr:{}},yt(i,e,o);var b=G(o,[],r);T(m.scope)&&at(b,!0),t=b.concat(t),lt(n,r)}else o=g,e.html(r);for(t.unshift(y),h=tt(t,o,n,s,e,m,l,u,c),a(i,function(t,n){t===o&&(i[n]=e[0])}),p=V(e[0].childNodes,s);f.length;){r=f.shift(),d=f.shift();var x=f.shift(),M=f.shift(),b=e[0];if(!r.$$destroyed){if(d!==g){var w=d.className;c.hasElementTranscludeDirective&&m.replace||(b=Tt(o)),yt(x,ri(d),b),W(ri(b),w)}d=h.transcludeOnThisElement?q(r,h.transclude,M):M,h(p,r,b,i,d)}}f=null}).catch(function(t){t instanceof Error&&r(t)}),function(t,e,n,i,r){t=r,e.$$destroyed||(f?f.push(e,n,i,t):(h.transcludeOnThisElement&&(t=q(e,h.transclude,r)),h(p,e,n,i,t)))}}function ht(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function pt(t,e,n,i){function r(t){return t?" (module: "+t+")":""}if(e)throw pr("multidir",e.name,r(e.$$moduleName),n.name,r(n.$$moduleName),t,U(i))}function dt(t,e){var i=n(e,!0);i&&t.push({priority:0,compile:function(t){t=t.parent();var e=!!t.length;return e&&Y.$$addBindingClass(t),function(t,n){var r=n.parent();e||Y.$$addBindingClass(r),Y.$$addBindingInfo(r,i.expressions),t.$watch(i,function(t){n[0].nodeValue=t})}}})}function ft(e,n){switch(e=ci(e||"html")){case"svg":case"math":var i=t.document.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function gt(t,e){if("srcdoc"===e)return O.HTML;var n=_(t);if("src"===e||"ngSrc"===e){if(-1===["img","video","audio","source","track"].indexOf(n))return O.RESOURCE_URL}else if("xlinkHref"===e||"form"===n&&"action"===e||"link"===n&&"href"===e)return O.RESOURCE_URL}function mt(t,e,i,r,a){var o=gt(t,r),s=p[r]||a,l=n(i,!a,o,s);if(l){if("multiple"===r&&"select"===_(t))throw pr("selmulti",U(t));if(b.test(r))throw pr("nodomevents");e.push({priority:100,compile:function(){return{pre:function(t,e,a){e=a.$$observers||(a.$$observers=ut());var u=a[r];u!==i&&(l=u&&n(u,!0,o,s),i=u),l&&(a[r]=l(t),(e[r]||(e[r]=[])).$$inter=!0,(a.$$observers&&a.$$observers[r].$$scope||t).$watch(l,function(t,e){"class"===r&&t!==e?a.$updateClass(t,e):a.$set(r,t)}))}}}})}}function yt(e,n,i){var r,a,o=n[0],s=n.length,l=o.parentNode;if(e)for(r=0,a=e.length;r<a;r++)if(e[r]===o){e[r++]=i,a=r+s-1;for(var u=e.length;r<u;r++,a++)a<u?e[r]=e[a]:delete e[r];e.length-=s-1,e.context===o&&(e.context=i);break}for(l&&l.replaceChild(i,o),e=t.document.createDocumentFragment(),r=0;r<s;r++)e.appendChild(n[r]);for(ri.hasData(o)&&(ri.data(i,ri.data(o)),ri(o).off("$destroy")),ri.cleanData(e.querySelectorAll("*")),r=1;r<s;r++)delete n[r];n[0]=i,n.length=1}function vt(t,e){return c(function(){return t.apply(null,arguments)},t,e)}function St(t,e,n,i,a,o){try{t(e,n,i,a,o)}catch(t){r(t,U(n))}}function bt(t,e,i,r,o){function l(e,n,r){A(i.$onChanges)&&!X(n,r)&&(xt||(t.$$postDigest(H),xt=[]),c||(c={},xt.push(u)),c[e]&&(r=c[e].previousValue),c[e]=new ee(r,n))}function u(){i.$onChanges(c),c=void 0}var c,h=[],p={};return a(r,function(r,a){var u,c,d,g,m=r.attrName,y=r.optional;switch(r.mode){case"@":y||li.call(e,m)||(i[a]=e[m]=void 0),y=e.$observe(m,function(t){(x(t)||$(t))&&(l(a,t,i[a]),i[a]=t)}),e.$$observers[m].$$scope=t,u=e[m],x(u)?i[a]=n(u)(t):$(u)&&(i[a]=u),p[a]=new ee(dr,i[a]),h.push(y);break;case"=":if(!li.call(e,m)){if(y)break;e[m]=void 0}if(y&&!e[m])break;c=s(e[m]),g=c.literal?F:X,d=c.assign||function(){throw u=i[a]=c(t),pr("nonassign",e[m],m,o.name)},u=i[a]=c(t),y=function(e){return g(e,i[a])||(g(e,u)?d(t,e=i[a]):i[a]=e),u=e},y.$stateful=!0,y=r.collection?t.$watchCollection(e[m],y):t.$watch(s(e[m],y),null,c.literal),h.push(y);break;case"<":if(!li.call(e,m)){if(y)break;e[m]=void 0}if(y&&!e[m])break;c=s(e[m]);var v=c.literal,S=i[a]=c(t);p[a]=new ee(dr,i[a]),y=t.$watch(c,function(t,e){if(e===t){if(e===S||v&&F(e,S))return;e=S}l(a,t,e),i[a]=t},v),h.push(y);break;case"&":if(c=e.hasOwnProperty(m)?s(e[m]):f,c===f&&y)break;i[a]=function(e){return c(t,e)}}}),{initialChanges:p,removeWatches:h.length&&function(){for(var t=0,e=h.length;t<e;++t)h[t]()}}}var xt,Mt=/^\w/,wt=t.document.createElement("div"),At=P,Ct=E,kt=k;z.prototype={$normalize:ne,$addClass:function(t){t&&0<t.length&&N.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&N.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=ie(t,e);n&&n.length&&N.addClass(this.$$element,n),(n=ie(e,t))&&n.length&&N.removeClass(this.$$element,n)},$set:function(t,e,n,i){var o=Xt(this.$$element[0],t),s=Gi[t],l=t;if(o?(this.$$element.prop(t,e),i=o):s&&(this[s]=e,
l=s),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t])||(this.$attr[t]=i=nt(t,"-")),o=_(this.$$element),"a"===o&&("href"===t||"xlinkHref"===t)||"img"===o&&"src"===t)this[t]=e=I(e,"src"===t);else if("img"===o&&"srcset"===t&&S(e)){for(var o="",s=Mi(e),u=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,u=/\s/.test(s)?u:/(,)/,s=s.split(u),u=Math.floor(s.length/2),c=0;c<u;c++)var h=2*c,o=o+I(Mi(s[h]),!0),o=o+(" "+Mi(s[h+1]));s=Mi(s[2*c]).split(/\s/),o+=I(Mi(s[0]),!0),2===s.length&&(o+=" "+Mi(s[1])),this[t]=e=o}!1!==n&&(null===e||v(e)?this.$$element.removeAttr(i):Mt.test(i)?this.$$element.attr(i,e):B(this.$$element[0],i,e)),(t=this.$$observers)&&a(t[l],function(t){try{t(e)}catch(t){r(t)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=ut()),r=i[t]||(i[t]=[]);return r.push(e),M.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(t)||v(n[t])||e(n[t])}),function(){L(r,e)}}};var Dt=n.startSymbol(),$t=n.endSymbol(),Pt="{{"===Dt&&"}}"===$t?g:function(t){return t.replace(/\{\{/g,Dt).replace(/}}/g,$t)},Et=/^ngAttr[A-Z]/,Ot=/^(.+)Start$/;return Y.$$addBindingInfo=w?function(t,e){var n=t.data("$binding")||[];bi(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:f,Y.$$addBindingClass=w?function(t){W(t,"ng-binding")}:f,Y.$$addScopeInfo=w?function(t,e,n,i){t.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",e)}:f,Y.$$addScopeClass=w?function(t,e){W(t,e?"ng-isolate-scope":"ng-scope")}:f,Y.$$createComment=function(e,n){var i="";return w&&(i=" "+(e||"")+": ",n&&(i+=n+" ")),t.document.createComment(i)},Y}]}function ee(t,e){this.previousValue=t,this.currentValue=e}function ne(t){return t.replace(fr,"").replace(gr,gt)}function ie(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/),a=0;t:for(;a<i.length;a++){for(var o=i[a],s=0;s<r.length;s++)if(o===r[s])continue t;n+=(0<n.length?" ":"")+o}return n}function re(t){t=ri(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];(8===n.nodeType||n.nodeType===Oi&&""===n.nodeValue.trim())&&di.call(t,e,1)}return t}function ae(t,e){if(e&&x(e))return e;if(x(t)){var n=yr.exec(t);if(n)return n[3]}}function oe(){var t={},n=!1;this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){ot(e,"controller"),T(e)?c(t,e):t[e]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(i,r){function a(t,n,i,r){if(!t||!T(t.$scope))throw e("$controller")("noscp",r,n);t.$scope[n]=i}return function(e,o,s,l){var u,h,p;if(s=!0===s,l&&x(l)&&(p=l),x(e)){if(l=e.match(yr),!l)throw mr("ctrlfmt",e);if(h=l[1],p=p||l[3],e=t.hasOwnProperty(h)?t[h]:st(o.$scope,h,!0)||(n?st(r,h,!0):void 0),!e)throw mr("ctrlreg",h);at(e,h,!0)}return s?(s=(bi(e)?e[e.length-1]:e).prototype,u=Object.create(s||null),p&&a(o,p,u,h||e.name),c(function(){var t=i.invoke(e,u,o,h);return t!==u&&(T(t)||A(t))&&(u=t,p&&a(o,p,u,h||e.name)),u},{instance:u,identifier:p})):(u=i.instantiate(e,o,h),p&&a(o,p,u,h||e.name),u)}}]}function se(){this.$get=["$window",function(t){return ri(t.document)}]}function le(){this.$get=["$document","$rootScope",function(t,e){function n(){r=i.hidden}var i=t[0],r=i&&i.hidden;return t.on("visibilitychange",n),e.$on("$destroy",function(){t.off("visibilitychange",n)}),function(){return r}}]}function ue(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function ce(t){return T(t)?w(t)?t.toISOString():z(t):t}function he(){this.$get=function(){return function(t){if(!t)return"";var e=[];return o(t,function(t,n){null===t||v(t)||(bi(t)?a(t,function(t){e.push(J(n)+"="+J(ce(t)))}):e.push(J(n)+"="+J(ce(t))))}),e.join("&")}}}function pe(){this.$get=function(){return function(t){function e(t,i,r){null===t||v(t)||(bi(t)?a(t,function(t,n){e(t,i+"["+(T(t)?n:"")+"]")}):T(t)&&!w(t)?o(t,function(t,n){e(t,i+(r?"":"[")+n+(r?"":"]"))}):n.push(J(i)+"="+J(ce(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function de(t,e){if(x(t)){var n=t.replace(Mr,"").trim();if(n){var i=e("Content-Type");if((i=i&&0===i.indexOf(Sr))||(i=(i=n.match(br))&&xr[i[0]].test(n)),i)try{t=B(n)}catch(e){throw wr("baddata",t,e)}}}return t}function fe(t){var e,n=ut();return x(t)?a(t.split("\n"),function(t){e=t.indexOf(":");var i=ci(Mi(t.substr(0,e)));t=Mi(t.substr(e+1)),i&&(n[i]=n[i]?n[i]+", "+t:t)}):T(t)&&a(t,function(t,e){var i=ci(e),r=Mi(t);i&&(n[i]=n[i]?n[i]+", "+r:r)}),n}function ge(t){var e;return function(n){return e||(e=fe(t)),n?(n=e[ci(n)],void 0===n&&(n=null),n):e}}function me(t,e,n,i){return A(i)?i(t,e,n):(a(i,function(i){t=i(t,e,n)}),t)}function ye(){var t=this.defaults={transformResponse:[de],transformRequest:[function(t){return T(t)&&"[object File]"!==gi.call(t)&&"[object Blob]"!==gi.call(t)&&"[object FormData]"!==gi.call(t)?z(t):t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:pt(Tr),put:pt(Tr),patch:pt(Tr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},n=!1;this.useApplyAsync=function(t){return S(t)?(n=!!t,this):n};var i=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(r,o,s,l,u,h,p,d){function g(n){function i(t,e){for(var n=0,i=e.length;n<i;){var r=e[n++],a=e[n++];t=t.then(r,a)}return e.length=0,t}function o(t,e){var n,i={};return a(t,function(t,r){A(t)?(n=t(e),null!=n&&(i[r]=n)):i[r]=t}),i}function s(t){var e=c({},t);return e.data=me(t.data,t.headers,t.status,l.transformResponse),t=t.status,200<=t&&300>t?e:h.reject(e)}if(!T(n))throw e("$http")("badreq",n);if(!x(d.valueOf(n.url)))throw e("$http")("badreq",n.url);var l=c({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer,jsonpCallbackParam:t.jsonpCallbackParam},n);l.headers=function(e){var n,i,r,a=t.headers,s=c({},e.headers),a=c({},a.common,a[ci(e.method)]);t:for(n in a){i=ci(n);for(r in s)if(ci(r)===i)continue t;s[n]=a[n]}return o(s,pt(e))}(n),l.method=hi(l.method),l.paramSerializer=x(l.paramSerializer)?p.get(l.paramSerializer):l.paramSerializer,r.$$incOutstandingRequestCount();var u=[],g=[];return n=h.resolve(l),a(w,function(t){(t.request||t.requestError)&&u.unshift(t.request,t.requestError),(t.response||t.responseError)&&g.push(t.response,t.responseError)}),n=i(n,u),n=n.then(function(e){var n=e.headers,i=me(e.data,ge(n),void 0,e.transformRequest);return v(i)&&a(n,function(t,e){"content-type"===ci(e)&&delete n[e]}),v(e.withCredentials)&&!v(t.withCredentials)&&(e.withCredentials=t.withCredentials),m(e,i).then(s,s)}),n=i(n,g),n=n.finally(function(){r.$$completeOutstandingRequest(f)})}function m(e,i){function r(t){if(t){var e={};return a(t,function(t,i){e[i]=function(e){function i(){t(e)}n?u.$applyAsync(i):u.$$phase?i():u.$apply(i)}}),e}}function l(t,e,i,r){function a(){c(e,t,i,r)}m&&(200<=t&&300>t?m.put(P,[t,e,fe(i),r]):m.remove(P)),n?u.$applyAsync(a):(a(),u.$$phase||u.$apply())}function c(t,n,i,r){n=-1<=n?n:0,(200<=n&&300>n?C.resolve:C.reject)({data:t,status:n,headers:ge(i),config:e,statusText:r})}function p(t){c(t.data,t.status,pt(t.headers()),t.statusText)}function f(){var t=g.pendingRequests.indexOf(e);-1!==t&&g.pendingRequests.splice(t,1)}var m,w,C=h.defer(),k=C.promise,D=e.headers,$="jsonp"===ci(e.method),P=e.url;return $?P=d.getTrustedResourceUrl(P):x(P)||(P=d.valueOf(P)),P=y(P,e.paramSerializer(e.params)),$&&(P=b(P,e.jsonpCallbackParam)),g.pendingRequests.push(e),k.then(f,f),!e.cache&&!t.cache||!1===e.cache||"GET"!==e.method&&"JSONP"!==e.method||(m=T(e.cache)?e.cache:T(t.cache)?t.cache:M),m&&(w=m.get(P),S(w)?w&&A(w.then)?w.then(p,p):bi(w)?c(w[1],w[0],pt(w[2]),w[3]):c(w,200,{},"OK"):m.put(P,k)),v(w)&&((w=hn(e.url)?s()[e.xsrfCookieName||t.xsrfCookieName]:void 0)&&(D[e.xsrfHeaderName||t.xsrfHeaderName]=w),o(e.method,P,i,l,D,e.timeout,e.withCredentials,e.responseType,r(e.eventHandlers),r(e.uploadEventHandlers))),k}function y(t,e){return 0<e.length&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}function b(t,e){if(/[&?][^=]+=JSON_CALLBACK/.test(t))throw wr("badjsonp",t);if(new RegExp("[&?]"+e+"=").test(t))throw wr("badjsonp",e,t);return t+=(-1===t.indexOf("?")?"?":"&")+e+"=JSON_CALLBACK"}var M=l("$http");t.paramSerializer=x(t.paramSerializer)?p.get(t.paramSerializer):t.paramSerializer;var w=[];return a(i,function(t){w.unshift(x(t)?p.get(t):p.invoke(t))}),g.pendingRequests=[],function(t){a(arguments,function(t){g[t]=function(e,n){return g(c({},n||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(t){a(arguments,function(t){g[t]=function(e,n,i){return g(c({},i||{},{method:t,url:e,data:n}))}})}("post","put","patch"),g.defaults=t,g}]}function ve(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Se(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,i){return Te(t,i,t.defer,e,n[0])}]}function Te(t,e,n,i,r){function o(t,e,n){t=t.replace("JSON_CALLBACK",e);var a=r.createElement("script"),o=null;return a.type="text/javascript",a.src=t,a.async=!0,o=function(t){a.removeEventListener("load",o),a.removeEventListener("error",o),r.body.removeChild(a),a=null;var s=-1,l="unknown";t&&("load"!==t.type||i.wasCalled(e)||(t={type:"error"}),l=t.type,s="error"===t.type?404:200),n&&n(s,l)},a.addEventListener("load",o),a.addEventListener("error",o),r.body.appendChild(a),o}return function(r,s,l,u,c,h,p,d,f,g){function m(){T&&T(),b&&b.abort()}if(s=s||t.url(),"jsonp"===ci(r))var y=i.createCallback(s),T=o(s,y,function(t,e){var r=200===t&&i.getResponse(y);S(x)&&n.cancel(x),T=b=null,u(t,r,"",e),i.removeCallback(y)});else{var b=e(r,s);if(b.open(r,s,!0),a(c,function(t,e){S(t)&&b.setRequestHeader(e,t)}),b.onload=function(){var t=b.statusText||"",e="response"in b?b.response:b.responseText,i=1223===b.status?204:b.status;0===i&&(i=e?200:"file"===cn(s).protocol?404:0);var r=b.getAllResponseHeaders();S(x)&&n.cancel(x),T=b=null,u(i,e,r,t)},r=function(){S(x)&&n.cancel(x),T=b=null,u(-1,null,null,"")},b.onerror=r,b.onabort=r,b.ontimeout=r,a(f,function(t,e){b.addEventListener(e,t)}),a(g,function(t,e){b.upload.addEventListener(e,t)}),p&&(b.withCredentials=!0),d)try{b.responseType=d}catch(t){if("json"!==d)throw t}b.send(v(l)?null:l)}if(0<h)var x=n(m,h);else h&&A(h.then)&&h.then(m)}}function be(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function a(t){return"\\\\\\"+t}function o(n){return n.replace(p,t).replace(d,e)}function s(t,e,n,i){var r=t.$watch(function(t){return r(),i(t)},e,n);return r}function l(a,l,p,d){function f(t){try{var e=t;return t=p?r.getTrusted(p,e):r.valueOf(e),d&&!S(t)?t:ct(t)}catch(t){i(Ar.interr(a,t))}}if(!a.length||-1===a.indexOf(t)){var g;return l||(l=o(a),g=m(l),g.exp=a,g.expressions=[],g.$$watchDelegate=s),g}d=!!d;var y,T,b=0,x=[],M=[];g=a.length;for(var w=[],C=[];b<g;){if(-1===(y=a.indexOf(t,b))||-1===(T=a.indexOf(e,y+u))){b!==g&&w.push(o(a.substring(b)));break}b!==y&&w.push(o(a.substring(b,y))),b=a.substring(y+u,T),x.push(b),M.push(n(b,f)),b=T+h,C.push(w.length),w.push("")}if(p&&1<w.length&&Ar.throwNoconcat(a),!l||x.length){var k=function(t){for(var e=0,n=x.length;e<n;e++){if(d&&v(t[e]))return;w[C[e]]=t[e]}return w.join("")};return c(function(t){var e=0,n=x.length,r=Array(n);try{for(;e<n;e++)r[e]=M[e](t);return k(r)}catch(t){i(Ar.interr(a,t))}},{exp:a,expressions:x,$$watchDelegate:function(t,e){var n;return t.$watchGroup(M,function(i,r){var a=k(i);A(e)&&e.call(this,a,i!==r?n:a,t),n=a})}})}}var u=t.length,h=e.length,p=new RegExp(t.replace(/./g,a),"g"),d=new RegExp(e.replace(/./g,a),"g");return l.startSymbol=function(){return t},l.endSymbol=function(){return e},l}]}function xe(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,n,i,r){function a(a,s,l,u){function c(){h?a.apply(null,p):a(g)}var h=4<arguments.length,p=h?pi.call(arguments,4):[],d=e.setInterval,f=e.clearInterval,g=0,m=S(u)&&!u,y=(m?i:n).defer(),v=y.promise;return l=S(l)?l:0,v.$$intervalId=d(function(){m?r.defer(c):t.$evalAsync(c),y.notify(g++),0<l&&g>=l&&(y.resolve(g),f(v.$$intervalId),delete o[v.$$intervalId]),m||t.$apply()},s),o[v.$$intervalId]=y,v}var o={};return a.cancel=function(t){return!!(t&&t.$$intervalId in o)&&(o[t.$$intervalId].promise.catch(f),o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0)},a}]}function Me(t){t=t.split("/");for(var e=t.length;e--;)t[e]=G(t[e]);return t.join("/")}function we(t,e){var n=cn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=p(n.port)||Dr[n.protocol]||null}function Ae(t,e){if(Pr.test(t))throw $r("badpath",t);var n="/"!==t.charAt(0);n&&(t="/"+t);var i=cn(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=j(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Ce(t,e){return t.slice(0,e.length)===e}function ke(t,e){if(Ce(e,t))return e.substr(t.length)}function De(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function $e(t){return t.replace(/(#.+)|#$/,"$1")}function Pe(t,e,n){this.$$html5=!0,n=n||"",we(t,this),this.$$parse=function(t){var n=ke(e,t);if(!x(n))throw $r("ipthprfx",t,e);Ae(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=q(this.$$search),n=this.$$hash?"#"+G(this.$$hash):"";this.$$url=Me(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var a,o;return S(a=ke(t,i))?(o=a,o=n&&S(a=ke(n,a))?e+(ke("/",a)||a):t+o):S(a=ke(e,i))?o=e+a:e===i+"/"&&(o=e),o&&this.$$parse(o),!!o}}function Ee(t,e,n){we(t,this),this.$$parse=function(i){var r,a=ke(t,i)||ke(e,i);v(a)||"#"!==a.charAt(0)?this.$$html5?r=a:(r="",v(a)&&(t=i,this.replace())):(r=ke(n,a),v(r)&&(r=a)),Ae(r,this),i=this.$$path;var a=t,o=/^\/[A-Z]:(\/.*)/;Ce(r,a)&&(r=r.replace(a,"")),o.exec(r)||(i=(r=o.exec(i))?r[1]:i),this.$$path=i,this.$$compose()},this.$$compose=function(){var e=q(this.$$search),i=this.$$hash?"#"+G(this.$$hash):"";this.$$url=Me(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(e,n){return De(t)===De(e)&&(this.$$parse(e),!0)}}function Oe(t,e,n){this.$$html5=!0,Ee.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var a,o;return t===De(i)?a=i:(o=ke(e,i))?a=t+n+o:e===i+"/"&&(a=e),a&&this.$$parse(a),!!a},this.$$compose=function(){var e=q(this.$$search),i=this.$$hash?"#"+G(this.$$hash):"";this.$$url=Me(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+n+this.$$url,this.$$urlUpdatedByLocation=!0}}function _e(t){return function(){return this[t]}}function Le(t,e){return function(n){return v(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Ne(){var t="!",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return S(e)?(t=e,this):t},this.html5Mode=function(t){return $(t)?(e.enabled=t,this):T(t)?($(t.enabled)&&(e.enabled=t.enabled),$(t.requireBase)&&(e.requireBase=t.requireBase),($(t.rewriteLinks)||x(t.rewriteLinks))&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,a,o){function s(t,e,n){var r=u.url(),a=u.$$state;try{i.url(t,e,n),u.$$state=i.state()}catch(t){throw u.url(r),u.$$state=a,t}}function l(t,e){n.$broadcast("$locationChangeSuccess",u.absUrl(),t,u.$$state,e)}var u,c;c=i.baseHref();var h,p=i.url();if(e.enabled){if(!c&&e.requireBase)throw $r("nobase");h=p.substring(0,p.indexOf("/",p.indexOf("//")+2))+(c||"/"),c=r.history?Pe:Oe}else h=De(p),c=Ee;var d=h.substr(0,De(h).lastIndexOf("/")+1);u=new c(h,d,"#"+t),u.$$parseLinkUrl(p,p),u.$$state=i.state();var f=/^\s*(javascript|mailto):/i;a.on("click",function(t){var r=e.rewriteLinks;if(r&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var s=ri(t.target);"a"!==_(s[0]);)if(s[0]===a[0]||!(s=s.parent())[0])return;if(!x(r)||!v(s.attr(r))){var r=s.prop("href"),l=s.attr("href")||s.attr("xlink:href");T(r)&&"[object SVGAnimatedString]"===r.toString()&&(r=cn(r.animVal).href),f.test(r)||!r||s.attr("target")||t.isDefaultPrevented()||!u.$$parseLinkUrl(r,l)||(t.preventDefault(),u.absUrl()!==i.url()&&(n.$apply(),o.angular["ff-684208-preventDefault"]=!0))}}}),$e(u.absUrl())!==$e(p)&&i.url(u.absUrl(),!0);var g=!0;return i.onUrlChange(function(t,e){Ce(t,d)?(n.$evalAsync(function(){var i,r=u.absUrl(),a=u.$$state;t=$e(t),u.$$parse(t),u.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,a).defaultPrevented,u.absUrl()===t&&(i?(u.$$parse(r),u.$$state=a,s(r,!1,a)):(g=!1,l(r,a)))}),n.$$phase||n.$digest()):o.location.href=t}),n.$watch(function(){if(g||u.$$urlUpdatedByLocation){u.$$urlUpdatedByLocation=!1;var t=$e(i.url()),e=$e(u.absUrl()),a=i.state(),o=u.$$replace,c=t!==e||u.$$html5&&r.history&&a!==u.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var e=u.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,u.$$state,a).defaultPrevented;u.absUrl()===e&&(i?(u.$$parse(t),u.$$state=a):(c&&s(e,o,a===u.$$state?null:u.$$state),l(t,a)))}))}u.$$replace=!1}),u}]}function Xe(){var t=!0,e=this;this.debugEnabled=function(e){return S(e)?(t=e,this):t},this.$get=["$window",function(n){function i(t){return t instanceof Error&&(t.stack&&o?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function r(t){var e=n.console||{},r=e[t]||e.log||f;t=!1;try{t=!!r.apply}catch(t){}return t?function(){var t=[];return a(arguments,function(e){t.push(i(e))}),r.apply(e,t)}:function(t,e){r(t,null==e?"":e)}}var o=ii||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function Fe(t){return t+""}function Ie(t,e){return"undefined"!=typeof t?t:e}function Re(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function He(t,e){var n,i,r;switch(t.type){case Fr.Program:n=!0,a(t.body,function(t){He(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case Fr.Literal:t.constant=!0,t.toWatch=[];break;case Fr.UnaryExpression:He(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Fr.BinaryExpression:He(t.left,e),He(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Fr.LogicalExpression:He(t.left,e),He(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Fr.ConditionalExpression:He(t.test,e),He(t.alternate,e),He(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Fr.Identifier:t.constant=!1,t.toWatch=[t];break;case Fr.MemberExpression:He(t.object,e),t.computed&&He(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Fr.CallExpression:n=r=!!t.filter&&!e(t.callee.name).$stateful,i=[],a(t.arguments,function(t){He(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=r?i:[t];break;case Fr.AssignmentExpression:He(t.left,e),He(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Fr.ArrayExpression:n=!0,i=[],a(t.elements,function(t){He(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=i;break;case Fr.ObjectExpression:n=!0,i=[],a(t.properties,function(t){He(t.value,e),n=n&&t.value.constant&&!t.computed,t.value.constant||i.push.apply(i,t.value.toWatch),t.computed&&(He(t.key,e),t.key.constant||i.push.apply(i,t.key.toWatch))}),t.constant=n,t.toWatch=i;break;case Fr.ThisExpression:t.constant=!1,t.toWatch=[];break;case Fr.LocalsExpression:t.constant=!1,t.toWatch=[]}}function ze(t){if(1===t.length){t=t[0].expression;var e=t.toWatch;return 1!==e.length?e:e[0]!==t?e:void 0}}function Be(t){return t.type===Fr.Identifier||t.type===Fr.MemberExpression}function We(t){if(1===t.body.length&&Be(t.body[0].expression))return{type:Fr.AssignmentExpression,left:t.body[0].expression,right:{type:Fr.NGValueParameter},operator:"="}}function Ye(t){this.$filter=t}function Ue(t){this.$filter=t}function Ve(t,e,n){this.ast=new Fr(t,n),this.astCompiler=n.csp?new Ue(e):new Ye(e)}function je(t){return A(t.valueOf)?t.valueOf():_r.call(t)}function qe(){var t,e,n=ut(),i={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){i[t]=e},this.setIdentifierFns=function(n,i){return t=n,e=i,this},this.$get=["$filter",function(r){function o(t,e,n){return null==t||null==e?t===e:!("object"==typeof t&&(t=je(t),"object"==typeof t&&!n))&&(t===e||t!==t&&e!==e)}function s(t,e,n,i,r){var a,s=i.inputs;if(1===s.length){var l=o,s=s[0];return t.$watch(function(t){var e=s(t);return o(e,l,i.literal)||(a=i(t,void 0,void 0,[e]),l=e&&je(e)),a},e,n,r)}for(var u=[],c=[],h=0,p=s.length;h<p;h++)u[h]=o,c[h]=null;return t.$watch(function(t){for(var e=!1,n=0,r=s.length;n<r;n++){var l=s[n](t);(e||(e=!o(l,u[n],i.literal)))&&(c[n]=l,u[n]=l&&je(l))}return e&&(a=i(t,void 0,void 0,c)),a},e,n,r)}function l(t,e,n,i,r){function a(t){return i(t)}function o(t,n,i){c=t,A(e)&&e(t,n,i),h(t)&&i.$$postDigest(function(){h(c)&&l()})}var l,c,h=i.literal?u:S;return l=i.inputs?s(t,o,n,i,r):t.$watch(a,o,n)}function u(t){var e=!0;return a(t,function(t){S(t)||(e=!1)}),e}function c(t,e,n,i){var r=t.$watch(function(t){return r(),i(t)},e,n);return r}function h(t,e){function n(n,i,r,o){return r=a&&o?o[0]:t(n,i,r,o),e(r,n,i)}function i(n,i,r,s){return r=a&&s?s[0]:t(n,i,r,s),n=e(r,n,i),o(r)?n:r}if(!e)return t;var r=t.$$watchDelegate,a=!1,o=t.literal?u:S,l=t.oneTime?i:n;return l.literal=t.literal,l.oneTime=t.oneTime,a=!t.inputs,r&&r!==s?(l.$$watchDelegate=r,l.inputs=t.inputs):e.$stateful||(l.$$watchDelegate=s,l.inputs=t.inputs?t.inputs:[t]),l}var p={csp:Ai().noUnsafeEval,literals:N(i),isIdentifierStart:A(t)&&t,isIdentifierContinue:A(e)&&e};return function(t,e){var i,a,o;switch(typeof t){case"string":return o=t=t.trim(),i=n[o],i||(":"===t.charAt(0)&&":"===t.charAt(1)&&(a=!0,t=t.substring(2)),i=new Xr(p),i=new Ve(i,r,p).parse(t),i.constant?i.$$watchDelegate=c:a?(i.oneTime=!0,i.$$watchDelegate=l):i.inputs&&(i.$$watchDelegate=s),n[o]=i),h(i,e);case"function":return h(t,e);default:return h(f,e)}}}]}function Ge(){var t=!0;this.$get=["$rootScope","$exceptionHandler",function(e,n){return Ke(function(t){e.$evalAsync(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return S(e)?(t=e,this):t}}function Je(){var t=!0;this.$get=["$browser","$exceptionHandler",function(e,n){return Ke(function(t){e.defer(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return S(e)?(t=e,this):t}}function Ke(t,n,i){function r(){return new o}function o(){var t=this.promise=new s;this.resolve=function(e){h(t,e)},this.reject=function(e){d(t,e)},this.notify=function(e){g(t,e)}}function s(){this.$$state={status:0}}function l(){for(;!M&&w.length;){var t=w.shift();if(!t.pur){t.pur=!0;var e=t.value,e="Possibly unhandled rejection: "+("function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):v(e)?"undefined":"string"!=typeof e?dt(e,void 0):e);t.value instanceof Error?n(t.value,e):n(e)}}}function u(e){!i||e.pending||2!==e.status||e.pur||(0===M&&0===w.length&&t(l),w.push(e)),!e.processScheduled&&e.pending&&(e.processScheduled=!0,++M,t(function(){var n,r,a;a=e.pending,e.processScheduled=!1,e.pending=void 0;try{for(var o=0,s=a.length;o<s;++o){e.pur=!0,r=a[o][0],n=a[o][e.status];try{A(n)?h(r,n(e.value)):1===e.status?h(r,e.value):d(r,e.value)}catch(t){d(r,t)}}}finally{--M,i&&0===M&&t(l)}}))}function h(t,e){t.$$state.status||(e===t?f(t,x("qcycle",e)):p(t,e))}function p(t,e){function n(e){o||(o=!0,p(t,e))}function i(e){o||(o=!0,f(t,e))}function r(e){g(t,e)}var a,o=!1;try{(T(e)||A(e))&&(a=e.then),A(a)?(t.$$state.status=-1,a.call(e,n,i,r)):(t.$$state.value=e,t.$$state.status=1,u(t.$$state))}catch(t){i(t)}}function d(t,e){t.$$state.status||f(t,e)}function f(t,e){t.$$state.value=e,t.$$state.status=2,u(t.$$state)}function g(e,i){var r=e.$$state.pending;0>=e.$$state.status&&r&&r.length&&t(function(){for(var t,e,a=0,o=r.length;a<o;a++){e=r[a][0],t=r[a][3];try{g(e,A(t)?t(i):i)}catch(t){n(t)}}})}function m(t){var e=new s;return d(e,t),e}function y(t,e,n){var i=null;try{A(n)&&(i=n())}catch(t){return m(t)}return i&&A(i.then)?i.then(function(){return e(t)},m):e(t)}function S(t,e,n,i){var r=new s;return h(r,t),r.then(e,n,i)}function b(t){if(!A(t))throw x("norslvr",t);var e=new s;return t(function(t){h(e,t)},function(t){d(e,t)}),e}var x=e("$q",TypeError),M=0,w=[];c(s.prototype,{then:function(t,e,n){if(v(t)&&v(e)&&v(n))return this;var i=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),0<this.$$state.status&&u(this.$$state),i},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then(function(e){return y(e,C,t)},function(e){return y(e,m,t)},e)}});var C=S;return b.prototype=s.prototype,b.defer=r,b.reject=m,b.when=S,b.resolve=C,b.all=function(t){var e=new s,n=0,i=bi(t)?[]:{};return a(t,function(t,r){n++,S(t).then(function(t){i[r]=t,--n||h(e,i)},function(t){d(e,t)})}),0===n&&h(e,i),e},b.race=function(t){var e=r();return a(t,function(t){S(t).then(e.resolve,e.reject)}),e.promise},b}function Ze(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,r=!!n,a=r?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return a.supported=r,a}]}function Qe(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++Si,this.$$ChildScope=null}return e.prototype=t,e}var n=10,i=e("$rootScope"),o=null,s=null;this.digestTtl=function(t){return arguments.length&&(n=t),n},this.$get=["$exceptionHandler","$parse","$browser",function(e,l,u){function c(t){t.currentScope.$$destroyed=!0}function h(t){9===ii&&(t.$$childHead&&h(t.$$childHead),t.$$nextSibling&&h(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function p(){this.$id=++Si,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function d(t){if(x.$$phase)throw i("inprog",x.$$phase);x.$$phase=t}function g(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function m(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function y(){}function S(){for(;C.length;)try{C.shift()()}catch(t){e(t)}s=null}function b(){null===s&&(s=u.defer(function(){x.$apply(S)}))}p.prototype={constructor:p,$new:function(e,n){var i;return n=n||this,e?(i=new p,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(e||n!==this)&&i.$on("$destroy",c),i},$watch:function(t,e,n,i){var r=l(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r,t);var a=this,s=a.$$watchers,u={fn:e,last:y,get:r,exp:i||t,eq:!!n};return o=null,A(e)||(u.fn=f),s||(s=a.$$watchers=[],s.$$digestWatchIndex=-1),s.unshift(u),s.$$digestWatchIndex++,g(this,1),function(){var t=L(s,u);0<=t&&(g(a,-1),t<s.$$digestWatchIndex&&s.$$digestWatchIndex--),o=null}},$watchGroup:function(t,e){function n(){l=!1,u?(u=!1,e(r,r,s)):e(r,i,s)}var i=Array(t.length),r=Array(t.length),o=[],s=this,l=!1,u=!0;if(!t.length){var c=!0;return s.$evalAsync(function(){c&&e(r,r,s)}),function(){c=!1}}return 1===t.length?this.$watch(t[0],function(t,n,a){r[0]=t,i[0]=n,e(r,t===n?r:i,a)}):(a(t,function(t,e){var a=s.$watch(t,function(t,a){r[e]=t,i[e]=a,l||(l=!0,s.$evalAsync(n))});o.push(a)}),function(){for(;o.length;)o.shift()()})},$watchCollection:function(t,e){function n(t){i=t;var e,n,o,s;if(!v(i)){if(T(i))if(r(i))for(a!==p&&(a=p,g=a.length=0,c++),t=i.length,g!==t&&(c++,a.length=g=t),e=0;e<t;e++)s=a[e],o=i[e],n=s!==s&&o!==o,n||s===o||(c++,a[e]=o);else{a!==d&&(a=d={},g=0,c++),t=0;for(e in i)li.call(i,e)&&(t++,o=i[e],s=a[e],e in a?(n=s!==s&&o!==o,n||s===o||(c++,a[e]=o)):(g++,a[e]=o,c++));if(g>t)for(e in c++,a)li.call(i,e)||(g--,delete a[e])}else a!==i&&(a=i,c++);return c}}n.$stateful=!0;var i,a,o,s=this,u=1<e.length,c=0,h=l(t,n),p=[],d={},f=!0,g=0;return this.$watch(h,function(){if(f?(f=!1,e(i,i,s)):e(i,o,s),u)if(T(i))if(r(i)){o=Array(i.length);for(var t=0;t<i.length;t++)o[t]=i[t]}else for(t in o={},i)li.call(i,t)&&(o[t]=i[t]);else o=i})},$digest:function(){var t,r,a,l,c,h,p,f,g,m,v=n,T=[];d("$digest"),u.$$checkUrlChange(),this===x&&null!==s&&(u.defer.cancel(s),S()),o=null;do{for(p=!1,f=this,h=0;h<M.length;h++){try{m=M[h],(l=m.fn)(m.scope,m.locals)}catch(t){e(t)}o=null}M.length=0;t:do{if(h=f.$$watchers)for(h.$$digestWatchIndex=h.length;h.$$digestWatchIndex--;)try{if(t=h[h.$$digestWatchIndex])if(c=t.get,(r=c(f))===(a=t.last)||(t.eq?F(r,a):Ti(r)&&Ti(a))){if(t===o){p=!1;break t}}else p=!0,o=t,t.last=t.eq?N(r,null):r,l=t.fn,l(r,a===y?r:a,f),5>v&&(g=4-v,T[g]||(T[g]=[]),T[g].push({msg:A(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:r,oldVal:a}))}catch(t){e(t)}if(!(h=f.$$watchersCount&&f.$$childHead||f!==this&&f.$$nextSibling))for(;f!==this&&!(h=f.$$nextSibling);)f=f.$parent}while(f=h);if((p||M.length)&&!v--)throw x.$$phase=null,i("infdig",n,T)}while(p||M.length);for(x.$$phase=null;k<w.length;)try{w[k++]()}catch(t){e(t)}w.length=k=0,u.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===x&&u.$$applicationDestroyed(),g(this,-this.$$watchersCount);for(var e in this.$$listenerCount)m(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$$nextSibling=null,h(this)}},$eval:function(t,e){return l(t)(this,e)},$evalAsync:function(t,e){x.$$phase||M.length||u.defer(function(){M.length&&x.$digest()}),M.push({scope:this,fn:l(t),locals:e})},$$postDigest:function(t){w.push(t)},$apply:function(t){try{d("$apply");try{return this.$eval(t)}finally{x.$$phase=null}}catch(t){e(t)}finally{try{x.$digest()}catch(t){throw e(t),t}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&C.push(e),t=l(t),b()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);-1!==i&&(n[i]=null,m(r,1,t))}},$emit:function(t,n){var i,r,a,o=[],s=this,l=!1,u={name:t,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=I([u],arguments,1);do{for(i=s.$$listeners[t]||o,u.currentScope=s,r=0,a=i.length;r<a;r++)if(i[r])try{i[r].apply(null,c)}catch(t){e(t)}else i.splice(r,1),r--,a--;if(l)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(t,n){var i=this,r=this,a={name:t,targetScope:this,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[t])return a;for(var o,s,l=I([a],arguments,1);i=r;){for(a.currentScope=i,r=i.$$listeners[t]||[],o=0,s=r.length;o<s;o++)if(r[o])try{r[o].apply(null,l)}catch(t){e(t)}else r.splice(o,1),o--,s--;if(!(r=i.$$listenerCount[t]&&i.$$childHead||i!==this&&i.$$nextSibling))for(;i!==this&&!(r=i.$$nextSibling);)i=i.$parent;
}return a.currentScope=null,a}};var x=new p,M=x.$$asyncQueue=[],w=x.$$postDigestQueue=[],C=x.$$applyAsyncQueue=[],k=0;return x}]}function tn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return S(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return S(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,a=i?e:t;return r=cn(n).href,""===r||r.match(a)?n:"unsafe:"+r}}}function en(t){if("self"===t)return t;if(x(t)){if(-1<t.indexOf("***"))throw Ir("iwcard",t);return t=wi(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(C(t))return new RegExp("^"+t.source+"$");throw Ir("imatcher")}function nn(t){var e=[];return S(t)&&a(t,function(t){e.push(en(t))}),e}function rn(){this.SCE_CONTEXTS=Rr;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=nn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=nn(t)),e},this.$get=["$injector",function(n){function i(t,e){return"self"===t?hn(e):!!t.exec(e.href)}function r(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}var a=function(t){throw Ir("unsafe")};n.has("$sanitize")&&(a=n.get("$sanitize"));var o=r(),s={};return s[Rr.HTML]=r(o),s[Rr.CSS]=r(o),s[Rr.URL]=r(o),s[Rr.JS]=r(o),s[Rr.RESOURCE_URL]=r(s[Rr.URL]),{trustAs:function(t,e){var n=s.hasOwnProperty(t)?s[t]:null;if(!n)throw Ir("icontext",t,e);if(null===e||v(e)||""===e)return e;if("string"!=typeof e)throw Ir("itype",t);return new n(e)},getTrusted:function(n,r){if(null===r||v(r)||""===r)return r;var o=s.hasOwnProperty(n)?s[n]:null;if(o&&r instanceof o)return r.$$unwrapTrustedValue();if(n===Rr.RESOURCE_URL){var l,u,o=cn(r.toString()),c=!1;for(l=0,u=t.length;l<u;l++)if(i(t[l],o)){c=!0;break}if(c)for(l=0,u=e.length;l<u;l++)if(i(e[l],o)){c=!1;break}if(c)return r;throw Ir("insecurl",r.toString())}if(n===Rr.HTML)return a(r);throw Ir("unsafe")},valueOf:function(t){return t instanceof o?t.$$unwrapTrustedValue():t}}}]}function an(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>ii)throw Ir("iequirks");var i=pt(Rr);i.isEnabled=function(){return t},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=g),i.parseAs=function(t,n){var r=e(n);return r.literal&&r.constant?r:e(n,function(e){return i.getTrusted(t,e)})};var r=i.parseAs,o=i.getTrusted,s=i.trustAs;return a(Rr,function(t,e){var n=ci(e);i[("parse_as_"+n).replace(Hr,gt)]=function(e){return r(t,e)},i[("get_trusted_"+n).replace(Hr,gt)]=function(e){return o(t,e)},i[("trust_as_"+n).replace(Hr,gt)]=function(e){return s(t,e)}}),i}]}function on(){this.$get=["$window","$document",function(t,e){var n={},i=!((!t.nw||!t.nw.process)&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id))&&t.history&&t.history.pushState,r=p((/android (\d+)/.exec(ci((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),o=e[0]||{},s=o.body&&o.body.style,l=!1,u=!1;return s&&(l=!!("transition"in s||"webkitTransition"in s),u=!!("animation"in s||"webkitAnimation"in s)),{history:!(!i||4>r||a),hasEvent:function(t){if("input"===t&&ii)return!1;if(v(n[t])){var e=o.createElement("div");n[t]="on"+t in e}return n[t]},csp:Ai(),transitions:l,animations:u,android:r}}]}function sn(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(e,n,i,r,a){function o(s,l){o.totalPendingRequests++,x(s)&&!v(n.get(s))||(s=a.getTrustedResourceUrl(s));var u=i.defaults&&i.defaults.transformResponse;return bi(u)?u=u.filter(function(t){return t!==de}):u===de&&(u=null),i.get(s,c({cache:n,transformResponse:u},t)).finally(function(){o.totalPendingRequests--}).then(function(t){return n.put(s,t.data),t.data},function(t){return l||(t=zr("tpload",s,t.status,t.statusText),e(t)),r.reject(t)})}return o.totalPendingRequests=0,o}]}function ln(){this.$get=["$rootScope","$browser","$location",function(t,e,n){return{findBindings:function(t,e,n){t=t.getElementsByClassName("ng-binding");var i=[];return a(t,function(t){var r=vi.element(t).data("$binding");r&&a(r,function(r){n?new RegExp("(^|\\s)"+wi(e)+"(\\s|\\||$)").test(r)&&i.push(t):-1!==r.indexOf(e)&&i.push(t)})}),i},findModels:function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var a=t.querySelectorAll("["+i[r]+"model"+(n?"=":"*=")+'"'+e+'"]');if(a.length)return a}},getLocation:function(){return n.url()},setLocation:function(e){e!==n.url()&&(n.url(e),t.$digest())},whenStable:function(t){e.notifyWhenNoOutstandingRequests(t)}}}]}function un(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){function a(a,s,l){A(a)||(l=s,s=a,a=f);var u,c=pi.call(arguments,3),h=S(l)&&!l,p=(h?i:n).defer(),d=p.promise;return u=e.defer(function(){try{p.resolve(a.apply(null,c))}catch(t){p.reject(t),r(t)}finally{delete o[d.$$timeoutId]}h||t.$apply()},s),d.$$timeoutId=u,o[u]=p,d}var o={};return a.cancel=function(t){return!!(t&&t.$$timeoutId in o)&&(o[t.$$timeoutId].promise.catch(f),o[t.$$timeoutId].reject("canceled"),delete o[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},a}]}function cn(t){return ii&&(Br.setAttribute("href",t),t=Br.href),Br.setAttribute("href",t),{href:Br.href,protocol:Br.protocol?Br.protocol.replace(/:$/,""):"",host:Br.host,search:Br.search?Br.search.replace(/^\?/,""):"",hash:Br.hash?Br.hash.replace(/^#/,""):"",hostname:Br.hostname,port:Br.port,pathname:"/"===Br.pathname.charAt(0)?Br.pathname:"/"+Br.pathname}}function hn(t){return t=x(t)?cn(t):t,t.protocol===Wr.protocol&&t.host===Wr.host}function pn(){this.$get=m(t)}function dn(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var n=t[0]||{},i={},r="";return function(){var t,a,o,s,l;try{t=n.cookie||""}catch(e){t=""}if(t!==r)for(r=t,t=r.split("; "),i={},o=0;o<t.length;o++)a=t[o],s=a.indexOf("="),0<s&&(l=e(a.substring(0,s)),v(i[l])&&(i[l]=e(a.substring(s+1))));return i}}function fn(){this.$get=dn}function gn(t){function e(n,i){if(T(n)){var r={};return a(n,function(t,n){r[n]=e(n,t)}),r}return t.factory(n+"Filter",i)}this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+"Filter")}}],e("currency",Tn),e("date",En),e("filter",mn),e("json",On),e("limitTo",_n),e("lowercase",Jr),e("number",bn),e("orderBy",Nn),e("uppercase",Kr)}function mn(){return function(t,n,i,a){if(!r(t)){if(null==t)return t;throw e("filter")("notarray",t)}a=a||"$";var o;switch(Sn(n)){case"function":break;case"boolean":case"null":case"number":case"string":o=!0;case"object":n=yn(n,i,a,o);break;default:return t}return Array.prototype.filter.call(t,n)}}function yn(t,e,n,i){var r=T(t)&&n in t;return!0===e?e=F:A(e)||(e=function(t,e){return!v(t)&&(null===t||null===e?t===e:!(T(e)||T(t)&&!y(t))&&(t=ci(""+t),e=ci(""+e),-1!==t.indexOf(e)))}),function(a){return r&&!T(a)?vn(a,t[n],e,n,!1):vn(a,t,e,n,i)}}function vn(t,e,n,i,r,a){var o=Sn(t),s=Sn(e);if("string"===s&&"!"===e.charAt(0))return!vn(t,e.substring(1),n,i,r);if(bi(t))return t.some(function(t){return vn(t,e,n,i,r)});switch(o){case"object":var l;if(r){for(l in t)if(l.charAt&&"$"!==l.charAt(0)&&vn(t[l],e,n,i,!0))return!0;return!a&&vn(t,e,n,i,!1)}if("object"===s){for(l in e)if(a=e[l],!A(a)&&!v(a)&&(o=l===i,!vn(o?t:t[l],a,n,i,o,o)))return!1;return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Sn(t){return null===t?"null":typeof t}function Tn(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return v(n)&&(n=e.CURRENCY_SYM),v(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:wn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function bn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:wn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function xn(t){var e,n,i,r,a,o=0;for(-1<(n=t.indexOf(Ur))&&(t=t.replace(Ur,"")),0<(i=t.search(/e/i))?(0>n&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):0>n&&(n=t.length),i=0;t.charAt(i)===Vr;i++);if(i===(a=t.length))e=[0],n=1;else{for(a--;t.charAt(a)===Vr;)a--;for(n-=i,e=[],r=0;i<=a;i++,r++)e[r]=+t.charAt(i)}return n>Yr&&(e=e.splice(0,Yr-1),o=n-1,n=1),{d:e,e:o,i:n}}function Mn(t,e,n,i){var r=t.d,a=r.length-t.i;if(e=v(e)?Math.min(Math.max(n,a),i):+e,n=e+t.i,i=r[n],0<n){r.splice(Math.max(t.i,n));for(var o=n;o<r.length;o++)r[o]=0}else for(a=Math.max(0,a),t.i=1,r.length=Math.max(1,n=e+1),r[0]=0,o=1;o<n;o++)r[o]=0;if(5<=i)if(0>n-1){for(i=0;i>n;i--)r.unshift(0),t.i++;r.unshift(1),t.i++}else r[n-1]++;for(;a<Math.max(0,e);a++)r.push(0);(e=r.reduceRight(function(t,e,n,i){return e+=t,i[n]=e%10,Math.floor(e/10)},0))&&(r.unshift(e),t.i++)}function wn(t,e,n,i,r){if(!x(t)&&!M(t)||isNaN(t))return"";var a=!isFinite(t),o=!1,s=Math.abs(t)+"",l="";if(a)l="";else{for(o=xn(s),Mn(o,r,e.minFrac,e.maxFrac),l=o.d,s=o.i,r=o.e,a=[],o=l.reduce(function(t,e){return t&&!e},!0);0>s;)l.unshift(0),s++;for(0<s?a=l.splice(s,l.length):(a=l,l=[0]),s=[],l.length>=e.lgSize&&s.unshift(l.splice(-e.lgSize,l.length).join(""));l.length>e.gSize;)s.unshift(l.splice(-e.gSize,l.length).join(""));l.length&&s.unshift(l.join("")),l=s.join(n),a.length&&(l+=i+a.join("")),r&&(l+="e+"+r)}return 0>t&&!o?e.negPre+l+e.negSuf:e.posPre+l+e.posSuf}function An(t,e,n,i){var r="";for((0>t||i&&0>=t)&&(i?t=-t+1:(t=-t,r="-")),t=""+t;t.length<e;)t=Vr+t;return n&&(t=t.substr(t.length-e)),r+t}function Cn(t,e,n,i,r){return n=n||0,function(a){return a=a["get"+t](),(0<n||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),An(a,e,i,r)}}function kn(t,e,n){return function(i,r){var a=i["get"+t](),o=hi((n?"STANDALONE":"")+(e?"SHORT":"")+t);return r[o][a]}}function Dn(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function $n(t){return function(e){var n=Dn(e.getFullYear());return e=+new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))-+n,e=1+Math.round(e/6048e5),An(e,t)}}function Pn(t,e){return 0>=t.getFullYear()?e.ERAS[0]:e.ERAS[1]}function En(t){function e(t){var e;if(e=t.match(n)){t=new Date(0);var i=0,r=0,a=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(i=p(e[9]+e[10]),r=p(e[9]+e[11])),a.call(t,p(e[1]),p(e[2])-1,p(e[3])),i=p(e[4]||0)-i,r=p(e[5]||0)-r,a=p(e[6]||0),e=Math.round(1e3*parseFloat("0."+(e[7]||0))),o.call(t,i,r,a,e)}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var o,s,l="",u=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,x(n)&&(n=Gr.test(n)?p(n):e(n)),M(n)&&(n=new Date(n)),!w(n)||!isFinite(n.getTime()))return n;for(;i;)(s=qr.exec(i))?(u=I(u,s,1),i=u.pop()):(u.push(i),i=null);var c=n.getTimezoneOffset();return r&&(c=W(r,c),n=Y(n,r,!0)),a(u,function(e){o=jr[e],l+=o?o(n,t.DATETIME_FORMATS,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function On(){return function(t,e){return v(e)&&(e=2),z(t,e)}}function _n(){return function(t,e,n){return e=1/0===Math.abs(Number(e))?Number(e):p(e),Ti(e)?t:(M(t)&&(t=t.toString()),r(t)?(n=!n||isNaN(n)?0:p(n),n=0>n?Math.max(0,t.length+n):n,0<=e?Ln(t,n,n+e):0===n?Ln(t,e,t.length):Ln(t,Math.max(0,n+e),n)):t)}}function Ln(t,e,n){return x(t)?t.slice(e,n):pi.call(t,e,n)}function Nn(t){function n(e){return e.map(function(e){var n=1,i=g;if(A(e))i=e;else if(x(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(i=t(e),i.constant)))var r=i(),i=function(t){return t[r]};return{get:i,descending:n}})}function i(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function a(t,e){var n=0,i=t.type,r=e.type;if(i===r){var r=t.value,a=e.value;"string"===i?(r=r.toLowerCase(),a=a.toLowerCase()):"object"===i&&(T(r)&&(r=t.index),T(a)&&(a=e.index)),r!==a&&(n=r<a?-1:1)}else n=i<r?-1:1;return n}return function(t,o,s,l){if(null==t)return t;if(!r(t))throw e("orderBy")("notarray",t);bi(o)||(o=[o]),0===o.length&&(o=["+"]);var u=n(o),c=s?-1:1,h=A(l)?l:a;return t=Array.prototype.map.call(t,function(t,e){return{value:t,tieBreaker:{value:e,type:"number",index:e},predicateValues:u.map(function(n){var r=n.get(t);return n=typeof r,null===r?(n="string",r="null"):"object"===n&&(A(r.valueOf)&&(r=r.valueOf(),i(r))||y(r)&&(r=r.toString(),i(r))),{value:r,type:n,index:e}})}}),t.sort(function(t,e){for(var n=0,i=u.length;n<i;n++){var r=h(t.predicateValues[n],e.predicateValues[n]);if(r)return r*u[n].descending*c}return h(t.tieBreaker,e.tieBreaker)*c}),t=t.map(function(t){return t.value})}}function Xn(t){return A(t)&&(t={link:t}),t.restrict=t.restrict||"AC",m(t)}function Fn(t,e,n,i,r){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=r(e.name||e.ngForm||"")(n),this.$dirty=!1,this.$valid=this.$pristine=!0,this.$submitted=this.$invalid=!1,this.$$parentForm=ta,this.$$element=t,this.$$animate=i,In(this)}function In(t){t.$$classCache={},t.$$classCache[Na]=!(t.$$classCache[La]=t.$$element.hasClass(La))}function Rn(t){function e(t,e,n){n&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!n&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function n(t,n,i){n=n?"-"+nt(n,"-"):"",e(t,La+n,!0===i),e(t,Na+n,!1===i)}var i=t.set,r=t.unset;t.clazz.prototype.$setValidity=function(t,a,o){v(a)?(this.$pending||(this.$pending={}),i(this.$pending,t,o)):(this.$pending&&r(this.$pending,t,o),Hn(this.$pending)&&(this.$pending=void 0)),$(a)?a?(r(this.$error,t,o),i(this.$$success,t,o)):(i(this.$error,t,o),r(this.$$success,t,o)):(r(this.$error,t,o),r(this.$$success,t,o)),this.$pending?(e(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,n(this,"",null)):(e(this,"ng-pending",!1),this.$valid=Hn(this.$error),this.$invalid=!this.$valid,n(this,"",this.$valid)),a=this.$pending&&this.$pending[t]?void 0:!this.$error[t]&&(!!this.$$success[t]||null),n(this,t,a),this.$$parentForm.$setValidity(t,a,this)}}function Hn(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function zn(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function Bn(t,e,n,i,r,a){var o=ci(e[0].type);if(!r.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionend",function(){s=!1,u()})}var l,u=function(t){if(l&&(a.defer.cancel(l),l=null),!s){var r=e.val();t=t&&t.type,"password"===o||n.ngTrim&&"false"===n.ngTrim||(r=Mi(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,t)}};if(r.hasEvent("input"))e.on("input",u);else{var c=function(t,e,n){l||(l=a.defer(function(){l=null,e&&e.value===n||u(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&19>e||37<=e&&40>=e||c(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",c)}e.on("change",u),da[o]&&i.$$hasNativeValidators&&o===n.type&&e.on("keydown wheel mousedown",function(t){if(!l){var e=this.validity,n=e.badInput,i=e.typeMismatch;l=a.defer(function(){l=null,e.badInput===n&&e.typeMismatch===i||u(t)})}}),i.$render=function(){var t=i.$isEmpty(i.$viewValue)?"":i.$viewValue;e.val()!==t&&e.val(t)}}function Wn(t,e){return function(n,i){var r,o;if(w(n))return n;if(x(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ra.test(n))return new Date(n);if(t.lastIndex=0,r=t.exec(n))return r.shift(),o=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},a(r,function(t,n){n<e.length&&(o[e[n]]=+t)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return NaN}}function Yn(t,e,n,i){return function(r,a,o,s,l,u,c){function h(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function p(t){return S(t)&&!w(t)?n(t)||void 0:t}Un(r,a,o,s),Bn(r,a,o,s,l,u);var d,f=s&&s.$options.getOption("timezone");if(s.$$parserName=t,s.$parsers.push(function(t){return s.$isEmpty(t)?null:e.test(t)?(t=n(t,d),f&&(t=Y(t,f)),t):void 0}),s.$formatters.push(function(t){if(t&&!w(t))throw Ia("datefmt",t);return h(t)?((d=t)&&f&&(d=Y(d,f,!0)),c("date")(t,i,f)):(d=null,"")}),S(o.min)||o.ngMin){var g;s.$validators.min=function(t){return!h(t)||v(g)||n(t)>=g},o.$observe("min",function(t){g=p(t),s.$validate()})}if(S(o.max)||o.ngMax){var m;s.$validators.max=function(t){return!h(t)||v(m)||n(t)<=m},o.$observe("max",function(t){m=p(t),s.$validate()})}}}function Un(t,e,n,i){(i.$$hasNativeValidators=T(e[0].validity))&&i.$parsers.push(function(t){var n=e.prop("validity")||{};return n.badInput||n.typeMismatch?void 0:t})}function Vn(t){t.$$parserName="number",t.$parsers.push(function(e){return t.$isEmpty(e)?null:sa.test(e)?parseFloat(e):void 0}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!M(e))throw Ia("numfmt",e);e=e.toString()}return e})}function jn(t){return S(t)&&!M(t)&&(t=parseFloat(t)),Ti(t)?void 0:t}function qn(t){var e=t.toString(),n=e.indexOf(".");return-1===n?-1<t&&1>t&&(t=/e-(\d+)$/.exec(e))?Number(t[1]):0:e.length-n-1}function Gn(t,e,n){t=Number(t);var i=(0|t)!==t,r=(0|e)!==e,a=(0|n)!==n;if(i||r||a){var o=i?qn(t):0,s=r?qn(e):0,l=a?qn(n):0,o=Math.max(o,s,l),o=Math.pow(10,o);t*=o,e*=o,n*=o,i&&(t=Math.round(t)),r&&(e=Math.round(e)),a&&(n=Math.round(n))}return 0===(t-e)%n}function Jn(t,e,n,i,r){if(S(i)){if(t=t(i),!t.constant)throw Ia("constexpr",n,i);return t(e)}return r}function Kn(t,e){function n(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var n=[],i=0;t:for(;i<t.length;i++){for(var r=t[i],a=0;a<e.length;a++)if(r===e[a])continue t;n.push(r)}return n}function i(t){var e=t;return bi(t)?e=t.map(i).join(" "):T(t)&&(e=Object.keys(t).filter(function(e){return t[e]}).join(" ")),e}t="ngClass"+t;var r;return["$parse",function(o){return{restrict:"AC",link:function(s,l,u){function c(t,e){var n=[];return a(t,function(t){(0<e||d[t])&&(d[t]=(d[t]||0)+e,d[t]===+(0<e)&&n.push(t))}),n.join(" ")}function h(t){if(t===e){var n=p,n=c(n&&n.split(" "),1);u.$addClass(n)}else n=p,n=c(n&&n.split(" "),-1),u.$removeClass(n);f=t}var p,d=l.data("$classCounts"),f=!0;d||(d=ut(),l.data("$classCounts",d)),"ngClass"!==t&&(r||(r=o("$index",function(t){return 1&t})),s.$watch(r,h)),s.$watch(o(u[t],i),function(t){if(x(t)||(t=i(t)),f===e){var r=t,a=p&&p.split(" "),o=r&&r.split(" "),r=n(a,o),a=n(o,a),r=c(r,-1),a=c(a,1);u.$addClass(a),u.$removeClass(r)}p=t})}}}]}function Zn(t,e,n,i,r,a,o,s,l){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(t),this.$$parentForm=ta,this.$options=Ra,this.$$parsedNgModel=r(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:t}),this.$$attr=n,this.$$element=i,this.$$animate=a,this.$$timeout=o,this.$$parse=r,this.$$q=s,this.$$exceptionHandler=e,In(this),Qn(this)}function Qn(t){t.$$scope.$watch(function(e){if(e=t.$$ngModelGet(e),e!==t.$modelValue&&(t.$modelValue===t.$modelValue||e===e)){t.$modelValue=t.$$rawModelValue=e,t.$$parserValid=void 0;for(var n=t.$formatters,i=n.length,r=e;i--;)r=n[i](r);t.$viewValue!==r&&(t.$$updateEmptyClasses(r),t.$viewValue=t.$$lastCommittedViewValue=r,t.$render(),t.$$runValidators(t.$modelValue,t.$viewValue,f))}return e})}function ti(t){this.$$options=t}function ei(t,e){a(e,function(e,n){S(t[n])||(t[n]=e)})}function ni(t,e){t.prop("selected",e),t.attr("selected",e)}var ii,ri,ai,oi,si=/^\/(.+)\/([a-z]*)$/,li=Object.prototype.hasOwnProperty,ui={objectMaxDepth:5},ci=function(t){return x(t)?t.toLowerCase():t},hi=function(t){return x(t)?t.toUpperCase():t},pi=[].slice,di=[].splice,fi=[].push,gi=Object.prototype.toString,mi=Object.getPrototypeOf,yi=e("ng"),vi=t.angular||(t.angular={}),Si=0;ii=t.document.documentMode;var Ti=Number.isNaN||function(t){return t!==t};f.$inject=[],g.$inject=[];var bi=Array.isArray,xi=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,Mi=function(t){return x(t)?t.trim():t},wi=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ai=function(){if(!S(Ai.rules)){var e=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");Ai.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{e=Ai;try{new Function(""),n=!1}catch(t){n=!0}e.rules={noUnsafeEval:n,noInlineStyle:!1}}}return Ai.rules},Ci=function(){if(S(Ci.name_))return Ci.name_;var e,n,i,r,a=Di.length;for(n=0;n<a;++n)if(i=Di[n],e=t.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=e.getAttribute(i+"jq");break}return Ci.name_=r},ki=/:/g,Di=["ng-","data-ng-","ng:","x-ng-"],$i=function(e){var n=e.currentScript;return!n||(n instanceof t.HTMLScriptElement||n instanceof t.SVGScriptElement)&&(n=n.attributes,[n.getNamedItem("src"),n.getNamedItem("href"),n.getNamedItem("xlink:href")].every(function(t){if(!t)return!0;if(!t.value)return!1;var n=e.createElement("a");if(n.href=t.value,e.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}))}(t.document),Pi=/[A-Z]/g,Ei=!1,Oi=3,_i={full:"1.6.4",major:1,minor:6,dot:4,codeName:"phenomenal-footnote"};St.expando="ng339";var Li=St.cache={},Ni=1;St._data=function(t){return this.cache[t[this.expando]]||{}};var Xi=/-([a-z])/g,Fi=/^-ms-/,Ii={mouseleave:"mouseout",mouseenter:"mouseover"},Ri=e("jqLite"),Hi=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,zi=/<|&#?\w+;/,Bi=/<([\w:-]+)/,Wi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Yi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Yi.optgroup=Yi.option,Yi.tbody=Yi.tfoot=Yi.colgroup=Yi.caption=Yi.thead,Yi.th=Yi.td;var Ui=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},Vi=St.prototype={ready:Nt,toString:function(){var t=[];return a(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return ri(0<=t?this[t]:this[this.length+t])},length:0,push:fi,sort:[].sort,splice:[].splice},ji={};a("multiple selected checked disabled readOnly required open".split(" "),function(t){ji[ci(t)]=t});var qi={};a("input select option textarea button form details".split(" "),function(t){qi[t]=!0});var Gi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};a({data:At,removeData:Mt,hasData:function(t){for(var e in Li[t.ng339])return!0;return!1},cleanData:function(t){for(var e=0,n=t.length;e<n;e++)Mt(t[e])}},function(t,e){St[e]=t}),a({data:At,inheritedData:Et,scope:function(t){return ri.data(t,"$scope")||Et(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return ri.data(t,"$isolateScope")||ri.data(t,"$isolateScopeNoTemplate")},controller:Pt,injector:function(t){return Et(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Ct,css:function(t,e,n){return e=mt(e.replace(Fi,"ms-")),S(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,n){var i=t.nodeType;if(i!==Oi&&2!==i&&8!==i&&t.getAttribute){var i=ci(e),r=ji[i];if(!S(n))return t=t.getAttribute(e),r&&null!==t&&(t=i),null===t?void 0:t;null===n||!1===n&&r?t.removeAttribute(e):t.setAttribute(e,r?i:n)}},prop:function(t,e,n){return S(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(v(e)){var n=t.nodeType;return 1===n||n===Oi?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(v(e)){if(t.multiple&&"select"===_(t)){var n=[];return a(t.options,function(t){t.selected&&n.push(t.value||t.text)}),n}return t.value}t.value=e},html:function(t,e){return v(e)?t.innerHTML:(bt(t,!0),void(t.innerHTML=e))},empty:Ot},function(t,e){St.prototype[e]=function(e,n){var i,r,a=this.length;if(t!==Ot&&v(2===t.length&&t!==Ct&&t!==Pt?e:n)){if(T(e)){for(i=0;i<a;i++)if(t===At)t(this[i],e);else for(r in e)t(this[i],r,e[r]);return this}for(i=t.$dv,a=v(i)?Math.min(a,1):a,r=0;r<a;r++){var o=t(this[r],e,n);i=i?i+o:o}return i}for(i=0;i<a;i++)t(this[i],e,n);return this}}),a({removeData:Mt,on:function(t,e,n,i){if(S(i))throw Ri("onargs");if(yt(t)){i=wt(t,!0);var r=i.events,a=i.handle;a||(a=i.handle=Ft(t,r)),i=0<=e.indexOf(" ")?e.split(" "):[e];for(var o=i.length,s=function(e,i,o){var s=r[e];s||(s=r[e]=[],s.specialHandlerWrapper=i,"$destroy"===e||o||t.addEventListener(e,a)),s.push(n)};o--;)e=i[o],Ii[e]?(s(Ii[e],Rt),s(e,void 0,!0)):s(e)}},off:xt,one:function(t,e,n){t=ri(t),t.on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,i=t.parentNode;bt(t),a(new St(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(t){var e=[];return a(t.childNodes,function(t){1===t.nodeType&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(1===n||11===n){e=new St(e);for(var n=0,i=e.length;n<i;n++)t.appendChild(e[n])}},prepend:function(t,e){if(1===t.nodeType){var n=t.firstChild;a(new St(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){var n=ri(e).eq(0).clone()[0],i=t.parentNode;i&&i.replaceChild(n,t),n.appendChild(t)},remove:_t,detach:function(t){_t(t,!0)},after:function(t,e){var n=t,i=t.parentNode;if(i){e=new St(e);for(var r=0,a=e.length;r<a;r++){var o=e[r];i.insertBefore(o,n.nextSibling),n=o}}},addClass:Dt,removeClass:kt,toggleClass:function(t,e,n){e&&a(e.split(" "),function(e){var i=n;v(i)&&(i=!Ct(t,e)),(i?Dt:kt)(t,e)})},parent:function(t){return(t=t.parentNode)&&11!==t.nodeType?t:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Tt,triggerHandler:function(t,e,n){var i,r,o=e.type||e,s=wt(t);(s=(s=s&&s.events)&&s[o])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:f,type:o,target:t},e.type&&(i=c(i,e)),e=pt(s),r=n?[i].concat(n):[i],a(e,function(e){i.isImmediatePropagationStopped()||e.apply(t,r)}))}},function(t,e){St.prototype[e]=function(e,n,i){for(var r,a=0,o=this.length;a<o;a++)v(r)?(r=t(this[a],e,n,i),S(r)&&(r=ri(r))):$t(r,t(this[a],e,n,i));return S(r)?r:this}}),St.prototype.bind=St.prototype.on,St.prototype.unbind=St.prototype.off;var Ji=Object.create(null);Bt.prototype={_idx:function(t){return t===this._lastKey?this._lastIndex:(this._lastKey=t,this._lastIndex=this._keys.indexOf(t))},_transformKey:function(t){return Ti(t)?Ji:t},get:function(t){if(t=this._transformKey(t),t=this._idx(t),-1!==t)return this._values[t]},set:function(t,e){t=this._transformKey(t);var n=this._idx(t);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=t,this._values[n]=e},delete:function(t){return t=this._transformKey(t),t=this._idx(t),-1!==t&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Ki=Bt,Zi=[function(){this.$get=[function(){return Ki}]}],Qi=/^([^(]+?)=>/,tr=/^[^(]*\(\s*([^)]*)\)/m,er=/,/,nr=/^\s*(_?)(\S+?)\1\s*$/,ir=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,rr=e("$injector");Ut.$$annotate=function(t,e,n){var i;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw x(n)&&n||(n=t.name||Yt(t)),rr("strictdi",n);e=Wt(t),a(e[1].split(er),function(t){t.replace(nr,function(t,e,n){i.push(n)})})}t.$inject=i}}else bi(t)?(e=t.length-1,at(t[e],"fn"),i=t.slice(0,e)):at(t,"fn",!0);return i};var ar=e("$animate"),or=function(){this.$get=f},sr=function(){var t=new Ki,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function r(t,e,n){var i=!1;return e&&(e=x(e)?e.split(" "):bi(e)?e:[],a(e,function(e){e&&(i=!0,t[e]=n)})),i}function o(){a(e,function(e){var n=t.get(e);if(n){var i=qt(e.attr("class")),r="",o="";a(n,function(t,e){t!==!!i[e]&&(t?r+=(r.length?" ":"")+e:o+=(o.length?" ":"")+e)}),a(e,function(t){r&&Dt(t,r),o&&kt(t,o)}),t.delete(e)}}),e.length=0}return{enabled:f,on:f,off:f,pin:f,push:function(a,s,l,u){return u&&u(),l=l||{},l.from&&a.css(l.from),l.to&&a.css(l.to),(l.addClass||l.removeClass)&&(s=l.addClass,u=l.removeClass,l=t.get(a)||{},s=r(l,s,!0),u=r(l,u,!1),(s||u)&&(t.set(a,l),e.push(a),1===e.length&&i.$$postDigest(o))),a=new n,a.complete(),a}}}]},lr=["$provide",function(t){var e=this,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw ar("notcsel",n);var r=n+"-animation";e.$$registeredAnimations[n.substr(1)]=r,t.factory(r,i)},this.classNameFilter=function(t){if(1===arguments.length&&(n=t instanceof RegExp?t:null)&&/[(\s|\/)]ng-animate[(\s|\/)]/.test(n.toString()))throw n=null,ar("nongcls","ng-animate");return n},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var i;t:{for(i=0;i<n.length;i++){var r=n[i];if(1===r.nodeType){i=r;break t}}i=void 0}!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,i,r,a){return i=i&&ri(i),r=r&&ri(r),i=i||r.parent(),e(n,i,r),t.push(n,"enter",Gt(a))},move:function(n,i,r,a){return i=i&&ri(i),r=r&&ri(r),i=i||r.parent(),e(n,i,r),t.push(n,"move",Gt(a))},leave:function(e,n){return t.push(e,"leave",Gt(n),function(){e.remove()})},addClass:function(e,n,i){return i=Gt(i),i.addClass=jt(i.addclass,n),t.push(e,"addClass",i)},removeClass:function(e,n,i){return i=Gt(i),i.removeClass=jt(i.removeClass,n),t.push(e,"removeClass",i)},setClass:function(e,n,i,r){return r=Gt(r),r.addClass=jt(r.addClass,n),r.removeClass=jt(r.removeClass,i),t.push(e,"setClass",r)},animate:function(e,n,i,r,a){return a=Gt(a),a.from=a.from?c(a.from,n):n,a.to=a.to?c(a.to,i):i,a.tempClasses=jt(a.tempClasses,r||"ng-inline-animate"),t.push(e,"animate",a)}}}]}],ur=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),1<n.length||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},cr=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,i,r){function o(t){this.setHost(t);var e=n();this._doneCallbacks=[],this._tick=function(t){i()?r(t,0,!1):e(t)},this._state=0}return o.chain=function(t,e){function n(){i===t.length?e(!0):t[i](function(t){!1===t?e(!1):(i++,n())})}var i=0;n()},o.all=function(t,e){function n(n){r=r&&n,++i===t.length&&e(r)}var i=0,r=!0;a(t,function(t){t.done(n)})},o.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:f,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){!1===e?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick(function(){e._resolve(t)}))},_resolve:function(t){2!==this._state&&(a(this._doneCallbacks,function(e){
e(t)}),this._doneCallbacks.length=0,this._state=2)}},o}]},hr=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,i){function r(){return t(function(){a.addClass&&(e.addClass(a.addClass),a.addClass=null),a.removeClass&&(e.removeClass(a.removeClass),a.removeClass=null),a.to&&(e.css(a.to),a.to=null),o||s.complete(),o=!0}),s}var a=i||{};a.$$prepared||(a=N(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(e.css(a.from),a.from=null);var o,s=new n;return{start:r,end:r}}}]},pr=e("$compile"),dr=new function(){};te.$inject=["$provide","$$sanitizeUriProvider"],ee.prototype.isFirstChange=function(){return this.previousValue===dr};var fr=/^((?:x|data)[:\-_])/i,gr=/[:\-_]+(.)/g,mr=e("$controller"),yr=/^(\S+)(\s+as\s+([\w$]+))?$/,vr=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof ri&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},Sr="application/json",Tr={"Content-Type":Sr+";charset=utf-8"},br=/^\[|^\{(?!\{)/,xr={"[":/]$/,"{":/}$/},Mr=/^\)]\}',?\n/,wr=e("$http"),Ar=vi.$interpolateMinErr=e("$interpolate");Ar.throwNoconcat=function(t){throw Ar("noconcat",t)},Ar.interr=function(t,e){return Ar("interr",t,e.toString())};var Cr=function(){this.$get=function(){function t(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}var e=vi.callbacks,n={};return{createCallback:function(i){i="_"+(e.$$counter++).toString(36);var r="angular.callbacks."+i,a=t(i);return n[r]=e[i]=a,r},wasCalled:function(t){return n[t].called},getResponse:function(t){return n[t].data},removeCallback:function(t){delete e[n[t].id],delete n[t]}}}},kr=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Dr={http:80,https:443,ftp:21},$r=e("$location"),Pr=/^\s*[\\/]{2,}/,Er={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:_e("$$absUrl"),url:function(t){if(v(t))return this.$$url;var e=kr.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:_e("$$protocol"),host:_e("$$host"),port:_e("$$port"),path:Le("$$path",function(t){return t=null!==t?t.toString():"","/"===t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(x(t)||M(t))t=t.toString(),this.$$search=j(t);else{if(!T(t))throw $r("isrcharg");t=N(t,{}),a(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:v(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Le("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};a([Oe,Ee,Pe],function(t){t.prototype=Object.create(Er),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Pe||!this.$$html5)throw $r("nostate");return this.$$state=v(e)?null:e,this.$$urlUpdatedByLocation=!0,this}});var Or=e("$parse"),_r={}.constructor.prototype.valueOf,Lr=ut();a("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Lr[t]=!0});var Nr={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Xr=function(t){this.options=t};Xr.prototype={constructor:Xr,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;)if(t=this.text.charAt(this.index),'"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var e=t+this.peek(),n=e+this.peek(2),i=Lr[e],r=Lr[n];Lr[t]||i||r?(t=r?n:i?e:t,this.tokens.push({index:this.index,text:t,operator:!0}),this.index+=t.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){return t=t||1,this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(t){return"0"<=t&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||""===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&"z">=t||"A"<=t&&"Z">=t||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),i=e.charCodeAt(0);return 55296<=n&&56319>=n&&56320<=i&&57343>=i?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){throw n=n||this.index,e=S(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n,Or("lexerr",t,e,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=ci(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var a=this.text.charAt(this.index),i=i+a;if(r)"u"===a?(r=this.text.substring(this.index+1,this.index+5),r.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))):n+=Nr[a]||a,r=!1;else if("\\"===a)r=!0;else{if(a===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=a}this.index++}this.throwError("Unterminated quote",e)}};var Fr=function(t,e){this.lexer=t,this.options=e};Fr.Program="Program",Fr.ExpressionStatement="ExpressionStatement",Fr.AssignmentExpression="AssignmentExpression",Fr.ConditionalExpression="ConditionalExpression",Fr.LogicalExpression="LogicalExpression",Fr.BinaryExpression="BinaryExpression",Fr.UnaryExpression="UnaryExpression",Fr.CallExpression="CallExpression",Fr.MemberExpression="MemberExpression",Fr.Identifier="Identifier",Fr.Literal="Literal",Fr.ArrayExpression="ArrayExpression",Fr.Property="Property",Fr.ObjectExpression="ObjectExpression",Fr.ThisExpression="ThisExpression",Fr.LocalsExpression="LocalsExpression",Fr.NGValueParameter="NGValueParameter",Fr.prototype={ast:function(t){return this.text=t,this.tokens=this.lexer.lex(t),t=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var t=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Fr.Program,body:t}},expressionStatement:function(){return{type:Fr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!Be(t))throw Or("lval");t={type:Fr.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Fr.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Fr.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Fr.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Fr.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Fr.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Fr.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Fr.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Fr.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=N(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Fr.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:Fr.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Fr.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Fr.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){t=[t];for(var e={type:Fr.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return e},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Fr.Identifier,name:t.text}},constant:function(){return{type:Fr.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Fr.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Fr.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Fr.ObjectExpression,properties:e}},throwError:function(t,e){throw Or("syntax",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw Or("ueoe",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw Or("ueoe",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){t=this.tokens[t];var a=t.text;if(a===e||a===n||a===i||a===r||!(e||n||i||r))return t}return!1},expect:function(t,e,n,i){return!!(t=this.peek(t,e,n,i))&&(this.tokens.shift(),t)},selfReferential:{this:{type:Fr.ThisExpression},$locals:{type:Fr.LocalsExpression}}},Ye.prototype={compile:function(t){var e=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},He(t,e.$filter);var n,i="";return this.stage="assign",(n=We(t))&&(this.state.computing="assign",i=this.nextId(),this.recurse(n,i),this.return_(i),i="fn.assign="+this.generateFunction("assign","s,v,l")),n=ze(t.body),e.stage="inputs",a(n,function(t,n){var i="fn"+n;e.state[i]={vars:[],body:[],own:{}},e.state.computing=i;var r=e.nextId();e.recurse(t,r),e.return_(r),e.state.inputs.push(i),t.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(t),t='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+i+this.watchFns()+"return fn;",t=new Function("$filter","getStringValue","ifDefined","plus",t)(this.$filter,Fe,Ie,Re),this.state=this.stage=void 0,t},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return a(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return a(this.state.filters,function(n,i){t.push(n+"=$filter("+e.escape(i)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,i,r,o){var s,l,u,c,h,p=this;if(i=i||f,!o&&S(t.watchId))e=e||this.nextId(),this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,i,r,!0));else switch(t.type){case Fr.Program:a(t.body,function(e,n){p.recurse(e.expression,void 0,void 0,function(t){l=t}),n!==t.body.length-1?p.current().body.push(l,";"):p.return_(l)});break;case Fr.Literal:c=this.escape(t.value),this.assign(e,c),i(e||c);break;case Fr.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){l=t}),c=t.operator+"("+this.ifDefined(l,0)+")",this.assign(e,c),i(c);break;case Fr.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){s=t}),this.recurse(t.right,void 0,void 0,function(t){l=t}),c="+"===t.operator?this.plus(s,l):"-"===t.operator?this.ifDefined(s,0)+t.operator+this.ifDefined(l,0):"("+s+")"+t.operator+"("+l+")",this.assign(e,c),i(c);break;case Fr.LogicalExpression:e=e||this.nextId(),p.recurse(t.left,e),p.if_("&&"===t.operator?e:p.not(e),p.lazyRecurse(t.right,e)),i(e);break;case Fr.ConditionalExpression:e=e||this.nextId(),p.recurse(t.test,e),p.if_(e,p.lazyRecurse(t.alternate,e),p.lazyRecurse(t.consequent,e)),i(e);break;case Fr.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",t.name)),function(){p.if_("inputs"===p.stage||"s",function(){r&&1!==r&&p.if_(p.isNull(p.nonComputedMember("s",t.name)),p.lazyAssign(p.nonComputedMember("s",t.name),"{}")),p.assign(e,p.nonComputedMember("s",t.name))})},e&&p.lazyAssign(e,p.nonComputedMember("l",t.name))),i(e);break;case Fr.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),p.recurse(t.object,s,void 0,function(){p.if_(p.notNull(s),function(){t.computed?(l=p.nextId(),p.recurse(t.property,l),p.getStringValue(l),r&&1!==r&&p.if_(p.not(p.computedMember(s,l)),p.lazyAssign(p.computedMember(s,l),"{}")),c=p.computedMember(s,l),p.assign(e,c),n&&(n.computed=!0,n.name=l)):(r&&1!==r&&p.if_(p.isNull(p.nonComputedMember(s,t.property.name)),p.lazyAssign(p.nonComputedMember(s,t.property.name),"{}")),c=p.nonComputedMember(s,t.property.name),p.assign(e,c),n&&(n.computed=!1,n.name=t.property.name))},function(){p.assign(e,"undefined")}),i(e)},!!r);break;case Fr.CallExpression:e=e||this.nextId(),t.filter?(l=p.filter(t.callee.name),u=[],a(t.arguments,function(t){var e=p.nextId();p.recurse(t,e),u.push(e)}),c=l+"("+u.join(",")+")",p.assign(e,c),i(e)):(l=p.nextId(),s={},u=[],p.recurse(t.callee,l,s,function(){p.if_(p.notNull(l),function(){a(t.arguments,function(e){p.recurse(e,t.constant?void 0:p.nextId(),void 0,function(t){u.push(t)})}),c=s.name?p.member(s.context,s.name,s.computed)+"("+u.join(",")+")":l+"("+u.join(",")+")",p.assign(e,c)},function(){p.assign(e,"undefined")}),i(e)}));break;case Fr.AssignmentExpression:l=this.nextId(),s={},this.recurse(t.left,void 0,s,function(){p.if_(p.notNull(s.context),function(){p.recurse(t.right,l),c=p.member(s.context,s.name,s.computed)+t.operator+l,p.assign(e,c),i(e||c)})},1);break;case Fr.ArrayExpression:u=[],a(t.elements,function(e){p.recurse(e,t.constant?void 0:p.nextId(),void 0,function(t){u.push(t)})}),c="["+u.join(",")+"]",this.assign(e,c),i(e||c);break;case Fr.ObjectExpression:u=[],h=!1,a(t.properties,function(t){t.computed&&(h=!0)}),h?(e=e||this.nextId(),this.assign(e,"{}"),a(t.properties,function(t){t.computed?(s=p.nextId(),p.recurse(t.key,s)):s=t.key.type===Fr.Identifier?t.key.name:""+t.key.value,l=p.nextId(),p.recurse(t.value,l),p.assign(p.member(e,s,t.computed),l)})):(a(t.properties,function(e){p.recurse(e.value,t.constant?void 0:p.nextId(),void 0,function(t){u.push(p.escape(e.key.type===Fr.Identifier?e.key.name:""+e.key.value)+":"+t)})}),c="{"+u.join(",")+"}",this.assign(e,c)),i(e||c);break;case Fr.ThisExpression:this.assign(e,"s"),i(e||"s");break;case Fr.LocalsExpression:this.assign(e,"l"),i(e||"l");break;case Fr.NGValueParameter:this.assign(e,"v"),i(e||"v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var n=/[^$_a-zA-Z0-9]/g;return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?t+"."+e:t+'["'+e.replace(n,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,n,i,r,a){var o=this;return function(){o.recurse(t,e,n,i,r,a)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(x(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(M(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw Or("esc")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},Ue.prototype={compile:function(t){var e=this;He(t,e.$filter);var n,i;(n=We(t))&&(i=this.recurse(n)),n=ze(t.body);var r;n&&(r=[],a(n,function(t,n){var i=e.recurse(t);t.input=i,r.push(i),t.watchId=n}));var o=[];return a(t.body,function(t){o.push(e.recurse(t.expression))}),t=0===t.body.length?f:1===t.body.length?o[0]:function(t,e){var n;return a(o,function(i){n=i(t,e)}),n},i&&(t.assign=function(t,e,n){return i(t,n,e)}),r&&(t.inputs=r),t},recurse:function(t,e,n){var i,r,o,s=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Fr.Literal:return this.value(t.value,e);case Fr.UnaryExpression:return r=this.recurse(t.argument),this["unary"+t.operator](r,e);case Fr.BinaryExpression:return i=this.recurse(t.left),r=this.recurse(t.right),this["binary"+t.operator](i,r,e);case Fr.LogicalExpression:return i=this.recurse(t.left),r=this.recurse(t.right),this["binary"+t.operator](i,r,e);case Fr.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Fr.Identifier:return s.identifier(t.name,e,n);case Fr.MemberExpression:return i=this.recurse(t.object,!1,!!n),t.computed||(r=t.property.name),t.computed&&(r=this.recurse(t.property)),t.computed?this.computedMember(i,r,e,n):this.nonComputedMember(i,r,e,n);case Fr.CallExpression:return o=[],a(t.arguments,function(t){o.push(s.recurse(t))}),t.filter&&(r=this.$filter(t.callee.name)),t.filter||(r=this.recurse(t.callee,!0)),t.filter?function(t,n,i,a){for(var s=[],l=0;l<o.length;++l)s.push(o[l](t,n,i,a));return t=r.apply(void 0,s,a),e?{context:void 0,name:void 0,value:t}:t}:function(t,n,i,a){var s,l=r(t,n,i,a);if(null!=l.value){s=[];for(var u=0;u<o.length;++u)s.push(o[u](t,n,i,a));s=l.value.apply(l.context,s)}return e?{value:s}:s};case Fr.AssignmentExpression:return i=this.recurse(t.left,!0,1),r=this.recurse(t.right),function(t,n,a,o){var s=i(t,n,a,o);return t=r(t,n,a,o),s.context[s.name]=t,e?{value:t}:t};case Fr.ArrayExpression:return o=[],a(t.elements,function(t){o.push(s.recurse(t))}),function(t,n,i,r){for(var a=[],s=0;s<o.length;++s)a.push(o[s](t,n,i,r));return e?{value:a}:a};case Fr.ObjectExpression:return o=[],a(t.properties,function(t){t.computed?o.push({key:s.recurse(t.key),computed:!0,value:s.recurse(t.value)}):o.push({key:t.key.type===Fr.Identifier?t.key.name:""+t.key.value,computed:!1,value:s.recurse(t.value)})}),function(t,n,i,r){for(var a={},s=0;s<o.length;++s)o[s].computed?a[o[s].key(t,n,i,r)]=o[s].value(t,n,i,r):a[o[s].key]=o[s].value(t,n,i,r);return e?{value:a}:a};case Fr.ThisExpression:return function(t){return e?{value:t}:t};case Fr.LocalsExpression:return function(t,n){return e?{value:n}:n};case Fr.NGValueParameter:return function(t,n,i){return e?{value:i}:i}}},"unary+":function(t,e){return function(n,i,r,a){return n=t(n,i,r,a),n=S(n)?+n:0,e?{value:n}:n}},"unary-":function(t,e){return function(n,i,r,a){return n=t(n,i,r,a),n=S(n)?-n:-0,e?{value:n}:n}},"unary!":function(t,e){return function(n,i,r,a){return n=!t(n,i,r,a),e?{value:n}:n}},"binary+":function(t,e,n){return function(i,r,a,o){var s=t(i,r,a,o);return i=e(i,r,a,o),s=Re(s,i),n?{value:s}:s}},"binary-":function(t,e,n){return function(i,r,a,o){var s=t(i,r,a,o);return i=e(i,r,a,o),s=(S(s)?s:0)-(S(i)?i:0),n?{value:s}:s}},"binary*":function(t,e,n){return function(i,r,a,o){return i=t(i,r,a,o)*e(i,r,a,o),n?{value:i}:i}},"binary/":function(t,e,n){return function(i,r,a,o){return i=t(i,r,a,o)/e(i,r,a,o),n?{value:i}:i}},"binary%":function(t,e,n){return function(i,r,a,o){return i=t(i,r,a,o)%e(i,r,a,o),n?{value:i}:i}},"binary===":function(t,e,n){return function(i,r,a,o){return i=t(i,r,a,o)===e(i,r,a,o),n?{value:i}:i}},"binary!==":function(t,e,n){return function(i,r,a,o){return i=t(i,r,a,o)!==e(i,r,a,o),n?{value:i}:i}},"binary==":function(t,e,n){return function(i,r,a,o){return i=t(i,r,a,o)==e(i,r,a,o),n?{value:i}:i}},"binary!=":function(t,e,n){return function(i,r,a,o){return i=t(i,r,a,o)!=e(i,r,a,o),n?{value:i}:i}},"binary<":function(t,e,n){return function(i,r,a,o){return i=t(i,r,a,o)<e(i,r,a,o),n?{value:i}:i}},"binary>":function(t,e,n){return function(i,r,a,o){return i=t(i,r,a,o)>e(i,r,a,o),n?{value:i}:i}},"binary<=":function(t,e,n){return function(i,r,a,o){return i=t(i,r,a,o)<=e(i,r,a,o),n?{value:i}:i}},"binary>=":function(t,e,n){return function(i,r,a,o){return i=t(i,r,a,o)>=e(i,r,a,o),n?{value:i}:i}},"binary&&":function(t,e,n){return function(i,r,a,o){return i=t(i,r,a,o)&&e(i,r,a,o),n?{value:i}:i}},"binary||":function(t,e,n){return function(i,r,a,o){return i=t(i,r,a,o)||e(i,r,a,o),n?{value:i}:i}},"ternary?:":function(t,e,n,i){return function(r,a,o,s){return r=t(r,a,o,s)?e(r,a,o,s):n(r,a,o,s),i?{value:r}:r}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n){return function(i,r,a,o){return i=r&&t in r?r:i,n&&1!==n&&i&&null==i[t]&&(i[t]={}),r=i?i[t]:void 0,e?{context:i,name:t,value:r}:r}},computedMember:function(t,e,n,i){return function(r,a,o,s){var l,u,c=t(r,a,o,s);return null!=c&&(l=e(r,a,o,s),l+="",i&&1!==i&&c&&!c[l]&&(c[l]={}),u=c[l]),n?{context:c,name:l,value:u}:u}},nonComputedMember:function(t,e,n,i){return function(r,a,o,s){return r=t(r,a,o,s),i&&1!==i&&r&&null==r[e]&&(r[e]={}),a=null!=r?r[e]:void 0,n?{context:r,name:e,value:a}:a}},inputs:function(t,e){return function(n,i,r,a){return a?a[e]:t(n,i,r)}}},Ve.prototype={constructor:Ve,parse:function(t){t=this.ast.ast(t);var e=this.astCompiler.compile(t);return e.literal=0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Fr.Literal||t.body[0].expression.type===Fr.ArrayExpression||t.body[0].expression.type===Fr.ObjectExpression),e.constant=t.constant,e}};var Ir=e("$sce"),Rr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Hr=/_([a-z])/g,zr=e("$compile"),Br=t.document.createElement("a"),Wr=cn(t.location.href);dn.$inject=["$document"],gn.$inject=["$provide"];var Yr=22,Ur=".",Vr="0";Tn.$inject=["$locale"],bn.$inject=["$locale"];var jr={yyyy:Cn("FullYear",4,0,!1,!0),yy:Cn("FullYear",2,0,!0,!0),y:Cn("FullYear",1,0,!1,!0),MMMM:kn("Month"),MMM:kn("Month",!0),MM:Cn("Month",2,1),M:Cn("Month",1,1),LLLL:kn("Month",!1,!0),dd:Cn("Date",2),d:Cn("Date",1),HH:Cn("Hours",2),H:Cn("Hours",1),hh:Cn("Hours",2,-12),h:Cn("Hours",1,-12),mm:Cn("Minutes",2),m:Cn("Minutes",1),ss:Cn("Seconds",2),s:Cn("Seconds",1),sss:Cn("Milliseconds",3),EEEE:kn("Day"),EEE:kn("Day",!0),a:function(t,e){return 12>t.getHours()?e.AMPMS[0]:e.AMPMS[1]},Z:function(t,e,n){return t=-1*n,t=(0<=t?"+":"")+(An(Math[0<t?"floor":"ceil"](t/60),2)+An(Math.abs(t%60),2))},ww:$n(2),w:$n(1),G:Pn,GG:Pn,GGG:Pn,GGGG:function(t,e){return 0>=t.getFullYear()?e.ERANAMES[0]:e.ERANAMES[1]}},qr=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Gr=/^-?\d+$/;En.$inject=["$locale"];var Jr=m(ci),Kr=m(hi);Nn.$inject=["$parse"];var Zr=m({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===gi.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Qr={};a(ji,function(t,e){function n(t,n,r){t.$watch(r[i],function(t){r.$set(e,!!t)})}if("multiple"!==t){var i=ne("ng-"+e),r=n;"checked"===t&&(r=function(t,e,r){r.ngModel!==r[i]&&n(t,e,r)}),Qr[i]=function(){return{restrict:"A",priority:100,link:r}}}}),a(Gi,function(t,e){Qr[e]=function(){return{priority:100,link:function(t,n,i){return"ngPattern"===e&&"/"===i.ngPattern.charAt(0)&&(n=i.ngPattern.match(si))?void i.$set("ngPattern",new RegExp(n[1],n[2])):void t.$watch(i[e],function(t){i.$set(e,t)})}}}}),a(["src","srcset","href"],function(t){var e=ne("ng-"+t);Qr[e]=function(){return{priority:99,link:function(n,i,r){var a=t,o=t;"href"===t&&"[object SVGAnimatedString]"===gi.call(i.prop("href"))&&(o="xlinkHref",r.$attr[o]="xlink:href",a=null),r.$observe(e,function(e){e?(r.$set(o,e),ii&&a&&i.prop(a,r[o])):"href"===t&&r.$set(o,null)})}}}});var ta={$addControl:f,$$renameControl:function(t,e){t.$name=e},$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f};Fn.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Fn.prototype={$rollbackViewValue:function(){a(this.$$controls,function(t){t.$rollbackViewValue()})},$commitViewValue:function(){a(this.$$controls,function(t){t.$commitViewValue()})},$addControl:function(t){ot(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$$renameControl:function(t,e){var n=t.$name;this[n]===t&&delete this[n],this[e]=t,t.$name=e},$removeControl:function(t){t.$name&&this[t.$name]===t&&delete this[t.$name],a(this.$pending,function(e,n){this.$setValidity(n,null,t)},this),a(this.$error,function(e,n){this.$setValidity(n,null,t)},this),a(this.$$success,function(e,n){this.$setValidity(n,null,t)},this),L(this.$$controls,t),t.$$parentForm=ta},$setDirty:function(){this.$$animate.removeClass(this.$$element,Xa),this.$$animate.addClass(this.$$element,Fa),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Xa,Fa+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,a(this.$$controls,function(t){t.$setPristine()})},$setUntouched:function(){a(this.$$controls,function(t){t.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},Rn({clazz:Fn,set:function(t,e,n){var i=t[e];i?-1===i.indexOf(n)&&i.push(n):t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(L(i,n),0===i.length&&delete t[e])}});var ea=function(t){return["$timeout","$parse",function(e,n){function i(t){return""===t?n('this[""]').assign:n(t).assign||f}return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:Fn,compile:function(n,r){n.addClass(Xa).addClass(La);var a=r.name?"name":!(!t||!r.ngForm)&&"ngForm";return{pre:function(t,n,r,o){var s=o[0];if(!("action"in r)){var l=function(e){t.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),e.preventDefault()};n[0].addEventListener("submit",l),n.on("$destroy",function(){e(function(){n[0].removeEventListener("submit",l)},0,!1)})}(o[1]||s.$$parentForm).$addControl(s);var u=a?i(s.$name):f;a&&(u(t,s),r.$observe(a,function(e){s.$name!==e&&(u(t,void 0),s.$$parentForm.$$renameControl(s,e),(u=i(s.$name))(t,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),u(t,void 0),c(s,ta)})}}}}}]},na=ea(),ia=ea(!0),ra=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,aa=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,oa=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,sa=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,la=/^(\d{4,})-(\d{2})-(\d{2})$/,ua=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ca=/^(\d{4,})-W(\d\d)$/,ha=/^(\d{4,})-(\d\d)$/,pa=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,da=ut();a(["date","datetime-local","month","time","week"],function(t){da[t]=!0});var fa={text:function(t,e,n,i,r,a){Bn(t,e,n,i,r,a),zn(i)},date:Yn("date",la,Wn(la,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Yn("datetimelocal",ua,Wn(ua,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:Yn("time",pa,Wn(pa,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Yn("week",ca,function(t,e){if(w(t))return t;if(x(t)){ca.lastIndex=0;var n=ca.exec(t);if(n){var i=+n[1],r=+n[2],a=n=0,o=0,s=0,l=Dn(i),r=7*(r-1);return e&&(n=e.getHours(),a=e.getMinutes(),o=e.getSeconds(),s=e.getMilliseconds()),new Date(i,0,l.getDate()+r,n,a,o,s)}}return NaN},"yyyy-Www"),month:Yn("month",ha,Wn(ha,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,n,i,r,a){Un(t,e,n,i),Vn(i),Bn(t,e,n,i,r,a);var o,s;if((S(n.min)||n.ngMin)&&(i.$validators.min=function(t){return i.$isEmpty(t)||v(o)||t>=o},n.$observe("min",function(t){o=jn(t),i.$validate()})),(S(n.max)||n.ngMax)&&(i.$validators.max=function(t){return i.$isEmpty(t)||v(s)||t<=s},n.$observe("max",function(t){s=jn(t),i.$validate()})),S(n.step)||n.ngStep){var l;i.$validators.step=function(t,e){return i.$isEmpty(e)||v(l)||Gn(e,o||0,l)},n.$observe("step",function(t){l=jn(t),i.$validate()})}},url:function(t,e,n,i,r,a){Bn(t,e,n,i,r,a),zn(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||aa.test(n)}},email:function(t,e,n,i,r,a){Bn(t,e,n,i,r,a),
zn(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||oa.test(n)}},radio:function(t,e,n,i){var r=!n.ngTrim||"false"!==Mi(n.ngTrim);v(n.name)&&e.attr("name",++Si),e.on("click",function(t){var a;e[0].checked&&(a=n.value,r&&(a=Mi(a)),i.$setViewValue(a,t&&t.type))}),i.$render=function(){var t=n.value;r&&(t=Mi(t)),e[0].checked=t===i.$viewValue},n.$observe("value",i.$render)},range:function(t,e,n,i,r,a){function o(t,i){e.attr(t,n[t]),n.$observe(t,i)}function s(t){h=jn(t),Ti(i.$modelValue)||(c?(t=e.val(),h>t&&(t=h,e.val(t)),i.$setViewValue(t)):i.$validate())}function l(t){p=jn(t),Ti(i.$modelValue)||(c?(t=e.val(),p<t&&(e.val(p),t=p<h?h:p),i.$setViewValue(t)):i.$validate())}function u(t){d=jn(t),Ti(i.$modelValue)||(c&&i.$viewValue!==e.val()?i.$setViewValue(e.val()):i.$validate())}Un(t,e,n,i),Vn(i),Bn(t,e,n,i,r,a);var c=i.$$hasNativeValidators&&"range"===e[0].type,h=c?0:void 0,p=c?100:void 0,d=c?1:void 0,f=e[0].validity;t=S(n.min),r=S(n.max),a=S(n.step);var g=i.$render;i.$render=c&&S(f.rangeUnderflow)&&S(f.rangeOverflow)?function(){g(),i.$setViewValue(e.val())}:g,t&&(i.$validators.min=c?function(){return!0}:function(t,e){return i.$isEmpty(e)||v(h)||e>=h},o("min",s)),r&&(i.$validators.max=c?function(){return!0}:function(t,e){return i.$isEmpty(e)||v(p)||e<=p},o("max",l)),a&&(i.$validators.step=c?function(){return!f.stepMismatch}:function(t,e){return i.$isEmpty(e)||v(d)||Gn(e,h||0,d)},o("step",u))},checkbox:function(t,e,n,i,r,a,o,s){var l=Jn(s,t,"ngTrueValue",n.ngTrueValue,!0),u=Jn(s,t,"ngFalseValue",n.ngFalseValue,!1);e.on("click",function(t){i.$setViewValue(e[0].checked,t&&t.type)}),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return!1===t},i.$formatters.push(function(t){return F(t,l)}),i.$parsers.push(function(t){return t?l:u})},hidden:f,button:f,submit:f,reset:f,file:f},ga=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,a,o,s){s[0]&&(fa[ci(o.type)]||fa.text)(r,a,o,s[0],e,t,n,i)}}}}],ma=/^(true|false|\d+)$/,ya=function(){function t(t,e,n){var i=S(n)?n:9===ii?"":null;t.prop("value",i),e.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,n){return ma.test(n.ngValue)?function(e,n,i){e=e.$eval(i.ngValue),t(n,i,e)}:function(e,n,i){e.$watch(i.ngValue,function(e){t(n,i,e)})}}}},va=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,i){t.$$addBindingInfo(n,i.ngBind),n=n[0],e.$watch(i.ngBind,function(t){n.textContent=ct(t)})}}}}],Sa=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,i,r){n=t(i.attr(r.$attr.ngBindTemplate)),e.$$addBindingInfo(i,n.expressions),i=i[0],r.$observe("ngBindTemplate",function(t){i.textContent=v(t)?"":t})}}}}],Ta=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var a=e(r.ngBindHtml),o=e(r.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(o,function(){var n=a(e);i.html(t.getTrustedHtml(n)||"")})}}}}],ba=m({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),xa=Kn("",!0),Ma=Kn("Odd",0),wa=Kn("Even",1),Aa=Xn({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),Ca=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ka={},Da={blur:!0,focus:!0};a("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=ne("ng-"+t);ka[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,a){var o=n(a[e]);return function(e,n){n.on(t,function(n){var r=function(){o(e,{$event:n})};Da[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var $a=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,a,o){var s,l,u;n.$watch(r.ngIf,function(n){n?l||o(function(n,a){l=a,n[n.length++]=e.$$createComment("end ngIf",r.ngIf),s={clone:n},t.enter(n,i.parent(),i)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=lt(s.clone),t.leave(u).done(function(t){!1!==t&&(u=null)}),s=null))})}}}],Pa=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:vi.noop,compile:function(i,r){var a=r.ngInclude||r.src,o=r.onload||"",s=r.autoscroll;return function(i,r,l,u,c){var h,p,d,f=0,g=function(){p&&(p.remove(),p=null),h&&(h.$destroy(),h=null),d&&(n.leave(d).done(function(t){!1!==t&&(p=null)}),p=d,d=null)};i.$watch(a,function(a){var l=function(t){!1===t||!S(s)||s&&!i.$eval(s)||e()},p=++f;a?(t(a,!0).then(function(t){if(!i.$$destroyed&&p===f){var e=i.$new();u.template=t,t=c(e,function(t){g(),n.enter(t,null,r).done(l)}),h=e,d=t,h.$emit("$includeContentLoaded",a),i.$eval(o)}},function(){i.$$destroyed||p!==f||(g(),i.$emit("$includeContentError",a))}),i.$emit("$includeContentRequested",a)):(g(),u.template=null)})}}}}],Ea=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,a){gi.call(i[0]).match(/SVG/)?(i.empty(),e(vt(a.template,t.document).childNodes)(n,function(t){i.append(t)},{futureParentElement:i})):(i.html(a.template),e(i.contents())(n))}}}],Oa=Xn({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),_a=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,i){var r=n.ngList||", ",o="false"!==n.ngTrim,s=o?Mi(r):r;i.$parsers.push(function(t){if(!v(t)){var e=[];return t&&a(t.split(s),function(t){t&&e.push(o?Mi(t):t)}),e}}),i.$formatters.push(function(t){if(bi(t))return t.join(r)}),i.$isEmpty=function(t){return!t||!t.length}}}},La="ng-valid",Na="ng-invalid",Xa="ng-pristine",Fa="ng-dirty",Ia=e("ngModel");Zn.$inject="$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" "),Zn.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var t=this.$$parse(this.$$attr.ngModel+"()"),e=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var n=this.$$parsedNgModel(e);return A(n)&&(n=t(e)),n},this.$$ngModelSet=function(t,n){A(this.$$parsedNgModel(t))?e(t,{$$$p:n}):this.$$parsedNgModelAssign(t,n)}}else if(!this.$$parsedNgModel.assign)throw Ia("nonassign",this.$$attr.ngModel,U(this.$$element))},$render:f,$isEmpty:function(t){return v(t)||""===t||null===t||t!==t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Fa),this.$$animate.addClass(this.$$element,Xa)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Xa),this.$$animate.addClass(this.$$element,Fa),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!Ti(this.$modelValue)){var t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,n=this.$valid,i=this.$modelValue,r=this.$options.getOption("allowInvalid"),a=this;this.$$runValidators(e,t,function(t){r||n===t||(a.$modelValue=t?e:void 0,a.$modelValue!==i&&a.$$writeModelToScope())})}},$$runValidators:function(t,e,n){function i(){var n=!0;return a(u.$validators,function(i,r){var a=Boolean(i(t,e));n=n&&a,o(r,a)}),!!n||(a(u.$asyncValidators,function(t,e){o(e,null)}),!1)}function r(){var n=[],i=!0;a(u.$asyncValidators,function(r,a){var s=r(t,e);if(!s||!A(s.then))throw Ia("nopromise",s);o(a,void 0),n.push(s.then(function(){o(a,!0)},function(){i=!1,o(a,!1)}))}),n.length?u.$$q.all(n).then(function(){s(i)},f):s(!0)}function o(t,e){l===u.$$currentValidationRunId&&u.$setValidity(t,e)}function s(t){l===u.$$currentValidationRunId&&n(t)}this.$$currentValidationRunId++;var l=this.$$currentValidationRunId,u=this;(function(){var t=u.$$parserName||"parse";return v(u.$$parserValid)?(o(t,null),!0):(u.$$parserValid||(a(u.$validators,function(t,e){o(e,null)}),a(u.$asyncValidators,function(t,e){o(e,null)})),o(t,u.$$parserValid),u.$$parserValid)})()&&i()?r():s(!1)},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var t=this.$$lastCommittedViewValue,e=this;if(this.$$parserValid=!v(t)||void 0)for(var n=0;n<this.$parsers.length;n++)if(t=this.$parsers[n](t),v(t)){this.$$parserValid=!1;break}Ti(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var i=this.$modelValue,r=this.$options.getOption("allowInvalid");this.$$rawModelValue=t,r&&(this.$modelValue=t,e.$modelValue!==i&&e.$$writeModelToScope()),this.$$runValidators(t,this.$$lastCommittedViewValue,function(n){r||(e.$modelValue=n?t:void 0,e.$modelValue!==i&&e.$$writeModelToScope())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),a(this.$viewChangeListeners,function(t){try{t()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");M(e[t])?e=e[t]:M(e.default)&&(e=e.default),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;0<e?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},e):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t)}},Rn({clazz:Zn,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}});var Ra,Ha=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Zn,priority:1,compile:function(e){return e.addClass(Xa).addClass("ng-untouched").addClass(La),{pre:function(t,e,n,i){var r=i[0];e=i[1]||r.$$parentForm,(i=i[2])&&(r.$options=i.$options),r.$$initGetterSetters(),e.$addControl(r),n.$observe("name",function(t){r.$name!==t&&r.$$parentForm.$$renameControl(r,t)}),t.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(e,n,i,r){function a(){o.$setTouched()}var o=r[0];o.$options.getOption("updateOn")&&n.on(o.$options.getOption("updateOn"),function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){o.$touched||(t.$$phase?e.$evalAsync(a):e.$apply(a))})}}}}}],za=/(\s+|^)default(\s+|$)/;ti.prototype={getOption:function(t){return this.$$options[t]},createChild:function(t){var e=!1;return t=c({},t),a(t,function(n,i){"$inherit"===n?"*"===i?e=!0:(t[i]=this.$$options[i],"updateOn"===i&&(t.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===i&&(t.updateOnDefault=!1,t[i]=Mi(n.replace(za,function(){return t.updateOnDefault=!0," "})))},this),e&&(delete t["*"],ei(t,this.$$options)),ei(t,Ra.$$options),new ti(t)}},Ra=new ti({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Ba=function(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:Ra,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}},Wa=Xn({terminal:!0,priority:1e3}),Ya=e("ngOptions"),Ua=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Va=["$compile","$document","$parse",function(e,n,i){function o(t,e,n){function a(t,e,n,i,r){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=r}function o(t){var e;if(!u&&r(t))e=t;else{e=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n)}return e}var s=t.match(Ua);if(!s)throw Ya("iexp",t,U(e));var l=s[5]||s[7],u=s[6];t=/ as /.test(s[0])&&s[1];var c=s[9];e=i(s[2]?s[1]:l);var h=t&&i(t)||e,p=c&&i(c),d=c?function(t,e){return p(n,e)}:function(t){return zt(t)},f=function(t,e){return d(t,T(t,e))},g=i(s[2]||s[1]),m=i(s[3]||""),y=i(s[4]||""),v=i(s[8]),S={},T=u?function(t,e){return S[u]=e,S[l]=t,S}:function(t){return S[l]=t,S};return{trackBy:c,getTrackByValue:f,getWatchables:i(v,function(t){var e=[];t=t||[];for(var i=o(t),r=i.length,a=0;a<r;a++){var l=t===i?a:i[a],u=t[l],l=T(u,l),u=d(u,l);e.push(u),(s[2]||s[1])&&(u=g(n,l),e.push(u)),s[4]&&(l=y(n,l),e.push(l))}return e}),getOptions:function(){for(var t=[],e={},i=v(n)||[],r=o(i),s=r.length,l=0;l<s;l++){var u=i===r?l:r[l],p=T(i[u],u),S=h(n,p),u=d(S,p),b=g(n,p),x=m(n,p),p=y(n,p),S=new a(u,S,b,x,p);t.push(S),e[u]=S}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[f(t)]},getViewValueFromOption:function(t){return c?N(t.viewValue):t.viewValue}}}}}var s=t.document.createElement("option"),l=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,i){i[0].registerOption=f},post:function(t,i,r,u){function c(t){var e=(t=T.getOptionFromViewValue(t))&&t.element;return e&&!e.selected&&(e.selected=!0),t}function h(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}function p(){var t=T&&d.readValue();if(T)for(var e=T.items.length-1;0<=e;e--){var n=T.items[e];_t(S(n.group)?n.element.parentNode:n.element)}T=b.getOptions();var r={};v&&i.prepend(d.emptyOption),T.items.forEach(function(t){var e;if(S(t.group)){e=r[t.group],e||(e=l.cloneNode(!1),x.appendChild(e),e.label=null===t.group?"null":t.group,r[t.group]=e);var n=s.cloneNode(!1)}else e=x,n=s.cloneNode(!1);e.appendChild(n),h(t,n)}),i[0].appendChild(x),f.$render(),f.$isEmpty(t)||(e=d.readValue(),(b.trackBy||g?F(t,e):t===e)||(f.$setViewValue(e),f.$render()))}var d=u[0],f=u[1],g=r.multiple;u=0;for(var m=i.children(),y=m.length;u<y;u++)if(""===m[u].value){d.hasEmptyOption=!0,d.emptyOption=m.eq(u);break}var v=!!d.emptyOption;ri(s.cloneNode(!1)).val("?");var T,b=o(r.ngOptions,i,t),x=n[0].createDocumentFragment();d.generateUnknownOptionValue=function(t){return"?"},g?(d.writeValue=function(t){var e=t&&t.map(c)||[];T.items.forEach(function(t){t.element.selected&&-1===Array.prototype.indexOf.call(e,t)&&(t.element.selected=!1)})},d.readValue=function(){var t=i.val()||[],e=[];return a(t,function(t){(t=T.selectValueMap[t])&&!t.disabled&&e.push(T.getViewValueFromOption(t))}),e},b.trackBy&&t.$watchCollection(function(){if(bi(f.$viewValue))return f.$viewValue.map(function(t){return b.getTrackByValue(t)})},function(){f.$render()})):(d.writeValue=function(t){var e=T.selectValueMap[i.val()],n=T.getOptionFromViewValue(t);e&&e.element.removeAttribute("selected"),n?(i[0].value!==n.selectValue&&(d.removeUnknownOption(),d.unselectEmptyOption(),i[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):v?d.selectEmptyOption():d.unknownOption.parent().length?d.updateUnknownOption(t):d.renderUnknownOption(t)},d.readValue=function(){var t=T.selectValueMap[i.val()];return t&&!t.disabled?(d.unselectEmptyOption(),d.removeUnknownOption(),T.getViewValueFromOption(t)):null},b.trackBy&&t.$watch(function(){return b.getTrackByValue(f.$viewValue)},function(){f.$render()})),v&&(d.emptyOption.remove(),e(d.emptyOption)(t),8===d.emptyOption[0].nodeType?(d.hasEmptyOption=!1,d.registerOption=function(t,e){""===e.val()&&(d.hasEmptyOption=!0,d.emptyOption=e,d.emptyOption.removeClass("ng-scope"),f.$render(),e.on("$destroy",function(){d.hasEmptyOption=!1,d.emptyOption=void 0}))}):d.emptyOption.removeClass("ng-scope")),i.empty(),p(),t.$watchCollection(b.getWatchables,p)}}}}],ja=["$locale","$interpolate","$log",function(t,e,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(o,s,l){function u(t){s.text(t||"")}var c,h=l.count,p=l.$attr.when&&s.attr(l.$attr.when),d=l.offset||0,g=o.$eval(p)||{},m={},y=e.startSymbol(),S=e.endSymbol(),T=y+h+"-"+d+S,b=vi.noop;a(l,function(t,e){var n=r.exec(e);n&&(n=(n[1]?"-":"")+ci(n[2]),g[n]=s.attr(l.$attr[e]))}),a(g,function(t,n){m[n]=e(t.replace(i,T))}),o.$watch(h,function(e){var i=parseFloat(e),r=Ti(i);r||i in g||(i=t.pluralCat(i-d)),i===c||r&&Ti(c)||(b(),r=m[i],v(r)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+p),b=f,u()):b=o.$watch(r,u),c=i)})}}}],qa=["$parse","$animate","$compile",function(t,n,i){var o=e("ngRepeat"),s=function(t,e,n,i,r,a,o){t[n]=i,r&&(t[r]=a),t.$index=e,t.$first=0===e,t.$last=e===o-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,l){var u=l.ngRepeat,c=i.$$createComment("end ngRepeat",u),h=u.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h)throw o("iexp",u);var p=h[1],d=h[2],f=h[3],g=h[4],h=p.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/);if(!h)throw o("iidexp",p);var m=h[3]||h[1],y=h[2];if(f&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(f)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(f)))throw o("badident",f);var v,S,T,b,x={$id:zt};return g?v=t(g):(T=function(t,e){return zt(e)},b=function(t){return t}),function(t,e,i,l,h){v&&(S=function(e,n,i){return y&&(x[y]=e),x[m]=n,x.$index=i,v(t,x)});var p=ut();t.$watchCollection(d,function(i){var l,d,g,v,x,M,w,A,C,k,D=e[0],$=ut();if(f&&(t[f]=i),r(i))A=i,d=S||T;else for(k in d=S||b,A=[],i)li.call(i,k)&&"$"!==k.charAt(0)&&A.push(k);for(v=A.length,k=Array(v),l=0;l<v;l++)if(x=i===A?l:A[l],M=i[x],w=d(x,M,l),p[w])C=p[w],delete p[w],$[w]=C,k[l]=C;else{if($[w])throw a(k,function(t){t&&t.scope&&(p[t.id]=t)}),o("dupes",u,w,M);k[l]={id:w,scope:void 0,clone:void 0},$[w]=!0}for(g in p){if(C=p[g],w=lt(C.clone),n.leave(w),w[0].parentNode)for(l=0,d=w.length;l<d;l++)w[l].$$NG_REMOVED=!0;C.scope.$destroy()}for(l=0;l<v;l++)if(x=i===A?l:A[l],M=i[x],C=k[l],C.scope){g=D;do g=g.nextSibling;while(g&&g.$$NG_REMOVED);C.clone[0]!==g&&n.move(lt(C.clone),null,D),D=C.clone[C.clone.length-1],s(C.scope,l,m,M,y,x,v)}else h(function(t,e){C.scope=e;var i=c.cloneNode(!1);t[t.length++]=i,n.enter(t,null,D),D=i,C.clone=t,$[C.id]=C,s(C.scope,l,m,M,y,x,v)});p=$})}}}}],Ga=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Ja=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Ka=Xn(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&a(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),Za=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,o){var s=[],l=[],u=[],c=[],h=function(t,e){return function(n){!1!==n&&t.splice(e,1)}};n.$watch(r.ngSwitch||r.on,function(n){for(var i,r;u.length;)t.cancel(u.pop());for(i=0,r=c.length;i<r;++i){var p=lt(l[i].clone);c[i].$destroy(),(u[i]=t.leave(p)).done(h(u,i))}l.length=0,c.length=0,(s=o.cases["!"+n]||o.cases["?"])&&a(s,function(n){n.transclude(function(i,r){c.push(r);var a=n.element;i[i.length++]=e.$$createComment("end ngSwitchWhen"),l.push({clone:i}),t.enter(i,a.parent(),a)})})})}}}],Qa=Xn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){t=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(t,e,n){return n[e-1]!==t}),a(t,function(t){i.cases["!"+t]=i.cases["!"+t]||[],i.cases["!"+t].push({transclude:r,element:e})})}}),to=Xn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),eo=e("ngTransclude"),no=["$compile",function(t){return{restrict:"EAC",terminal:!0,compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,i,r,a){function o(){n(t,function(t){e.append(t)})}if(!a)throw eo("orphan",U(e));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude=""),i=i.ngTransclude||i.ngTranscludeSlot,a(function(t,n){var i;if(i=t.length)t:{i=0;for(var r=t.length;i<r;i++){var a=t[i];if(a.nodeType!==Oi||a.nodeValue.trim()){i=!0;break t}}i=void 0}i?e.append(t):(o(),n.$destroy())},null,i),i&&!a.isSlotFilled(i)&&o()}}}}],io=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){"text/ng-template"===n.type&&t.put(n.id,e[0].text)}}}],ro={$setViewValue:f,$render:f},ao=["$element","$scope",function(e,n){function i(){s||(s=!0,n.$$postDigest(function(){s=!1,a.ngModelCtrl.$render()}))}function r(t){l||(l=!0,n.$$postDigest(function(){n.$$destroyed||(l=!1,a.ngModelCtrl.$setViewValue(a.readValue()),t&&a.ngModelCtrl.$render())}))}var a=this,o=new Ki;a.selectValueMap={},a.ngModelCtrl=ro,a.multiple=!1,a.unknownOption=ri(t.document.createElement("option")),a.hasEmptyOption=!1,a.emptyOption=void 0,a.renderUnknownOption=function(t){t=a.generateUnknownOptionValue(t),a.unknownOption.val(t),e.prepend(a.unknownOption),ni(a.unknownOption,!0),e.val(t)},a.updateUnknownOption=function(t){t=a.generateUnknownOptionValue(t),a.unknownOption.val(t),ni(a.unknownOption,!0),e.val(t)},a.generateUnknownOptionValue=function(t){return"? "+zt(t)+" ?"},a.removeUnknownOption=function(){a.unknownOption.parent()&&a.unknownOption.remove()},a.selectEmptyOption=function(){a.emptyOption&&(e.val(""),ni(a.emptyOption,!0))},a.unselectEmptyOption=function(){a.hasEmptyOption&&a.emptyOption.removeAttr("selected")},n.$on("$destroy",function(){a.renderUnknownOption=f}),a.readValue=function(){var t=e.val(),t=t in a.selectValueMap?a.selectValueMap[t]:t;return a.hasOption(t)?t:null},a.writeValue=function(t){var n=e[0].options[e[0].selectedIndex];n&&ni(ri(n),!1),a.hasOption(t)?(a.removeUnknownOption(),n=zt(t),e.val(n in a.selectValueMap?n:t),ni(ri(e[0].options[e[0].selectedIndex]),!0)):null==t&&a.emptyOption?(a.removeUnknownOption(),a.selectEmptyOption()):a.unknownOption.parent().length?a.updateUnknownOption(t):a.renderUnknownOption(t)},a.addOption=function(t,e){if(8!==e[0].nodeType){ot(t,'"option value"'),""===t&&(a.hasEmptyOption=!0,a.emptyOption=e);var n=o.get(t)||0;o.set(t,n+1),i()}},a.removeOption=function(t){var e=o.get(t);e&&(1===e?(o.delete(t),""===t&&(a.hasEmptyOption=!1,a.emptyOption=void 0)):o.set(t,e-1))},a.hasOption=function(t){return!!o.get(t)};var s=!1,l=!1;a.registerOption=function(t,e,n,o,s){if(n.$attr.ngValue){var l,u=NaN;n.$observe("value",function(t){var n,i=e.prop("selected");S(u)&&(a.removeOption(l),delete a.selectValueMap[u],n=!0),u=zt(t),l=t,a.selectValueMap[u]=t,a.addOption(t,e),e.attr("value",u),n&&i&&r()})}else o?n.$observe("value",function(t){a.readValue();var n,i=e.prop("selected");S(l)&&(a.removeOption(l),n=!0),l=t,a.addOption(t,e),n&&i&&r()}):s?t.$watch(s,function(t,i){n.$set("value",t);var o=e.prop("selected");i!==t&&a.removeOption(i),a.addOption(t,e),i&&o&&r()}):a.addOption(n.value,e);n.$observe("disabled",function(t){("true"===t||t&&e.prop("selected"))&&(a.multiple?r(!0):(a.ngModelCtrl.$setViewValue(null),a.ngModelCtrl.$render()))}),e.on("$destroy",function(){var t=a.readValue(),e=n.value;a.removeOption(e),i(),(a.multiple&&t&&-1!==t.indexOf(e)||t===e)&&r(!0)})}}],oo=function(){return{restrict:"E",require:["select","?ngModel"],controller:ao,priority:1,link:{pre:function(t,e,n,i){var r=i[0],o=i[1];if(o){if(r.ngModelCtrl=o,e.on("change",function(){r.removeUnknownOption(),t.$apply(function(){o.$setViewValue(r.readValue())})}),n.multiple){r.multiple=!0,r.readValue=function(){var t=[];return a(e.find("option"),function(e){e.selected&&!e.disabled&&(e=e.value,t.push(e in r.selectValueMap?r.selectValueMap[e]:e))}),t},r.writeValue=function(t){a(e.find("option"),function(e){var n=!!t&&(-1!==Array.prototype.indexOf.call(t,e.value)||-1!==Array.prototype.indexOf.call(t,r.selectValueMap[e.value]));n!==e.selected&&ni(ri(e),n)})};var s,l=NaN;t.$watch(function(){l!==o.$viewValue||F(s,o.$viewValue)||(s=pt(o.$viewValue),o.$render()),l=o.$viewValue}),o.$isEmpty=function(t){return!t||0===t.length}}}else r.registerOption=f},post:function(t,e,n,i){var r=i[1];if(r){var a=i[0];r.$render=function(){a.writeValue(r.$viewValue)}}}}}},so=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){var i,r;return S(n.ngValue)||(S(n.value)?i=t(n.value,!0):(r=t(e.text(),!0))||n.$set("value",e.text())),function(t,e,n){var a=e.parent();(a=a.data("$selectController")||a.parent().data("$selectController"))&&a.registerOption(t,e,n,i,r)}}}}],lo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},uo=function(){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var a,o=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if(x(t)&&0<t.length&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw e("ngPattern")("noregexp",o,t,U(n));a=t||void 0,r.$validate()}),r.$validators.pattern=function(t,e){return r.$isEmpty(e)||v(a)||a.test(e)}}}}},co=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){t=p(t),r=Ti(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(t,e){return 0>r||i.$isEmpty(e)||e.length<=r}}}}},ho=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=p(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};t.angular.bootstrap?t.console&&console.log("WARNING: Tried to load angular more than once."):(it(),ft(vi),vi.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return-1==e?0:t.length-e-1}t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,n){var i=0|t,r=n;return void 0===r&&(r=Math.min(e(t),3)),Math.pow(10,r),1==i&&0==r?"one":"other"}})}]),ri(function(){Z(t.document,Q)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(t,e){"use strict";function n(t,n,i){var r=i.baseHref(),a=t[0];return function(t,i,o){var s,l;o=o||{},l=o.expires,s=e.isDefined(o.path)?o.path:r,e.isUndefined(i)&&(l="Thu, 01 Jan 1970 00:00:00 GMT",i=""),e.isString(l)&&(l=new Date(l)),i=encodeURIComponent(t)+"="+encodeURIComponent(i),i=i+(s?";path="+s:"")+(o.domain?";domain="+o.domain:""),i+=l?";expires="+l.toUTCString():"",i+=o.secure?";secure":"",o=i.length+1,4096<o&&n.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+o+" > 4096 bytes)!"),a.cookie=i}}e.module("ngCookies",["ng"]).info({angularVersion:"1.6.4"}).provider("$cookies",[function(){var t=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(n,i){return{get:function(t){return n()[t]},getObject:function(t){return(t=this.get(t))?e.fromJson(t):t},getAll:function(){return n()},put:function(n,r,a){i(n,r,a?e.extend({},t,a):t)},putObject:function(t,n,i){this.put(t,e.toJson(n),i)},remove:function(n,r){i(n,void 0,r?e.extend({},t,r):t)}}}]}]),e.module("ngCookies").factory("$cookieStore",["$cookies",function(t){return{get:function(e){return t.getObject(e)},put:function(e,n){t.putObject(e,n)},remove:function(e){t.remove(e)}}}]),n.$inject=["$document","$log","$browser"],e.module("ngCookies").provider("$$cookieWriter",function(){this.$get=n})}(window,window.angular),!function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():e()}(0,function(){function t(t){"use strict";var e=t.storageKey(),n=t.storage(),i=function(){var i=t.preferredLanguage();angular.isString(i)?t.use(i):n.put(e,t.use())};i.displayName="fallbackFromIncorrectStorageValue",n?n.get(e)?t.use(n.get(e)).catch(i):i():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}function e(){"use strict";var t,e,n,i=null,r=!1,a=!1;n={sanitize:function(t,e){return"text"===e&&(t=s(t)),t},escape:function(t,e){return"text"===e&&(t=o(t)),t},sanitizeParameters:function(t,e){return"params"===e&&(t=u(t,s)),t},escapeParameters:function(t,e){return"params"===e&&(t=u(t,o)),t},sce:function(t,e,n){return"text"===e?t=l(t):"params"===e&&"filter"!==n&&(t=u(t,o)),t},sceParameters:function(t,e){return"params"===e&&(t=u(t,l)),t}},n.escaped=n.escapeParameters,this.addStrategy=function(t,e){return n[t]=e,this},this.removeStrategy=function(t){return delete n[t],this},this.useStrategy=function(t){return r=!0,i=t,this},this.$get=["$injector","$log",function(o,s){var l={},u=function(t,e,i,r){return angular.forEach(r,function(r){if(angular.isFunction(r))t=r(t,e,i);else if(angular.isFunction(n[r]))t=n[r](t,e,i);else{if(!angular.isString(n[r]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'");if(!l[n[r]])try{l[n[r]]=o.get(n[r])}catch(t){throw l[n[r]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'")}t=l[n[r]](t,e,i)}}),t},c=function(){r||a||(s.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),a=!0)};return o.has("$sanitize")&&(t=o.get("$sanitize")),o.has("$sce")&&(e=o.get("$sce")),{useStrategy:function(t){return function(e){t.useStrategy(e)}}(this),sanitize:function(t,e,n,r){if(i||c(),n||null===n||(n=i),!n)return t;r||(r="service");var a=angular.isArray(n)?n:[n];return u(t,e,r,a)}}}];var o=function(t){var e=angular.element("<div></div>");return e.text(t),e.html()},s=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");
return t(e)},l=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return e.trustAsHtml(t)},u=function(t,e,n){if(angular.isDate(t))return t;if(angular.isObject(t)){var i=angular.isArray(t)?[]:{};if(n){if(n.indexOf(t)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(t),angular.forEach(t,function(t,r){angular.isFunction(t)||(i[r]=u(t,e,n))}),n.splice(-1,1),i}return angular.isNumber(t)?t:!0===t||!1===t?t:angular.isUndefined(t)||null===t?t:e(t)}}function n(t,e,n,i){"use strict";var r,a,o,s,l,u,c,h,p,d,f,g,m,y,v,S,T={},b=[],x=t,M=[],w="translate-cloak",A=!1,C=!1,k=".",D=!1,$=!1,P=0,E=!0,O="default",_={default:function(t){return(t||"").split("-").join("_")},java:function(t){var e=(t||"").split("-").join("_"),n=e.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():e},bcp47:function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():e},"iso639-1":function(t){return(t||"").split("_").join("-").split("-")[0].toLowerCase()}},L=function(){if(angular.isFunction(i.getLocale))return i.getLocale();var t,n,r=e.$get().navigator,a=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(r.languages))for(t=0;t<r.languages.length;t++)if((n=r.languages[t])&&n.length)return n;for(t=0;t<a.length;t++)if((n=r[a[t]])&&n.length)return n;return null};L.displayName="angular-translate/service: getFirstBrowserLanguage";var N=function(){var t=L()||"";return _[O]&&(t=_[O](t)),t};N.displayName="angular-translate/service: getLocale";var X=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},F=function(){return this.toString().replace(/^\s+|\s+$/g,"")},I=function(t){if(t){for(var e=[],n=angular.lowercase(t),i=0,r=b.length;i<r;i++)e.push(angular.lowercase(b[i]));if(X(e,n)>-1)return t;if(a){var o;for(var s in a)if(a.hasOwnProperty(s)){var l=!1,u=Object.prototype.hasOwnProperty.call(a,s)&&angular.lowercase(s)===angular.lowercase(t);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===t.slice(0,s.length-1)),(u||l)&&(o=a[s],X(e,angular.lowercase(o))>-1))return o}}var c=t.split("_");return c.length>1&&X(e,angular.lowercase(c[0]))>-1?c[0]:void 0}},R=function(t,e){if(!t&&!e)return T;if(t&&!e){if(angular.isString(t))return T[t]}else angular.isObject(T[t])||(T[t]={}),angular.extend(T[t],H(e));return this};this.translations=R,this.cloakClassName=function(t){return t?(w=t,this):w},this.nestedObjectDelimeter=function(t){return t?(k=t,this):k};var H=function(t,e,n,i){var r,a,o,s;e||(e=[]),n||(n={});for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s=t[r],angular.isObject(s)?H(s,e.concat(r),n,r):(a=e.length?""+e.join(k)+k+r:r,e.length&&r===i&&(o=""+e.join(k),n[o]="@:"+a),n[a]=s));return n};H.displayName="flatObject",this.addInterpolation=function(t){return M.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return d=t,this},this.useSanitizeValueStrategy=function(t){return n.useStrategy(t),this},this.preferredLanguage=function(t){return t?(z(t),this):r};var z=function(t){return t&&(r=t),r};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(m=t,this):m},this.translationNotFoundIndicatorRight=function(t){return t?(y=t,this):y},this.fallbackLanguage=function(t){return B(t),this};var B=function(t){return t?(angular.isString(t)?(s=!0,o=[t]):angular.isArray(t)&&(s=!1,o=t),angular.isString(r)&&X(o,r)<0&&o.push(r),this):s?o[0]:o};this.use=function(t){if(t){if(!T[t]&&!f)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return l=t,this}return l},this.resolveClientLocale=function(){return N()};var W=function(t){return t?(x=t,this):h?h+x:x};this.storageKey=W,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return f=t,g=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return c=t,this},this.storagePrefix=function(t){return t?(h=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return p=t,this},this.usePostCompiling=function(t){return A=!!t,this},this.forceAsyncReload=function(t){return C=!!t,this},this.uniformLanguageTag=function(t){return t?angular.isString(t)&&(t={standard:t}):t={},O=t.standard,this},this.determinePreferredLanguage=function(t){var e=t&&angular.isFunction(t)?t():N();return r=b.length?I(e)||e:e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(b=t,e&&(a=e),this):b},this.useLoaderCache=function(t){return!1===t?v=void 0:!0===t?v=!0:void 0===t?v="$translationCache":t&&(v=t),this},this.directivePriority=function(t){return void 0===t?P:(P=t,this)},this.statefulFilter=function(t){return void 0===t?E:(E=t,this)},this.postProcess=function(t){return S=t||void 0,this},this.keepContent=function(t){return $=!!t,this},this.$get=["$log","$injector","$rootScope","$q",function(t,e,n,i){var a,h,O,_=e.get(d||"$translateDefaultInterpolation"),L=!1,Y={},U={},V=function(t,e,n,s,u){!l&&r&&(l=r);var p=u&&u!==l?I(u)||u:l;if(u&&ut(u),angular.isArray(t))return function(t){for(var r={},a=[],o=0,l=t.length;o<l;o++)a.push(function(t){var a=i.defer(),o=function(e){r[t]=e,a.resolve([t,e])};return V(t,e,n,s,u).then(o,o),a.promise}(t[o]));return i.all(a).then(function(){return r})}(t);var d=i.defer();t&&(t=F.apply(t));var f=function(){var t=r?U[r]:U[p];if(h=0,c&&!t){var e=a.get(x);if(t=U[e],o&&o.length){var n=X(o,e);h=0===n?1:0,X(o,r)<0&&o.push(r)}}return t}();if(f){var g=function(){u||(p=l),at(t,e,n,s,p).then(d.resolve,d.reject)};g.displayName="promiseResolved",f.finally(g).catch(angular.noop)}else at(t,e,n,s,p).then(d.resolve,d.reject);return d.promise},j=function(t){return m&&(t=[m,t].join(" ")),y&&(t=[t,y].join(" ")),t},q=function(t){l=t,c&&a.put(V.storageKey(),l),n.$emit("$translateChangeSuccess",{language:t}),_.setLocale(l);var e=function(t,e){Y[e].setLocale(l)};e.displayName="eachInterpolatorLocaleSetter",angular.forEach(Y,e),n.$emit("$translateChangeEnd",{language:t})},G=function(t){if(!t)throw"No language key specified for loading.";var r=i.defer();n.$emit("$translateLoadingStart",{language:t}),L=!0;var a=v;"string"==typeof a&&(a=e.get(a));var o=angular.extend({},g,{key:t,$http:angular.extend({},{cache:a},g.$http)}),s=function(e){var i={};n.$emit("$translateLoadingSuccess",{language:t}),angular.isArray(e)?angular.forEach(e,function(t){angular.extend(i,H(t))}):angular.extend(i,H(e)),L=!1,r.resolve({key:t,table:i}),n.$emit("$translateLoadingEnd",{language:t})};s.displayName="onLoaderSuccess";var l=function(t){n.$emit("$translateLoadingError",{language:t}),r.reject(t),n.$emit("$translateLoadingEnd",{language:t})};return l.displayName="onLoaderError",e.get(f)(o).then(s,l),r.promise};if(c&&(a=e.get(c),!a.get||!a.put))throw new Error("Couldn't use storage '"+c+"', missing get() or put() method!");if(M.length){var J=function(t){var n=e.get(t);n.setLocale(r||l),Y[n.getInterpolationIdentifier()]=n};J.displayName="interpolationFactoryAdder",angular.forEach(M,J)}var K=function(t){var e=i.defer();if(Object.prototype.hasOwnProperty.call(T,t))e.resolve(T[t]);else if(U[t]){var n=function(t){R(t.key,t.table),e.resolve(t.table)};n.displayName="translationTableResolver",U[t].then(n,e.reject)}else e.reject();return e.promise},Z=function(t,e,n,r,a){var o=i.defer(),s=function(i){if(Object.prototype.hasOwnProperty.call(i,e)&&null!==i[e]){r.setLocale(t);var s=i[e];if("@:"===s.substr(0,2))Z(t,s.substr(2),n,r,a).then(o.resolve,o.reject);else{var u=r.interpolate(i[e],n,"service",a,e);u=lt(e,i[e],u,n,t),o.resolve(u)}r.setLocale(l)}else o.reject()};return s.displayName="fallbackTranslationResolver",K(t).then(s,o.reject),o.promise},Q=function(t,e,n,i,r){var a,o=T[t];if(o&&Object.prototype.hasOwnProperty.call(o,e)&&null!==o[e]){if(i.setLocale(t),a=i.interpolate(o[e],n,"filter",r,e),a=lt(e,o[e],a,n,t,r),!angular.isString(a)&&angular.isFunction(a.$$unwrapTrustedValue)){var s=a.$$unwrapTrustedValue();if("@:"===s.substr(0,2))return Q(t,s.substr(2),n,i,r)}else if("@:"===a.substr(0,2))return Q(t,a.substr(2),n,i,r);i.setLocale(l)}return a},tt=function(t,n,i,r){return p?e.get(p)(t,l,n,i,r):t},et=function(t,e,n,r,a,s){var l=i.defer();if(t<o.length){var u=o[t];Z(u,e,n,r,s).then(function(t){l.resolve(t)},function(){return et(t+1,e,n,r,a,s).then(l.resolve,l.reject)})}else if(a)l.resolve(a);else{var c=tt(e,n,a);p&&c?l.resolve(c):l.reject(j(e))}return l.promise},nt=function(t,e,n,i,r){var a;if(t<o.length){var s=o[t];a=Q(s,e,n,i,r),a||""===a||(a=nt(t+1,e,n,i))}return a},it=function(t,e,n,i,r){return et(O>0?O:h,t,e,n,i,r)},rt=function(t,e,n,i){return nt(O>0?O:h,t,e,n,i)},at=function(t,e,n,r,a,s){var l=i.defer(),u=a?T[a]:T,c=n?Y[n]:_;if(u&&Object.prototype.hasOwnProperty.call(u,t)&&null!==u[t]){var h=u[t];if("@:"===h.substr(0,2))V(h.substr(2),e,n,r,a).then(l.resolve,l.reject);else{var d=c.interpolate(h,e,"service",s,t);d=lt(t,h,d,e,a),l.resolve(d)}}else{var f;p&&!L&&(f=tt(t,e,r)),a&&o&&o.length?it(t,e,c,r,s).then(function(t){l.resolve(t)},function(t){l.reject(j(t))}):p&&!L&&f?r?l.resolve(r):l.resolve(f):r?l.resolve(r):l.reject(j(t))}return l.promise},ot=function(t,e,n,i,r){var a,s=i?T[i]:T,l=_;if(Y&&Object.prototype.hasOwnProperty.call(Y,n)&&(l=Y[n]),s&&Object.prototype.hasOwnProperty.call(s,t)&&null!==s[t]){var u=s[t];"@:"===u.substr(0,2)?a=ot(u.substr(2),e,n,i,r):(a=l.interpolate(u,e,"filter",r,t),a=lt(t,u,a,e,i,r))}else{var c;p&&!L&&(c=tt(t,e,r)),i&&o&&o.length?(h=0,a=rt(t,e,l,r)):a=p&&!L&&c?c:j(t)}return a},st=function(t){u===t&&(u=void 0),U[t]=void 0},lt=function(t,n,i,r,a,o){var s=S;return s&&("string"==typeof s&&(s=e.get(s)),s)?s(t,n,i,r,a,o):i},ut=function(t){T[t]||!f||U[t]||(U[t]=G(t).then(function(t){return R(t.key,t.table),t}))};V.preferredLanguage=function(t){return t&&z(t),r},V.cloakClassName=function(){return w},V.nestedObjectDelimeter=function(){return k},V.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if(B(t),f&&o&&o.length)for(var e=0,n=o.length;e<n;e++)U[o[e]]||(U[o[e]]=G(o[e]));V.use(V.use())}return s?o[0]:o},V.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=X(o,t);e>-1&&(O=e)}else O=0},V.proposedLanguage=function(){return u},V.storage=function(){return a},V.negotiateLocale=I,V.use=function(t){if(!t)return l;var e=i.defer();e.promise.then(null,angular.noop),n.$emit("$translateChangeStart",{language:t});var r=I(t);return b.length>0&&!r?i.reject(t):(r&&(t=r),u=t,!C&&T[t]||!f||U[t]?U[t]?U[t].then(function(t){return u===t.key&&q(t.key),e.resolve(t.key),t},function(t){return!l&&o&&o.length>0&&o[0]!==t?V.use(o[0]).then(e.resolve,e.reject):e.reject(t)}):(e.resolve(t),q(t)):(U[t]=G(t).then(function(n){return R(n.key,n.table),e.resolve(n.key),u===t&&q(n.key),n},function(t){return n.$emit("$translateChangeError",{language:t}),e.reject(t),n.$emit("$translateChangeEnd",{language:t}),i.reject(t)}),U[t].finally(function(){st(t)}).catch(angular.noop)),e.promise)},V.resolveClientLocale=function(){return N()},V.storageKey=function(){return W()},V.isPostCompilingEnabled=function(){return A},V.isForceAsyncReloadEnabled=function(){return C},V.isKeepContent=function(){return $},V.refresh=function(t){function e(t){var e=G(t);return U[t]=e,e.then(function(e){T[t]={},R(t,e.table),a[t]=!0},angular.noop),e}if(!f)throw new Error("Couldn't refresh translation table, no loader registered!");n.$emit("$translateRefreshStart",{language:t});var r=i.defer(),a={};if(r.promise.then(function(){for(var t in T)T.hasOwnProperty(t)&&(t in a||delete T[t]);l&&q(l)},angular.noop).finally(function(){n.$emit("$translateRefreshEnd",{language:t})}),t)T[t]?e(t).then(r.resolve,r.reject):r.reject();else{var s=o&&o.slice()||[];l&&-1===s.indexOf(l)&&s.push(l),i.all(s.map(e)).then(r.resolve,r.reject)}return r.promise},V.instant=function(t,e,n,i,a){var s=i&&i!==l?I(i)||i:l;if(null===t||angular.isUndefined(t))return t;if(i&&ut(i),angular.isArray(t)){for(var u={},c=0,h=t.length;c<h;c++)u[t[c]]=V.instant(t[c],e,n,i,a);return u}if(angular.isString(t)&&t.length<1)return t;t&&(t=F.apply(t));var d,f=[];r&&f.push(r),s&&f.push(s),o&&o.length&&(f=f.concat(o));for(var g=0,v=f.length;g<v;g++){var S=f[g];if(T[S]&&void 0!==T[S][t]&&(d=ot(t,e,n,s,a)),void 0!==d)break}if(!d&&""!==d)if(m||y)d=j(t);else{d=_.interpolate(t,e,"filter",a);var b;p&&!L&&(b=tt(t,e,a)),p&&!L&&b&&(d=b)}return d},V.versionInfo=function(){return"2.15.2"},V.loaderCache=function(){return v},V.directivePriority=function(){return P},V.statefulFilter=function(){return E},V.isReady=function(){return D};var ct=i.defer();ct.promise.then(function(){D=!0}),V.onReady=function(t){var e=i.defer();return angular.isFunction(t)&&e.promise.then(t),D?e.resolve():ct.promise.then(e.resolve),e.promise},V.getAvailableLanguageKeys=function(){return b.length>0?b:null},V.getTranslationTable=function(t){return t=t||V.use(),t&&T[t]?angular.copy(T[t]):null};var ht=n.$on("$translateReady",function(){ct.resolve(),ht(),ht=null}),pt=n.$on("$translateChangeEnd",function(){ct.resolve(),pt(),pt=null});if(f){if(angular.equals(T,{})&&V.use()&&V.use(V.use()),o&&o.length)for(var dt=function(t){return R(t.key,t.table),n.$emit("$translateChangeEnd",{language:t.key}),t},ft=0,gt=o.length;ft<gt;ft++){var mt=o[ft];!C&&T[mt]||(U[mt]=G(mt).then(dt))}}else n.$emit("$translateReady",{language:V.use()});return V}]}function i(t,e){"use strict";var n,i={};return i.setLocale=function(t){n=t},i.getInterpolationIdentifier=function(){return"default"},i.useSanitizeValueStrategy=function(t){return e.useStrategy(t),this},i.interpolate=function(n,i,r,a,o){i=i||{},i=e.sanitize(i,"params",a,r);var s;return angular.isNumber(n)?s=""+n:angular.isString(n)?(s=t(n)(i),s=e.sanitize(s,"text",a,r)):s="",s},i}function r(t,e,n,i,r){"use strict";var o=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:t.directivePriority(),compile:function(s,l){var u=l.translateValues?l.translateValues:void 0,c=l.translateInterpolation?l.translateInterpolation:void 0,h=s[0].outerHTML.match(/translate-value-+/i),p="^(.*)("+e.startSymbol()+".*"+e.endSymbol()+")(.*)",d="^(.*)"+e.startSymbol()+"(.*)"+e.endSymbol()+"(.*)";return function(s,f,g){s.interpolateParams={},s.preText="",s.postText="",s.translateNamespace=a(s);var m={},y=function(t){if(angular.isFunction(y._unwatchOld)&&(y._unwatchOld(),y._unwatchOld=void 0),angular.equals(t,"")||!angular.isDefined(t)){var n=o.apply(f.text()),i=n.match(p);if(angular.isArray(i)){s.preText=i[1],s.postText=i[3],m.translate=e(i[2])(s.$parent);var r=n.match(d);angular.isArray(r)&&r[2]&&r[2].length&&(y._unwatchOld=s.$watch(r[2],function(t){m.translate=t,b()}))}else m.translate=n||void 0}else m.translate=t;b()};!function(t,e,n){if(e.translateValues&&angular.extend(t,i(e.translateValues)(s.$parent)),h)for(var r in n)if(Object.prototype.hasOwnProperty.call(e,r)&&"translateValue"===r.substr(0,14)&&"translateValues"!==r){var a=angular.lowercase(r.substr(14,1))+r.substr(15);t[a]=n[r]}}(s.interpolateParams,g,l);var v=!0;g.$observe("translate",function(t){void 0===t?y(""):""===t&&v||(m.translate=t,b()),v=!1});for(var S in g)g.hasOwnProperty(S)&&"translateAttr"===S.substr(0,13)&&S.length>13&&function(t){g.$observe(t,function(e){m[t]=e,b()})}(S);if(g.$observe("translateDefault",function(t){s.defaultText=t,b()}),u&&g.$observe("translateValues",function(t){t&&s.$parent.$watch(function(){angular.extend(s.interpolateParams,i(t)(s.$parent))})}),h)for(var T in g)Object.prototype.hasOwnProperty.call(g,T)&&"translateValue"===T.substr(0,14)&&"translateValues"!==T&&function(t){g.$observe(t,function(e){var n=angular.lowercase(t.substr(14,1))+t.substr(15);s.interpolateParams[n]=e})}(T);var b=function(){for(var t in m)m.hasOwnProperty(t)&&void 0!==m[t]&&x(t,m[t],s,s.interpolateParams,s.defaultText,s.translateNamespace)},x=function(e,n,i,r,a,o){n?(o&&"."===n.charAt(0)&&(n=o+n),t(n,r,c,a,i.translateLanguage).then(function(t){M(t,i,!0,e)},function(t){M(t,i,!1,e)})):M(n,i,!1,e)},M=function(e,i,r,a){if(r||void 0!==i.defaultText&&(e=i.defaultText),"translate"===a){(r||!r&&!t.isKeepContent()&&void 0===g.translateKeepContent)&&f.empty().append(i.preText+e+i.postText);var o=t.isPostCompilingEnabled(),s=void 0!==l.translateCompile,u=s&&"false"!==l.translateCompile;(o&&!s||u)&&n(f.contents())(i)}else{var c=g.$attr[a];"data-"===c.substr(0,5)&&(c=c.substr(5)),c=c.substr(15),f.attr(c,e)}};(u||h||g.translateDefault)&&s.$watch("interpolateParams",b,!0),s.$on("translateLanguageChanged",b);var w=r.$on("$translateChangeSuccess",b);f.text().length?y(g.translate?g.translate:""):g.translate&&y(g.translate),b(),s.$on("$destroy",w)}}}}function a(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?a(t.$parent):void 0}function o(t,e){"use strict";return{restrict:"A",priority:t.directivePriority(),link:function(n,i,r){var a,o,l={},u=function(){angular.forEach(a,function(e,a){e&&(l[a]=!0,n.translateNamespace&&"."===e.charAt(0)&&(e=n.translateNamespace+e),t(e,o,r.translateInterpolation,void 0,n.translateLanguage).then(function(t){i.attr(a,t)},function(t){i.attr(a,t)}))}),angular.forEach(l,function(t,e){a[e]||(i.removeAttr(e),delete l[e])})};s(n,r.translateAttr,function(t){a=t},u),s(n,r.translateValues,function(t){o=t},u),r.translateValues&&n.$watch(r.translateValues,u,!0),n.$on("translateLanguageChanged",u);var c=e.$on("$translateChangeSuccess",u);u(),n.$on("$destroy",c)}}}function s(t,e,n,i){"use strict";e&&("::"===e.substr(0,2)?e=e.substr(2):t.$watch(e,function(t){n(t),i()},!0),n(t.$eval(e)))}function l(t,e){"use strict";return{compile:function(n){var i=function(e){e.addClass(t.cloakClassName())},r=function(e){e.removeClass(t.cloakClassName())};return i(n),function(n,a,o){var s=r.bind(this,a),l=i.bind(this,a);o.translateCloak&&o.translateCloak.length?(o.$observe("translateCloak",function(e){t(e).then(s,l)}),e.$on("$translateChangeSuccess",function(){t(o.translateCloak).then(s,l)})):t.onReady(s)}}}}function u(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,e,n){t.translateNamespace=a(t),t.translateNamespace&&"."===n.translateNamespace.charAt(0)?t.translateNamespace+=n.translateNamespace:t.translateNamespace=n.translateNamespace}}}}}function a(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?a(t.$parent):void 0}function c(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(t,e,n){n.$observe("translateLanguage",function(e){t.translateLanguage=e}),t.$watch("translateLanguage",function(){t.$broadcast("translateLanguageChanged")})}}}}function h(t,e){"use strict";var n=function(n,i,r,a){if(!angular.isObject(i)){var o=this||{__SCOPE_IS_NOT_AVAILABLE:"More info at https://github.com/angular/angular.js/commit/8863b9d04c722b278fa93c5d66ad1e578ad6eb1f"};i=t(i)(o)}return e.instant(n,i,r,a)};return e.statefulFilter()&&(n.$stateful=!0),n}function p(t){"use strict";return t("translations")}return t.$inject=["$translate"],n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],i.$inject=["$interpolate","$translateSanitization"],r.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],o.$inject=["$translate","$rootScope"],l.$inject=["$translate","$rootScope"],h.$inject=["$parse","$translate"],p.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(t),t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",e),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",i),i.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",r),r.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",o),o.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",l),l.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",u),u.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",c),c.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",h),h.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",p),p.displayName="$translationCache","pascalprecht.translate"}),!function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():e()}(0,function(){function t(t,e){"use strict";return function(n){if(!n||!(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix)))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var i=[],r=n.files.length,a=0;a<r;a++)i.push(function(i){if(!i||!angular.isString(i.prefix)||!angular.isString(i.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");var r=[i.prefix,n.key,i.suffix].join("");return angular.isObject(n.fileMap)&&n.fileMap[r]&&(r=n.fileMap[r]),e(angular.extend({url:r,method:"GET"},n.$http)).then(function(t){return t.data},function(){return t.reject(n.key)})}({prefix:n.files[a].prefix,key:n.key,suffix:n.files[a].suffix}));return t.all(i).then(function(t){for(var e=t.length,n={},i=0;i<e;i++)for(var r in t[i])n[r]=t[i][r];return n})}}return t.$inject=["$q","$http"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",t),t.displayName="$translateStaticFilesLoader","pascalprecht.translate"}),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,e,n){"use strict";function i(t,e){return U(new(U(function(){},{prototype:t})),e)}function r(t){return Y(arguments,function(e){e!==t&&Y(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function a(t,e){var n=[];for(var i in t.path){if(t.path[i]!==e.path[i])break;n.push(t.path[i])}return n}function o(t){if(Object.keys)return Object.keys(t);var e=[];return Y(t,function(t,n){e.push(n)}),e}function s(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,i=Number(arguments[2])||0;for(i=i<0?Math.ceil(i):Math.floor(i),i<0&&(i+=n);i<n;i++)if(i in t&&t[i]===e)return i;return-1}function l(t,e,n,i){var r,l=a(n,i),u={},c=[];for(var h in l)if(l[h]&&l[h].params&&(r=o(l[h].params),r.length))for(var p in r)s(c,r[p])>=0||(c.push(r[p]),u[r[p]]=t[r[p]]);return U({},u,e)}function u(t,e,n){if(!n){n=[];for(var i in t)n.push(i)}for(var r=0;r<n.length;r++){var a=n[r];if(t[a]!=e[a])return!1}return!0}function c(t,e){var n={};return Y(t,function(t){n[t]=e[t]}),n}function h(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return Y(n,function(n){n in t&&(e[n]=t[n])}),e}function p(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in t)s(n,i)==-1&&(e[i]=t[i]);return e}function d(t,e){var n=W(t),i=n?[]:{};return Y(t,function(t,r){e(t,r)&&(i[n?i.length:r]=t)}),i}function f(t,e){var n=W(t)?[]:{};return Y(t,function(t,i){n[i]=e(t,i)}),n}function g(t){return t.then(n,function(){})&&t}function m(t,e){var i=1,a=2,l={},u=[],c=l,h=U(t.when(l),{$$promises:l,$$values:l});this.study=function(l){function d(t,n){if(S[n]!==a){if(v.push(n),S[n]===i)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(S[n]=i,z(t))y.push(n,[function(){return e.get(t)}],u);else{var r=e.annotate(t);Y(r,function(t){t!==n&&l.hasOwnProperty(t)&&d(l[t],t)}),y.push(n,t,r)}v.pop(),S[n]=a}}function f(t){return B(t)&&t.then&&t.$$promises}if(!B(l))throw new Error("'invocables' must be an object");var m=o(l||{}),y=[],v=[],S={};return Y(l,d),l=v=S=null,function(i,a,o){function s(){--b||(x||r(T,a.$$values),v.$$values=T,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,d.resolve(T))}function l(t){v.$$failure=t,d.reject(t)}function u(n,r,a){function u(t){h.reject(t),l(t)}function c(){if(!R(v.$$failure))try{h.resolve(e.invoke(r,o,T)),h.promise.then(function(t){T[n]=t,s()},u)}catch(t){u(t)}}var h=t.defer(),p=0;Y(a,function(t){S.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(p++,S[t].then(function(e){T[t]=e,--p||c()},u))}),p||c(),S[n]=g(h.promise)}if(f(i)&&o===n&&(o=a,a=i,i=null),i){if(!B(i))throw new Error("'locals' must be an object")}else i=c;if(a){if(!f(a))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else a=h;var d=t.defer(),v=g(d.promise),S=v.$$promises={},T=U({},i),b=1+y.length/3,x=!1;if(g(v),R(a.$$failure))return l(a.$$failure),v;a.$$inheritedValues&&r(T,p(a.$$inheritedValues,m)),U(S,a.$$promises),a.$$values?(x=r(T,p(a.$$values,m)),v.$$inheritedValues=p(a.$$values,m),s()):(a.$$inheritedValues&&(v.$$inheritedValues=p(a.$$inheritedValues,m)),a.then(s,l));for(var M=0,w=y.length;M<w;M+=3)i.hasOwnProperty(y[M])?s():u(y[M],y[M+1],y[M+2]);return v}},this.resolve=function(t,e,n,i){return this.study(t)(e,n,i)}}function y(){var t=e.version.minor<3;this.shouldUnsafelyUseHttp=function(e){t=!!e},this.$get=["$http","$templateCache","$injector",function(e,n,i){return new v(e,n,i,t)}]}function v(t,e,n,i){this.fromConfig=function(t,e,n){return R(t.template)?this.fromString(t.template,e):R(t.templateUrl)?this.fromUrl(t.templateUrl,e):R(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return H(t)?t(e):t},this.fromUrl=function(r,a){return H(r)&&(r=r(a)),null==r?null:i?t.get(r,{cache:e,headers:{Accept:"text/html"}}).then(function(t){return t.data}):n.get("$templateRequest")(r)},this.fromProvider=function(t,e,i){return n.invoke(t,null,i||{params:e})}}function S(t,e,r){function a(e,n,i,r){if(m.push(e),f[e])return f[e];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(g[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");return g[e]=new q.Param(e,n,i,r),g[e]}function o(t,e,n,i){var r=["",""],a=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return a;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:a=a.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+n+"|",")?"]}return a+r[0]+e+r[1]}function s(r,a){var o,s,l,u,c;return o=r[2]||r[3],c=e.params[o],l=t.substring(p,r.index),s=a?r[4]:r[4]||("*"==r[1]?".*":null),s&&(u=q.type(s)||i(q.type("string"),{pattern:new RegExp(s,e.caseInsensitive?"i":n)})),{id:o,regexp:s,segment:l,type:u,cfg:c}}e=U({params:{}},B(e)?e:{});var l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h="^",p=0,d=this.segments=[],f=r?r.params:{},g=this.params=r?r.params.$$new():new q.ParamSet,m=[];this.source=t;for(var y,v,S;(l=u.exec(t))&&(y=s(l,!1),!(y.segment.indexOf("?")>=0));)v=a(y.id,y.type,y.cfg,"path"),h+=o(y.segment,v.type.pattern.source,v.squash,v.isOptional),d.push(y.segment),p=u.lastIndex;S=t.substring(p);var T=S.indexOf("?");if(T>=0){var b=this.sourceSearch=S.substring(T);if(S=S.substring(0,T),this.sourcePath=t.substring(0,p+T),b.length>0)for(p=0;l=c.exec(b);)y=s(l,!0),v=a(y.id,y.type,y.cfg,"search"),p=u.lastIndex}else this.sourcePath=t,this.sourceSearch="";h+=o(S)+(e.strict===!1?"/?":"")+"$",d.push(S),this.regexp=new RegExp(h,e.caseInsensitive?"i":n),this.prefix=d[0],this.$$paramNames=m}function T(t){U(this,t)}function b(){function t(t){return null!=t?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t}function r(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t}function a(){return{strict:g,caseInsensitive:p}}function l(t){return H(t)||W(t)&&H(t[t.length-1])}function u(){for(;x.length;){var t=x.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");e.extend(y[t.name],h.invoke(t.def))}}function c(t){U(this,t||{})}q=this;var h,p=!1,g=!0,m=!1,y={},v=!0,x=[],M={string:{encode:t,decode:r,is:function(t){return null==t||!R(t)||"string"==typeof t},pattern:/[^\/]*/},int:{encode:t,decode:function(t){return parseInt(t,10)},is:function(t){return t!==n&&null!==t&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return t===!0||t===!1},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):n},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):n},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:e.toJson,decode:e.fromJson,is:e.isObject,equals:e.equals,pattern:/[^\/]*/},any:{encode:e.identity,decode:e.identity,equals:e.equals,pattern:/.*/}};b.$$getDefaultValue=function(t){if(!l(t.value))return t.value;if(!h)throw new Error("Injectable functions cannot be called at configuration time");return h.invoke(t.value)},this.caseInsensitive=function(t){return R(t)&&(p=t),p},this.strictMode=function(t){return R(t)&&(g=t),g},this.defaultSquashPolicy=function(t){if(!R(t))return m;if(t!==!0&&t!==!1&&!z(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return m=t,t},this.compile=function(t,e){return new S(t,U(a(),e))},this.isMatcher=function(t){if(!B(t))return!1;var e=!0;return Y(S.prototype,function(n,i){H(n)&&(e=e&&R(t[i])&&H(t[i]))}),e},this.type=function(t,e,n){if(!R(e))return y[t];if(y.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return y[t]=new T(U({name:t},e)),n&&(x.push({name:t,def:n}),v||u()),this},Y(M,function(t,e){y[e]=new T(U({name:e},t))}),y=i(y,{}),this.$get=["$injector",function(t){return h=t,v=!1,u(),Y(M,function(t,e){y[e]||(y[e]=new T(t))}),this}],this.Param=function(t,i,r,a){function u(t){var e=B(t)?o(t):[],n=s(e,"value")===-1&&s(e,"type")===-1&&s(e,"squash")===-1&&s(e,"array")===-1;return n&&(t={value:t}),t.$$fn=l(t.value)?t.value:function(){return t.value},t}function c(n,i,r){if(n.type&&i)throw new Error("Param '"+t+"' has two type configurations.");return i?i:n.type?e.isString(n.type)?y[n.type]:n.type instanceof T?n.type:new T(n.type):"config"===r?y.any:y.string}function p(){var e={array:"search"===a&&"auto"},n=t.match(/\[\]$/)?{array:!0}:{};return U(e,n,r).array}function g(t,e){var n=t.squash;if(!e||n===!1)return!1;if(!R(n)||null==n)return m;if(n===!0||z(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function v(t,e,i,r){var a,o,l=[{from:"",to:i||e?n:""},{from:null,to:i||e?n:""}];return a=W(t.replace)?t.replace:[],z(r)&&a.push({from:r,to:n}),o=f(a,function(t){return t.from}),d(l,function(t){return s(o,t.from)===-1}).concat(a)}function S(){if(!h)throw new Error("Injectable functions cannot be called at configuration time");var t=h.invoke(r.$$fn);
if(null!==t&&t!==n&&!M.type.is(t))throw new Error("Default value ("+t+") for parameter '"+M.id+"' is not an instance of Type ("+M.type.name+")");return t}function b(t){function e(t){return function(e){return e.from===t}}function n(t){var n=f(d(M.replace,e(t)),function(t){return t.to});return n.length?n[0]:t}return t=n(t),R(t)?M.type.$normalize(t):S()}function x(){return"{Param:"+t+" "+i+" squash: '"+C+"' optional: "+A+"}"}var M=this;r=u(r),i=c(r,i,a);var w=p();i=w?i.$asArray(w,"search"===a):i,"string"!==i.name||w||"path"!==a||r.value!==n||(r.value="");var A=r.value!==n,C=g(r,A),k=v(r,w,A,C);U(this,{id:t,type:i,location:a,array:w,squash:C,replace:k,isOptional:A,value:b,dynamic:n,config:r,toString:x})},c.prototype={$$new:function(){return i(this,U(new c,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],n=this,i=o(c.prototype);n;)e.push(n),n=n.$$parent;return e.reverse(),Y(e,function(e){Y(o(e),function(e){s(t,e)===-1&&s(i,e)===-1&&t.push(e)})}),t},$$values:function(t){var e={},n=this;return Y(n.$$keys(),function(i){e[i]=n[i].value(t&&t[i])}),e},$$equals:function(t,e){var n=!0,i=this;return Y(i.$$keys(),function(r){var a=t&&t[r],o=e&&e[r];i[r].type.equals(a,o)||(n=!1)}),n},$$validates:function(t){var i,r,a,o,s,l=this.$$keys();for(i=0;i<l.length&&(r=this[l[i]],a=t[l[i]],a!==n&&null!==a||!r.isOptional);i++){if(o=r.type.$normalize(a),!r.type.is(o))return!1;if(s=r.type.encode(o),e.isString(s)&&!r.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=c}function x(t,i){function r(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function a(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}function o(t,e,n){if(!n)return!1;var i=t.invoke(e,e,{$match:n});return!R(i)||i}function s(i,r,a,o,s){function p(t,e,n){return"/"===m?t:e?m.slice(0,-1)+t:n?m.slice(1)+t:t}function d(t){function e(t){var e=t(a,i);return!!e&&(z(e)&&i.replace().url(e),!0)}if(!t||!t.defaultPrevented){g&&i.url()===g,g=n;var r,o=u.length;for(r=0;r<o;r++)if(e(u[r]))return;c&&e(c)}}function f(){return l=l||r.$on("$locationChangeSuccess",d)}var g,m=o.baseHref(),y=i.url();return h||f(),{sync:function(){d()},listen:function(){return f()},update:function(t){return t?void(y=i.url()):void(i.url()!==y&&(i.url(y),i.replace()))},push:function(t,e,r){var a=t.format(e||{});null!==a&&e&&e["#"]&&(a+="#"+e["#"]),i.url(a),g=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,a){if(!n.validates(r))return null;var o=t.html5Mode();e.isObject(o)&&(o=o.enabled),o=o&&s.history;var l=n.format(r);if(a=a||{},o||null===l||(l="#"+t.hashPrefix()+l),null!==l&&r&&r["#"]&&(l+="#"+r["#"]),l=p(l,o,a.absolute),!a.absolute||!l)return l;var u=!o&&l?"/":"",c=i.port();return c=80===c||443===c?"":":"+c,[i.protocol(),"://",i.host(),c,u,l].join("")}}}var l,u=[],c=null,h=!1;this.rule=function(t){if(!H(t))throw new Error("'rule' must be a function");return u.push(t),this},this.otherwise=function(t){if(z(t)){var e=t;t=function(){return e}}else if(!H(t))throw new Error("'rule' must be a function");return c=t,this},this.when=function(t,e){var n,s=z(e);if(z(t)&&(t=i.compile(t)),!s&&!H(e)&&!W(e))throw new Error("invalid 'handler' in when()");var l={matcher:function(t,e){return s&&(n=i.compile(e),e=["$match",function(t){return n.format(t)}]),U(function(n,i){return o(n,e,t.exec(i.path(),i.search()))},{prefix:z(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=e,e=["$match",function(t){return a(n,t)}]),U(function(n,i){return o(n,e,t.exec(i.path()))},{prefix:r(t)})}},u={matcher:i.isMatcher(t),regex:t instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===n&&(t=!0),h=t},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function M(t,r){function a(t){return 0===t.indexOf(".")||0===t.indexOf("^")}function p(t,e){if(!t)return n;var i=z(t),r=i?t:t.name,o=a(r);if(o){if(!e)throw new Error("No reference point given for path '"+r+"'");e=p(e);for(var s=r.split("."),l=0,u=s.length,c=e;l<u;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!c.parent)throw new Error("Path '"+r+"' not valid for state '"+e.name+"'");c=c.parent}else c=e;s=s.slice(l).join("."),r=c.name+(c.name&&s?".":"")+s}var h=C[r];return!h||!i&&(i||h!==t&&h.self!==t)?n:h}function d(t,e){k[t]||(k[t]=[]),k[t].push(e)}function m(t){for(var e=k[t]||[];e.length;)y(e.shift())}function y(e){e=i(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}});var n=e.name;if(!z(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(C.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var r=n.indexOf(".")!==-1?n.substring(0,n.lastIndexOf(".")):z(e.parent)?e.parent:B(e.parent)&&z(e.parent.name)?e.parent.name:"";if(r&&!C[r])return d(r,e.self);for(var a in $)H($[a])&&(e[a]=$[a](e,$.$delegates[a]));return C[n]=e,!e[D]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,n){A.$current.navigable==e&&u(t,n)||A.transitionTo(e,t,{inherit:!0,location:!1})}]),m(n),e}function v(t){return t.indexOf("*")>-1}function S(t){for(var e=t.split("."),n=A.$current.name.split("."),i=0,r=e.length;i<r;i++)"*"===e[i]&&(n[i]="*");return"**"===e[0]&&(n=n.slice(s(n,e[1])),n.unshift("**")),"**"===e[e.length-1]&&(n.splice(s(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length==n.length&&n.join("")===e.join("")}function T(t,e){return z(t)&&!R(e)?$[t]:H(e)&&z(t)?($[t]&&!$.$delegates[t]&&($.$delegates[t]=$[t]),$[t]=e,this):this}function b(t,e){return B(t)?e=t:e.name=t,y(e),this}function x(t,r,a,s,u,h,d,m,y){function T(e,n,i,a){var o=t.$broadcast("$stateNotFound",e,n,i);if(o.defaultPrevented)return d.update(),P;if(!o.retry)return null;if(a.$retry)return d.update(),E;var s=A.transition=r.when(o.retry);return s.then(function(){return s!==A.transition?(t.$broadcast("$stateChangeCancel",e.to,e.toParams,n,i),k):(e.options.$retry=!0,A.transitionTo(e.to,e.toParams,e.options))},function(){return P}),d.update(),s}function b(t,n,i,o,l,h){function p(){var n=[];return Y(t.views,function(i,r){var o=i.resolve&&i.resolve!==t.resolve?i.resolve:{};o.$template=[function(){return a.load(r,{view:i,locals:l.globals,params:d,notify:h.notify})||""}],n.push(u.resolve(o,l.globals,l.resolve,t).then(function(n){if(H(i.controllerProvider)||W(i.controllerProvider)){var a=e.extend({},o,l.globals);n.$$controller=s.invoke(i.controllerProvider,null,a)}else n.$$controller=i.controller;n.$$state=t,n.$$controllerAs=i.controllerAs,n.$$resolveAs=i.resolveAs,l[r]=n}))}),r.all(n).then(function(){return l.globals})}var d=i?n:c(t.params.$$keys(),n),f={$stateParams:d};l.resolve=u.resolve(t.resolve,f,l.resolve,t);var g=[l.resolve.then(function(t){l.globals=t})];return o&&g.push(o),r.all(g).then(p).then(function(t){return l})}var x=new Error("transition superseded"),k=g(r.reject(x)),$=g(r.reject(new Error("transition prevented"))),P=g(r.reject(new Error("transition aborted"))),E=g(r.reject(new Error("transition failed")));return w.locals={resolve:null,globals:{$stateParams:{}}},A={params:{},current:w.self,$current:w,transition:null},A.reload=function(t){return A.transitionTo(A.current,h,{reload:t||!0,inherit:!1,notify:!0})},A.go=function(t,e,n){return A.transitionTo(t,e,U({inherit:!0,relative:A.$current},n))},A.transitionTo=function(e,n,a){n=n||{},a=U({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},a||{});var o,u=A.$current,f=A.params,m=u.path,y=p(e,a.relative),v=n["#"];if(!R(y)){var S={to:e,toParams:n,options:a},C=T(S,u.self,f,a);if(C)return C;if(e=S.to,n=S.toParams,a=S.options,y=p(e,a.relative),!R(y)){if(!a.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+a.relative+"'")}}if(y[D])throw new Error("Cannot transition to abstract state '"+e+"'");if(a.inherit&&(n=l(h,n||{},A.$current,y)),!y.params.$$validates(n))return E;n=y.params.$$values(n),e=y;var P=e.path,O=0,_=P[O],L=w.locals,N=[];if(a.reload){if(z(a.reload)||B(a.reload)){if(B(a.reload)&&!a.reload.name)throw new Error("Invalid reload state object");var X=a.reload===!0?m[0]:p(a.reload);if(a.reload&&!X)throw new Error("No such reload state '"+(z(a.reload)?a.reload:a.reload.name)+"'");for(;_&&_===m[O]&&_!==X;)L=N[O]=_.locals,O++,_=P[O]}}else for(;_&&_===m[O]&&_.ownParams.$$equals(n,f);)L=N[O]=_.locals,O++,_=P[O];if(M(e,n,u,f,L,a))return v&&(n["#"]=v),A.params=n,V(A.params,h),V(c(e.params.$$keys(),h),e.locals.globals.$stateParams),a.location&&e.navigable&&e.navigable.url&&(d.push(e.navigable.url,n,{$$avoidResync:!0,replace:"replace"===a.location}),d.update(!0)),A.transition=null,r.when(A.current);if(n=c(e.params.$$keys(),n||{}),v&&(n["#"]=v),a.notify&&t.$broadcast("$stateChangeStart",e.self,n,u.self,f,a).defaultPrevented)return t.$broadcast("$stateChangeCancel",e.self,n,u.self,f),null==A.transition&&d.update(),$;for(var F=r.when(L),I=O;I<P.length;I++,_=P[I])L=N[I]=i(L),F=b(_,n,_===e,F,L,a);var H=A.transition=F.then(function(){var i,r,o;if(A.transition!==H)return t.$broadcast("$stateChangeCancel",e.self,n,u.self,f),k;for(i=m.length-1;i>=O;i--)o=m[i],o.self.onExit&&s.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(i=O;i<P.length;i++)r=P[i],r.locals=N[i],r.self.onEnter&&s.invoke(r.self.onEnter,r.self,r.locals.globals);return A.transition!==H?(t.$broadcast("$stateChangeCancel",e.self,n,u.self,f),k):(A.$current=e,A.current=e.self,A.params=n,V(A.params,h),A.transition=null,a.location&&e.navigable&&d.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===a.location}),a.notify&&t.$broadcast("$stateChangeSuccess",e.self,n,u.self,f),d.update(!0),A.current)}).then(null,function(i){return i===x?k:A.transition!==H?(t.$broadcast("$stateChangeCancel",e.self,n,u.self,f),k):(A.transition=null,o=t.$broadcast("$stateChangeError",e.self,n,u.self,f,i),o.defaultPrevented||d.update(),r.reject(i))});return g(H),H},A.is=function(t,e,i){i=U({relative:A.$current},i||{});var r=p(t,i.relative);return R(r)?A.$current===r&&(!e||o(e).reduce(function(t,n){var i=r.params[n];return t&&!i||i.type.equals(h[n],e[n])},!0)):n},A.includes=function(t,e,i){if(i=U({relative:A.$current},i||{}),z(t)&&v(t)){if(!S(t))return!1;t=A.$current.name}var r=p(t,i.relative);if(!R(r))return n;if(!R(A.$current.includes[r.name]))return!1;if(!e)return!0;for(var a=o(e),s=0;s<a.length;s++){var l=a[s],u=r.params[l];if(u&&!u.type.equals(h[l],e[l]))return!1}return o(e).reduce(function(t,n){var i=r.params[n];return t&&!i||i.type.equals(h[n],e[n])},!0)},A.href=function(t,e,i){i=U({lossy:!0,inherit:!0,absolute:!1,relative:A.$current},i||{});var r=p(t,i.relative);if(!R(r))return null;i.inherit&&(e=l(h,e||{},A.$current,r));var a=r&&i.lossy?r.navigable:r;return a&&a.url!==n&&null!==a.url?d.href(a.url,c(r.params.$$keys().concat("#"),e||{}),{absolute:i.absolute}):null},A.get=function(t,e){if(0===arguments.length)return f(o(C),function(t){return C[t].self});var n=p(t,e||A.$current);return n&&n.self?n.self:null},A}function M(t,e,n,i,r,a){function o(t,e,n){function i(e){return"search"!=t.params[e].location}var r=t.params.$$keys().filter(i),a=h.apply({},[t.params].concat(r)),o=new q.ParamSet(a);return o.$$equals(e,n)}if(!a.reload&&t===n&&(r===n.locals||t.self.reloadOnSearch===!1&&o(n,i,e)))return!0}var w,A,C={},k={},D="abstract",$={parent:function(t){if(R(t.parent)&&t.parent)return p(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?p(e[1]):w},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=i(t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(z(e))return"^"==e.charAt(0)?r.compile(e.substring(1),n):(t.parent.navigable||w).url.concat(e,n);if(!e||r.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var e=t.url&&t.url.params||new q.ParamSet;return Y(t.params||{},function(t,n){e[n]||(e[n]=new q.Param(n,null,t,"config"))}),e},params:function(t){var e=h(t.ownParams,t.ownParams.$$keys());return t.parent&&t.parent.params?U(t.parent.params.$$new(),e):new q.ParamSet},views:function(t){var e={};return Y(R(t.views)?t.views:{"":t},function(n,i){i.indexOf("@")<0&&(i+="@"+t.parent.name),n.resolveAs=n.resolveAs||t.resolveAs||"$resolve",e[i]=n}),e},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?U({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};w=y({name:"",url:"^",views:null,abstract:!0}),w.navigable=null,this.decorator=T,this.state=b,this.$get=x,x.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function t(t,e){return{load:function(t,n){var i,r={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=U(r,n),n.view&&(i=e.fromConfig(n.view,n.params,n.locals)),i}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function A(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]}function C(t,n,i,r,a){function o(){return n.has?function(t){return n.has(t)?n.get(t):null}:function(t){try{return n.get(t)}catch(t){return null}}}function s(t,n){var i=function(){return{enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}}};if(c)return{enter:function(t,n,i){e.version.minor>2?c.enter(t,null,n).then(i):c.enter(t,null,n,i)},leave:function(t,n){e.version.minor>2?c.leave(t).then(n):c.leave(t,n)}};if(u){var r=u&&u(n,t);return{enter:function(t,e,n){r.enter(t,null,e),n()},leave:function(t,e){r.leave(t),e()}}}return i()}var l=o(),u=l("$animator"),c=l("$animate"),h={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,l){return function(n,o,u){function c(){if(p&&(p.remove(),p=null),f&&(f.$destroy(),f=null),d){var t=d.data("$uiViewAnim");v.leave(d,function(){t.$$animLeave.resolve(),p=null}),p=d,d=null}}function h(s){var h,p=D(n,u,o,r),S=p&&t.$current&&t.$current.locals[p];if(s||S!==g){h=n.$new(),g=t.$current.locals[p],h.$emit("$viewContentLoading",p);var T=l(h,function(t){var r=a.defer(),s=a.defer(),l={$animEnter:r.promise,$animLeave:s.promise,$$animLeave:s};t.data("$uiViewAnim",l),v.enter(t,o,function(){r.resolve(),f&&f.$emit("$viewContentAnimationEnded"),(e.isDefined(y)&&!y||n.$eval(y))&&i(t)}),c()});d=T,f=h,f.$emit("$viewContentLoaded",p),f.$eval(m)}}var p,d,f,g,m=u.onload||"",y=u.autoscroll,v=s(u,n);o.inheritedData("$uiView"),n.$on("$stateChangeSuccess",function(){h(!1)}),h(!0)}}};return h}function k(t,n,i,r){return{restrict:"ECA",priority:-400,compile:function(a){var o=a.html();return a.empty?a.empty():a[0].innerHTML=null,function(a,s,l){var u=i.$current,c=D(a,l,s,r),h=u&&u.locals[c];if(!h)return s.html(o),void t(s.contents())(a);s.data("$uiView",{name:c,state:h.$$state}),s.html(h.$template?h.$template:o);var p=e.extend({},h);a[h.$$resolveAs]=p;var d=t(s.contents());if(h.$$controller){h.$scope=a,h.$element=s;var f=n(h.$$controller,h);h.$$controllerAs&&(a[h.$$controllerAs]=f,a[h.$$controllerAs][h.$$resolveAs]=p),H(f.$onInit)&&f.$onInit(),s.data("$ngControllerController",f),s.children().data("$ngControllerController",f)}d(a)}}}}function D(t,e,n,i){var r=i(e.uiView||e.name||"")(t),a=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(a?a.state.name:"")}function $(t,e){var n,i=t.match(/^\s*({[^}]*})\s*$/);if(i&&(t=e+"("+i[1]+")"),n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function P(t){var e=t.parent().inheritedData("$uiView");if(e&&e.state&&e.state.name)return e.state}function E(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function O(t,e,n,i,r){return function(a){var o=a.which||a.button,s=r();if(!(o>1||a.ctrlKey||a.metaKey||a.shiftKey||t.attr("target"))){var l=n(function(){e.go(s.state,s.params,s.options)});a.preventDefault();var u=i.isAnchor&&!s.href?1:0;a.preventDefault=function(){u--<=0&&n.cancel(l)}}}}function _(t,e){return{relative:P(t)||e.$current,inherit:!0}}function L(t,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,a,o){var s,l=$(a.uiSref,t.current.name),u={state:l.state,href:null,params:null},c=E(r),h=o[1]||o[0],p=null;u.options=U(_(r,t),a.uiSrefOpts?i.$eval(a.uiSrefOpts):{});var d=function(n){n&&(u.params=e.copy(n)),u.href=t.href(l.state,u.params,u.options),p&&p(),h&&(p=h.$$addStateInfo(l.state,u.params)),null!==u.href&&a.$set(c.attr,u.href)};l.paramExpr&&(i.$watch(l.paramExpr,function(t){t!==u.params&&d(t)},!0),u.params=e.copy(i.$eval(l.paramExpr))),d(),c.clickable&&(s=O(r,t,n,c,function(){return u}),r[r.on?"on":"bind"]("click",s),i.$on("$destroy",function(){r[r.off?"off":"unbind"]("click",s)}))}}}function N(t,e){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,r,a){function o(e){p.state=e[0],p.params=e[1],p.options=e[2],p.href=t.href(p.state,p.params,p.options),d&&d(),u&&(d=u.$$addStateInfo(p.state,p.params)),p.href&&r.$set(l.attr,p.href)}var s,l=E(i),u=a[1]||a[0],c=[r.uiState,r.uiStateParams||null,r.uiStateOpts||null],h="["+c.map(function(t){return t||"null"}).join(", ")+"]",p={state:null,params:null,options:null,href:null},d=null;n.$watch(h,o,!0),o(n.$eval(h)),l.clickable&&(s=O(i,t,e,l,function(){return p}),i[i.on?"on":"bind"]("click",s),n.$on("$destroy",function(){i[i.off?"off":"unbind"]("click",s)}))}}}function X(t,e,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(e,i,r,a){function o(e,n,r){var a=t.get(e,P(i)),o=s(e,n),l={state:a||{name:e},params:n,hash:o};return g.push(l),m[o]=r,function(){var t=g.indexOf(l);t!==-1&&g.splice(t,1)}}function s(t,n){if(!z(t))throw new Error("state should be a string");return B(n)?t+j(n):(n=e.$eval(n),B(n)?t+j(n):t)}function l(){for(var t=0;t<g.length;t++)h(g[t].state,g[t].params)?u(i,m[g[t].hash]):c(i,m[g[t].hash]),p(g[t].state,g[t].params)?u(i,d):c(i,d)}function u(t,e){a(function(){t.addClass(e)})}function c(t,e){t.removeClass(e)}function h(e,n){return t.includes(e.name,n)}function p(e,n){return t.is(e.name,n)}var d,f,g=[],m={};d=n(r.uiSrefActiveEq||"",!1)(e);try{f=e.$eval(r.uiSrefActive)}catch(t){}f=f||n(r.uiSrefActive||"",!1)(e),B(f)&&Y(f,function(n,i){if(z(n)){var r=$(n,t.current.name);o(r.state,e.$eval(r.paramExpr),i)}}),this.$$addStateInfo=function(t,e){if(!(B(f)&&g.length>0)){var n=o(t,e,f);return l(),n}},e.$on("$stateChangeSuccess",l),l()}]}}function F(t){var e=function(e,n){return t.is(e,n)};return e.$stateful=!0,e}function I(t){var e=function(e,n,i){return t.includes(e,n,i)};return e.$stateful=!0,e}var R=e.isDefined,H=e.isFunction,z=e.isString,B=e.isObject,W=e.isArray,Y=e.forEach,U=e.extend,V=e.copy,j=e.toJson;e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",m),e.module("ui.router.util").provider("$templateFactory",y);var q;S.prototype.concat=function(t,e){var n={caseInsensitive:q.caseInsensitive(),strict:q.strictMode(),squash:q.defaultSquashPolicy()};return new S(this.sourcePath+t+this.sourceSearch,U(n,e),this)},S.prototype.toString=function(){return this.source},S.prototype.exec=function(t,e){function n(t){function e(t){return t.split("").reverse().join("")}function n(t){return t.replace(/\\-/g,"-")}var i=e(t).split(/-(?!\\)/),r=f(i,e);return f(r,n).reverse()}var i=this.regexp.exec(t);if(!i)return null;e=e||{};var r,a,o,s=this.parameters(),l=s.length,u=this.segments.length-1,c={};if(u!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var h,p;for(r=0;r<u;r++){for(o=s[r],h=this.params[o],p=i[r+1],a=0;a<h.replace.length;a++)h.replace[a].from===p&&(p=h.replace[a].to);p&&h.array===!0&&(p=n(p)),R(p)&&(p=h.type.decode(p)),c[o]=h.value(p)}for(;r<l;r++){for(o=s[r],c[o]=this.params[o].value(e[o]),h=this.params[o],p=e[o],a=0;a<h.replace.length;a++)h.replace[a].from===p&&(p=h.replace[a].to);R(p)&&(p=h.type.decode(p)),c[o]=h.value(p)}return c},S.prototype.parameters=function(t){return R(t)?this.params[t]||null:this.$$paramNames},S.prototype.validates=function(t){return this.params.$$validates(t)},S.prototype.format=function(t){function e(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}t=t||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(t))return null;var a,o=!1,s=n.length-1,l=i.length,u=n[0];for(a=0;a<l;a++){var c=a<s,h=i[a],p=r[h],d=p.value(t[h]),g=p.isOptional&&p.type.equals(p.value(),d),m=!!g&&p.squash,y=p.type.encode(d);if(c){var v=n[a+1],S=a+1===s;if(m===!1)null!=y&&(u+=W(y)?f(y,e).join("-"):encodeURIComponent(y)),u+=v;else if(m===!0){var T=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=v.match(T)[1]}else z(m)&&(u+=m+v);S&&p.squash===!0&&"/"===u.slice(-1)&&(u=u.slice(0,-1))}else{if(null==y||g&&m!==!1)continue;if(W(y)||(y=[y]),0===y.length)continue;y=f(y,encodeURIComponent).join("&"+h+"="),u+=(o?"&":"?")+(h+"="+y),o=!0}}return u},T.prototype.is=function(t,e){return!0},T.prototype.encode=function(t,e){return t},T.prototype.decode=function(t,e){return t},T.prototype.equals=function(t,e){return t==e},T.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},T.prototype.pattern=/.*/,T.prototype.toString=function(){return"{Type:"+this.name+"}"},T.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},T.prototype.$asArray=function(t,e){function i(t,e){function i(t,e){return function(){return t[e].apply(t,arguments)}}function r(t){return W(t)?t:R(t)?[t]:[]}function a(t){switch(t.length){case 0:return n;case 1:return"auto"===e?t[0]:t;default:return t}}function o(t){return!t}function s(t,e){return function(n){if(W(n)&&0===n.length)return n;n=r(n);var i=f(n,t);return e===!0?0===d(i,o).length:a(i)}}function l(t){return function(e,n){var i=r(e),a=r(n);if(i.length!==a.length)return!1;for(var o=0;o<i.length;o++)if(!t(i[o],a[o]))return!1;return!0}}this.encode=s(i(t,"encode")),this.decode=s(i(t,"decode")),this.is=s(i(t,"is"),!0),this.equals=l(i(t,"equals")),this.pattern=t.pattern,this.$normalize=s(i(t,"$normalize")),this.name=t.name,this.$arrayMode=e}if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new i(this,t)},e.module("ui.router.util").provider("$urlMatcherFactory",b),e.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]),x.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",x),M.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",M).run(["$injector",function(t){t.get("$state.runtime").autoinject&&t.get("$state")}]),w.$inject=[],e.module("ui.router.state").provider("$view",w),e.module("ui.router.state").provider("$uiViewScroll",A),C.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],k.$inject=["$compile","$controller","$state","$interpolate"],e.module("ui.router.state").directive("uiView",C),e.module("ui.router.state").directive("uiView",k),L.$inject=["$state","$timeout"],N.$inject=["$state","$timeout"],X.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",L).directive("uiSrefActive",X).directive("uiSrefActiveEq",X).directive("uiState",N),F.$inject=["$state"],I.$inject=["$state"],e.module("ui.router.state").filter("isState",F).filter("includedByState",I)}(window,window.angular),function(t,e){"use strict";function n(t){var e=[];return h(e,l).chars(t),e.join("")}var i,r,a,o,s,l,u,c,h,p=e.$$minErr("$sanitize");e.module("ngSanitize",[]).provider("$sanitize",function(){function n(t,e){var n,i={},r=t.split(",");for(n=0;n<r.length;n++)i[e?s(r[n]):r[n]]=!0;return i}function d(t){for(var e={},n=0,i=t.length;n<i;n++){var r=t[n];e[r.name]=r.value}return e}function f(t){return t.replace(/&/g,"&amp;").replace(S,function(t){var e=t.charCodeAt(0);return t=t.charCodeAt(1),"&#"+(1024*(e-55296)+(t-56320)+65536)+";"}).replace(T,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function g(e){for(;e;){if(e.nodeType===t.Node.ELEMENT_NODE)for(var n=e.attributes,i=0,r=n.length;i<r;i++){var a=n[i],o=a.name.toLowerCase();"xmlns:ns1"!==o&&0!==o.lastIndexOf("ns1:",0)||(e.removeAttributeNode(a),i--,r--)}(n=e.firstChild)&&g(n),e=m("nextSibling",e)}}function m(t,e){var n=e[t];if(n&&u.call(e,n))throw p("elclob",e.outerHTML||e.outerText);return n}var y=!1;this.$get=["$$sanitizeUri",function(t){return y&&r(k,A),function(e){var n=[];return c(e,h(n,function(e,n){return!/^unsafe:/.test(t(e,n))})),n.join("")}}],this.enableSvg=function(t){return o(t)?(y=t,this):y},i=e.bind,r=e.extend,a=e.forEach,o=e.isDefined,s=e.lowercase,l=e.noop,c=function(e,n){null===e||void 0===e?e="":"string"!=typeof e&&(e=""+e),v.innerHTML=e;var i=5;do{if(0===i)throw p("uinput");i--,t.document.documentMode&&g(v),e=v.innerHTML,v.innerHTML=e}while(e!==v.innerHTML);for(i=v.firstChild;i;){switch(i.nodeType){case 1:n.start(i.nodeName.toLowerCase(),d(i.attributes));break;case 3:n.chars(i.textContent)}var r;if(!(r=i.firstChild)&&(1===i.nodeType&&n.end(i.nodeName.toLowerCase()),r=m("nextSibling",i),!r))for(;null==r&&(i=m("parentNode",i),i!==v);)r=m("nextSibling",i),1===i.nodeType&&n.end(i.nodeName.toLowerCase());i=r}for(;i=v.firstChild;)v.removeChild(i)},h=function(t,e){var n=!1,r=i(t,t.push);return{start:function(t,i){t=s(t),!n&&C[t]&&(n=t),n||!0!==k[t]||(r("<"),r(t),a(i,function(n,i){var a=s(i),o="img"===t&&"src"===a||"background"===a;!0!==$[a]||!0===D[a]&&!e(n,o)||(r(" "),r(i),r('="'),r(f(n)),r('"'))}),r(">"))},end:function(t){t=s(t),n||!0!==k[t]||!0===b[t]||(r("</"),r(t),r(">")),t==n&&(n=!1)},chars:function(t){n||r(f(t))}}},u=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};var v,S=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,T=/([^#-~ |!])/g,b=n("area,br,col,hr,img,wbr"),x=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),M=n("rp,rt"),w=r({},M,x),x=r({},x,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),M=r({},M,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),A=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),C=n("script,style"),k=r({},b,x,M,w),D=n("background,cite,href,longdesc,src,xlink:href"),w=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),M=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),$=r({},D,M,w);!function(t){if(!t.document||!t.document.implementation)throw p("noinert");t=t.document.implementation.createHTMLDocument("inert");var e=(t.documentElement||t.getDocumentElement()).getElementsByTagName("body");1===e.length?v=e[0]:(e=t.createElement("html"),v=t.createElement("body"),e.appendChild(v),t.appendChild(e))}(t)}).info({angularVersion:"1.6.4"}),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var i=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,a=e.$$minErr("linky"),o=e.isDefined,s=e.isFunction,l=e.isObject,u=e.isString;return function(e,c,h){function p(t){t&&v.push(n(t))}function d(t,e){var n,i=m(t);v.push("<a ");for(n in i)v.push(n+'="'+i[n]+'" ');!o(c)||"target"in i||v.push('target="',c,'" '),v.push('href="',t.replace(/"/g,"&quot;"),'">'),p(e),v.push("</a>")}if(null==e||""===e)return e;if(!u(e))throw a("notstring",e);for(var f,g,m=s(h)?h:l(h)?function(){return h}:function(){return{}},y=e,v=[];e=y.match(i);)f=e[0],e[2]||e[4]||(f=(e[3]?"http://":"mailto:")+f),g=e.index,p(y.substr(0,g)),d(f,e[0].replace(r,"")),y=y.substring(g+e[0].length);return p(y),t(v.join(""))}}])}(window,window.angular),function(t,e,n){function i(e,n){var i,r;if(t.isArray(e)){for(i=e.length-1;i>=0;i--)r=e[i],"string"===t.type(r)&&l.transports[r]||(n.log("Invalid transport: "+r+", removing it from the transports list."),e.splice(i,1));0===e.length&&(n.log("No transports remain within the specified transport array."),e=null)}else if(l.transports[e]||"auto"===e){if("auto"===e&&l._.ieVersion<=8)return["longPolling"]}else n.log("Invalid transport: "+e.toString()+"."),e=null;return e}function r(t){return"http:"===t?80:"https:"===t?443:void 0}function a(t,e){return e.match(/:\d+$/)?e:e+":"+r(t)}function o(e,n){var i=this,r=[];i.tryBuffer=function(n){return e.state===t.signalR.connectionState.connecting&&(r.push(n),!0)},i.drain=function(){if(e.state===t.signalR.connectionState.connected)for(;r.length>0;)n(r.shift())},i.clear=function(){r=[]}}var s={nojQuery:"jQuery was not found. Please ensure jQuery is referenced before the SignalR client JavaScript file.",noTransportOnInit:"No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization.",errorOnNegotiate:"Error during negotiation request.",stoppedWhileLoading:"The connection was stopped during page load.",stoppedWhileNegotiating:"The connection was stopped during the negotiate request.",errorParsingNegotiateResponse:"Error parsing negotiate response.",errorDuringStartRequest:"Error during start request. Stopping the connection.",stoppedDuringStartRequest:"The connection was stopped during the start request.",errorParsingStartResponse:"Error parsing start response: '{0}'. Stopping the connection.",invalidStartResponse:"Invalid start response: '{0}'. Stopping the connection.",protocolIncompatible:"You are using a version of the client that isn't compatible with the server. Client version {0}, server version {1}.",sendFailed:"Send failed.",parseFailed:"Failed at parsing response: {0}",longPollFailed:"Long polling request failed.",eventSourceFailedToConnect:"EventSource failed to connect.",
eventSourceError:"Error raised by EventSource",webSocketClosed:"WebSocket closed.",pingServerFailedInvalidResponse:"Invalid ping response when pinging server: '{0}'.",pingServerFailed:"Failed to ping server.",pingServerFailedStatusCode:"Failed to ping server.  Server responded with status code {0}, stopping the connection.",pingServerFailedParse:"Failed to parse ping server response, stopping the connection.",noConnectionTransport:"Connection is in an invalid state, there is no transport active.",webSocketsInvalidState:"The Web Socket transport is in an invalid state, transitioning into reconnecting.",reconnectTimeout:"Couldn't reconnect within the configured timeout of {0} ms, disconnecting.",reconnectWindowTimeout:"The client has been inactive since {0} and it has exceeded the inactivity timeout of {1} ms. Stopping the connection."};if("function"!=typeof t)throw new Error(s.nojQuery);var l,u,c="complete"===e.document.readyState,h=t(e),p="__Negotiate Aborted__",d={onStart:"onStart",onStarting:"onStarting",onReceived:"onReceived",onError:"onError",onConnectionSlow:"onConnectionSlow",onReconnecting:"onReconnecting",onReconnect:"onReconnect",onStateChanged:"onStateChanged",onDisconnect:"onDisconnect"},f=function(t,n){if(n!==!1){var i;"undefined"!=typeof e.console&&(i="["+(new Date).toTimeString()+"] SignalR: "+t,e.console.debug?e.console.debug(i):e.console.log&&e.console.log(i))}},g=function(e,n,i){return n===e.state&&(e.state=i,t(e).triggerHandler(d.onStateChanged,[{oldState:n,newState:i}]),!0)},m=function(t){return t.state===l.connectionState.disconnected},y=function(t){return t._.keepAliveData.activated&&t.transport.supportsKeepAlive(t)},v=function(n){var i,r;n._.configuredStopReconnectingTimeout||(r=function(e){var n=l._.format(l.resources.reconnectTimeout,e.disconnectTimeout);e.log(n),t(e).triggerHandler(d.onError,[l._.error(n,"TimeoutException")]),e.stop(!1,!1)},n.reconnecting(function(){var t=this;t.state===l.connectionState.reconnecting&&(i=e.setTimeout(function(){r(t)},t.disconnectTimeout))}),n.stateChanged(function(t){t.oldState===l.connectionState.reconnecting&&e.clearTimeout(i)}),n._.configuredStopReconnectingTimeout=!0)};l=function(t,e,n){return new l.fn.init(t,e,n)},l._={defaultContentType:"application/x-www-form-urlencoded; charset=UTF-8",ieVersion:function(){var t,n;return"Microsoft Internet Explorer"===e.navigator.appName&&(n=/MSIE ([0-9]+\.[0-9]+)/.exec(e.navigator.userAgent),n&&(t=e.parseFloat(n[1]))),t}(),error:function(t,e,n){var i=new Error(t);return i.source=e,"undefined"!=typeof n&&(i.context=n),i},transportError:function(t,e,i,r){var a=this.error(t,i,r);return a.transport=e?e.name:n,a},format:function(){for(var t=arguments[0],e=0;e<arguments.length-1;e++)t=t.replace("{"+e+"}",arguments[e+1]);return t},firefoxMajorVersion:function(t){var e=t.match(/Firefox\/(\d+)/);return!e||!e.length||e.length<2?0:parseInt(e[1],10)},configurePingInterval:function(n){var i=n._.config,r=function(e){t(n).triggerHandler(d.onError,[e])};i&&!n._.pingIntervalId&&i.pingInterval&&(n._.pingIntervalId=e.setInterval(function(){l.transports._logic.pingServer(n).fail(r)},i.pingInterval))}},l.events=d,l.resources=s,l.ajaxDefaults={processData:!0,timeout:null,async:!0,global:!1,cache:!1},l.changeState=g,l.isDisconnecting=m,l.connectionState={connecting:0,connected:1,reconnecting:2,disconnected:4},l.hub={start:function(){throw new Error("SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='/signalr/js'></script>.")}},h.load(function(){c=!0}),l.fn=l.prototype={init:function(e,n,i){var r=t(this);this.url=e,this.qs=n,this.lastError=null,this._={keepAliveData:{},connectingMessageBuffer:new o(this,function(t){r.triggerHandler(d.onReceived,[t])}),lastMessageAt:(new Date).getTime(),lastActiveAt:(new Date).getTime(),beatInterval:5e3,beatHandle:null,totalTransportConnectTimeout:0},"boolean"==typeof i&&(this.logging=i)},_parseResponse:function(t){var e=this;return t&&"string"==typeof t?e.json.parse(t):t},_originalJson:e.JSON,json:e.JSON,isCrossDomain:function(n,i){var r;return n=t.trim(n),i=i||e.location,0===n.indexOf("http")&&(r=e.document.createElement("a"),r.href=n,r.protocol+a(r.protocol,r.host)!==i.protocol+a(i.protocol,i.host))},ajaxDataType:"text",contentType:"application/json; charset=UTF-8",logging:!1,state:l.connectionState.disconnected,clientProtocol:"1.5",reconnectDelay:2e3,transportConnectTimeout:0,disconnectTimeout:3e4,reconnectWindow:3e4,keepAliveWarnAt:2/3,start:function(n,r){var a,o,u,f=this,m={pingInterval:3e5,waitForPageLoad:!0,transport:"auto",jsonp:!1},S=f._deferral||t.Deferred(),T=e.document.createElement("a");if(f.lastError=null,f._deferral=S,!f.json)throw new Error("SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8.");if("function"===t.type(n)?r=n:"object"===t.type(n)&&(t.extend(m,n),"function"===t.type(m.callback)&&(r=m.callback)),m.transport=i(m.transport,f),!m.transport)throw new Error("SignalR: Invalid transport(s) specified, aborting start.");return f._.config=m,c||m.waitForPageLoad!==!0?f.state===l.connectionState.connecting?S.promise():g(f,l.connectionState.disconnected,l.connectionState.connecting)===!1?(S.resolve(f),S.promise()):(v(f),T.href=f.url,T.protocol&&":"!==T.protocol?(f.protocol=T.protocol,f.host=T.host):(f.protocol=e.document.location.protocol,f.host=T.host||e.document.location.host),f.baseUrl=f.protocol+"//"+f.host,f.wsProtocol="https:"===f.protocol?"wss://":"ws://","auto"===m.transport&&m.jsonp===!0&&(m.transport="longPolling"),0===f.url.indexOf("//")&&(f.url=e.location.protocol+f.url,f.log("Protocol relative URL detected, normalizing it to '"+f.url+"'.")),this.isCrossDomain(f.url)&&(f.log("Auto detected cross domain url."),"auto"===m.transport&&(m.transport=["webSockets","serverSentEvents","longPolling"]),"undefined"==typeof m.withCredentials&&(m.withCredentials=!0),m.jsonp||(m.jsonp=!t.support.cors,m.jsonp&&f.log("Using jsonp because this browser doesn't support CORS.")),f.contentType=l._.defaultContentType),f.withCredentials=m.withCredentials,f.ajaxDataType=m.jsonp?"jsonp":"text",t(f).bind(d.onStart,function(){"function"===t.type(r)&&r.call(f),S.resolve(f)}),f._.initHandler=l.transports._logic.initHandler(f),a=function(n,i){var r=l._.error(s.noTransportOnInit);if(i=i||0,i>=n.length)return 0===i?f.log("No transports supported by the server were selected."):1===i?f.log("No fallback transports were selected."):f.log("Fallback transports exhausted."),t(f).triggerHandler(d.onError,[r]),S.reject(r),void f.stop();if(f.state!==l.connectionState.disconnected){var o=n[i],u=l.transports[o],c=function(){a(n,i+1)};f.transport=u;try{f._.initHandler.start(u,function(){var n=l._.firefoxMajorVersion(e.navigator.userAgent)>=11,i=!!f.withCredentials&&n;f.log("The start request succeeded. Transitioning to the connected state."),y(f)&&l.transports._logic.monitorKeepAlive(f),l.transports._logic.startHeartbeat(f),l._.configurePingInterval(f),g(f,l.connectionState.connecting,l.connectionState.connected)||f.log("WARNING! The connection was not in the connecting state."),f._.connectingMessageBuffer.drain(),t(f).triggerHandler(d.onStart),h.bind("unload",function(){f.log("Window unloading, stopping the connection."),f.stop(i)}),n&&h.bind("beforeunload",function(){e.setTimeout(function(){f.stop(i)},0)})},c)}catch(t){f.log(u.name+" transport threw '"+t.message+"' when attempting to start."),c()}}},o=f.url+"/negotiate",u=function(e,n){var i=l._.error(s.errorOnNegotiate,e,n._.negotiateRequest);t(n).triggerHandler(d.onError,i),S.reject(i),n.stop()},t(f).triggerHandler(d.onStarting),o=l.transports._logic.prepareQueryString(f,o),f.log("Negotiating with '"+o+"'."),f._.negotiateRequest=l.transports._logic.ajax(f,{url:o,error:function(t,e){e!==p?u(t,f):S.reject(l._.error(s.stoppedWhileNegotiating,null,f._.negotiateRequest))},success:function(e){var n,i,r,o=[],c=[];try{n=f._parseResponse(e)}catch(t){return void u(l._.error(s.errorParsingNegotiateResponse,t),f)}return i=f._.keepAliveData,f.appRelativeUrl=n.Url,f.id=n.ConnectionId,f.token=n.ConnectionToken,f.webSocketServerUrl=n.WebSocketServerUrl,f._.pollTimeout=1e3*n.ConnectionTimeout+1e4,f.disconnectTimeout=1e3*n.DisconnectTimeout,f._.totalTransportConnectTimeout=f.transportConnectTimeout+1e3*n.TransportConnectTimeout,n.KeepAliveTimeout?(i.activated=!0,i.timeout=1e3*n.KeepAliveTimeout,i.timeoutWarning=i.timeout*f.keepAliveWarnAt,f._.beatInterval=(i.timeout-i.timeoutWarning)/3):i.activated=!1,f.reconnectWindow=f.disconnectTimeout+(i.timeout||0),n.ProtocolVersion&&n.ProtocolVersion===f.clientProtocol?(t.each(l.transports,function(t){return 0===t.indexOf("_")||"webSockets"===t&&!n.TryWebSockets||void c.push(t)}),t.isArray(m.transport)?t.each(m.transport,function(e,n){t.inArray(n,c)>=0&&o.push(n)}):"auto"===m.transport?o=c:t.inArray(m.transport,c)>=0&&o.push(m.transport),void a(o)):(r=l._.error(l._.format(s.protocolIncompatible,f.clientProtocol,n.ProtocolVersion)),t(f).triggerHandler(d.onError,[r]),void S.reject(r))}}),S.promise()):(f._.deferredStartHandler=function(){f.start(n,r)},h.bind("load",f._.deferredStartHandler),S.promise())},starting:function(e){var n=this;return t(n).bind(d.onStarting,function(){e.call(n)}),n},send:function(t){var e=this;if(e.state===l.connectionState.disconnected)throw new Error("SignalR: Connection must be started before data can be sent. Call .start() before .send()");if(e.state===l.connectionState.connecting)throw new Error("SignalR: Connection has not been fully initialized. Use .start().done() or .start().fail() to run logic after the connection has started.");return e.transport.send(e,t),e},received:function(e){var n=this;return t(n).bind(d.onReceived,function(t,i){e.call(n,i)}),n},stateChanged:function(e){var n=this;return t(n).bind(d.onStateChanged,function(t,i){e.call(n,i)}),n},error:function(e){var n=this;return t(n).bind(d.onError,function(t,i,r){n.lastError=i,e.call(n,i,r)}),n},disconnected:function(e){var n=this;return t(n).bind(d.onDisconnect,function(){e.call(n)}),n},connectionSlow:function(e){var n=this;return t(n).bind(d.onConnectionSlow,function(){e.call(n)}),n},reconnecting:function(e){var n=this;return t(n).bind(d.onReconnecting,function(){e.call(n)}),n},reconnected:function(e){var n=this;return t(n).bind(d.onReconnect,function(){e.call(n)}),n},stop:function(n,i){var r=this,a=r._deferral;return r._.deferredStartHandler&&h.unbind("load",r._.deferredStartHandler),delete r._.config,delete r._.deferredStartHandler,c||r._.config&&r._.config.waitForPageLoad!==!0?r.state!==l.connectionState.disconnected?(r.log("Stopping connection."),g(r,r.state,l.connectionState.disconnected),e.clearTimeout(r._.beatHandle),e.clearInterval(r._.pingIntervalId),r.transport&&(r.transport.stop(r),i!==!1&&r.transport.abort(r,n),y(r)&&l.transports._logic.stopMonitoringKeepAlive(r),r.transport=null),r._.negotiateRequest&&(r._.negotiateRequest.abort(p),delete r._.negotiateRequest),r._.initHandler&&r._.initHandler.stop(),t(r).triggerHandler(d.onDisconnect),delete r._deferral,delete r.messageId,delete r.groupsToken,delete r.id,delete r._.pingIntervalId,delete r._.lastMessageAt,delete r._.lastActiveAt,r._.connectingMessageBuffer.clear(),r):void 0:(r.log("Stopping connection prior to negotiate."),void(a&&a.reject(l._.error(s.stoppedWhileLoading))))},log:function(t){f(t,this.logging)}},l.fn.init.prototype=l.fn,l.noConflict=function(){return t.connection===l&&(t.connection=u),l},t.connection&&(u=t.connection),t.connection=t.signalR=l}(window.jQuery,window),function(t,e,n){function i(t){t._.keepAliveData.monitoring&&r(t),s.markActive(t)&&(t._.beatHandle=e.setTimeout(function(){i(t)},t._.beatInterval))}function r(e){var n,i=e._.keepAliveData;e.state===l.connectionState.connected&&(n=(new Date).getTime()-e._.lastMessageAt,n>=i.timeout?(e.log("Keep alive timed out.  Notifying transport that connection has been lost."),e.transport.lostConnection(e)):n>=i.timeoutWarning?i.userNotified||(e.log("Keep alive has been missed, connection may be dead/slow."),t(e).triggerHandler(u.onConnectionSlow),i.userNotified=!0):i.userNotified=!1)}function a(t,e){var n=t.url+e;return t.transport&&(n+="?transport="+t.transport.name),s.prepareQueryString(t,n)}function o(t){this.connection=t,this.startRequested=!1,this.startCompleted=!1,this.connectionStopped=!1}var s,l=t.signalR,u=t.signalR.events,c=t.signalR.changeState,h="__Start Aborted__";l.transports={},o.prototype={start:function(t,i,r){var a=this,o=a.connection,s=!1;return a.startRequested||a.connectionStopped?void o.log("WARNING! "+t.name+" transport cannot be started. Initialization ongoing or completed."):(o.log(t.name+" transport starting."),a.transportTimeoutHandle=e.setTimeout(function(){s||(s=!0,o.log(t.name+" transport timed out when trying to connect."),a.transportFailed(t,n,r))},o._.totalTransportConnectTimeout),void t.start(o,function(){s||a.initReceived(t,i)},function(e){return s||(s=!0,a.transportFailed(t,e,r)),!a.startCompleted||a.connectionStopped}))},stop:function(){this.connectionStopped=!0,e.clearTimeout(this.transportTimeoutHandle),l.transports._logic.tryAbortStartRequest(this.connection)},initReceived:function(t,n){var i=this,r=i.connection;return i.startRequested?void r.log("WARNING! The client received multiple init messages."):void(i.connectionStopped||(i.startRequested=!0,e.clearTimeout(i.transportTimeoutHandle),r.log(t.name+" transport connected. Initiating start request."),l.transports._logic.ajaxStart(r,function(){i.startCompleted=!0,n()})))},transportFailed:function(n,i,r){var a,o=this.connection,s=o._deferral;this.connectionStopped||(e.clearTimeout(this.transportTimeoutHandle),this.startRequested?this.startCompleted||(a=l._.error(l.resources.errorDuringStartRequest,i),o.log(n.name+" transport failed during the start request. Stopping the connection."),t(o).triggerHandler(u.onError,[a]),s&&s.reject(a),o.stop()):(n.stop(o),o.log(n.name+" transport failed to connect. Attempting to fall back."),r()))}},s=l.transports._logic={ajax:function(e,n){return t.ajax(t.extend(!0,{},t.signalR.ajaxDefaults,{type:"GET",data:{},xhrFields:{withCredentials:e.withCredentials},contentType:e.contentType,dataType:e.ajaxDataType},n))},pingServer:function(e){var n,i,r=t.Deferred();return e.transport?(n=e.url+"/ping",n=s.addQs(n,e.qs),i=s.ajax(e,{url:n,success:function(t){var n;try{n=e._parseResponse(t)}catch(t){return r.reject(l._.transportError(l.resources.pingServerFailedParse,e.transport,t,i)),void e.stop()}"pong"===n.Response?r.resolve():r.reject(l._.transportError(l._.format(l.resources.pingServerFailedInvalidResponse,t),e.transport,null,i))},error:function(t){401===t.status||403===t.status?(r.reject(l._.transportError(l._.format(l.resources.pingServerFailedStatusCode,t.status),e.transport,t,i)),e.stop()):r.reject(l._.transportError(l.resources.pingServerFailed,e.transport,t,i))}})):r.reject(l._.transportError(l.resources.noConnectionTransport,e.transport)),r.promise()},prepareQueryString:function(t,n){var i;return i=s.addQs(n,"clientProtocol="+t.clientProtocol),i=s.addQs(i,t.qs),t.token&&(i+="&connectionToken="+e.encodeURIComponent(t.token)),t.data&&(i+="&connectionData="+e.encodeURIComponent(t.data)),i},addQs:function(e,n){var i,r=e.indexOf("?")!==-1?"&":"?";if(!n)return e;if("object"==typeof n)return e+r+t.param(n);if("string"==typeof n)return i=n.charAt(0),("?"===i||"&"===i)&&(r=""),e+r+n;throw new Error("Query string property must be either a string or object.")},getUrl:function(t,n,i,r,a){var o="webSockets"===n?"":t.baseUrl,l=o+t.appRelativeUrl,u="transport="+n;return!a&&t.groupsToken&&(u+="&groupsToken="+e.encodeURIComponent(t.groupsToken)),i?(l+=r?"/poll":"/reconnect",!a&&t.messageId&&(u+="&messageId="+e.encodeURIComponent(t.messageId))):l+="/connect",l+="?"+u,l=s.prepareQueryString(t,l),a||(l+="&tid="+Math.floor(11*Math.random())),l},maximizePersistentResponse:function(t){return{MessageId:t.C,Messages:t.M,Initialized:"undefined"!=typeof t.S,ShouldReconnect:"undefined"!=typeof t.T,LongPollDelay:t.L,GroupsToken:t.G}},updateGroups:function(t,e){e&&(t.groupsToken=e)},stringifySend:function(t,e){return"string"==typeof e||"undefined"==typeof e||null===e?e:t.json.stringify(e)},ajaxSend:function(e,n){var i,r=s.stringifySend(e,n),o=a(e,"/send"),c=function(e,r){t(r).triggerHandler(u.onError,[l._.transportError(l.resources.sendFailed,r.transport,e,i),n])};return i=s.ajax(e,{url:o,type:"jsonp"===e.ajaxDataType?"GET":"POST",contentType:l._.defaultContentType,data:{data:r},success:function(t){var n;if(t){try{n=e._parseResponse(t)}catch(t){return c(t,e),void e.stop()}s.triggerReceived(e,n)}},error:function(t,n){"abort"!==n&&"parsererror"!==n&&c(t,e)}})},ajaxAbort:function(t,e){if("undefined"!=typeof t.transport){e="undefined"==typeof e||e;var n=a(t,"/abort");s.ajax(t,{url:n,async:e,timeout:1e3,type:"POST"}),t.log("Fired ajax abort async = "+e+".")}},ajaxStart:function(e,n){var i=function(t){var n=e._deferral;n&&n.reject(t)},r=function(n){e.log("The start request failed. Stopping the connection."),t(e).triggerHandler(u.onError,[n]),i(n),e.stop()};e._.startRequest=s.ajax(e,{url:a(e,"/start"),success:function(t,i,a){var o;try{o=e._parseResponse(t)}catch(e){return void r(l._.error(l._.format(l.resources.errorParsingStartResponse,t),e,a))}"started"===o.Response?n():r(l._.error(l._.format(l.resources.invalidStartResponse,t),null,a))},error:function(t,n,a){n!==h?r(l._.error(l.resources.errorDuringStartRequest,a,t)):(e.log("The start request aborted because connection.stop() was called."),i(l._.error(l.resources.stoppedDuringStartRequest,null,t)))}})},tryAbortStartRequest:function(t){t._.startRequest&&(t._.startRequest.abort(h),delete t._.startRequest)},tryInitialize:function(t,e){t.Initialized&&e()},triggerReceived:function(e,n){e._.connectingMessageBuffer.tryBuffer(n)||t(e).triggerHandler(u.onReceived,[n])},processMessages:function(e,n,i){var r;s.markLastMessage(e),n&&(r=s.maximizePersistentResponse(n),s.updateGroups(e,r.GroupsToken),r.MessageId&&(e.messageId=r.MessageId),r.Messages&&(t.each(r.Messages,function(t,n){s.triggerReceived(e,n)}),s.tryInitialize(r,i)))},monitorKeepAlive:function(e){var n=e._.keepAliveData;n.monitoring?e.log("Tried to monitor keep alive but it's already being monitored."):(n.monitoring=!0,s.markLastMessage(e),e._.keepAliveData.reconnectKeepAliveUpdate=function(){s.markLastMessage(e)},t(e).bind(u.onReconnect,e._.keepAliveData.reconnectKeepAliveUpdate),e.log("Now monitoring keep alive with a warning timeout of "+n.timeoutWarning+", keep alive timeout of "+n.timeout+" and disconnecting timeout of "+e.disconnectTimeout))},stopMonitoringKeepAlive:function(e){var n=e._.keepAliveData;n.monitoring&&(n.monitoring=!1,t(e).unbind(u.onReconnect,e._.keepAliveData.reconnectKeepAliveUpdate),e._.keepAliveData={},e.log("Stopping the monitoring of the keep alive."))},startHeartbeat:function(t){t._.lastActiveAt=(new Date).getTime(),i(t)},markLastMessage:function(t){t._.lastMessageAt=(new Date).getTime()},markActive:function(t){return!!s.verifyLastActive(t)&&(t._.lastActiveAt=(new Date).getTime(),!0)},isConnectedOrReconnecting:function(t){return t.state===l.connectionState.connected||t.state===l.connectionState.reconnecting},ensureReconnectingState:function(e){return c(e,l.connectionState.connected,l.connectionState.reconnecting)===!0&&t(e).triggerHandler(u.onReconnecting),e.state===l.connectionState.reconnecting},clearReconnectTimeout:function(t){t&&t._.reconnectTimeout&&(e.clearTimeout(t._.reconnectTimeout),delete t._.reconnectTimeout)},verifyLastActive:function(e){if((new Date).getTime()-e._.lastActiveAt>=e.reconnectWindow){var n=l._.format(l.resources.reconnectWindowTimeout,new Date(e._.lastActiveAt),e.reconnectWindow);return e.log(n),t(e).triggerHandler(u.onError,[l._.error(n,"TimeoutException")]),e.stop(!1,!1),!1}return!0},reconnect:function(t,n){var i=l.transports[n];if(s.isConnectedOrReconnecting(t)&&!t._.reconnectTimeout){if(!s.verifyLastActive(t))return;t._.reconnectTimeout=e.setTimeout(function(){s.verifyLastActive(t)&&(i.stop(t),s.ensureReconnectingState(t)&&(t.log(n+" reconnecting."),i.start(t)))},t.reconnectDelay)}},handleParseFailure:function(e,n,i,r,a){var o=l._.transportError(l._.format(l.resources.parseFailed,n),e.transport,i,a);r&&r(o)?e.log("Failed to parse server response while attempting to connect."):(t(e).triggerHandler(u.onError,[o]),e.stop())},initHandler:function(t){return new o(t)},foreverFrame:{count:0,connections:{}}}}(window.jQuery,window),function(t,e){var n=t.signalR,i=t.signalR.events,r=t.signalR.changeState,a=n.transports._logic;n.transports.webSockets={name:"webSockets",supportsKeepAlive:function(){return!0},send:function(e,r){var o=a.stringifySend(e,r);try{e.socket.send(o)}catch(a){t(e).triggerHandler(i.onError,[n._.transportError(n.resources.webSocketsInvalidState,e.transport,a,e.socket),r])}},start:function(o,s,l){var u,c=!1,h=this,p=!s,d=t(o);return e.WebSocket?void(o.socket||(u=o.webSocketServerUrl?o.webSocketServerUrl:o.wsProtocol+o.host,u+=a.getUrl(o,this.name,p),o.log("Connecting to websocket endpoint '"+u+"'."),o.socket=new e.WebSocket(u),o.socket.onopen=function(){c=!0,o.log("Websocket opened."),a.clearReconnectTimeout(o),r(o,n.connectionState.reconnecting,n.connectionState.connected)===!0&&d.triggerHandler(i.onReconnect)},o.socket.onclose=function(e){var r;this===o.socket&&(c&&"undefined"!=typeof e.wasClean&&e.wasClean===!1?(r=n._.transportError(n.resources.webSocketClosed,o.transport,e),o.log("Unclean disconnect from websocket: "+(e.reason||"[no reason given]."))):o.log("Websocket closed."),l&&l(r)||(r&&t(o).triggerHandler(i.onError,[r]),h.reconnect(o)))},o.socket.onmessage=function(e){var n;try{n=o._parseResponse(e.data)}catch(t){return void a.handleParseFailure(o,e.data,t,l,e)}n&&(t.isEmptyObject(n)||n.M?a.processMessages(o,n,s):a.triggerReceived(o,n))})):void l()},reconnect:function(t){a.reconnect(t,this.name)},lostConnection:function(t){this.reconnect(t)},stop:function(t){a.clearReconnectTimeout(t),t.socket&&(t.log("Closing the Websocket."),t.socket.close(),t.socket=null)},abort:function(t,e){a.ajaxAbort(t,e)}}}(window.jQuery,window),function(t,e){var n=t.signalR,i=t.signalR.events,r=t.signalR.changeState,a=n.transports._logic,o=function(t){e.clearTimeout(t._.reconnectAttemptTimeoutHandle),delete t._.reconnectAttemptTimeoutHandle};n.transports.serverSentEvents={name:"serverSentEvents",supportsKeepAlive:function(){return!0},timeOut:3e3,start:function(s,l,u){var c,h=this,p=!1,d=t(s),f=!l;if(s.eventSource&&(s.log("The connection already has an event source. Stopping it."),s.stop()),!e.EventSource)return void(u&&(s.log("This browser doesn't support SSE."),u()));c=a.getUrl(s,this.name,f);try{s.log("Attempting to connect to SSE endpoint '"+c+"'."),s.eventSource=new e.EventSource(c,{withCredentials:s.withCredentials})}catch(t){return s.log("EventSource failed trying to connect with error "+t.Message+"."),void(u?u():(d.triggerHandler(i.onError,[n._.transportError(n.resources.eventSourceFailedToConnect,s.transport,t)]),f&&h.reconnect(s)))}f&&(s._.reconnectAttemptTimeoutHandle=e.setTimeout(function(){p===!1&&s.eventSource.readyState!==e.EventSource.OPEN&&h.reconnect(s)},h.timeOut)),s.eventSource.addEventListener("open",function(){s.log("EventSource connected."),o(s),a.clearReconnectTimeout(s),p===!1&&(p=!0,r(s,n.connectionState.reconnecting,n.connectionState.connected)===!0&&d.triggerHandler(i.onReconnect))},!1),s.eventSource.addEventListener("message",function(t){var e;if("initialized"!==t.data){try{e=s._parseResponse(t.data)}catch(e){return void a.handleParseFailure(s,t.data,e,u,t)}a.processMessages(s,e,l)}},!1),s.eventSource.addEventListener("error",function(t){var r=n._.transportError(n.resources.eventSourceError,s.transport,t);this===s.eventSource&&(u&&u(r)||(s.log("EventSource readyState: "+s.eventSource.readyState+"."),t.eventPhase===e.EventSource.CLOSED?(s.log("EventSource reconnecting due to the server connection ending."),h.reconnect(s)):(s.log("EventSource error."),d.triggerHandler(i.onError,[r]))))},!1)},reconnect:function(t){a.reconnect(t,this.name)},lostConnection:function(t){this.reconnect(t)},send:function(t,e){a.ajaxSend(t,e)},stop:function(t){o(t),a.clearReconnectTimeout(t),t&&t.eventSource&&(t.log("EventSource calling close()."),t.eventSource.close(),t.eventSource=null,delete t.eventSource)},abort:function(t,e){a.ajaxAbort(t,e)}}}(window.jQuery,window),function(t,e){var n=t.signalR,i=t.signalR.events,r=t.signalR.changeState,a=n.transports._logic,o=function(){var t=e.document.createElement("iframe");return t.setAttribute("style","position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;"),t},s=function(){var t=null,i=1e3,r=0;return{prevent:function(){n._.ieVersion<=8&&(0===r&&(t=e.setInterval(function(){var t=o();e.document.body.appendChild(t),e.document.body.removeChild(t),t=null},i)),r++)},cancel:function(){1===r&&e.clearInterval(t),r>0&&r--}}}();n.transports.foreverFrame={name:"foreverFrame",supportsKeepAlive:function(){return!0},iframeClearThreshold:50,start:function(t,n,i){var r,l=this,u=a.foreverFrame.count+=1,c=o(),h=function(){t.log("Forever frame iframe finished loading and is no longer receiving messages."),i&&i()||l.reconnect(t)};return e.EventSource?void(i&&(t.log("Forever Frame is not supported by SignalR on browsers with SSE support."),i())):(c.setAttribute("data-signalr-connection-id",t.id),s.prevent(),r=a.getUrl(t,this.name),r+="&frameId="+u,e.document.documentElement.appendChild(c),t.log("Binding to iframe's load event."),c.addEventListener?c.addEventListener("load",h,!1):c.attachEvent&&c.attachEvent("onload",h),c.src=r,a.foreverFrame.connections[u]=t,t.frame=c,t.frameId=u,void(n&&(t.onSuccess=function(){t.log("Iframe transport started."),n()})))},reconnect:function(t){var n=this;a.isConnectedOrReconnecting(t)&&a.verifyLastActive(t)&&e.setTimeout(function(){if(a.verifyLastActive(t)&&t.frame&&a.ensureReconnectingState(t)){var e=t.frame,i=a.getUrl(t,n.name,!0)+"&frameId="+t.frameId;t.log("Updating iframe src to '"+i+"'."),e.src=i}},t.reconnectDelay)},lostConnection:function(t){this.reconnect(t)},send:function(t,e){a.ajaxSend(t,e)},receive:function(e,i){var r,o,s;if(e.json!==e._originalJson&&(i=e._originalJson.stringify(i)),s=e._parseResponse(i),a.processMessages(e,s,e.onSuccess),e.state===t.signalR.connectionState.connected&&(e.frameMessageCount=(e.frameMessageCount||0)+1,e.frameMessageCount>n.transports.foreverFrame.iframeClearThreshold&&(e.frameMessageCount=0,r=e.frame.contentWindow||e.frame.contentDocument,r&&r.document&&r.document.body)))for(o=r.document.body;o.firstChild;)o.removeChild(o.firstChild)},stop:function(t){var n=null;if(s.cancel(),t.frame){if(t.frame.stop)t.frame.stop();else try{n=t.frame.contentWindow||t.frame.contentDocument,n.document&&n.document.execCommand&&n.document.execCommand("Stop")}catch(e){t.log("Error occured when stopping foreverFrame transport. Message = "+e.message+".")}t.frame.parentNode===e.document.body&&e.document.body.removeChild(t.frame),delete a.foreverFrame.connections[t.frameId],t.frame=null,t.frameId=null,delete t.frame,delete t.frameId,delete t.onSuccess,delete t.frameMessageCount,t.log("Stopping forever frame.")}},abort:function(t,e){a.ajaxAbort(t,e)},getConnection:function(t){return a.foreverFrame.connections[t]},started:function(e){r(e,n.connectionState.reconnecting,n.connectionState.connected)===!0&&t(e).triggerHandler(i.onReconnect)}}}(window.jQuery,window),function(t,e){var n=t.signalR,i=t.signalR.events,r=t.signalR.changeState,a=t.signalR.isDisconnecting,o=n.transports._logic;n.transports.longPolling={name:"longPolling",supportsKeepAlive:function(){return!1},reconnectDelay:3e3,start:function(s,l,u){var c=this,h=function(){h=t.noop,s.log("LongPolling connected."),l()},p=function(t){return!!u(t)&&(s.log("LongPolling failed to connect."),!0)},d=s._,f=0,g=function(a){e.clearTimeout(d.reconnectTimeoutId),d.reconnectTimeoutId=null,r(a,n.connectionState.reconnecting,n.connectionState.connected)===!0&&(a.log("Raising the reconnect event"),t(a).triggerHandler(i.onReconnect))},m=36e5;s.pollXhr&&(s.log("Polling xhr requests already exists, aborting."),s.stop()),s.messageId=null,d.reconnectTimeoutId=null,d.pollTimeoutId=e.setTimeout(function(){!function r(l,u){var y=l.messageId,v=null===y,S=!v,T=!u,b=o.getUrl(l,c.name,S,T,!0),x={};l.messageId&&(x.messageId=l.messageId),l.groupsToken&&(x.groupsToken=l.groupsToken),a(l)!==!0&&(s.log("Opening long polling request to '"+b+"'."),l.pollXhr=o.ajax(s,{xhrFields:{onprogress:function(){o.markLastMessage(s)}},url:b,type:"POST",contentType:n._.defaultContentType,data:x,timeout:s._.pollTimeout,success:function(n){var i,u,c,m=0;s.log("Long poll complete."),f=0;try{i=s._parseResponse(n)}catch(t){return void o.handleParseFailure(l,n,t,p,l.pollXhr)}null!==d.reconnectTimeoutId&&g(l),i&&(u=o.maximizePersistentResponse(i)),o.processMessages(l,i,h),u&&"number"===t.type(u.LongPollDelay)&&(m=u.LongPollDelay),a(l)!==!0&&(c=u&&u.ShouldReconnect,!c||o.ensureReconnectingState(l))&&(m>0?d.pollTimeoutId=e.setTimeout(function(){r(l,c)},m):r(l,c))},error:function(a,u){var h=n._.transportError(n.resources.longPollFailed,s.transport,a,l.pollXhr);if(e.clearTimeout(d.reconnectTimeoutId),d.reconnectTimeoutId=null,"abort"===u)return void s.log("Aborted xhr request.");if(!p(h)){if(f++,s.state!==n.connectionState.reconnecting&&(s.log("An error occurred using longPolling. Status = "+u+".  Response = "+a.responseText+"."),t(l).triggerHandler(i.onError,[h])),(s.state===n.connectionState.connected||s.state===n.connectionState.reconnecting)&&!o.verifyLastActive(s))return;if(!o.ensureReconnectingState(l))return;d.pollTimeoutId=e.setTimeout(function(){r(l,!0)},c.reconnectDelay)}}}),S&&u===!0&&(d.reconnectTimeoutId=e.setTimeout(function(){g(l)},Math.min(1e3*(Math.pow(2,f)-1),m))))}(s)},250)},lostConnection:function(t){t.pollXhr&&t.pollXhr.abort("lostConnection")},send:function(t,e){o.ajaxSend(t,e)},stop:function(t){e.clearTimeout(t._.pollTimeoutId),e.clearTimeout(t._.reconnectTimeoutId),delete t._.pollTimeoutId,delete t._.reconnectTimeoutId,t.pollXhr&&(t.pollXhr.abort(),t.pollXhr=null,delete t.pollXhr)},abort:function(t,e){o.ajaxAbort(t,e)}}}(window.jQuery,window),function(t){function e(t){return t+l}function n(t,e,n){for(var i=t.length,r=[],a=0;a<i;a+=1)t.hasOwnProperty(a)&&(r[a]=e.call(n,t[a],a,t));return r}function i(e){return t.isFunction(e)?null:"undefined"===t.type(e)?null:e}function r(t){for(var e in t)if(t.hasOwnProperty(e))return!0;return!1}function a(t,e){var n,i,a=t._.invocationCallbacks;r(a)&&t.log("Clearing hub invocation callbacks with error: "+e+"."),t._.invocationCallbackId=0,delete t._.invocationCallbacks,t._.invocationCallbacks={};for(i in a)n=a[i],n.method.call(n.scope,{E:e})}function o(t,e){return new o.fn.init(t,e)}function s(e,n){var i={qs:null,logging:!1,useDefaultPath:!0};return t.extend(i,n),(!e||i.useDefaultPath)&&(e=(e||"")+"/signalr"),new s.fn.init(e,i)}var l=".hubProxy",u=t.signalR;o.fn=o.prototype={init:function(t,e){this.state={},this.connection=t,this.hubName=e,this._={callbackMap:{}}},constructor:o,hasSubscriptions:function(){return r(this._.callbackMap)},on:function(n,i){var r=this,a=r._.callbackMap;return n=n.toLowerCase(),a[n]||(a[n]={}),a[n][i]=function(t,e){i.apply(r,e)},t(r).bind(e(n),a[n][i]),r},off:function(n,i){var a,o=this,s=o._.callbackMap;return n=n.toLowerCase(),a=s[n],a&&(a[i]?(t(o).unbind(e(n),a[i]),delete a[i],r(a)||delete s[n]):i||(t(o).unbind(e(n)),delete s[n])),o},invoke:function(e){var r=this,a=r.connection,o=t.makeArray(arguments).slice(1),s=n(o,i),l={H:r.hubName,M:e,A:s,I:a._.invocationCallbackId},c=t.Deferred(),h=function(n){var i,o,s=r._maximizeHubResponse(n);t.extend(r.state,s.State),s.Progress?c.notifyWith?c.notifyWith(r,[s.Progress.Data]):a._.progressjQueryVersionLogged||(a.log("A hub method invocation progress update was received but the version of jQuery in use ("+t.prototype.jquery+") does not support progress updates. Upgrade to jQuery 1.7+ to receive progress notifications."),
a._.progressjQueryVersionLogged=!0):s.Error?(s.StackTrace&&a.log(s.Error+"\n"+s.StackTrace+"."),i=s.IsHubException?"HubException":"Exception",o=u._.error(s.Error,i),o.data=s.ErrorData,a.log(r.hubName+"."+e+" failed to execute. Error: "+o.message),c.rejectWith(r,[o])):(a.log("Invoked "+r.hubName+"."+e),c.resolveWith(r,[s.Result]))};return a._.invocationCallbacks[a._.invocationCallbackId.toString()]={scope:r,method:h},a._.invocationCallbackId+=1,t.isEmptyObject(r.state)||(l.S=r.state),a.log("Invoking "+r.hubName+"."+e),a.send(l),c.promise()},_maximizeHubResponse:function(t){return{State:t.S,Result:t.R,Progress:t.P?{Id:t.P.I,Data:t.P.D}:null,Id:t.I,IsHubException:t.H,Error:t.E,StackTrace:t.T,ErrorData:t.D}}},o.fn.init.prototype=o.fn,s.fn=s.prototype=t.connection(),s.fn.init=function(n,i){var r={qs:null,logging:!1,useDefaultPath:!0},o=this;t.extend(r,i),t.signalR.fn.init.call(o,n,r.qs,r.logging),o.proxies={},o._.invocationCallbackId=0,o._.invocationCallbacks={},o.received(function(n){var i,r,a,s,l,u;n&&("undefined"!=typeof n.P?(a=n.P.I.toString(),s=o._.invocationCallbacks[a],s&&s.method.call(s.scope,n)):"undefined"!=typeof n.I?(a=n.I.toString(),s=o._.invocationCallbacks[a],s&&(o._.invocationCallbacks[a]=null,delete o._.invocationCallbacks[a],s.method.call(s.scope,n))):(i=this._maximizeClientHubInvocation(n),o.log("Triggering client hub event '"+i.Method+"' on hub '"+i.Hub+"'."),l=i.Hub.toLowerCase(),u=i.Method.toLowerCase(),r=this.proxies[l],t.extend(r.state,i.State),t(r).triggerHandler(e(u),[i.Args])))}),o.error(function(t,e){var n,i;e&&(n=e.I,i=o._.invocationCallbacks[n],i&&(o._.invocationCallbacks[n]=null,delete o._.invocationCallbacks[n],i.method.call(i.scope,{E:t})))}),o.reconnecting(function(){o.transport&&"webSockets"===o.transport.name&&a(o,"Connection started reconnecting before invocation result was received.")}),o.disconnected(function(){a(o,"Connection was disconnected before invocation result was received.")})},s.fn._maximizeClientHubInvocation=function(t){return{Hub:t.H,Method:t.M,Args:t.A,State:t.S}},s.fn._registerSubscribedHubs=function(){var e=this;e._subscribedToHubs||(e._subscribedToHubs=!0,e.starting(function(){var n=[];t.each(e.proxies,function(t){this.hasSubscriptions()&&(n.push({name:t}),e.log("Client subscribed to hub '"+t+"'."))}),0===n.length&&e.log("No hubs have been subscribed to.  The client will not receive data from hubs.  To fix, declare at least one client side function prior to connection start for each hub you wish to subscribe to."),e.data=e.json.stringify(n)}))},s.fn.createHubProxy=function(t){t=t.toLowerCase();var e=this.proxies[t];return e||(e=o(this,t),this.proxies[t]=e),this._registerSubscribedHubs(),e},s.fn.init.prototype=s.fn,t.hubConnection=s}(window.jQuery,window),function(t){t.signalR.version="2.2.0"}(window.jQuery),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(t,e,n,i){var r=i.has("$animateCss")?i.get("$animateCss"):null;return{link:function(i,a,o){function s(){y=!!("horizontal"in o),y?(v={width:""},S={width:"0"}):(v={height:""},S={height:"0"}),i.$eval(o.uibCollapse)||a.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(v)}function l(t){return y?{width:t.scrollWidth+"px"}:{height:t.scrollHeight+"px"}}function u(){a.hasClass("collapse")&&a.hasClass("in")||e.resolve(d(i)).then(function(){a.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),r?r(a,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:l(a[0])}).start().finally(c):t.addClass(a,"in",{css:{overflow:"hidden"},to:l(a[0])}).then(c)},angular.noop)}function c(){a.removeClass("collapsing").addClass("collapse").css(v),f(i)}function h(){return a.hasClass("collapse")||a.hasClass("in")?void e.resolve(g(i)).then(function(){a.css(l(a[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),r?r(a,{removeClass:"in",to:S}).start().finally(p):t.removeClass(a,"in",{to:S}).then(p)},angular.noop):p()}function p(){a.css(S),a.removeClass("collapsing").addClass("collapse"),m(i)}var d=n(o.expanding),f=n(o.expanded),g=n(o.collapsing),m=n(o.collapsed),y=!1,v={},S={};s(),i.$watch(o.uibCollapse,function(t){t?h():u()})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(t,e,n){n.$observe("disabled",function(t){n.$set("tabindex",t?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(i){var r=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers;r&&angular.forEach(this.groups,function(t){t!==i&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(n){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,n,i){e.addClass("panel"),i.addGroup(t),t.openClass=n.openClass||"panel-open",t.panelClass=n.panelClass||"panel-default",t.$watch("isOpen",function(n){e.toggleClass(t.openClass,!!n),n&&i.closeOthers(t)}),t.toggleOpen=function(e){t.isDisabled||e&&32!==e.which||(t.isOpen=!t.isOpen)};var r="accordiongroup-"+t.$id+"-"+Math.floor(1e4*Math.random());t.headingId=r+"-tab",t.panelId=r+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(t,e,n,i,r){i.setHeading(r(t,angular.noop))}}}).directive("uibAccordionTransclude",function(){function t(){return"uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"}return{require:"^uibAccordionGroup",link:function(e,n,i,r){e.$watch(function(){return r[i.uibAccordionTransclude]},function(e){if(e){var i=angular.element(n[0].querySelector(t()));i.html(""),i.append(e)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(t,e,n,i,r){t.closeable=!!n.close,e.addClass("alert"),n.$set("role","alert"),t.closeable&&e.addClass("alert-dismissible");var a=angular.isDefined(n.dismissOnTimeout)?i(n.dismissOnTimeout)(t.$parent):null;a&&r(function(){t.close()},parseInt(a,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(t,e){return e.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(t){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(e,n,i,r){var a=r[0],o=r[1],s=t(i.uibUncheckable);n.find("input").css({display:"none"}),o.$render=function(){n.toggleClass(a.activeClass,angular.equals(o.$modelValue,e.$eval(i.uibBtnRadio)))},n.on(a.toggleEvent,function(){if(!i.disabled){var t=n.hasClass(a.activeClass);t&&!angular.isDefined(i.uncheckable)||e.$apply(function(){o.$setViewValue(t?null:e.$eval(i.uibBtnRadio)),o.$render()})}}),i.uibUncheckable&&e.$watch(s,function(t){i.$set("uncheckable",t?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(t,e,n,i){function r(){return o(n.btnCheckboxTrue,!0)}function a(){return o(n.btnCheckboxFalse,!1)}function o(e,n){return angular.isDefined(e)?t.$eval(e):n}var s=i[0],l=i[1];e.find("input").css({display:"none"}),l.$render=function(){e.toggleClass(s.activeClass,angular.equals(l.$modelValue,r()))},e.on(s.toggleEvent,function(){n.disabled||t.$apply(function(){l.$setViewValue(e.hasClass(s.activeClass)?a():r()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(t,e,n,i,r){function a(t){for(var e=0;e<g.length;e++)g[e].slide.active=e===t}function o(n,i,o){if(!v){if(angular.extend(n,{direction:o}),angular.extend(g[y].slide||{},{direction:o}),r.enabled(e)&&!t.$currentTransition&&g[i].element&&f.slides.length>1){g[i].element.data(m,n.direction);var s=f.getCurrentIndex();angular.isNumber(s)&&g[s].element&&g[s].element.data(m,n.direction),t.$currentTransition=!0,r.on("addClass",g[i].element,function(e,n){"close"===n&&(t.$currentTransition=null,r.off("addClass",e))})}t.active=n.index,y=n.index,a(i),c()}}function s(t){for(var e=0;e<g.length;e++)if(g[e].slide===t)return e}function l(){p&&(n.cancel(p),p=null)}function u(e){e.length||(t.$currentTransition=null)}function c(){l();var e=+t.interval;!isNaN(e)&&e>0&&(p=n(h,e))}function h(){var e=+t.interval;d&&!isNaN(e)&&e>0&&g.length?t.next():t.pause()}var p,d,f=this,g=f.slides=t.slides=[],m="uib-slideDirection",y=t.active,v=!1;e.addClass("carousel"),f.addSlide=function(e,n){g.push({slide:e,element:n}),g.sort(function(t,e){return+t.slide.index-+e.slide.index}),(e.index===t.active||1===g.length&&!angular.isNumber(t.active))&&(t.$currentTransition&&(t.$currentTransition=null),y=e.index,t.active=e.index,a(y),f.select(g[s(e)]),1===g.length&&t.play())},f.getCurrentIndex=function(){for(var t=0;t<g.length;t++)if(g[t].slide.index===y)return t},f.next=t.next=function(){var e=(f.getCurrentIndex()+1)%g.length;return 0===e&&t.noWrap()?void t.pause():f.select(g[e],"next")},f.prev=t.prev=function(){var e=f.getCurrentIndex()-1<0?g.length-1:f.getCurrentIndex()-1;return t.noWrap()&&e===g.length-1?void t.pause():f.select(g[e],"prev")},f.removeSlide=function(e){var n=s(e);g.splice(n,1),g.length>0&&y===n?n>=g.length?(y=g.length-1,t.active=y,a(y),f.select(g[g.length-1])):(y=n,t.active=y,a(y),f.select(g[n])):y>n&&(y--,t.active=y),0===g.length&&(y=null,t.active=null)},f.select=t.select=function(e,n){var i=s(e.slide);void 0===n&&(n=i>f.getCurrentIndex()?"next":"prev"),e.slide.index===y||t.$currentTransition||o(e.slide,i,n)},t.indexOfSlide=function(t){return+t.slide.index},t.isActive=function(e){return t.active===e.slide.index},t.isPrevDisabled=function(){return 0===t.active&&t.noWrap()},t.isNextDisabled=function(){return t.active===g.length-1&&t.noWrap()},t.pause=function(){t.noPause||(d=!1,l())},t.play=function(){d||(d=!0,c())},e.on("mouseenter",t.pause),e.on("mouseleave",t.play),t.$on("$destroy",function(){v=!0,l()}),t.$watch("noTransition",function(t){r.enabled(e,!t)}),t.$watch("interval",c),t.$watchCollection("slides",u),t.$watch("active",function(t){if(angular.isNumber(t)&&y!==t){for(var e=0;e<g.length;e++)if(g[e].slide.index===t){t=e;break}var n=g[t];n&&(a(t),f.select(g[t]),y=t)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(t){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(e,n,i,r){n.addClass("item"),r.addSlide(e,n),e.$on("$destroy",function(){r.removeSlide(e)}),e.$watch("active",function(e){t[e?"addClass":"removeClass"](n,"active")})}}}]).animation(".item",["$animateCss",function(t){function e(t,e,n){t.removeClass(e),n&&n()}var n="uib-slideDirection";return{beforeAddClass:function(i,r,a){if("active"===r){var o=!1,s=i.data(n),l="next"===s?"left":"right",u=e.bind(this,i,l+" "+s,a);return i.addClass(s),t(i,{addClass:l}).start().done(u),function(){o=!0}}a()},beforeRemoveClass:function(i,r,a){if("active"===r){var o=!1,s=i.data(n),l="next"===s?"left":"right",u=e.bind(this,i,l,a);return t(i,{addClass:l}).start().done(u),function(){o=!0}}a()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(t,e,n,i,r){function a(t){return r(v,{key:t},!0)[0]}function o(t){var e=[],n=t.split(""),r=t.indexOf("'");if(r>-1){var a=!1;t=t.split("");for(var o=r;o<t.length;o++)a?("'"===t[o]&&(o+1<t.length&&"'"===t[o+1]?(t[o+1]="$",n[o+1]=""):(n[o]="",a=!1)),t[o]="$"):"'"===t[o]&&(t[o]="$",n[o]="",a=!0);t=t.join("")}return angular.forEach(v,function(i){var r=t.indexOf(i.key);if(r>-1){t=t.split(""),n[r]="("+i.regex+")",t[r]="$";for(var a=r+1,o=r+i.key.length;o>a;a++)n[a]="",t[a]="$";t=t.join(""),e.push({index:r,key:i.key,apply:i.apply,matcher:i.regex})}}),{regex:new RegExp("^"+n.join("")+"$"),map:i(e,"index")}}function s(t){for(var e,n,i=[],r=0;r<t.length;)if(angular.isNumber(n)){if("'"===t.charAt(r))(r+1>=t.length||"'"!==t.charAt(r+1))&&(i.push(l(t,n,r)),n=null);else if(r===t.length)for(;n<t.length;)e=u(t,n),i.push(e),n=e.endIdx;r++}else"'"!==t.charAt(r)?(e=u(t,r),i.push(e.parser),r=e.endIdx):(n=r,r++);return i}function l(t,e,n){return function(){return t.substr(e+1,n-e-1)}}function u(t,e){for(var n=t.substr(e),i=0;i<v.length;i++)if(new RegExp("^"+v[i].key).test(n)){var r=v[i];return{endIdx:e+r.key.length,parser:r.formatter}}return{endIdx:e+1,parser:function(){return n.charAt(0)}}}function c(t,e,n){return!(1>n)&&(1===e&&n>28?29===n&&(t%4===0&&t%100!==0||t%400===0):3!==e&&5!==e&&8!==e&&10!==e||31>n)}function h(t){return parseInt(t,10)}function p(t,e){return t&&e?m(t,e):t}function d(t,e){return t&&e?m(t,e,!0):t}function f(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function g(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function m(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset(),r=f(e,i);return g(t,n*(r-i))}var y,v,S=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){y=e.id,this.parsers={},this.formatters={},v=[{key:"yyyy",regex:"\\d{4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(t){t=+t,this.year=69>t?t+2e3:t+1900},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){var e=t.getMonth();return/^[0-9]$/.test(e)?n(t,"MM"):n(t,"M")}},{key:"MMMM",regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)},formatter:function(t){return n(t,"MMMM")}},{key:"MMM",regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)},formatter:function(t){return n(t,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return n(t,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return n(t,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){var e=t.getDate();return/^[1-9]$/.test(e)?n(t,"dd"):n(t,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return n(t,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return n(t,"d")}},{key:"EEEE",regex:e.DATETIME_FORMATS.DAY.join("|"),formatter:function(t){return n(t,"EEEE")}},{key:"EEE",regex:e.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(t){return n(t,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return n(t,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return n(t,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(t){this.milliseconds=+t},formatter:function(t){return n(t,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return n(t,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return n(t,"s")}},{key:"a",regex:e.DATETIME_FORMATS.AMPMS.join("|"),apply:function(t){12===this.hours&&(this.hours=0),"PM"===t&&(this.hours+=12)},formatter:function(t){return n(t,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(t){var e=t.match(/([+-])(\d{2})(\d{2})/),n=e[1],i=e[2],r=e[3];this.hours+=h(n+i),this.minutes+=h(n+r)},formatter:function(t){return n(t,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(t){return n(t,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(t){return n(t,"w")}},{key:"GGGG",regex:e.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(t){return n(t,"GGGG")}},{key:"GGG",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"GGG")}},{key:"GG",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"GG")}},{key:"G",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"G")}}],angular.version.major>=1&&angular.version.minor>4&&v.push({key:"LLLL",regex:e.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.STANDALONEMONTH.indexOf(t)},formatter:function(t){return n(t,"LLLL")}})},this.init(),this.getParser=function(t){var e=a(t);return e&&e.apply||null},this.overrideParser=function(t,e){var n=a(t);n&&angular.isFunction(e)&&(this.parsers={},n.apply=e)}.bind(this),this.filter=function(t,n){if(!angular.isDate(t)||isNaN(t)||!n)return"";n=e.DATETIME_FORMATS[n]||n,e.id!==y&&this.init(),this.formatters[n]||(this.formatters[n]=s(n));var i=this.formatters[n];return i.reduce(function(e,n){return e+n(t)},"")},this.parse=function(n,i,r){if(!angular.isString(n)||!i)return n;i=e.DATETIME_FORMATS[i]||i,i=i.replace(S,"\\$&"),e.id!==y&&this.init(),this.parsers[i]||(this.parsers[i]=o(i,"apply"));var a=this.parsers[i],s=a.regex,l=a.map,u=n.match(s),h=!1;if(u&&u.length){var p,d;angular.isDate(r)&&!isNaN(r.getTime())?p={year:r.getFullYear(),month:r.getMonth(),date:r.getDate(),hours:r.getHours(),minutes:r.getMinutes(),seconds:r.getSeconds(),milliseconds:r.getMilliseconds()}:(r&&t.warn("dateparser:","baseDate is not a valid date"),p={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var f=1,g=u.length;g>f;f++){var m=l[f-1];"Z"===m.matcher&&(h=!0),m.apply&&m.apply.call(p,u[f])}var v=h?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,T=h?Date.prototype.setUTCHours:Date.prototype.setHours;return c(p.year,p.month,p.date)&&(!angular.isDate(r)||isNaN(r.getTime())||h?(d=new Date(0),v.call(d,p.year,p.month,p.date),T.call(d,p.hours||0,p.minutes||0,p.seconds||0,p.milliseconds||0)):(d=new Date(r),v.call(d,p.year,p.month,p.date),T.call(d,p.hours,p.minutes,p.seconds,p.milliseconds))),d}},this.toTimezone=p,this.fromTimezone=d,this.timezoneToOffset=f,this.addDateMinutes=g,this.convertTimezoneToLocal=m}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(t){var e=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(i,r){function a(t,e,n){l.push(t),u.push({scope:t,element:e}),f.forEach(function(e,n){o(e,t)}),t.$on("$destroy",s)}function o(e,i){var r=e.match(n),a=i.$eval(r[1]),o=r[2],s=c[e];if(!s){var l=function(e){var n=null;u.some(function(t){var i=t.scope.$eval(p);return i===e?(n=t,!0):void 0}),s.lastActivated!==n&&(s.lastActivated&&t.removeClass(s.lastActivated.element,a),n&&t.addClass(n.element,a),s.lastActivated=n)};c[e]=s={lastActivated:null,scope:i,watchFn:l,compareWithExp:o,watcher:i.$watch(o,l)}}s.watchFn(i.$eval(o))}function s(t){var e=t.targetScope,n=l.indexOf(e);if(l.splice(n,1),u.splice(n,1),l.length){var i=l[0];angular.forEach(c,function(t){t.scope===e&&(t.watcher=i.$watch(t.compareWithExp,t.watchFn),t.scope=i)})}else c={}}var l=[],u=[],c={},h=r.uibIsClass.match(e),p=h[2],d=h[1],f=d.split(",");return a}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(t,e,n,i,r,a,o,s,l,u,c,h){function p(e){t.datepickerMode=e,t.datepickerOptions.datepickerMode=e}function d(e){var n;if(angular.version.minor<6)n=e.$options||t.datepickerOptions.ngModelOptions||l.ngModelOptions||{},n.getOption=function(t){return n[t]};else{var i=e.$options.getOption("timezone")||(t.datepickerOptions.ngModelOptions?t.datepickerOptions.ngModelOptions.timezone:null)||(l.ngModelOptions?l.ngModelOptions.timezone:null);n=e.$options.createChild(l.ngModelOptions).createChild(t.datepickerOptions.ngModelOptions).createChild(e.$options).createChild({timezone:i})}return n}var f=this,g={$setViewValue:angular.noop},m={},y=[];e.addClass("uib-datepicker"),n.$set("role","application"),t.datepickerOptions||(t.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(e){switch(e){case"customClass":case"dateDisabled":t[e]=t.datepickerOptions[e]||angular.noop;break;case"datepickerMode":t.datepickerMode=angular.isDefined(t.datepickerOptions.datepickerMode)?t.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":f[e]=angular.isDefined(t.datepickerOptions[e])?r(t.datepickerOptions[e])(t.$parent):l[e];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":f[e]=angular.isDefined(t.datepickerOptions[e])?t.datepickerOptions[e]:l[e];break;case"startingDay":angular.isDefined(t.datepickerOptions.startingDay)?f.startingDay=t.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?f.startingDay=l.startingDay:f.startingDay=(a.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":t.$watch("datepickerOptions."+e,function(t){t?angular.isDate(t)?f[e]=h.fromTimezone(new Date(t),m.getOption("timezone")):(u&&o.warn("Literal date support has been deprecated, please switch to date object usage"),f[e]=new Date(s(t,"medium"))):f[e]=l[e]?h.fromTimezone(new Date(l[e]),m.getOption("timezone")):null,f.refreshView()});break;case"maxMode":case"minMode":t.datepickerOptions[e]?t.$watch(function(){return t.datepickerOptions[e]},function(n){f[e]=t[e]=angular.isDefined(n)?n:t.datepickerOptions[e],("minMode"===e&&f.modes.indexOf(t.datepickerOptions.datepickerMode)<f.modes.indexOf(f[e])||"maxMode"===e&&f.modes.indexOf(t.datepickerOptions.datepickerMode)>f.modes.indexOf(f[e]))&&(t.datepickerMode=f[e],t.datepickerOptions.datepickerMode=f[e])}):f[e]=t[e]=l[e]||null}}),t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),t.disabled=angular.isDefined(n.disabled)||!1,angular.isDefined(n.ngDisabled)&&y.push(t.$parent.$watch(n.ngDisabled,function(e){t.disabled=e,f.refreshView()})),t.isActive=function(e){return 0===f.compare(e.date,f.activeDate)&&(t.activeDateId=e.uid,!0)},this.init=function(e){g=e,m=d(g),t.datepickerOptions.initDate?(f.activeDate=h.fromTimezone(t.datepickerOptions.initDate,m.getOption("timezone"))||new Date,t.$watch("datepickerOptions.initDate",function(t){t&&(g.$isEmpty(g.$modelValue)||g.$invalid)&&(f.activeDate=h.fromTimezone(t,m.getOption("timezone")),f.refreshView())})):f.activeDate=new Date;var n=g.$modelValue?new Date(g.$modelValue):new Date;this.activeDate=isNaN(n)?h.fromTimezone(new Date,m.getOption("timezone")):h.fromTimezone(n,m.getOption("timezone")),g.$render=function(){f.render()}},this.render=function(){if(g.$viewValue){var t=new Date(g.$viewValue),e=!isNaN(t);e?this.activeDate=h.fromTimezone(t,m.getOption("timezone")):c||o.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){t.selectedDt=null,this._refreshView(),t.activeDt&&(t.activeDateId=t.activeDt.uid);var e=g.$viewValue?new Date(g.$viewValue):null;e=h.fromTimezone(e,m.getOption("timezone")),g.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,n){var i=g.$viewValue?new Date(g.$viewValue):null;i=h.fromTimezone(i,m.getOption("timezone"));var r=new Date;r=h.fromTimezone(r,m.getOption("timezone"));var a=this.compare(e,r),o={date:e,label:h.filter(e,n),selected:i&&0===this.compare(e,i),disabled:this.isDisabled(e),past:0>a,current:0===a,future:a>0,customClass:this.customClass(e)||null};return i&&0===this.compare(e,i)&&(t.selectedDt=o),f.activeDate&&0===this.compare(o.date,f.activeDate)&&(t.activeDt=o),o},this.isDisabled=function(e){return t.disabled||this.minDate&&this.compare(e,this.minDate)<0||this.maxDate&&this.compare(e,this.maxDate)>0||t.dateDisabled&&t.dateDisabled({date:e,mode:t.datepickerMode})},this.customClass=function(e){return t.customClass({date:e,mode:t.datepickerMode})},this.split=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n},t.select=function(e){if(t.datepickerMode===f.minMode){var n=g.$viewValue?h.fromTimezone(new Date(g.$viewValue),m.getOption("timezone")):new Date(0,0,0,0,0,0,0);n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n=h.toTimezone(n,m.getOption("timezone")),g.$setViewValue(n),g.$render()}else f.activeDate=e,p(f.modes[f.modes.indexOf(t.datepickerMode)-1]),t.$emit("uib:datepicker.mode");t.$broadcast("uib:datepicker.focus")},t.move=function(t){var e=f.activeDate.getFullYear()+t*(f.step.years||0),n=f.activeDate.getMonth()+t*(f.step.months||0);f.activeDate.setFullYear(e,n,1),f.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===f.maxMode&&1===e||t.datepickerMode===f.minMode&&-1===e||(p(f.modes[f.modes.indexOf(t.datepickerMode)+e]),t.$emit("uib:datepicker.mode"))},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var v=function(){f.element[0].focus()};t.$on("uib:datepicker.focus",v),t.keydown=function(e){var n=t.keys[e.which];if(n&&!e.shiftKey&&!e.altKey&&!t.disabled)if(e.preventDefault(),f.shortcutPropagation||e.stopPropagation(),"enter"===n||"space"===n){if(f.isDisabled(f.activeDate))return;t.select(f.activeDate)}else!e.ctrlKey||"up"!==n&&"down"!==n?(f.handleKeyDown(n,e),f.refreshView()):t.toggleMode("up"===n?1:-1)},e.on("keydown",function(e){t.$apply(function(){t.keydown(e)})}),t.$on("$destroy",function(){for(;y.length;)y.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(t,e,n){function i(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?a[e]:29}function r(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}var a=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=e,this.init=function(e){angular.extend(e,this),t.showWeeks=e.showWeeks,e.refreshView()},this.getDates=function(t,e){for(var n,i=new Array(e),r=new Date(t),a=0;e>a;)n=new Date(r),i[a++]=n,r.setDate(r.getDate()+1);return i},this._refreshView=function(){var e=this.activeDate.getFullYear(),i=this.activeDate.getMonth(),a=new Date(this.activeDate);a.setFullYear(e,i,1);var o=this.startingDay-a.getDay(),s=o>0?7-o:-o,l=new Date(a);s>0&&l.setDate(-s+1);for(var u=this.getDates(l,42),c=0;42>c;c++)u[c]=angular.extend(this.createDateObject(u[c],this.formatDay),{secondary:u[c].getMonth()!==i,uid:t.uniqueId+"-"+c});t.labels=new Array(7);for(var h=0;7>h;h++)t.labels[h]={abbr:n(u[h].date,this.formatDayHeader),full:n(u[h].date,"EEEE")};if(t.title=n(this.activeDate,this.formatDayTitle),t.rows=this.split(u,7),t.showWeeks){t.weekNumbers=[];for(var p=(11-this.startingDay)%7,d=t.rows.length,f=0;d>f;f++)t.weekNumbers.push(r(t.rows[f][p].date))}},this.compare=function(t,e){var n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=new Date(e.getFullYear(),e.getMonth(),e.getDate());return n.setFullYear(t.getFullYear()),i.setFullYear(e.getFullYear()),n-i},this.handleKeyDown=function(t,e){var n=this.activeDate.getDate();if("left"===t)n-=1;else if("up"===t)n-=7;else if("right"===t)n+=1;else if("down"===t)n+=7;else if("pageup"===t||"pagedown"===t){var r=this.activeDate.getMonth()+("pageup"===t?-1:1);
this.activeDate.setMonth(r,1),n=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===t?n=1:"end"===t&&(n=i(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(t,e,n){this.step={years:1},this.element=e,this.init=function(t){angular.extend(t,this),t.refreshView()},this._refreshView=function(){for(var e,i=new Array(12),r=this.activeDate.getFullYear(),a=0;12>a;a++)e=new Date(this.activeDate),e.setFullYear(r,a,1),i[a]=angular.extend(this.createDateObject(e,this.formatMonth),{uid:t.uniqueId+"-"+a});t.title=n(this.activeDate,this.formatMonthTitle),t.rows=this.split(i,this.monthColumns),t.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(t,e){var n=new Date(t.getFullYear(),t.getMonth()),i=new Date(e.getFullYear(),e.getMonth());return n.setFullYear(t.getFullYear()),i.setFullYear(e.getFullYear()),n-i},this.handleKeyDown=function(t,e){var n=this.activeDate.getMonth();if("left"===t)n-=1;else if("up"===t)n-=this.monthColumns;else if("right"===t)n+=1;else if("down"===t)n+=this.monthColumns;else if("pageup"===t||"pagedown"===t){var i=this.activeDate.getFullYear()+("pageup"===t?-1:1);this.activeDate.setFullYear(i)}else"home"===t?n=0:"end"===t&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(t,e,n){function i(t){return parseInt((t-1)/a,10)*a+1}var r,a;this.element=e,this.yearpickerInit=function(){r=this.yearColumns,a=this.yearRows*r,this.step={years:a}},this._refreshView=function(){for(var e,n=new Array(a),o=0,s=i(this.activeDate.getFullYear());a>o;o++)e=new Date(this.activeDate),e.setFullYear(s+o,0,1),n[o]=angular.extend(this.createDateObject(e,this.formatYear),{uid:t.uniqueId+"-"+o});t.title=[n[0].label,n[a-1].label].join(" - "),t.rows=this.split(n,r),t.columns=r},this.compare=function(t,e){return t.getFullYear()-e.getFullYear()},this.handleKeyDown=function(t,e){var n=this.activeDate.getFullYear();"left"===t?n-=1:"up"===t?n-=r:"right"===t?n+=1:"down"===t?n+=r:"pageup"===t||"pagedown"===t?n+=("pageup"===t?-1:1)*a:"home"===t?n=i(this.activeDate.getFullYear()):"end"===t&&(n=i(this.activeDate.getFullYear())+a-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(t,e,n,i){var r=i[0],a=i[1];r.init(a)}}}).directive("uibDaypicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(t,e,n,i){var r=i[0],a=i[1];a.init(r)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(t,e,n,i){var r=i[0],a=i[1];a.init(r)}}}).directive("uibYearpicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(t,e,n,i){var r=i[0];angular.extend(r,i[1]),r.yearpickerInit(),r.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(t,e){var n,i,r={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},a={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},o=/(HTML|BODY)/;return{getRawNode:function(t){return t.nodeName?t:t[0]||t},parseStyle:function(t){return t=parseFloat(t),isFinite(t)?t:0},offsetParent:function(n){function i(t){return"static"===(e.getComputedStyle(t).position||"static")}n=this.getRawNode(n);for(var r=n.offsetParent||t[0].documentElement;r&&r!==t[0].documentElement&&i(r);)r=r.offsetParent;return r||t[0].documentElement},scrollbarWidth:function(r){if(r){if(angular.isUndefined(i)){var a=t.find("body");a.addClass("uib-position-body-scrollbar-measure"),i=e.innerWidth-a[0].clientWidth,i=isFinite(i)?i:0,a.removeClass("uib-position-body-scrollbar-measure")}return i}if(angular.isUndefined(n)){var o=angular.element('<div class="uib-position-scrollbar-measure"></div>');t.find("body").append(o),n=o[0].offsetWidth-o[0].clientWidth,n=isFinite(n)?n:0,o.remove()}return n},scrollbarPadding:function(t){t=this.getRawNode(t);var n=e.getComputedStyle(t),i=this.parseStyle(n.paddingRight),r=this.parseStyle(n.paddingBottom),a=this.scrollParent(t,!1,!0),s=this.scrollbarWidth(o.test(a.tagName));return{scrollbarWidth:s,widthOverflow:a.scrollWidth>a.clientWidth,right:i+s,originalRight:i,heightOverflow:a.scrollHeight>a.clientHeight,bottom:r+s,originalBottom:r}},isScrollable:function(t,n){t=this.getRawNode(t);var i=n?r.hidden:r.normal,a=e.getComputedStyle(t);return i.test(a.overflow+a.overflowY+a.overflowX)},scrollParent:function(n,i,a){n=this.getRawNode(n);var o=i?r.hidden:r.normal,s=t[0].documentElement,l=e.getComputedStyle(n);if(a&&o.test(l.overflow+l.overflowY+l.overflowX))return n;var u="absolute"===l.position,c=n.parentElement||s;if(c===s||"fixed"===l.position)return s;for(;c.parentElement&&c!==s;){var h=e.getComputedStyle(c);if(u&&"static"!==h.position&&(u=!1),!u&&o.test(h.overflow+h.overflowY+h.overflowX))break;c=c.parentElement}return c},position:function(n,i){n=this.getRawNode(n);var r=this.offset(n);if(i){var a=e.getComputedStyle(n);r.top-=this.parseStyle(a.marginTop),r.left-=this.parseStyle(a.marginLeft)}var o=this.offsetParent(n),s={top:0,left:0};return o!==t[0].documentElement&&(s=this.offset(o),s.top+=o.clientTop-o.scrollTop,s.left+=o.clientLeft-o.scrollLeft),{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top-s.top),left:Math.round(r.left-s.left)}},offset:function(n){n=this.getRawNode(n);var i=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top+(e.pageYOffset||t[0].documentElement.scrollTop)),left:Math.round(i.left+(e.pageXOffset||t[0].documentElement.scrollLeft))}},viewportOffset:function(n,i,r){n=this.getRawNode(n),r=r!==!1;var a=n.getBoundingClientRect(),o={top:0,left:0,bottom:0,right:0},s=i?t[0].documentElement:this.scrollParent(n),l=s.getBoundingClientRect();if(o.top=l.top+s.clientTop,o.left=l.left+s.clientLeft,s===t[0].documentElement&&(o.top+=e.pageYOffset,o.left+=e.pageXOffset),o.bottom=o.top+s.clientHeight,o.right=o.left+s.clientWidth,r){var u=e.getComputedStyle(s);o.top+=this.parseStyle(u.paddingTop),o.bottom-=this.parseStyle(u.paddingBottom),o.left+=this.parseStyle(u.paddingLeft),o.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(a.top-o.top),bottom:Math.round(o.bottom-a.bottom),left:Math.round(a.left-o.left),right:Math.round(o.right-a.right)}},parsePlacement:function(t){var e=a.auto.test(t);return e&&(t=t.replace(a.auto,"")),t=t.split("-"),t[0]=t[0]||"top",a.primary.test(t[0])||(t[0]="top"),t[1]=t[1]||"center",a.secondary.test(t[1])||(t[1]="center"),e?t[2]=!0:t[2]=!1,t},positionElements:function(t,n,i,r){t=this.getRawNode(t),n=this.getRawNode(n);var o=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");i=this.parsePlacement(i);var l=r?this.offset(t):this.position(t),u={top:0,left:0,placement:""};if(i[2]){var c=this.viewportOffset(t,r),h=e.getComputedStyle(n),p={width:o+Math.round(Math.abs(this.parseStyle(h.marginLeft)+this.parseStyle(h.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(h.marginTop)+this.parseStyle(h.marginBottom)))};if(i[0]="top"===i[0]&&p.height>c.top&&p.height<=c.bottom?"bottom":"bottom"===i[0]&&p.height>c.bottom&&p.height<=c.top?"top":"left"===i[0]&&p.width>c.left&&p.width<=c.right?"right":"right"===i[0]&&p.width>c.right&&p.width<=c.left?"left":i[0],i[1]="top"===i[1]&&p.height-l.height>c.bottom&&p.height-l.height<=c.top?"bottom":"bottom"===i[1]&&p.height-l.height>c.top&&p.height-l.height<=c.bottom?"top":"left"===i[1]&&p.width-l.width>c.right&&p.width-l.width<=c.left?"right":"right"===i[1]&&p.width-l.width>c.left&&p.width-l.width<=c.right?"left":i[1],"center"===i[1])if(a.vertical.test(i[0])){var d=l.width/2-o/2;c.left+d<0&&p.width-l.width<=c.right?i[1]="left":c.right+d<0&&p.width-l.width<=c.left&&(i[1]="right")}else{var f=l.height/2-p.height/2;c.top+f<0&&p.height-l.height<=c.bottom?i[1]="top":c.bottom+f<0&&p.height-l.height<=c.top&&(i[1]="bottom")}}switch(i[0]){case"top":u.top=l.top-s;break;case"bottom":u.top=l.top+l.height;break;case"left":u.left=l.left-o;break;case"right":u.left=l.left+l.width}switch(i[1]){case"top":u.top=l.top;break;case"bottom":u.top=l.top+l.height-s;break;case"left":u.left=l.left;break;case"right":u.left=l.left+l.width-o;break;case"center":a.vertical.test(i[0])?u.left=l.left+l.width/2-o/2:u.top=l.top+l.height/2-s/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===i[1]?i[0]:i[0]+"-"+i[1],u},adjustTop:function(t,e,n,i){return-1!==t.indexOf("top")&&n!==i?{top:e.top-i+"px"}:void 0},positionArrow:function(t,n){t=this.getRawNode(t);var i=t.querySelector(".tooltip-inner, .popover-inner");if(i){var r=angular.element(i).hasClass("tooltip-inner"),o=r?t.querySelector(".tooltip-arrow"):t.querySelector(".arrow");if(o){var s={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(o).css(s);var l="border-"+n[0]+"-width",u=e.getComputedStyle(o)[l],c="border-";c+=a.vertical.test(n[0])?n[0]+"-"+n[1]:n[1]+"-"+n[0],c+="-radius";var h=e.getComputedStyle(r?i:t)[c];switch(n[0]){case"top":s.bottom=r?"0":"-"+u;break;case"bottom":s.top=r?"0":"-"+u;break;case"left":s.right=r?"0":"-"+u;break;case"right":s.left=r?"0":"-"+u}s[n[1]]=h,angular.element(o).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(t,e,n,i,r,a,o,s,l,u,c,h,p,d,f,g){function m(e){var n=h.parse(e,M,t.date);if(isNaN(n))for(var i=0;i<N.length;i++)if(n=h.parse(e,N[i],t.date),!isNaN(n))return n;return n}function y(t){if(angular.isNumber(t)&&(t=new Date(t)),!t)return null;if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var e=m(t);if(!isNaN(e))return h.toTimezone(e,_.getOption("timezone"))}return _.getOption("allowInvalid")?t:void 0}function v(t,e){var i=t||e;return!n.ngRequired&&!i||(angular.isNumber(i)&&(i=new Date(i)),!i||(!(!angular.isDate(i)||isNaN(i))||!!angular.isString(i)&&!isNaN(m(i))))}function S(n){if(t.isOpen||!t.disabled){var i=L[0],r=e[0].contains(n.target),a=void 0!==i.contains&&i.contains(n.target);!t.isOpen||r||a||t.$apply(function(){t.isOpen=!1})}}function T(n){27===n.which&&t.isOpen?(n.preventDefault(),n.stopPropagation(),t.$apply(function(){t.isOpen=!1}),e[0].focus()):40!==n.which||t.isOpen||(n.preventDefault(),n.stopPropagation(),t.$apply(function(){t.isOpen=!0}))}function b(){if(t.isOpen){var i=angular.element(L[0].querySelector(".uib-datepicker-popup")),r=n.popupPlacement?n.popupPlacement:p.placement,a=u.positionElements(e,i,r,A);i.css({top:a.top+"px",left:a.left+"px"}),i.hasClass("uib-position-measure")&&i.removeClass("uib-position-measure")}}function x(t){var e;return angular.version.minor<6?(e=angular.isObject(t.$options)?t.$options:{timezone:null},e.getOption=function(t){return e[t]}):e=t.$options,e}var M,w,A,C,k,D,$,P,E,O,_,L,N,X=!1,F=[];this.init=function(r){if(O=r,_=x(O),w=angular.isDefined(n.closeOnDateSelection)?t.$parent.$eval(n.closeOnDateSelection):p.closeOnDateSelection,A=angular.isDefined(n.datepickerAppendToBody)?t.$parent.$eval(n.datepickerAppendToBody):p.appendToBody,C=angular.isDefined(n.onOpenFocus)?t.$parent.$eval(n.onOpenFocus):p.onOpenFocus,k=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:p.datepickerPopupTemplateUrl,D=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:p.datepickerTemplateUrl,N=angular.isDefined(n.altInputFormats)?t.$parent.$eval(n.altInputFormats):p.altInputFormats,t.showButtonBar=angular.isDefined(n.showButtonBar)?t.$parent.$eval(n.showButtonBar):p.showButtonBar,p.html5Types[n.type]?(M=p.html5Types[n.type],X=!0):(M=n.uibDatepickerPopup||p.datepickerPopup,n.$observe("uibDatepickerPopup",function(t,e){var n=t||p.datepickerPopup;if(n!==M&&(M=n,O.$modelValue=null,!M))throw new Error("uibDatepickerPopup must have a date format specified.")})),!M)throw new Error("uibDatepickerPopup must have a date format specified.");if(X&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");$=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),$.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":k}),P=angular.element($.children()[0]),P.attr("template-url",D),t.datepickerOptions||(t.datepickerOptions={}),X&&"month"===n.type&&(t.datepickerOptions.datepickerMode="month",t.datepickerOptions.minMode="month"),P.attr("datepicker-options","datepickerOptions"),X?O.$formatters.push(function(e){return t.date=h.fromTimezone(e,_.getOption("timezone")),e}):(O.$$parserName="date",O.$validators.date=v,O.$parsers.unshift(y),O.$formatters.push(function(e){return O.$isEmpty(e)?(t.date=e,e):(angular.isNumber(e)&&(e=new Date(e)),t.date=h.fromTimezone(e,_.getOption("timezone")),h.filter(t.date,M))})),O.$viewChangeListeners.push(function(){t.date=m(O.$viewValue)}),e.on("keydown",T),L=i($)(t),$.remove(),A?s.find("body").append(L):e.after(L),t.$on("$destroy",function(){for(t.isOpen===!0&&(l.$$phase||t.$apply(function(){t.isOpen=!1})),L.remove(),e.off("keydown",T),s.off("click",S),E&&E.off("scroll",b),angular.element(o).off("resize",b);F.length;)F.shift()()})},t.getText=function(e){return t[e+"Text"]||p[e+"Text"]},t.isDisabled=function(e){"today"===e&&(e=h.fromTimezone(new Date,_.getOption("timezone")));var n={};return angular.forEach(["minDate","maxDate"],function(e){t.datepickerOptions[e]?angular.isDate(t.datepickerOptions[e])?n[e]=new Date(t.datepickerOptions[e]):(g&&r.warn("Literal date support has been deprecated, please switch to date object usage"),n[e]=new Date(c(t.datepickerOptions[e],"medium"))):n[e]=null}),t.datepickerOptions&&n.minDate&&t.compare(e,n.minDate)<0||n.maxDate&&t.compare(e,n.maxDate)>0},t.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},t.dateSelection=function(n){t.date=n;var i=t.date?h.filter(t.date,M):null;e.val(i),O.$setViewValue(i),w&&(t.isOpen=!1,e[0].focus())},t.keydown=function(n){27===n.which&&(n.stopPropagation(),t.isOpen=!1,e[0].focus())},t.select=function(e,n){if(n.stopPropagation(),"today"===e){var i=new Date;angular.isDate(t.date)?(e=new Date(t.date),e.setFullYear(i.getFullYear(),i.getMonth(),i.getDate())):(e=h.fromTimezone(i,_.getOption("timezone")),e.setHours(0,0,0,0))}t.dateSelection(e)},t.close=function(n){n.stopPropagation(),t.isOpen=!1,e[0].focus()},t.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&F.push(t.$parent.$watch(a(n.ngDisabled),function(e){t.disabled=e})),t.$watch("isOpen",function(i){i?t.disabled?t.isOpen=!1:d(function(){b(),C&&t.$broadcast("uib:datepicker.focus"),s.on("click",S);var i=n.popupPlacement?n.popupPlacement:p.placement;A||u.parsePlacement(i)[2]?(E=E||angular.element(u.scrollParent(e)),E&&E.on("scroll",b)):E=null,angular.element(o).on("resize",b)},0,!1):(s.off("click",S),E&&E.off("scroll",b),angular.element(o).off("resize",b))}),t.$on("uib:datepicker.mode",function(){d(b,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(t,e,n,i){var r=i[0],a=i[1];a.init(r)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(t){return function(e,n){var i;return function(){var r=this,a=Array.prototype.slice.call(arguments);i&&t.cancel(i),i=t(function(){e.apply(r,a)},n)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var t={};return{entries:function(){return Object.keys(t).map(function(e){return{key:e,value:t[e]}})},get:function(e){return t[e]},hasKey:function(e){return!!t[e]},keys:function(){return Object.keys(t)},put:function(e,n){t[e]||(t[e]=[]),t[e].push(n)},remove:function(e,n){var i=t[e];if(i){var r=i.indexOf(n);-1!==r&&i.splice(r,1),i.length||delete t[e]}}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(t,e,n){var i=null,r=n.createNew();this.isOnlyOpen=function(t,e){var n=r.get(e);if(n){var i=n.reduce(function(e,n){return n.scope===t?n:e},{});if(i)return 1===n.length}return!1},this.open=function(e,n,o){if(i||t.on("click",a),i&&i!==e&&(i.isOpen=!1),i=e,o){var s=r.get(o);if(s){var l=s.map(function(t){return t.scope});-1===l.indexOf(e)&&r.put(o,{scope:e})}else r.put(o,{scope:e})}},this.close=function(e,n,o){if(i===e&&(t.off("click",a),t.off("keydown",this.keybindFilter),i=null),o){var s=r.get(o);if(s){var l=s.reduce(function(t,n){return n.scope===e?n:t},{});l&&r.remove(o,l)}}};var a=function(t){if(i&&i.isOpen&&!(t&&"disabled"===i.getAutoClose()||t&&3===t.which)){var n=i.getToggleElement();if(!(t&&n&&n[0].contains(t.target))){var r=i.getDropdownElement();t&&"outsideClick"===i.getAutoClose()&&r&&r[0].contains(t.target)||(i.focusToggleElement(),i.isOpen=!1,e.$$phase||i.$apply())}}};this.keybindFilter=function(t){if(i){var e=i.getDropdownElement(),n=i.getToggleElement(),r=e&&e[0].contains(t.target),o=n&&n[0].contains(t.target);27===t.which?(t.stopPropagation(),i.focusToggleElement(),a()):i.isKeynavEnabled()&&-1!==[38,40].indexOf(t.which)&&i.isOpen&&(r||o)&&(t.preventDefault(),t.stopPropagation(),i.focusDropdownEntry(t.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(t,e,n,i,r,a,o,s,l,u,c){function h(){e.append(f.dropdownMenu)}var p,d,f=this,g=t.$new(),m=r.appendToOpenClass,y=r.openClass,v=angular.noop,S=n.onToggle?i(n.onToggle):angular.noop,T=!1,b=l.find("body");e.addClass("dropdown"),this.init=function(){n.isOpen&&(d=i(n.isOpen),v=d.assign,t.$watch(d,function(t){g.isOpen=!!t})),T=angular.isDefined(n.keyboardNav)},this.toggle=function(t){return g.isOpen=arguments.length?!!t:!g.isOpen,angular.isFunction(v)&&v(g,g.isOpen),g.isOpen},this.isOpen=function(){return g.isOpen},g.getToggleElement=function(){return f.toggleElement},g.getAutoClose=function(){return n.autoClose||"always"},g.getElement=function(){return e},g.isKeynavEnabled=function(){return T},g.focusDropdownEntry=function(t){var n=f.dropdownMenu?angular.element(f.dropdownMenu).find("a"):e.find("ul").eq(0).find("a");switch(t){case 40:angular.isNumber(f.selectedOption)?f.selectedOption=f.selectedOption===n.length-1?f.selectedOption:f.selectedOption+1:f.selectedOption=0;break;case 38:angular.isNumber(f.selectedOption)?f.selectedOption=0===f.selectedOption?0:f.selectedOption-1:f.selectedOption=n.length-1}n[f.selectedOption].focus()},g.getDropdownElement=function(){return f.dropdownMenu},g.focusToggleElement=function(){f.toggleElement&&f.toggleElement[0].focus()},g.$watch("isOpen",function(r,d){var T=null,x=!1;if(angular.isDefined(n.dropdownAppendTo)){var M=i(n.dropdownAppendTo)(g);M&&(T=angular.element(M))}if(angular.isDefined(n.dropdownAppendToBody)){var w=i(n.dropdownAppendToBody)(g);w!==!1&&(x=!0)}if(x&&!T&&(T=b),T&&f.dropdownMenu&&(r?(T.append(f.dropdownMenu),e.on("$destroy",h)):(e.off("$destroy",h),h())),T&&f.dropdownMenu){var A,C,k,D=s.positionElements(e,f.dropdownMenu,"bottom-left",!0),$=0;if(A={top:D.top+"px",display:r?"block":"none"},C=f.dropdownMenu.hasClass("dropdown-menu-right"),C?(A.left="auto",k=s.scrollbarPadding(T),k.heightOverflow&&k.scrollbarWidth&&($=k.scrollbarWidth),A.right=window.innerWidth-$-(D.left+e.prop("offsetWidth"))+"px"):(A.left=D.left+"px",A.right="auto"),!x){var P=s.offset(T);A.top=D.top-P.top+"px",C?A.right=window.innerWidth-(D.left-P.left+e.prop("offsetWidth"))+"px":A.left=D.left-P.left+"px"}f.dropdownMenu.css(A)}var E=T?T:e,O=T?m:y,_=E.hasClass(O),L=a.isOnlyOpen(t,T);if(_===!r){var N;N=T?L?"removeClass":"addClass":r?"addClass":"removeClass",o[N](E,O).then(function(){angular.isDefined(r)&&r!==d&&S(t,{open:!!r})})}if(r)f.dropdownMenuTemplateUrl?c(f.dropdownMenuTemplateUrl).then(function(t){p=g.$new(),u(t.trim())(p,function(t){var e=t;f.dropdownMenu.replaceWith(e),f.dropdownMenu=e,l.on("keydown",a.keybindFilter)})}):l.on("keydown",a.keybindFilter),g.focusToggleElement(),a.open(g,e,T);else{if(a.close(g,e,T),f.dropdownMenuTemplateUrl){p&&p.$destroy();var X=angular.element('<ul class="dropdown-menu"></ul>');f.dropdownMenu.replaceWith(X),f.dropdownMenu=X}f.selectedOption=null}angular.isFunction(v)&&v(t,r)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(t,e,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(t,e,n,i){if(i&&!angular.isDefined(n.dropdownNested)){e.addClass("dropdown-menu");var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=e)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(t,e,n,i){if(i){e.addClass("dropdown-toggle"),i.toggleElement=e;var r=function(r){r.preventDefault(),e.hasClass("disabled")||n.disabled||t.$apply(function(){i.toggle()})};e.on("click",r),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(i.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.off("click",r)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e===t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,i=0;i<t.length;i++)if(e===t[i].key){n=i;break}return t.splice(n,1)[0]},removeTop:function(){return t.pop()},length:function(){return t.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var t=this;this.resolver=null,this.setResolver=function(t){this.resolver=t},this.$get=["$injector","$q",function(e,n){var i=t.resolver?e.get(t.resolver):null;return{resolve:function(t,r,a,o){if(i)return i.resolve(t,r,a,o);var s=[];return angular.forEach(t,function(t){angular.isFunction(t)||angular.isArray(t)?s.push(n.resolve(e.invoke(t))):angular.isString(t)?s.push(n.resolve(e.get(t))):s.push(n.resolve(t))}),n.all(s).then(function(e){var n={},i=0;return angular.forEach(t,function(t,r){n[r]=e[i++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(t,e,n){function i(e,i,r){r.modalInClass&&(t.addClass(i,r.modalInClass),e.$on(n.NOW_CLOSING_EVENT,function(n,a){var o=a();e.modalOptions.animation?t.removeClass(i,r.modalInClass).then(o):o()}))}return{restrict:"A",compile:function(t,e){return t.addClass(e.backdropClass),i}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(t,e,n,i){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/modal/window.html"},link:function(r,a,o){a.addClass(o.windowTopClass||""),r.size=o.size,r.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))},a.on("click",r.close),r.$isRendered=!0;var s=e.defer();r.$$postDigest(function(){s.resolve()}),s.promise.then(function(){var s=null;o.modalInClass&&(s=n(a,{addClass:o.modalInClass}).start(),r.$on(t.NOW_CLOSING_EVENT,function(t,e){var i=e();n(a,{removeClass:o.modalInClass}).start().then(i)})),e.when(s).then(function(){var e=t.getTop();if(e&&t.modalRendered(e.key),!i[0].activeElement||!a[0].contains(i[0].activeElement)){var n=a[0].querySelector("[autofocus]");n?n.focus():a[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(t,e){e.modalAnimation&&t.addClass(e.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(t){return{link:function(e,n,i,r,a){a(e.$parent,function(e){n.empty(),t.enter(e,n)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(t,e,n,i,r,a,o,s,l){function u(t){var e="-";return t.replace(P,function(t,n){return(n?e:"")+t.toLowerCase()})}function c(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}function h(){for(var t=-1,e=M.keys(),n=0;n<e.length;n++)M.get(e[n]).value.backdrop&&(t=n);return t>-1&&C>t&&(t=C),t}function p(t,e){var n=M.get(t).value,i=n.appendTo;M.remove(t),k=M.top(),k&&(C=parseInt(k.value.modalDomEl.attr("index"),10)),g(n.modalDomEl,n.modalScope,function(){var e=n.openedClass||x;w.remove(e,t);var r=w.hasKey(e);i.toggleClass(e,r),!r&&b&&b.heightOverflow&&b.scrollbarWidth&&(b.originalRight?i.css({paddingRight:b.originalRight+"px"}):i.css({paddingRight:""}),b=null),d(!0)},n.closedDeferred),f(),e&&e.focus?e.focus():i.focus&&i.focus()}function d(t){var e;M.length()>0&&(e=M.top().value,e.modalDomEl.toggleClass(e.windowTopClass||"",t))}function f(){if(S&&-1===h()){var t=T;g(S,T,function(){t=null}),S=void 0,T=void 0}}function g(e,n,i,r){function o(){o.done||(o.done=!0,t.leave(e).then(function(){i&&i(),e.remove(),r&&r.resolve()}),n.$destroy())}var s,l=null,u=function(){return s||(s=a.defer(),l=s.promise),function(){s.resolve()}};return n.$broadcast(A.NOW_CLOSING_EVENT,u),a.when(l).then(o)}function m(t){if(t.isDefaultPrevented())return t;var e=M.top();if(e)switch(t.which){case 27:e.value.keyboard&&(t.preventDefault(),r.$apply(function(){A.dismiss(e.key,"escape key press")}));break;case 9:var n=A.loadFocusElementList(e),i=!1;t.shiftKey?(A.isFocusInFirstItem(t,n)||A.isModalFocused(t,e))&&(i=A.focusLastFocusableElement(n)):A.isFocusInLastItem(t,n)&&(i=A.focusFirstFocusableElement(n)),i&&(t.preventDefault(),t.stopPropagation())}}function y(t,e,n){return!t.value.modalScope.$broadcast("modal.closing",e,n).defaultPrevented}function v(){Array.prototype.forEach.call(document.querySelectorAll("["+D+"]"),function(t){var e=parseInt(t.getAttribute(D),10),n=e-1;t.setAttribute(D,n),n||(t.removeAttribute(D),t.removeAttribute("aria-hidden"))})}var S,T,b,x="modal-open",M=s.createNew(),w=o.createNew(),A={NOW_CLOSING_EVENT:"modal.stack.now-closing"},C=0,k=null,D="data-bootstrap-modal-aria-hidden-count",$="a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]",P=/[A-Z]/g;return r.$watch(h,function(t){T&&(T.index=t)}),n.on("keydown",m),r.$on("$destroy",function(){n.off("keydown",m)}),A.open=function(e,a){function o(t){function e(t){var e=t.parent()?t.parent().children():[];return Array.prototype.filter.call(e,function(e){return e!==t[0]})}if(t&&"BODY"!==t[0].tagName)return e(t).forEach(function(t){var e="true"===t.getAttribute("aria-hidden"),n=parseInt(t.getAttribute(D),10);n||(n=e?1:0),t.setAttribute(D,n+1),t.setAttribute("aria-hidden","true")}),o(t.parent())}var s=n[0].activeElement,c=a.openedClass||x;d(!1),k=M.top(),M.add(e,{deferred:a.deferred,renderDeferred:a.renderDeferred,closedDeferred:a.closedDeferred,modalScope:a.scope,backdrop:a.backdrop,keyboard:a.keyboard,openedClass:a.openedClass,windowTopClass:a.windowTopClass,animation:a.animation,appendTo:a.appendTo}),w.put(c,e);var p=a.appendTo,f=h();f>=0&&!S&&(T=r.$new(!0),T.modalOptions=a,T.index=f,S=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),S.attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),a.backdropClass&&S.addClass(a.backdropClass),a.animation&&S.attr("modal-animation","true"),i(S)(T),t.enter(S,p),l.isScrollable(p)&&(b=l.scrollbarPadding(p),b.heightOverflow&&b.scrollbarWidth&&p.css({paddingRight:b.right+"px"})));var g;a.component?(g=document.createElement(u(a.component.name)),g=angular.element(g),g.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):g=a.content,C=k?parseInt(k.value.modalDomEl.attr("index"),10)+1:0;var m=angular.element('<div uib-modal-window="modal-window"></div>');m.attr({class:"modal","template-url":a.windowTemplateUrl,"window-top-class":a.windowTopClass,role:"dialog","aria-labelledby":a.ariaLabelledBy,"aria-describedby":a.ariaDescribedBy,size:a.size,index:C,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(g),a.windowClass&&m.addClass(a.windowClass),a.animation&&m.attr("modal-animation","true"),p.addClass(c),a.scope&&(a.scope.$$topModalIndex=C),t.enter(i(m)(a.scope),p),M.top().value.modalDomEl=m,M.top().value.modalOpener=s,o(m)},A.close=function(t,e){var n=M.get(t);return v(),n&&y(n,e,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(e),p(t,n.value.modalOpener),!0):!n},A.dismiss=function(t,e){var n=M.get(t);return v(),n&&y(n,e,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(e),p(t,n.value.modalOpener),!0):!n},A.dismissAll=function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop()},A.getTop=function(){return M.top()},A.modalRendered=function(t){var e=M.get(t);e&&e.value.renderDeferred.resolve()},A.focusFirstFocusableElement=function(t){return t.length>0&&(t[0].focus(),!0)},A.focusLastFocusableElement=function(t){return t.length>0&&(t[t.length-1].focus(),!0)},A.isModalFocused=function(t,e){if(t&&e){var n=e.value.modalDomEl;if(n&&n.length)return(t.target||t.srcElement)===n[0]}return!1},A.isFocusInFirstItem=function(t,e){return e.length>0&&(t.target||t.srcElement)===e[0]},A.isFocusInLastItem=function(t,e){return e.length>0&&(t.target||t.srcElement)===e[e.length-1]},A.loadFocusElementList=function(t){if(t){var e=t.value.modalDomEl;if(e&&e.length){var n=e[0].querySelectorAll($);return n?Array.prototype.filter.call(n,function(t){
return c(t)}):n}}},A}]).provider("$uibModal",function(){var t={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(e,n,i,r,a,o,s){function l(t){return t.template?n.when(t.template):r(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl)}var u={},c=null;return u.getPromiseChain=function(){return c},u.open=function(r){function u(){return m}var h=n.defer(),p=n.defer(),d=n.defer(),f=n.defer(),g={result:h.promise,opened:p.promise,closed:d.promise,rendered:f.promise,close:function(t){return s.close(g,t)},dismiss:function(t){return s.dismiss(g,t)}};if(r=angular.extend({},t.options,r),r.resolve=r.resolve||{},r.appendTo=r.appendTo||i.find("body").eq(0),!r.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!r.component&&!r.template&&!r.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var m;m=r.component?n.when(o.resolve(r.resolve,{},null,null)):n.all([l(r),o.resolve(r.resolve,{},null,null)]);var y;return y=c=n.all([c]).then(u,u).then(function(t){function n(e,n,i,r){e.$scope=o,e.$scope.$resolve={},i?e.$scope.$uibModalInstance=g:e.$uibModalInstance=g;var a=n?t[1]:t;angular.forEach(a,function(t,n){r&&(e[n]=t),e.$scope.$resolve[n]=t})}var i=r.scope||e,o=i.$new();o.$close=g.close,o.$dismiss=g.dismiss,o.$on("$destroy",function(){o.$$uibDestructionScheduled||o.$dismiss("$uibUnscheduledDestruction")});var l,u,c={scope:o,deferred:h,renderDeferred:f,closedDeferred:d,animation:r.animation,backdrop:r.backdrop,keyboard:r.keyboard,backdropClass:r.backdropClass,windowTopClass:r.windowTopClass,windowClass:r.windowClass,windowTemplateUrl:r.windowTemplateUrl,ariaLabelledBy:r.ariaLabelledBy,ariaDescribedBy:r.ariaDescribedBy,size:r.size,openedClass:r.openedClass,appendTo:r.appendTo},m={},y={};r.component?(n(m,!1,!0,!1),m.name=r.component,c.component=m):r.controller&&(n(y,!0,!1,!0),u=a(r.controller,y,!0,r.controllerAs),r.controllerAs&&r.bindToController&&(l=u.instance,l.$close=o.$close,l.$dismiss=o.$dismiss,angular.extend(l,{$resolve:y.$scope.$resolve},i)),l=u(),angular.isFunction(l.$onInit)&&l.$onInit()),r.component||(c.content=t[0]),s.open(g,c),p.resolve(!0)},function(t){p.reject(t),h.reject(t)}).finally(function(){c===y&&(c=null)}),g},u}]};return t}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(t){return{create:function(e,n,i){e.setNumPages=i.numPages?t(i.numPages).assign:angular.noop,e.ngModelCtrl={$setViewValue:angular.noop},e._watchers=[],e.init=function(t,r){e.ngModelCtrl=t,e.config=r,t.$render=function(){e.render()},i.itemsPerPage?e._watchers.push(n.$parent.$watch(i.itemsPerPage,function(t){e.itemsPerPage=parseInt(t,10),n.totalPages=e.calculateTotalPages(),e.updatePage()})):e.itemsPerPage=r.itemsPerPage,n.$watch("totalItems",function(t,i){(angular.isDefined(t)||t!==i)&&(n.totalPages=e.calculateTotalPages(),e.updatePage())})},e.calculateTotalPages=function(){var t=e.itemsPerPage<1?1:Math.ceil(n.totalItems/e.itemsPerPage);return Math.max(t||0,1)},e.render=function(){n.page=parseInt(e.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(t,i){i&&i.preventDefault();var r=!n.ngDisabled||!i;r&&n.page!==t&&t>0&&t<=n.totalPages&&(i&&i.target&&i.target.blur(),e.ngModelCtrl.$setViewValue(t),e.ngModelCtrl.$render())},n.getText=function(t){return n[t+"Text"]||e.config[t+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},e.updatePage=function(){e.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):e.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;e._watchers.length;)e._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(t,e,n,i){t.align=angular.isDefined(e.align)?t.$parent.$eval(e.align):i.align,n.create(this,t,e)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(t){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(t,e){return e.templateUrl||"uib/template/pager/pager.html"},link:function(e,n,i,r){n.addClass("pager");var a=r[0],o=r[1];o&&a.init(o,t)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(t,e,n,i,r){function a(t,e,n){return{number:t,text:e,active:n}}function o(t,e){var n=[],i=1,r=e,o=angular.isDefined(l)&&e>l;o&&(u?(i=Math.max(t-Math.floor(l/2),1),r=i+l-1,r>e&&(r=e,i=r-l+1)):(i=(Math.ceil(t/l)-1)*l+1,r=Math.min(i+l-1,e)));for(var s=i;r>=s;s++){var d=a(s,p(s),s===t);n.push(d)}if(o&&l>0&&(!u||c||h)){if(i>1){if(!h||i>3){var f=a(i-1,"...",!1);n.unshift(f)}if(h){if(3===i){var g=a(2,"2",!1);n.unshift(g)}var m=a(1,"1",!1);n.unshift(m)}}if(e>r){if(!h||e-2>r){var y=a(r+1,"...",!1);n.push(y)}if(h){if(r===e-2){var v=a(e-1,e-1,!1);n.push(v)}var S=a(e,e,!1);n.push(S)}}}return n}var s=this,l=angular.isDefined(e.maxSize)?t.$parent.$eval(e.maxSize):r.maxSize,u=angular.isDefined(e.rotate)?t.$parent.$eval(e.rotate):r.rotate,c=angular.isDefined(e.forceEllipses)?t.$parent.$eval(e.forceEllipses):r.forceEllipses,h=angular.isDefined(e.boundaryLinkNumbers)?t.$parent.$eval(e.boundaryLinkNumbers):r.boundaryLinkNumbers,p=angular.isDefined(e.pageLabel)?function(n){return t.$parent.$eval(e.pageLabel,{$page:n})}:angular.identity;t.boundaryLinks=angular.isDefined(e.boundaryLinks)?t.$parent.$eval(e.boundaryLinks):r.boundaryLinks,t.directionLinks=angular.isDefined(e.directionLinks)?t.$parent.$eval(e.directionLinks):r.directionLinks,e.$set("role","menu"),i.create(this,t,e),e.maxSize&&s._watchers.push(t.$parent.$watch(n(e.maxSize),function(t){l=parseInt(t,10),s.render()}));var d=this.render;this.render=function(){d(),t.page>0&&t.page<=t.totalPages&&(t.pages=o(t.page,t.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(t,e){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(t,e){return e.templateUrl||"uib/template/pagination/pagination.html"},link:function(t,n,i,r){n.addClass("pagination");var a=r[0],o=r[1];o&&a.init(o,e)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function t(t){var e=/[A-Z]/g,n="-";return t.replace(e,function(t,e){return(e?n:"")+t.toLowerCase()})}var e={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},i={};this.options=function(t){angular.extend(i,t)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(r,a,o,s,l,u,c,h,p){function d(t){if(27===t.which){var e=f.top();e&&(e.value.close(),e=null)}}var f=p.createNew();return s.on("keyup",d),c.$on("$destroy",function(){s.off("keyup",d)}),function(r,c,p,d){function g(t){var e=(t||d.trigger||p).split(" "),i=e.map(function(t){return n[t]||t});return{show:e,hide:i}}d=angular.extend({},e,i,d);var m=t(r),y=u.startSymbol(),v=u.endSymbol(),S="<div "+m+'-popup uib-title="'+y+"title"+v+'" '+(d.useContentExp?'content-exp="contentExp()" ':'content="'+y+"content"+v+'" ')+'origin-scope="origScope" class="uib-position-measure '+c+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(t,e){var n=a(S);return function(t,e,i,a){function u(){z.isOpen?m():p()}function p(){H&&!t.$eval(i[c+"Enable"])||(T(),M(),z.popupDelay?_||(_=o(y,z.popupDelay,!1)):y())}function m(){v(),z.popupCloseDelay?L||(L=o(S,z.popupCloseDelay,!1)):S()}function y(){return v(),T(),z.content?(b(),void z.$evalAsync(function(){z.isOpen=!0,w(!0),V()})):angular.noop}function v(){_&&(o.cancel(_),_=null),N&&(o.cancel(N),N=null)}function S(){z&&z.$evalAsync(function(){z&&(z.isOpen=!1,w(!1),z.animation?O||(O=o(x,150,!1)):x())})}function T(){L&&(o.cancel(L),L=null),O&&(o.cancel(O),O=null)}function b(){P||(E=z.$new(),P=n(E,function(t){I?s.find("body").append(t):e.after(t)}),f.add(z,{close:S}),A())}function x(){v(),T(),C(),P&&(P.remove(),P=null,X&&o.cancel(X)),f.remove(z),E&&(E.$destroy(),E=null)}function M(){z.title=i[c+"Title"],Y?z.content=Y(t):z.content=i[r],z.popupClass=i[c+"Class"],z.placement=angular.isDefined(i[c+"Placement"])?i[c+"Placement"]:d.placement;var e=l.parsePlacement(z.placement);F=e[1]?e[0]+"-"+e[1]:e[0];var n=parseInt(i[c+"PopupDelay"],10),a=parseInt(i[c+"PopupCloseDelay"],10);z.popupDelay=isNaN(n)?d.popupDelay:n,z.popupCloseDelay=isNaN(a)?d.popupCloseDelay:a}function w(e){W&&angular.isFunction(W.assign)&&W.assign(t,e)}function A(){U.length=0,Y?(U.push(t.$watch(Y,function(t){z.content=t,!t&&z.isOpen&&S()})),U.push(E.$watch(function(){B||(B=!0,E.$$postDigest(function(){B=!1,z&&z.isOpen&&V()}))}))):U.push(i.$observe(r,function(t){z.content=t,!t&&z.isOpen?S():V()})),U.push(i.$observe(c+"Title",function(t){z.title=t,z.isOpen&&V()})),U.push(i.$observe(c+"Placement",function(t){z.placement=t?t:d.placement,z.isOpen&&V()}))}function C(){U.length&&(angular.forEach(U,function(t){t()}),U.length=0)}function k(t){z&&z.isOpen&&P&&(e[0].contains(t.target)||P[0].contains(t.target)||m())}function D(t){27===t.which&&m()}function $(){var n=[],r=[],a=t.$eval(i[c+"Trigger"]);j(),angular.isObject(a)?(Object.keys(a).forEach(function(t){n.push(t),r.push(a[t])}),R={show:n,hide:r}):R=g(a),"none"!==R.show&&R.show.forEach(function(t,n){"outsideClick"===t?(e.on("click",u),s.on("click",k)):t===R.hide[n]?e.on(t,u):t&&(e.on(t,p),e.on(R.hide[n],m)),e.on("keypress",D)})}var P,E,O,_,L,N,X,F,I=!!angular.isDefined(d.appendToBody)&&d.appendToBody,R=g(void 0),H=angular.isDefined(i[c+"Enable"]),z=t.$new(!0),B=!1,W=!!angular.isDefined(i[c+"IsOpen"])&&h(i[c+"IsOpen"]),Y=!!d.useContentExp&&h(i[r]),U=[],V=function(){P&&P.html()&&(N||(N=o(function(){var t=l.positionElements(e,P,z.placement,I),n=angular.isDefined(P.offsetHeight)?P.offsetHeight:P.prop("offsetHeight"),i=I?l.offset(e):l.position(e);P.css({top:t.top+"px",left:t.left+"px"});var r=t.placement.split("-");P.hasClass(r[0])||(P.removeClass(F.split("-")[0]),P.addClass(r[0])),P.hasClass(d.placementClassPrefix+t.placement)||(P.removeClass(d.placementClassPrefix+F),P.addClass(d.placementClassPrefix+t.placement)),X=o(function(){var t=angular.isDefined(P.offsetHeight)?P.offsetHeight:P.prop("offsetHeight"),e=l.adjustTop(r,i,n,t);e&&P.css(e),X=null},0,!1),P.hasClass("uib-position-measure")?(l.positionArrow(P,t.placement),P.removeClass("uib-position-measure")):F!==t.placement&&l.positionArrow(P,t.placement),F=t.placement,N=null},0,!1)))};z.origScope=t,z.isOpen=!1,z.contentExp=function(){return z.content},i.$observe("disabled",function(t){t&&v(),t&&z.isOpen&&S()}),W&&t.$watch(W,function(t){z&&!t===z.isOpen&&u()});var j=function(){R.show.forEach(function(t){"outsideClick"===t?e.off("click",u):(e.off(t,p),e.off(t,u)),e.off("keypress",D)}),R.hide.forEach(function(t){"outsideClick"===t?s.off("click",k):e.off(t,m)})};$();var q=t.$eval(i[c+"Animation"]);z.animation=angular.isDefined(q)?!!q:d.animation;var G,J=c+"AppendToBody";G=J in i&&void 0===i[J]||t.$eval(i[J]),I=angular.isDefined(G)?G:I,t.$on("$destroy",function(){j(),x(),z=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(t,e,n,i){return{link:function(r,a,o){var s,l,u,c=r.$eval(o.tooltipTemplateTranscludeScope),h=0,p=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),u&&(t.leave(u).then(function(){l=null}),l=u,u=null)};r.$watch(e.parseAsResourceUrl(o.uibTooltipTemplateTransclude),function(e){var o=++h;e?(i(e,!0).then(function(i){if(o===h){var r=c.$new(),l=i,d=n(l)(r,function(e){p(),t.enter(e,a)});s=r,u=d,s.$emit("$includeContentLoaded",e)}},function(){o===h&&(p(),r.$emit("$includeContentError",e))}),r.$emit("$includeContentRequested",e)):p()}),r.$on("$destroy",p)}}}]).directive("uibTooltipClasses",["$uibPosition",function(t){return{restrict:"A",link:function(e,n,i){if(e.placement){var r=t.parsePlacement(e.placement);n.addClass(r[0])}e.popupClass&&n.addClass(e.popupClass),e.animation&&n.addClass(i.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(t){return t("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(t){return t("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(t){return t("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(t){return t("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(t){return t("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(t){return t("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(t,e,n){function i(){return angular.isDefined(t.maxParam)?t.maxParam:n.max}var r=this,a=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.bars=[],t.max=i(),this.addBar=function(t,e,n){a||e.css({transition:"none"}),this.bars.push(t),t.max=i(),t.title=n&&angular.isDefined(n.title)?n.title:"progressbar",t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){var e=r.bars.reduce(function(t,e){return e.percent=+(100*e.value/e.max).toFixed(2),t+e.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){e=null,r.removeBar(t)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1),this.bars.forEach(function(t){t.recalculatePercentage()})},t.$watch("maxParam",function(t){r.bars.forEach(function(t){t.max=i(),t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(t,e,n,i){i.addBar(t,e,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(t,e,n,i){i.addBar(t,angular.element(e.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(t,e,n){var i={$setViewValue:angular.noop},r=this;this.init=function(r){i=r,i.$render=this.render,i.$formatters.push(function(t){return angular.isNumber(t)&&t<<0!==t&&(t=Math.round(t)),t}),this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):n.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):n.stateOff,this.enableReset=angular.isDefined(e.enableReset)?t.$parent.$eval(e.enableReset):n.enableReset;var a=angular.isDefined(e.titles)?t.$parent.$eval(e.titles):n.titles;this.titles=angular.isArray(a)&&a.length>0?a:n.titles;var o=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max);t.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;n>e;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(e)},t[e]);return t},this.getTitle=function(t){return t>=this.titles.length?t+1:this.titles[t]},t.rate=function(e){if(!t.readonly&&e>=0&&e<=t.range.length){var n=r.enableReset&&i.$viewValue===e?0:e;i.$setViewValue(n),i.$render()}},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=i.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=i.$viewValue,t.title=r.getTitle(t.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(t,e,n,i){var r=i[0],a=i[1];r.init(a)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(t){function e(t){for(var e=0;e<i.tabs.length;e++)if(i.tabs[e].index===t)return e}var n,i=this;i.tabs=[],i.select=function(t,a){if(!r){var o=e(n),s=i.tabs[o];if(s){if(s.tab.onDeselect({$event:a,$selectedIndex:t}),a&&a.isDefaultPrevented())return;s.tab.active=!1}var l=i.tabs[t];l?(l.tab.onSelect({$event:a}),l.tab.active=!0,i.active=l.index,n=l.index):!l&&angular.isDefined(n)&&(i.active=null,n=null)}},i.addTab=function(t){if(i.tabs.push({tab:t,index:t.index}),i.tabs.sort(function(t,e){return t.index>e.index?1:t.index<e.index?-1:0}),t.index===i.active||!angular.isDefined(i.active)&&1===i.tabs.length){var n=e(t.index);i.select(n)}},i.removeTab=function(t){for(var e,n=0;n<i.tabs.length;n++)if(i.tabs[n].tab===t){e=n;break}if(i.tabs[e].index===i.active){var r=e===i.tabs.length-1?e-1:e+1%i.tabs.length;i.select(r)}i.tabs.splice(e,1)},t.$watch("tabset.active",function(t){angular.isDefined(t)&&t!==n&&i.select(e(t))});var r;t.$on("$destroy",function(){r=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tabset.html"},link:function(t,e,n){t.vertical=!!angular.isDefined(n.vertical)&&t.$parent.$eval(n.vertical),t.justified=!!angular.isDefined(n.justified)&&t.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(t){return{require:"^uibTabset",replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(e,n,i,r,a){e.disabled=!1,i.disable&&e.$parent.$watch(t(i.disable),function(t){e.disabled=!!t}),angular.isUndefined(i.index)&&(r.tabs&&r.tabs.length?e.index=Math.max.apply(null,r.tabs.map(function(t){return t.index}))+1:e.index=0),angular.isUndefined(i.classes)&&(e.classes=""),e.select=function(t){if(!e.disabled){for(var n,i=0;i<r.tabs.length;i++)if(r.tabs[i].tab===e){n=i;break}r.select(n,t)}},r.addTab(e),e.$on("$destroy",function(){r.removeTab(e)}),e.$transcludeFn=a}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}).directive("uibTabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("uib-tab-heading")||t.hasAttribute("data-uib-tab-heading")||t.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===t.tagName.toLowerCase()||"data-uib-tab-heading"===t.tagName.toLowerCase()||"x-uib-tab-heading"===t.tagName.toLowerCase()||"uib:tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(e,n,i){var r=e.$eval(i.uibTabContentTransclude).tab;r.$transcludeFn(r.$parent,function(e){angular.forEach(e,function(e){t(e)?r.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(t,e,n,i,r,a,o){function s(){var e=+t.hours,n=t.showMeridian?e>0&&13>e:e>=0&&24>e;return n&&""!==t.hours?(t.showMeridian&&(12===e&&(e=0),t.meridian===w[1]&&(e+=12)),e):void 0}function l(){var e=+t.minutes,n=e>=0&&60>e;return n&&""!==t.minutes?e:void 0}function u(){var e=+t.seconds;return e>=0&&60>e?e:void 0}function c(t,e){return null===t?"":angular.isDefined(t)&&t.toString().length<2&&!e?"0"+t:t.toString()}function h(t){p(),M.$setViewValue(new Date(b)),d(t)}function p(){v&&v.$setValidity("hours",!0),S&&S.$setValidity("minutes",!0),T&&T.$setValidity("seconds",!0),M.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1,t.invalidSeconds=!1}function d(e){if(M.$modelValue){var n=b.getHours(),i=b.getMinutes(),r=b.getSeconds();t.showMeridian&&(n=0===n||12===n?12:n%12),t.hours="h"===e?n:c(n,!A),"m"!==e&&(t.minutes=c(i)),t.meridian=b.getHours()<12?w[0]:w[1],"s"!==e&&(t.seconds=c(r)),t.meridian=b.getHours()<12?w[0]:w[1]}else t.hours=null,t.minutes=null,t.seconds=null,t.meridian=w[0]}function f(t){b=m(b,t),h()}function g(t,e){return m(t,60*e)}function m(t,e){var n=new Date(t.getTime()+1e3*e),i=new Date(t);return i.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),i}function y(){return(null===t.hours||""===t.hours)&&(null===t.minutes||""===t.minutes)&&(!t.showSeconds||t.showSeconds&&(null===t.seconds||""===t.seconds))}var v,S,T,b=new Date,x=[],M={$setViewValue:angular.noop},w=angular.isDefined(n.meridians)?t.$parent.$eval(n.meridians):o.meridians||a.DATETIME_FORMATS.AMPMS,A=!angular.isDefined(n.padHours)||t.$parent.$eval(n.padHours);t.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,e.removeAttr("tabindex"),this.init=function(e,i){M=e,M.$render=this.render,M.$formatters.unshift(function(t){return t?new Date(t):null});var r=i.eq(0),a=i.eq(1),s=i.eq(2);v=r.controller("ngModel"),S=a.controller("ngModel"),T=s.controller("ngModel");var l=angular.isDefined(n.mousewheel)?t.$parent.$eval(n.mousewheel):o.mousewheel;l&&this.setupMousewheelEvents(r,a,s);var u=angular.isDefined(n.arrowkeys)?t.$parent.$eval(n.arrowkeys):o.arrowkeys;u&&this.setupArrowkeyEvents(r,a,s),t.readonlyInput=angular.isDefined(n.readonlyInput)?t.$parent.$eval(n.readonlyInput):o.readonlyInput,this.setupInputEvents(r,a,s)};var C=o.hourStep;n.hourStep&&x.push(t.$parent.$watch(i(n.hourStep),function(t){C=+t}));var k=o.minuteStep;n.minuteStep&&x.push(t.$parent.$watch(i(n.minuteStep),function(t){k=+t}));var D;x.push(t.$parent.$watch(i(n.min),function(t){var e=new Date(t);D=isNaN(e)?void 0:e}));var $;x.push(t.$parent.$watch(i(n.max),function(t){var e=new Date(t);$=isNaN(e)?void 0:e}));var P=!1;n.ngDisabled&&x.push(t.$parent.$watch(i(n.ngDisabled),function(t){P=t})),t.noIncrementHours=function(){var t=g(b,60*C);return P||t>$||b>t&&D>t},t.noDecrementHours=function(){var t=g(b,60*-C);return P||D>t||t>b&&t>$},t.noIncrementMinutes=function(){var t=g(b,k);return P||t>$||b>t&&D>t},t.noDecrementMinutes=function(){var t=g(b,-k);return P||D>t||t>b&&t>$},t.noIncrementSeconds=function(){var t=m(b,E);return P||t>$||b>t&&D>t},t.noDecrementSeconds=function(){var t=m(b,-E);return P||D>t||t>b&&t>$},t.noToggleMeridian=function(){return b.getHours()<12?P||g(b,720)>$:P||g(b,-720)<D};var E=o.secondStep;n.secondStep&&x.push(t.$parent.$watch(i(n.secondStep),function(t){E=+t})),t.showSeconds=o.showSeconds,n.showSeconds&&x.push(t.$parent.$watch(i(n.showSeconds),function(e){t.showSeconds=!!e})),t.showMeridian=o.showMeridian,n.showMeridian&&x.push(t.$parent.$watch(i(n.showMeridian),function(e){if(t.showMeridian=!!e,M.$error.time){var n=s(),i=l();angular.isDefined(n)&&angular.isDefined(i)&&(b.setHours(n),h())}else d()})),this.setupMousewheelEvents=function(e,n,i){var r=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.on("mousewheel wheel",function(e){P||t.$apply(r(e)?t.incrementHours():t.decrementHours()),e.preventDefault()}),n.on("mousewheel wheel",function(e){P||t.$apply(r(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()}),i.on("mousewheel wheel",function(e){P||t.$apply(r(e)?t.incrementSeconds():t.decrementSeconds()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,n,i){e.on("keydown",function(e){P||(38===e.which?(e.preventDefault(),t.incrementHours(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementHours(),t.$apply()))}),n.on("keydown",function(e){P||(38===e.which?(e.preventDefault(),t.incrementMinutes(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementMinutes(),t.$apply()))}),i.on("keydown",function(e){P||(38===e.which?(e.preventDefault(),t.incrementSeconds(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementSeconds(),t.$apply()))})},this.setupInputEvents=function(e,n,i){if(t.readonlyInput)return t.updateHours=angular.noop,t.updateMinutes=angular.noop,void(t.updateSeconds=angular.noop);var r=function(e,n,i){M.$setViewValue(null),M.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e,v&&v.$setValidity("hours",!1)),angular.isDefined(n)&&(t.invalidMinutes=n,S&&S.$setValidity("minutes",!1)),angular.isDefined(i)&&(t.invalidSeconds=i,T&&T.$setValidity("seconds",!1))};t.updateHours=function(){var t=s(),e=l();M.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(b.setHours(t),b.setMinutes(e),D>b||b>$?r(!0):h("h")):r(!0)},e.on("blur",function(e){M.$setTouched(),y()?p():null===t.hours||""===t.hours?r(!0):!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=c(t.hours,!A)})}),t.updateMinutes=function(){var t=l(),e=s();M.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(b.setHours(e),b.setMinutes(t),D>b||b>$?r(void 0,!0):h("m")):r(void 0,!0)},n.on("blur",function(e){M.$setTouched(),y()?p():null===t.minutes?r(void 0,!0):!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=c(t.minutes)})}),t.updateSeconds=function(){var t=u();M.$setDirty(),angular.isDefined(t)?(b.setSeconds(t),h("s")):r(void 0,void 0,!0)},i.on("blur",function(e){y()?p():!t.invalidSeconds&&t.seconds<10&&t.$apply(function(){t.seconds=c(t.seconds)})})},this.render=function(){var e=M.$viewValue;isNaN(e)?(M.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(b=e),D>b||b>$?(M.$setValidity("time",!1),t.invalidHours=!0,t.invalidMinutes=!0):p(),d())},t.showSpinners=angular.isDefined(n.showSpinners)?t.$parent.$eval(n.showSpinners):o.showSpinners,t.incrementHours=function(){t.noIncrementHours()||f(60*C*60)},t.decrementHours=function(){t.noDecrementHours()||f(60*-C*60)},t.incrementMinutes=function(){t.noIncrementMinutes()||f(60*k)},t.decrementMinutes=function(){t.noDecrementMinutes()||f(60*-k)},t.incrementSeconds=function(){t.noIncrementSeconds()||f(E)},t.decrementSeconds=function(){t.noDecrementSeconds()||f(-E)},t.toggleMeridian=function(){var e=l(),n=s();t.noToggleMeridian()||(angular.isDefined(e)&&angular.isDefined(n)?f(720*(b.getHours()<12?60:-60)):t.meridian=t.meridian===w[0]?w[1]:w[0])},t.blur=function(){M.$setTouched()},t.$on("$destroy",function(){for(;x.length;)x.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(t){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(e,n){return n.templateUrl||t.templateUrl},link:function(t,e,n,i){var r=i[0],a=i[1];a&&r.init(a,e.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(e);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:t(i[4]),viewMapper:t(i[2]||i[1]),modelMapper:t(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(t,e,n,i,r,a,o,s,l,u,c,h,p){function d(){z.moveInProgress||(z.moveInProgress=!0,z.$digest()),Z()}function f(){z.position=E?h.offset(e):h.position(e),z.position.top+=e.prop("offsetHeight")}function g(t){var e;return angular.version.minor<6?(e=t.$options||{},e.getOption=function(t){return e[t]}):e=t.$options,e}var m,y,v=[9,13,27,38,40],S=200,T=t.$eval(n.typeaheadMinLength);T||0===T||(T=1),t.$watch(n.typeaheadMinLength,function(t){T=t||0===t?t:1});var b=t.$eval(n.typeaheadWaitMs)||0,x=t.$eval(n.typeaheadEditable)!==!1;t.$watch(n.typeaheadEditable,function(t){x=t!==!1});var M,w,A=r(n.typeaheadLoading).assign||angular.noop,C=n.typeaheadShouldSelect?r(n.typeaheadShouldSelect):function(t,e){var n=e.$event;return 13===n.which||9===n.which},k=r(n.typeaheadOnSelect),D=!!angular.isDefined(n.typeaheadSelectOnBlur)&&t.$eval(n.typeaheadSelectOnBlur),$=r(n.typeaheadNoResults).assign||angular.noop,P=n.typeaheadInputFormatter?r(n.typeaheadInputFormatter):void 0,E=!!n.typeaheadAppendToBody&&t.$eval(n.typeaheadAppendToBody),O=n.typeaheadAppendTo?t.$eval(n.typeaheadAppendTo):null,_=t.$eval(n.typeaheadFocusFirst)!==!1,L=!!n.typeaheadSelectOnExact&&t.$eval(n.typeaheadSelectOnExact),N=r(n.typeaheadIsOpen).assign||angular.noop,X=t.$eval(n.typeaheadShowHint)||!1,F=r(n.ngModel),I=r(n.ngModel+"($$$p)"),R=function(e,n){return angular.isFunction(F(t))&&y.getOption("getterSetter")?I(e,{$$$p:n}):F.assign(e,n)},H=p.parse(n.uibTypeahead),z=t.$new(),B=t.$on("$destroy",function(){z.$destroy()});z.$on("$destroy",B);var W="typeahead-"+z.$id+"-"+Math.floor(1e4*Math.random());e.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":W});var Y,U;X&&(Y=angular.element("<div></div>"),Y.css("position","relative"),e.after(Y),U=e.clone(),U.attr("placeholder",""),U.attr("tabindex","-1"),U.val(""),U.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),e.css({position:"relative","vertical-align":"top","background-color":"transparent"}),U.attr("id")&&U.removeAttr("id"),
Y.append(U),U.after(e));var V=angular.element("<div uib-typeahead-popup></div>");V.attr({id:W,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&V.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&V.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var j=function(){X&&U.val("")},q=function(){z.matches=[],z.activeIdx=-1,e.attr("aria-expanded",!1),j()},G=function(t){return W+"-option-"+t};z.$watch("activeIdx",function(t){0>t?e.removeAttr("aria-activedescendant"):e.attr("aria-activedescendant",G(t))});var J=function(t,e){return!!(z.matches.length>e&&t)&&t.toUpperCase()===z.matches[e].label.toUpperCase()},K=function(n,i){var r={$viewValue:n};A(t,!0),$(t,!1),a.when(H.source(t,r)).then(function(a){var o=n===m.$viewValue;if(o&&M)if(a&&a.length>0){z.activeIdx=_?0:-1,$(t,!1),z.matches.length=0;for(var s=0;s<a.length;s++)r[H.itemName]=a[s],z.matches.push({id:G(s),label:H.viewMapper(z,r),model:a[s]});if(z.query=n,f(),e.attr("aria-expanded",!0),L&&1===z.matches.length&&J(n,0)&&(angular.isNumber(z.debounceUpdate)||angular.isObject(z.debounceUpdate)?c(function(){z.select(0,i)},angular.isNumber(z.debounceUpdate)?z.debounceUpdate:z.debounceUpdate.default):z.select(0,i)),X){var l=z.matches[0].label;angular.isString(n)&&n.length>0&&l.slice(0,n.length).toUpperCase()===n.toUpperCase()?U.val(n+l.slice(n.length)):U.val("")}}else q(),$(t,!0);o&&A(t,!1)},function(){q(),A(t,!1),$(t,!0)})};E&&(angular.element(l).on("resize",d),s.find("body").on("scroll",d));var Z=c(function(){z.matches.length&&f(),z.moveInProgress=!1},S);z.moveInProgress=!1,z.query=void 0;var Q,tt=function(t){Q=o(function(){K(t)},b)},et=function(){Q&&o.cancel(Q)};q(),z.assignIsOpen=function(e){N(t,e)},z.select=function(i,r){var a,s,l={};w=!0,l[H.itemName]=s=z.matches[i].model,a=H.modelMapper(t,l),R(t,a),m.$setValidity("editable",!0),m.$setValidity("parse",!0),k(t,{$item:s,$model:a,$label:H.viewMapper(t,l),$event:r}),q(),z.$eval(n.typeaheadFocusOnSelect)!==!1&&o(function(){e[0].focus()},0,!1)},e.on("keydown",function(e){if(0!==z.matches.length&&-1!==v.indexOf(e.which)){var n=C(t,{$event:e});if(-1===z.activeIdx&&n||9===e.which&&e.shiftKey)return q(),void z.$digest();e.preventDefault();var i;switch(e.which){case 27:e.stopPropagation(),q(),t.$digest();break;case 38:z.activeIdx=(z.activeIdx>0?z.activeIdx:z.matches.length)-1,z.$digest(),i=V[0].querySelectorAll(".uib-typeahead-match")[z.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;case 40:z.activeIdx=(z.activeIdx+1)%z.matches.length,z.$digest(),i=V[0].querySelectorAll(".uib-typeahead-match")[z.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;default:n&&z.$apply(function(){angular.isNumber(z.debounceUpdate)||angular.isObject(z.debounceUpdate)?c(function(){z.select(z.activeIdx,e)},angular.isNumber(z.debounceUpdate)?z.debounceUpdate:z.debounceUpdate.default):z.select(z.activeIdx,e)})}}}),e.on("focus",function(t){M=!0,0!==T||m.$viewValue||o(function(){K(m.$viewValue,t)},0)}),e.on("blur",function(t){D&&z.matches.length&&-1!==z.activeIdx&&!w&&(w=!0,z.$apply(function(){angular.isObject(z.debounceUpdate)&&angular.isNumber(z.debounceUpdate.blur)?c(function(){z.select(z.activeIdx,t)},z.debounceUpdate.blur):z.select(z.activeIdx,t)})),!x&&m.$error.editable&&(m.$setViewValue(),z.$apply(function(){m.$setValidity("editable",!0),m.$setValidity("parse",!0)}),e.val("")),M=!1,w=!1});var nt=function(n){e[0]!==n.target&&3!==n.which&&0!==z.matches.length&&(q(),u.$$phase||t.$digest())};s.on("click",nt),t.$on("$destroy",function(){s.off("click",nt),(E||O)&&it.remove(),E&&(angular.element(l).off("resize",d),s.find("body").off("scroll",d)),V.remove(),X&&Y.remove()});var it=i(V)(z);E?s.find("body").append(it):O?angular.element(O).eq(0).append(it):e.after(it),this.init=function(e){m=e,y=g(m),z.debounceUpdate=r(y.getOption("debounce"))(t),m.$parsers.unshift(function(e){return M=!0,0===T||e&&e.length>=T?b>0?(et(),tt(e)):K(e):(A(t,!1),et(),q()),x?e:e?void m.$setValidity("editable",!1):(m.$setValidity("editable",!0),null)}),m.$formatters.push(function(e){var n,i,r={};return x||m.$setValidity("editable",!0),P?(r.$model=e,P(t,r)):(r[H.itemName]=e,n=H.viewMapper(t,r),r[H.itemName]=void 0,i=H.viewMapper(t,r),n!==i?n:e)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(t,e,n,i){i[1].init(i[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(t){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(t,e){return e.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(e,n,i){e.templateUrl=i.templateUrl,e.isOpen=function(){var t=e.matches.length>0;return e.assignIsOpen({isOpen:t}),t},e.isActive=function(t){return e.active===t},e.selectActive=function(t){e.active=t},e.selectMatch=function(n,i){var r=e.debounce();angular.isNumber(r)||angular.isObject(r)?t(function(){e.select({activeIdx:n,evt:i})},angular.isNumber(r)?r:r.default):e.select({activeIdx:n,evt:i})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(t,e,n){return{scope:{index:"=",match:"=",query:"="},link:function(i,r,a){var o=n(a.templateUrl)(i.$parent)||"uib/template/typeahead/typeahead-match.html";t(o).then(function(t){var n=angular.element(t.trim());r.replaceWith(n),e(n)(i)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(t,e,n){function i(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function r(t){return/<.*>/g.test(t)}var a;return a=e.has("$sanitize"),function(e,o){return!a&&r(e)&&n.warn("Unsafe use of typeahead please use ngSanitize"),e=o?(""+e).replace(new RegExp(i(o),"gi"),"<strong>$&</strong>"):e,a||(e=t.trustAsHtml(e)),e}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(t){t.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(t){t.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0;
}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),function(t,e){"use strict";function n(t,e,n){if(!t)throw G("areq",e||"?",n||"required");return t}function i(t,e){return t||e?t?e?(X(t)&&(t=t.join(" ")),X(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function r(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}function a(t,e,n){var i="";return t=X(t)?t:t&&z(t)&&t.length?t.split(/\s+/):[],N(t,function(t,r){t&&0<t.length&&(i+=0<r?" ":"",i+=n?e+t:t+e)}),i}function o(t){if(t instanceof W)switch(t.length){case 0:return t;case 1:if(1===t[0].nodeType)return t;break;default:return W(s(t))}if(1===t.nodeType)return W(t)}function s(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(1===n.nodeType)return n}}function l(t,e,n){N(e,function(e){t.addClass(e,n)})}function u(t,e,n){N(e,function(e){t.removeClass(e,n)})}function c(t){return function(e,n){n.addClass&&(l(t,e,n.addClass),n.addClass=null),n.removeClass&&(u(t,e,n.removeClass),n.removeClass=null)}}function h(t){if(t=t||{},!t.$$prepared){var e=t.domOperation||Y;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=Y},t.$$prepared=!0}return t}function p(t,e){d(t,e),f(t,e)}function d(t,e){e.from&&(t.css(e.from),e.from=null)}function f(t,e){e.to&&(t.css(e.to),e.to=null)}function g(t,e,n){var i=e.options||{};n=n.options||{};var r=(i.addClass||"")+" "+(n.addClass||""),a=(i.removeClass||"")+" "+(n.removeClass||"");return t=m(t.attr("class"),r,a),n.preparationClasses&&(i.preparationClasses=x(n.preparationClasses,i.preparationClasses),delete n.preparationClasses),r=i.domOperation!==Y?i.domOperation:null,L(i,n),r&&(i.domOperation=r),i.addClass=t.addClass?t.addClass:null,i.removeClass=t.removeClass?t.removeClass:null,e.addClass=i.addClass,e.removeClass=i.removeClass,i}function m(t,e,n){function i(t){z(t)&&(t=t.split(" "));var e={};return N(t,function(t){t.length&&(e[t]=!0)}),e}var r={};t=i(t),e=i(e),N(e,function(t,e){r[e]=1}),n=i(n),N(n,function(t,e){r[e]=1===r[e]?null:-1});var a={addClass:"",removeClass:""};return N(r,function(e,n){var i,r;1===e?(i="addClass",r=!t[n]||t[n+"-remove"]):-1===e&&(i="removeClass",r=t[n]||t[n+"-add"]),r&&(a[i].length&&(a[i]+=" "),a[i]+=n)}),a}function y(t){return t instanceof W?t[0]:t}function v(t,e,n){var i="";e&&(i=a(e,"ng-",!0)),n.addClass&&(i=x(i,a(n.addClass,"-add"))),n.removeClass&&(i=x(i,a(n.removeClass,"-remove"))),i.length&&(n.preparationClasses=i,t.addClass(i))}function S(t,e){var n=e?"-"+e+"s":"";return b(t,[j,n]),[j,n]}function T(t,e){var n=e?"paused":"",i=E+"PlayState";return b(t,[i,n]),[i,n]}function b(t,e){t.style[e[0]]=e[1]}function x(t,e){return t?e?t+" "+e:t:e}function M(t,e,n){var i=Object.create(null),r=t.getComputedStyle(e)||{};return N(n,function(t,e){var n=r[t];if(n){var a=n.charAt(0);("-"===a||"+"===a||0<=a)&&(n=w(n)),0===n&&(n=null),i[e]=n}}),i}function w(t){var e=0;return t=t.split(/\s*,\s*/),N(t,function(t){"s"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}function A(t){return 0===t||null!=t}function C(t,e){var n=$,i=t+"s";return e?n+="Duration":i+=" linear all",[n,i]}function k(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){return(e=t[e])?e.total:0},get:function(e){return(e=t[e])&&e.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}function D(t,e,n){N(n,function(n){t[n]=F(t[n])?t[n]:e.style.getPropertyValue(n)})}var $,P,E,O;void 0===t.ontransitionend&&void 0!==t.onwebkittransitionend?($="WebkitTransition",P="webkitTransitionEnd transitionend"):($="transition",P="transitionend"),void 0===t.onanimationend&&void 0!==t.onwebkitanimationend?(E="WebkitAnimation",O="webkitAnimationEnd animationend"):(E="animation",O="animationend");var _,L,N,X,F,I,R,H,z,B,W,Y,U=E+"Delay",V=E+"Duration",j=$+"Delay",q=$+"Duration",G=e.$$minErr("ng"),J={transitionDuration:q,transitionDelay:j,transitionProperty:$+"Property",animationDuration:V,animationDelay:U,animationIterationCount:E+"IterationCount"},K={transitionDuration:q,transitionDelay:j,animationDuration:V,animationDelay:U};e.module("ngAnimate",[],function(){Y=e.noop,_=e.copy,L=e.extend,W=e.element,N=e.forEach,X=e.isArray,z=e.isString,H=e.isObject,B=e.isUndefined,F=e.isDefined,R=e.isFunction,I=e.isElement}).info({angularVersion:"1.6.4"}).directive("ngAnimateSwap",["$animate","$rootScope",function(t,e){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(e,n,i,r,a){var o,s;e.$watchCollection(i.ngAnimateSwap||i.for,function(i){o&&t.leave(o),s&&(s.$destroy(),s=null),(i||0===i)&&(s=e.$new(),a(s,function(e){o=e,t.enter(e,null,n)}))})}}}]).directive("ngAnimateChildren",["$interpolate",function(t){return{link:function(e,n,i){function r(t){n.data("$$ngAnimateChildren","on"===t||"true"===t)}var a=i.ngAnimateChildren;z(a)&&0===a.length?n.data("$$ngAnimateChildren",!0):(r(t(a)(e)),i.$observe("ngAnimateChildren",r))}}}]).factory("$$rAFScheduler",["$$rAF",function(t){function e(t){i=i.concat(t),n()}function n(){if(i.length){for(var e=i.shift(),a=0;a<e.length;a++)e[a]();r||t(function(){r||n()})}}var i,r;return i=e.queue=[],e.waitUntilQuiet=function(e){r&&r(),r=t(function(){r=null,e(),n()})},e}]).provider("$$animateQueue",["$animateProvider",function(e){function i(t){if(!t)return null;t=t.split(" ");var e=Object.create(null);return N(t,function(t){e[t]=!0}),e}function r(t,e){if(t&&e){var n=i(e);return t.split(" ").some(function(t){return n[t]})}}function a(t,e,n){return u[t].some(function(t){return t(e,n)})}function l(t,e){var n=0<(t.addClass||"").length,i=0<(t.removeClass||"").length;return e?n&&i:n||i}var u=this.rules={skip:[],cancel:[],join:[]};u.join.push(function(t,e){return!t.structural&&l(t)}),u.skip.push(function(t,e){return!t.structural&&!l(t)}),u.skip.push(function(t,e){return"leave"===e.event&&t.structural}),u.skip.push(function(t,e){return e.structural&&2===e.state&&!t.structural}),u.cancel.push(function(t,e){return e.structural&&t.structural}),u.cancel.push(function(t,e){return 2===e.state&&t.structural}),u.cancel.push(function(t,e){if(e.structural)return!1;var n=t.addClass,i=t.removeClass,a=e.addClass,o=e.removeClass;return!(B(n)&&B(i)||B(a)&&B(o))&&(r(n,o)||r(i,a))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(i,r,u,d,f,m,S,T,b,x,M){function w(){var t=!1;return function(e){t?e():r.$$postDigest(function(){t=!0,e()})}}function A(t,e,n){var i=[],r=V[n];return r&&N(r,function(r){J.call(r.node,e)?i.push(r.callback):"leave"===n&&J.call(r.node,t)&&i.push(r.callback)}),i}function C(t,e,n){var i=s(e);return t.filter(function(t){return!(t.node===i&&(!n||t.callback===n))})}function k(t,e,n){function s(t,e,n,r){x(function(){var t=A(T,f,e);t.length?i(function(){N(t,function(t){t(d,n,r)}),"close"!==n||f.parentNode||K.off(f)}):"close"!==n||f.parentNode||K.off(f)}),t.progress(e,n,r)}function u(t){var e=d,n=c;n.preparationClasses&&(e.removeClass(n.preparationClasses),n.preparationClasses=null),n.activeClasses&&(e.removeClass(n.activeClasses),n.activeClasses=null),G(d,c),p(d,c),c.domOperation(),b.complete(!t)}var c=_(n),d=o(t),f=y(d),T=f&&f.parentNode,c=h(c),b=new S,x=w();if(X(c.addClass)&&(c.addClass=c.addClass.join(" ")),c.addClass&&!z(c.addClass)&&(c.addClass=null),X(c.removeClass)&&(c.removeClass=c.removeClass.join(" ")),c.removeClass&&!z(c.removeClass)&&(c.removeClass=null),c.from&&!H(c.from)&&(c.from=null),c.to&&!H(c.to)&&(c.to=null),!f)return u(),b;if(n=[f.getAttribute("class"),c.addClass,c.removeClass].join(" "),!q(n))return u(),b;var C=0<=["enter","move","leave"].indexOf(e),k=M(),L=!Y||k||R.get(f);n=!L&&O.get(f)||{};var F=!!n.state;if(L||F&&1===n.state||(L=!P(f,T,e)),L)return k&&s(b,e,"start"),u(),k&&s(b,e,"close"),b;if(C&&D(f),k={structural:C,element:d,event:e,addClass:c.addClass,removeClass:c.removeClass,close:u,options:c,runner:b},F){if(a("skip",k,n))return 2===n.state?(u(),b):(g(d,n,k),n.runner);if(a("cancel",k,n))if(2===n.state)n.runner.end();else{if(!n.structural)return g(d,n,k),n.runner;n.close()}else if(a("join",k,n)){if(2!==n.state)return v(d,C?e:null,c),e=k.event=n.event,c=g(d,n,k),n.runner;g(d,k,{})}}else g(d,k,{});if((F=k.structural)||(F="animate"===k.event&&0<Object.keys(k.options.to||{}).length||l(k)),!F)return u(),$(f),b;var I=(n.counter||0)+1;return k.counter=I,E(f,1,k),r.$$postDigest(function(){d=o(t);var n=O.get(f),i=!n,n=n||{},r=0<(d.parent()||[]).length&&("animate"===n.event||n.structural||l(n));i||n.counter!==I||!r?(i&&(G(d,c),p(d,c)),(i||C&&n.event!==e)&&(c.domOperation(),b.end()),r||$(f)):(e=!n.structural&&l(n,!0)?"setClass":n.event,E(f,2),n=m(d,e,n.options),b.setHost(n),s(b,e,"start",{}),n.done(function(t){u(!t),(t=O.get(f))&&t.counter===I&&$(f),s(b,e,"close",{})}))}),b}function D(t){t=t.querySelectorAll("[data-ng-animate]"),N(t,function(t){var e=parseInt(t.getAttribute("data-ng-animate"),10),n=O.get(t);if(n)switch(e){case 2:n.runner.end();case 1:O.delete(t)}})}function $(t){t.removeAttribute("data-ng-animate"),O.delete(t)}function P(t,e,n){n=d[0].body;var i,r=y(u),a=t===n||"HTML"===t.nodeName,o=t===r,s=!1,l=R.get(t);for((t=W.data(t,"$ngAnimatePin"))&&(e=y(t));e&&(o||(o=e===r),1===e.nodeType);){if(t=O.get(e)||{},!s){var c=R.get(e);if(!0===c&&!1!==l){l=!0;break}!1===c&&(l=!1),s=t.structural}if((B(i)||!0===i)&&(t=W.data(e,"$$ngAnimateChildren"),F(t)&&(i=t)),s&&!1===i)break;if(a||(a=e===n),a&&o)break;e=o||!(t=W.data(e,"$ngAnimatePin"))?e.parentNode:y(t)}return(!s||i)&&!0!==l&&o&&a}function E(t,e,n){n=n||{},n.state=e,t.setAttribute("data-ng-animate",e),n=(e=O.get(t))?L(e,n):n,O.set(t,n)}var O=new f,R=new f,Y=null,U=r.$watch(function(){return 0===T.totalPendingRequests},function(t){t&&(U(),r.$$postDigest(function(){r.$$postDigest(function(){null===Y&&(Y=!0)})}))}),V=Object.create(null),j=e.classNameFilter(),q=j?function(t){return j.test(t)}:function(){return!0},G=c(b),J=t.Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))},K={on:function(t,e,n){var i=s(e);V[t]=V[t]||[],V[t].push({node:i,callback:n}),W(e).on("$destroy",function(){O.get(i)||K.off(t,e,n)})},off:function(t,e,n){if(1!==arguments.length||z(arguments[0])){var i=V[t];i&&(V[t]=1===arguments.length?null:C(i,e,n))}else for(i in e=arguments[0],V)V[i]=C(V[i],e)},pin:function(t,e){n(I(t),"element","not an element"),n(I(e),"parentElement","not an element"),t.data("$ngAnimatePin",e)},push:function(t,e,n,i){return n=n||{},n.domOperation=i,k(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!Y;else if(I(t)){var i=y(t);1===n?e=!R.get(i):R.set(i,!e)}else e=Y=!!t;return e}};return K}]}]).provider("$$animation",["$animateProvider",function(t){var e=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(t,n,r,a,o,s){function l(t){function e(t){if(t.processed)return t;t.processed=!0;var n=t.domNode,a=n.parentNode;r.set(n,t);for(var o;a;){if(o=r.get(a)){o.processed||(o=e(o));break}a=a.parentNode}return(o||i).children.push(t),t}var n,i={children:[]},r=new o;for(n=0;n<t.length;n++){var a=t[n];r.set(a.domNode,t[n]={domNode:a.domNode,fn:a.fn,children:[]})}for(n=0;n<t.length;n++)e(t[n]);return function(t){var e,n=[],i=[];for(e=0;e<t.children.length;e++)i.push(t.children[e]);t=i.length;var r=0,a=[];for(e=0;e<i.length;e++){var o=i[e];0>=t&&(t=r,r=0,n.push(a),a=[]),a.push(o.fn),o.children.forEach(function(t){r++,i.push(t)}),t--}return a.length&&n.push(a),n}(i)}var u=[],d=c(t);return function(o,c,f){function g(t){t=t.hasAttribute("ng-animate-ref")?[t]:t.querySelectorAll("[ng-animate-ref]");var e=[];return N(t,function(t){var n=t.getAttribute("ng-animate-ref");n&&n.length&&e.push(t)}),e}function m(t){var e=[],n={};N(t,function(t,i){var r=y(t.element),a=0<=["enter","move"].indexOf(t.event),r=t.structural?g(r):[];if(r.length){var o=a?"to":"from";N(r,function(t){var e=t.getAttribute("ng-animate-ref");n[e]=n[e]||{},n[e][o]={animationID:i,element:W(t)}})}else e.push(t)});var i={},r={};return N(n,function(n,a){var o=n.from,s=n.to;if(o&&s){var l=t[o.animationID],u=t[s.animationID],c=o.animationID.toString();if(!r[c]){var h=r[c]={structural:!0,beforeStart:function(){l.beforeStart(),u.beforeStart()},close:function(){l.close(),u.close()},classes:v(l.classes,u.classes),from:l,to:u,anchors:[]};h.classes.length?e.push(h):(e.push(l),e.push(u))}r[c].anchors.push({out:o.element,in:s.element})}else o=o?o.animationID:s.animationID,s=o.toString(),i[s]||(i[s]=!0,e.push(t[o]))}),e}function v(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],i=0;i<t.length;i++){var r=t[i];if("ng-"!==r.substring(0,3))for(var a=0;a<e.length;a++)if(r===e[a]){n.push(r);break}}return n.join(" ")}function S(t){for(var n=e.length-1;0<=n;n--){var i=r.get(e[n])(t);if(i)return i}}function T(t,e){function n(t){(t=t.data("$$animationRunner"))&&t.setHost(e)}t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element)}function b(){var t=o.data("$$animationRunner");!t||"leave"===c&&f.$$domOperationFired||t.end()}function x(e){o.off("$destroy",b),o.removeData("$$animationRunner"),d(o,f),p(o,f),f.domOperation(),C&&t.removeClass(o,C),o.removeClass("ng-animate"),w.complete(!e)}f=h(f);var M=0<=["enter","move","leave"].indexOf(c),w=new a({end:function(){x()},cancel:function(){x(!0)}});if(!e.length)return x(),w;o.data("$$animationRunner",w);var A=i(o.attr("class"),i(f.addClass,f.removeClass)),C=f.tempClasses;C&&(A+=" "+C,f.tempClasses=null);var k;return M&&(k="ng-"+c+"-prepare",t.addClass(o,k)),u.push({element:o,classes:A,event:c,structural:M,options:f,beforeStart:function(){o.addClass("ng-animate"),C&&t.addClass(o,C),k&&(t.removeClass(o,k),k=null)},close:x}),o.on("$destroy",b),1<u.length?w:(n.$$postDigest(function(){var t=[];N(u,function(e){e.element.data("$$animationRunner")?t.push(e):e.close()}),u.length=0;var e=m(t),n=[];N(e,function(t){n.push({domNode:y(t.from?t.from.element:t.element),fn:function(){t.beforeStart();var e,n=t.close;if((t.anchors?t.from.element||t.to.element:t.element).data("$$animationRunner")){var i=S(t);i&&(e=i.start)}e?(e=e(),e.done(function(t){n(!t)}),T(t,e)):n()}})}),s(l(n))}),w)}}]}]).provider("$animateCss",["$animateProvider",function(t){var e=k(),n=k();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(t,i,o,s,l,u,g,m){function v(t,e){var n=t.parentNode;return(n.$$ngAnimateParentKey||(n.$$ngAnimateParentKey=++F))+"-"+t.getAttribute("class")+"-"+e}function x(r,o,s,l){var u;return 0<e.count(s)&&(u=n.get(s),u||(o=a(o,"-stagger"),i.addClass(r,o),u=M(t,r,l),u.animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),i.removeClass(r,o),n.put(s,u))),u||{}}function w(t){I.push(t),g.waitUntilQuiet(function(){e.flush(),n.flush();for(var t=l(),i=0;i<I.length;i++)I[i](t);I.length=0})}function k(n,i,r){return i=e.get(r),i||(i=M(t,n,J),"infinite"===i.animationIterationCount&&(i.animationIterationCount=1)),e.put(r,i),n=i,r=n.animationDelay,i=n.transitionDelay,n.maxDelay=r&&i?Math.max(r,i):r||i,n.maxDuration=Math.max(n.animationDuration*n.animationIterationCount,n.transitionDuration),n}var L=c(i),F=0,I=[];return function(t,n){function l(){g()}function c(){g(!0)}function g(e){if(!(W||G&&q)){W=!0,q=!1,H.$$skipPreparationClasses||i.removeClass(t,ht),i.removeClass(t,dt),T(B,!1),S(B,!1),N(rt,function(t){B.style[t[0]]=""}),L(t,H),p(t,H),Object.keys(z).length&&N(z,function(t,e){t?B.style.setProperty(e,t):B.style.removeProperty(e)}),H.onDone&&H.onDone(),st&&st.length&&t.off(st.join(" "),I);var n=t.data("$$animateCss");n&&(s.cancel(n[0].timer),t.removeData("$$animateCss")),J&&J.complete(!e)}}function M(t){St.blockTransition&&S(B,t),St.blockKeyframeAnimation&&T(B,!!t)}function F(){return J=new o({end:l,cancel:c}),w(Y),g(),{$$willAnimate:!1,start:function(){return J},end:l}}function I(t){t.stopPropagation();var e=t.originalEvent||t;t=e.$manualTimeStamp||Date.now(),e=parseFloat(e.elapsedTime.toFixed(3)),Math.max(t-it,0)>=tt&&e>=et&&(G=!0,g())}function R(){function e(){if(!W){if(M(!1),N(rt,function(t){B.style[t[0]]=t[1]}),L(t,H),i.addClass(t,dt),St.recalculateTimingStyles){if(pt=B.getAttribute("class")+" "+ht,ft=v(B,pt),yt=k(B,pt,ft),vt=yt.maxDelay,Q=Math.max(vt,0),et=yt.maxDuration,0===et)return void g();St.hasTransitions=0<yt.transitionDuration,St.hasAnimations=0<yt.animationDuration}if(St.applyAnimationDelay&&(vt="boolean"!=typeof H.delay&&A(H.delay)?parseFloat(H.delay):vt,Q=Math.max(vt,0),yt.animationDelay=vt,Tt=[U,vt+"s"],rt.push(Tt),B.style[Tt[0]]=Tt[1]),tt=1e3*Q,nt=1e3*et,H.easing){var e,r=H.easing;St.hasTransitions&&(e=$+"TimingFunction",rt.push([e,r]),B.style[e]=r),St.hasAnimations&&(e=E+"TimingFunction",rt.push([e,r]),B.style[e]=r)}yt.transitionDuration&&st.push(P),yt.animationDuration&&st.push(O),it=Date.now();var a=tt+1.5*nt;e=it+a;var r=t.data("$$animateCss")||[],o=!0;if(r.length){var l=r[0];(o=e>l.expectedEndTime)?s.cancel(l.timer):r.push(g)}o&&(a=s(n,a,!1),r[0]={timer:a,expectedEndTime:e},r.push(g),t.data("$$animateCss",r)),st.length&&t.on(st.join(" "),I),H.to&&(H.cleanupStyles&&D(z,B,Object.keys(H.to)),f(t,H))}}function n(){var e=t.data("$$animateCss");if(e){for(var n=1;n<e.length;n++)e[n]();t.removeData("$$animateCss")}}if(!W)if(B.parentNode){var r=function(t){if(G)q&&t&&(q=!1,g());else if(q=!t,yt.animationDuration)if(t=T(B,q),q)rt.push(t);else{var e=rt,n=e.indexOf(t);0<=t&&e.splice(n,1)}},a=0<mt&&(yt.transitionDuration&&0===gt.transitionDuration||yt.animationDuration&&0===gt.animationDuration)&&Math.max(gt.animationDelay,gt.transitionDelay);a?s(e,Math.floor(a*mt*1e3),!1):e(),Z.resume=function(){r(!0)},Z.pause=function(){r(!1)}}else g()}var H=n||{};H.$$prepared||(H=h(_(H)));var z={},B=y(t);if(!B||!B.parentNode||!m.enabled())return F();var W,q,G,J,Z,Q,tt,et,nt,it,rt=[],at=t.attr("class"),ot=r(H),st=[];if(0===H.duration||!u.animations&&!u.transitions)return F();var lt=H.event&&X(H.event)?H.event.join(" "):H.event,ut="",ct="";lt&&H.structural?ut=a(lt,"ng-",!0):lt&&(ut=lt),H.addClass&&(ct+=a(H.addClass,"-add")),H.removeClass&&(ct.length&&(ct+=" "),ct+=a(H.removeClass,"-remove")),H.applyClassesEarly&&ct.length&&L(t,H);var ht=[ut,ct].join(" ").trim(),pt=at+" "+ht,dt=a(ht,"-active"),at=ot.to&&0<Object.keys(ot.to).length;if(!(0<(H.keyframeStyle||"").length||at||ht))return F();var ft,gt;0<H.stagger?(ot=parseFloat(H.stagger),gt={transitionDelay:ot,animationDelay:ot,transitionDuration:0,animationDuration:0}):(ft=v(B,pt),gt=x(B,ht,ft,K)),H.$$skipPreparationClasses||i.addClass(t,ht),H.transitionStyle&&(ot=[$,H.transitionStyle],b(B,ot),rt.push(ot)),0<=H.duration&&(ot=0<B.style[$].length,ot=C(H.duration,ot),b(B,ot),rt.push(ot)),H.keyframeStyle&&(ot=[E,H.keyframeStyle],b(B,ot),rt.push(ot));var mt=gt?0<=H.staggerIndex?H.staggerIndex:e.count(ft):0;(lt=0===mt)&&!H.skipBlocking&&S(B,9999);var yt=k(B,pt,ft),vt=yt.maxDelay;Q=Math.max(vt,0),et=yt.maxDuration;var St={};if(St.hasTransitions=0<yt.transitionDuration,St.hasAnimations=0<yt.animationDuration,St.hasTransitionAll=St.hasTransitions&&"all"===yt.transitionProperty,St.applyTransitionDuration=at&&(St.hasTransitions&&!St.hasTransitionAll||St.hasAnimations&&!St.hasTransitions),St.applyAnimationDuration=H.duration&&St.hasAnimations,St.applyTransitionDelay=A(H.delay)&&(St.applyTransitionDuration||St.hasTransitions),St.applyAnimationDelay=A(H.delay)&&St.hasAnimations,St.recalculateTimingStyles=0<ct.length,(St.applyTransitionDuration||St.applyAnimationDuration)&&(et=H.duration?parseFloat(H.duration):et,St.applyTransitionDuration&&(St.hasTransitions=!0,yt.transitionDuration=et,ot=0<B.style[$+"Property"].length,rt.push(C(et,ot))),St.applyAnimationDuration&&(St.hasAnimations=!0,yt.animationDuration=et,rt.push([V,et+"s"]))),0===et&&!St.recalculateTimingStyles)return F();if(null!=H.delay){var Tt;"boolean"!=typeof H.delay&&(Tt=parseFloat(H.delay),Q=Math.max(Tt,0)),St.applyTransitionDelay&&rt.push([j,Tt+"s"]),St.applyAnimationDelay&&rt.push([U,Tt+"s"])}return null==H.duration&&0<yt.transitionDuration&&(St.recalculateTimingStyles=St.recalculateTimingStyles||lt),tt=1e3*Q,nt=1e3*et,H.skipBlocking||(St.blockTransition=0<yt.transitionDuration,St.blockKeyframeAnimation=0<yt.animationDuration&&0<gt.animationDelay&&0===gt.animationDuration),H.from&&(H.cleanupStyles&&D(z,B,Object.keys(H.from)),d(t,H)),St.blockTransition||St.blockKeyframeAnimation?M(et):H.skipBlocking||S(B,!1),{$$willAnimate:!0,end:l,start:function(){if(!W)return Z={end:l,cancel:c,resume:null,pause:null},J=new o(Z),w(R),J}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(t,e,n,i,r,a,o){function s(t){return t.replace(/\bng-\S+\b/g,"")}function l(t,e){return z(t)&&(t=t.split(" ")),z(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function u(e,i,r){function a(t){var e={},n=y(t).getBoundingClientRect();return N(["width","height","top","left"],function(t){var i=n[t];switch(t){case"top":i+=p.scrollTop;break;case"left":i+=p.scrollLeft}e[t]=Math.floor(i)+"px"}),e}function o(){var e=s(r.attr("class")||""),n=l(e,h),e=l(h,e),n=t(c,{to:a(r),addClass:"ng-anchor-in "+n,removeClass:"ng-anchor-out "+e,delay:!0});return n.$$willAnimate?n:null}function u(){c.remove(),i.removeClass("ng-animate-shim"),r.removeClass("ng-animate-shim")}var c=W(y(i).cloneNode(!0)),h=s(c.attr("class")||"");i.addClass("ng-animate-shim"),r.addClass("ng-animate-shim"),c.addClass("ng-anchor"),d.append(c);var f;if(e=function(){var e=t(c,{addClass:"ng-anchor-out",delay:!0,from:a(i)});return e.$$willAnimate?e:null}(),!e&&(f=o(),!f))return u();var g=e||f;return{start:function(){function t(){i&&i.end()}var e,i=g.start();return i.done(function(){return i=null,!f&&(f=o())?(i=f.start(),i.done(function(){i=null,u(),e.complete()}),i):(u(),void e.complete())}),e=new n({end:t,cancel:t})}}}function c(t,e,i,r){var a=h(t,Y),o=h(e,Y),s=[];if(N(r,function(t){(t=u(i,t.out,t.in))&&s.push(t)}),a||o||0!==s.length)return{start:function(){function t(){N(e,function(t){t.end()})}var e=[];a&&e.push(a.start()),o&&e.push(o.start()),N(s,function(t){e.push(t.start())});var i=new n({end:t,cancel:t});return n.all(e,function(t){i.complete(t)}),i}}}function h(e){var n=e.element,i=e.options||{};return e.structural&&(i.event=e.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===e.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=x(i.event,i.preparationClasses)),e=t(n,i),e.$$willAnimate?e:null}if(!r.animations&&!r.transitions)return Y;var p=o[0].body;e=y(i);var d=W(e.parentNode&&11===e.parentNode.nodeType||p.contains(e)?e:p);return function(t){return t.from&&t.to?c(t.from,t.to,t.classes,t.anchors):h(t)}}]}]).provider("$$animateJs",["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,n,i){function r(n){n=X(n)?n:n.split(" ");for(var i=[],r={},a=0;a<n.length;a++){var o=n[a],s=t.$$registeredAnimations[o];s&&!r[o]&&(i.push(e.get(s)),r[o]=!0)}return i}var a=c(i);return function(t,e,i,o){function s(){o.domOperation(),a(t,o)}function l(t,e,i,r,a){switch(i){case"animate":e=[e,r.from,r.to,a];break;case"setClass":e=[e,m,y,a];break;case"addClass":e=[e,m,a];break;case"removeClass":e=[e,y,a];break;default:e=[e,a]}if(e.push(r),t=t.apply(t,e))if(R(t.start)&&(t=t.start()),t instanceof n)t.done(a);else if(R(t))return t;return Y}function u(t,e,i,r,a){var o=[];return N(r,function(r){var s=r[a];s&&o.push(function(){var r,a,o=!1,u=function(t){o||(o=!0,(a||Y)(t),r.complete(!t))};return r=new n({end:function(){u()},cancel:function(){u(!0)}}),a=l(s,t,e,i,function(t){u(!1===t)}),r})}),o}function c(t,e,i,r,a){var o=u(t,e,i,r,a);if(0===o.length){var s,l;"beforeSetClass"===a?(s=u(t,"removeClass",i,r,"beforeRemoveClass"),l=u(t,"addClass",i,r,"beforeAddClass")):"setClass"===a&&(s=u(t,"removeClass",i,r,"removeClass"),l=u(t,"addClass",i,r,"addClass")),s&&(o=o.concat(s)),l&&(o=o.concat(l))}if(0!==o.length)return function(t){var e=[];return o.length&&N(o,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){N(e,function(e){t?e.cancel():e.end()})}}}var d=!1;3===arguments.length&&H(i)&&(o=i,i=null),o=h(o),i||(i=t.attr("class")||"",o.addClass&&(i+=" "+o.addClass),o.removeClass&&(i+=" "+o.removeClass));var f,g,m=o.addClass,y=o.removeClass,v=r(i);if(v.length){var S,T;"leave"===e?(T="leave",S="afterLeave"):(T="before"+e.charAt(0).toUpperCase()+e.substr(1),S=e),"enter"!==e&&"move"!==e&&(f=c(t,e,o,v,T)),g=c(t,e,o,v,S)}if(f||g){var b;return{$$willAnimate:!0,end:function(){return b?b.end():(d=!0,s(),p(t,o),b=new n,b.complete(!0)),b},start:function(){function e(e){d=!0,s(),p(t,o),b.complete(e)}if(b)return b;b=new n;var i,r=[];return f&&r.push(function(t){i=f(t)}),r.length?r.push(function(t){s(),t(!0)}):s(),g&&r.push(function(t){i=g(t)}),b.setHost({end:function(){d||((i||Y)(void 0),e(void 0))},cancel:function(){d||((i||Y)(!0),e(!0))}}),n.chain(r,e),b}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){function n(e){return t(e.element,e.event,e.classes,e.options)}return function(t){if(!t.from||!t.to)return n(t);var i=n(t.from),r=n(t.to);return i||r?{start:function(){function t(){return function(){N(n,function(t){t.end()})}}var n=[];i&&n.push(i.start()),r&&n.push(r.start()),e.all(n,function(t){a.complete(t)});var a=new e({end:t(),cancel:t()});return a}}:void 0}}]}])}(window,window.angular),function(t,e,n,i){var r={verticalScrolling:!0,horizontalScrolling:!1,verticalScrollerSide:"right",showOnHover:!1,scrollIncrement:20,minScrollbarLength:40,pollChanges:!0,drawCorner:!0,drawScrollButtons:!1,clickTrackToScroll:!0,easingDuration:500,propagateWheelEvent:!0,verticalTrackClass:"vertical-track",horizontalTrackClass:"horizontal-track",horizontalHandleClass:"horizontal-handle",verticalHandleClass:"vertical-handle",scrollUpButtonClass:"scroll-up-btn",scrollDownButtonClass:"scroll-down-btn",scrollLeftButtonClass:"scroll-left-btn",scrollRightButtonClass:"scroll-right-btn",cornerClass:"scrollbar-corner",zIndex:1,addPaddingToPane:!0,horizontalHandleHTML:'<div class="left"></div><div class="right"></div>',verticalHandleHTML:'<div class="top"></div><div class="bottom"></div>',scrollY:{end:null,upEnd:null,downEnd:null}},a=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},o=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,17)},s=function(e,n){var i=t(e).css(n),r=/^-?\d+/.exec(i);return r?+r[0]:0},l=function(t){var e,n,i={width:"5px",height:"1px",overflow:"hidden",padding:"8px 0",visibility:"hidden",whiteSpace:"pre-line",font:"10px/1 serif"},r=document.createElement(t),a=document.createTextNode("a\na");for(n in i)r.style[n]=i[n];return r.appendChild(a),document.body.appendChild(r),e=r.scrollHeight<28,document.body.removeChild(r),e},u=.5*Math.PI,c=10*Math.log(2),h=function(t,e,n){var i=u/e,r=t*i;return Math.round(r*Math.cos(i*n))},p=function(t,e,n){return Math.round(t*c*Math.pow(2,-10*n/e+1)/e)},d=function(t,e,n,i){return 2*n/Math.PI*Math.asin((i-t)/e)},f=function(e){var n=t(this).data("enscroll"),i=this,r=n.settings,a=function(){var e=t(this).data("enscroll"),n=e.settings;e&&n.showOnHover&&(n.verticalScrolling&&t(e.verticalTrackWrapper).is(":visible")&&t(e.verticalTrackWrapper).stop().fadeTo(275,0),n.horizontalScrolling&&t(e.horizontalTrackWrapper).is(":visible")&&t(e.horizontalTrackWrapper).stop().fadeTo(275,0),e._fadeTimer=null)};n&&r.showOnHover&&(n._fadeTimer?clearTimeout(n._fadeTimer):(r.verticalScrolling&&t(n.verticalTrackWrapper).is(":visible")&&t(n.verticalTrackWrapper).stop().fadeTo(275,1),r.horizontalScrolling&&t(n.horizontalTrackWrapper).is(":visible")&&t(n.horizontalTrackWrapper).stop().fadeTo(275,1)),e!==!1&&(n._fadeTimer=setTimeout(function(){a.call(i)},1750)))},g=function(e,n){var i=t(e),r=i.data("enscroll"),a=i.scrollTop();r&&r.settings.verticalScrolling&&(i.scrollTop(a+n),r.settings.showOnHover&&f.call(e))},m=function(e,n){var i=t(e),r=i.data("enscroll"),a=i.scrollLeft();r&&r.settings.horizontalScrolling&&(i.scrollLeft(a+n),r.settings.showOnHover&&f.call(e))},y=function(e){if(1===e.which){var i,r,a,s,l,u,c,h,p,d=e.data.pane,g=t(d),m=g.data("enscroll"),y=!0,v=function(){y&&(a!==s&&(m._scrollingY||(m._scrollingY=!0,m._startY=g.scrollTop(),o(function(){S(g)})),r.style.top=a+"px",m._endY=a*p/h,s=a),o(v),m.settings.showOnHover&&f.call(d))},T=function(t){return y&&(a=t.clientY-u-l,a=Math.min(a<0?0:a,h)),!1},b=function(){return y=!1,n.body.style.cursor=c,this.style.cursor="",i.removeClass("dragging"),t(n.body).off("mousemove.enscroll.vertical").off("mouseup.enscroll.vertical"),t(n).off("mouseout.enscroll.vertical"),g.on("scroll.enscroll.pane",function(t){M.call(this,t)}),!1};return i=t(m.verticalTrackWrapper).find(".enscroll-track"),r=i.children().first()[0],a=parseInt(r.style.top,10),p=d.scrollHeight-(m._scrollHeightNoPadding?t(d).height():t(d).innerHeight()),l=e.clientY-t(r).offset().top,h=i.height()-t(r).outerHeight(),u=i.offset().top,g.off("scroll.enscroll.pane"),t(n.body).on({"mousemove.enscroll.vertical":T,"mouseup.enscroll.vertical":function(t){b.call(r,t)}}),t(n).on("mouseout.enscroll.vertical",function(t){t.target.nodeName&&"HTML"===t.target.nodeName.toUpperCase()&&b.call(r,t)}),i.hasClass("dragging")||(i.addClass("dragging"),c=t(n.body).css("cursor"),this.style.cursor=n.body.style.cursor="ns-resize"),o(v),!1}},v=function(e){if(1===e.which){var i,r,a,s,l,u,c,h,p,d=e.data.pane,g=t(d),m=t(d).data("enscroll"),y=!0,v=function(){y&&(a!==s&&(m._scrollingX||(m._scrollingX=!0,m._startX=g.scrollLeft(),o(function(){S(g)})),r.style.left=a+"px",m._endX=a*l/p,s=a),o(v),m.settings.showOnHover&&f.call(d))},T=function(t){return y&&(a=t.clientX-c-u,a=Math.min(a<0?0:a,p)),!1},b=function(){return y=!1,i.removeClass("dragging"),n.body.style.cursor=h,this.style.cursor="",i.removeClass("dragging"),t(n.body).off("mousemove.enscroll.horizontal").off("mouseup.enscroll.horizontal"),t(n).off("mouseout.enscroll.horizontal"),g.on("scroll.enscroll.pane",function(t){M.call(this,t)}),!1};return i=t(m.horizontalTrackWrapper).find(".enscroll-track"),r=i.children().first()[0],a=parseInt(r.style.left,10),l=d.scrollWidth-t(d).innerWidth(),u=e.clientX-t(r).offset().left,p=i.width()-t(r).outerWidth(),c=i.offset().left,g.off("scroll.enscroll.pane"),t(n.body).on({"mousemove.enscroll.horizontal":T,"mouseup.enscroll.horizontal":function(t){b.call(r,t)}}),t(n).on("mouseout.enscroll.horizontal",function(t){t.target.nodeName&&"HTML"===t.target.nodeName.toUpperCase()&&b.call(r,t)}),i.hasClass("dragging")||(i.addClass("dragging"),h=t("body").css("cursor"),this.style.cursor=n.body.style.cursor="ew-resize"),o(v),!1}},S=function(t){var e,n,i,r=t.data("enscroll"),a=r._duration;r._scrollingX===!0&&(e=r._endX-r._startX,0===e?r._scrollingX=!1:(n=t.scrollLeft(),i=d(r._startX,e,a,n),e>0?n>=r._endX||n<r._startX?r._scrollingX=!1:(m(t,Math.max(1,h(e,a,i))),o(function(){S(t)})):n<=r._endX||n>r._startX?r._scrollingX=!1:(m(t,Math.min(-1,h(e,a,i))),o(function(){S(t)})))),r._scrollingY===!0&&(e=r._endY-r._startY,0===e?r._scrollingY=!1:(n=t.scrollTop(),i=d(r._startY,e,a,n),e>0?n>=r._endY||n<r._startY?(r._scrollingY=!1,r.settings.scrollY.downEnd&&r.settings.scrollY.downEnd(),r.settings.scrollY.end&&r.settings.scrollY.end()):(g(t,Math.max(1,h(e,a,i))),o(function(){S(t)})):n<=r._endY||n>r._startY?(r._scrollingY=!1,r.settings.scrollY.upEnd&&r.settings.scrollY.upEnd(),r.settings.scrollY.end&&r.settings.scrollY.end()):(g(t,Math.min(-1,h(e,a,i))),o(function(){S(t)}))))},T=function(t,e){var n=t.data("enscroll"),i=t.scrollLeft(),r=t[0].scrollWidth-t.innerWidth();return!(!n.settings.horizontalScrolling||n._scrollingY)&&(n._scrollingX||(n._scrollingX=!0,
n._startX=i,n._endX=n._startX,o(function(){S(t)})),n._endX=e>0?Math.min(i+e,r):Math.max(0,i+e),e<0&&i>0||e>0&&i<r)},b=function(t,e){var n=t.data("enscroll"),i=t.scrollTop(),r=t[0].scrollHeight-(n._scrollHeightNoPadding?t.height():t.innerHeight());return!(!n.settings.verticalScrolling||n._scrollingX)&&(n._scrollingY||(n._scrollingY=!0,n._startY=i,n._endY=n._startY,o(function(){S(t)})),n._endY=e>0?Math.min(i+e,r):Math.max(0,i+e),e<0&&i>0||e>0&&i<r)},x=function(e){var n,i=t(this),r=i.data("enscroll"),o=r.settings.scrollIncrement,s="deltaX"in e?-e.deltaX:"wheelDeltaX"in e?e.wheelDeltaX:0,l="deltaY"in e?-e.deltaY:"wheelDeltaY"in e?e.wheelDeltaY:"wheelDelta"in e?e.wheelDelta:0;Math.abs(s)>Math.abs(l)?(n=(s>0?-o:o)<<2,!T(i,n)&&r.settings.propagateWheelEvent||a(e)):(n=(l>0?-o:o)<<2,!b(i,n)&&r.settings.propagateWheelEvent||a(e))},M=function(){var e,n,i,r=t(this),a=r.data("enscroll");a&&(a.settings.verticalScrolling&&(n=t(a.verticalTrackWrapper).find(".enscroll-track")[0],e=n.firstChild,i=r.scrollTop()/(this.scrollHeight-(a._scrollHeightNoPadding?r.height():r.innerHeight())),i=isNaN(i)?0:i,e.style.top=i*(t(n).height()-t(e).outerHeight())+"px"),a.settings.horizontalScrolling&&(n=t(a.horizontalTrackWrapper).find(".enscroll-track")[0],e=n.firstChild,i=r.scrollLeft()/(this.scrollWidth-r.innerWidth()),i=isNaN(i)?0:i,e.style.left=i*(t(n).width()-t(e).innerWidth())+"px"))},w=function(e){var n,i=t(this),r=i.data("enscroll");if(!/(input)|(select)|(textarea)/i.test(this.nodeName)&&e.target===this&&r){switch(n=r.settings.scrollIncrement,e.keyCode){case 32:case 34:return b(i,i.height()),!1;case 33:return b(i,-i.height()),!1;case 35:return b(i,this.scrollHeight),!1;case 36:return b(i,-this.scrollHeight),!1;case 37:return T(i,-n),!1;case 38:return b(i,-n),!1;case 39:return T(i,n),!1;case 40:return b(i,n),!1}return!0}},A=function(){var e=this,i=t(e).data("enscroll").settings,r=!0,a=0,s=0,l=t(e).offset().top,u=l+t(e).outerHeight(),c=t(e).offset().left,h=c+t(e).outerWidth(),p=function(t){var e=t.pageX,n=t.pageY;a=e<c?e-c:e>h?e-h:0,s=n<l?n-l:n>u?n-u:0},d=function(){i.horizontalScrolling&&a&&m(e,parseInt(a/4,10)),i.verticalScrolling&&s&&g(e,parseInt(s/4,10)),r&&o(d)},f=function(){r=!1,t(n).off("mousemove.enscroll.pane").off("mouseup.enscroll.pane")};o(d),t(n).on({"mousemove.enscroll.pane":p,"mouseup.enscroll.pane":f})},C=function(t){var e,n,r,s,l,u,c,h=this,d=function(t){e=t.touches[0].clientX,n=t.touches[0].clientY,r||(r=n===l&&e===s?i:Math.abs(l-n)>Math.abs(s-e)?"y":"x"),a(t)},f=function(){u&&("y"===r?(g(h,l-n),c=l-n,l=n):"x"===r&&(m(h,s-e),c=s-e,s=e),o(f))},y=function(){var t=0,e=Math.abs(1.5*c);this.removeEventListener("touchmove",d,!1),this.removeEventListener("touchend",y,!1),u=!1,o(function n(){var i;t===e||u||(i=p(c,e,t),isNaN(i)||0===i||(t+=1,"y"===r?g(h,i):m(h,i),o(n)))})};1===t.touches.length&&(s=t.touches[0].clientX,l=t.touches[0].clientY,u=!0,this.addEventListener("touchmove",d,!1),this.addEventListener("touchend",y,!1),o(f))},k={reposition:function(){return this.each(function(){var e,n,i,r=t(this),a=r.data("enscroll"),o=function(t,e,n){t.style.left=e+"px",t.style.top=n+"px"};a&&(i=r.position(),e=a.corner,a.settings.verticalScrolling&&(n=a.verticalTrackWrapper,o(n,"right"===a.settings.verticalScrollerSide?i.left+r.outerWidth()-t(n).width()-s(this,"border-right-width"):i.left+s(this,"border-left-width"),i.top+s(this,"border-top-width"))),a.settings.horizontalScrolling&&(n=a.horizontalTrackWrapper,o(n,i.left+s(this,"border-left-width"),i.top+r.outerHeight()-t(n).height()-s(this,"border-bottom-width"))),e&&o(e,i.left+r.outerWidth()-t(e).outerWidth()-s(this,"border-right-width"),i.top+r.outerHeight()-t(e).outerHeight()-s(this,"border-bottom-width")))})},resize:function(){return this.each(function(){var e,n,i,r,a,o,s,l,u,c,h,p,d,f,g,m,y=t(this),v=y.data("enscroll");return!v||(e=v.settings,void(y.is(":visible")?(e.verticalScrolling&&(r=v.verticalTrackWrapper,n=y.innerHeight(),a=n/this.scrollHeight,o=t(r).find(".enscroll-track")[0],u=t(r).find("."+e.scrollUpButtonClass),c=t(r).find("."+e.scrollDownButtonClass),l=e.horizontalScrolling?n-t(v.horizontalTrackWrapper).find(".enscroll-track").outerHeight():n,l-=t(o).outerHeight()-t(o).height()+u.outerHeight()+c.outerHeight(),d=o.firstChild,g=Math.max(a*l,e.minScrollbarLength),g-=t(d).outerHeight()-t(d).height(),r.style.display="none",o.style.height=l+"px",d.style.height=g+"px",a<1&&(a=y.scrollTop()/(this.scrollHeight-y.height()),d.style.top=a*(l-g)+"px",r.style.display="block")),e.horizontalScrolling&&(r=v.horizontalTrackWrapper,i=y.innerWidth(),a=i/this.scrollWidth,o=t(r).find(".enscroll-track")[0],h=t(r).find("."+e.scrollLeftButtonClass),p=t(r).find("."+e.scrollRightButtonClass),s=e.verticalScrolling?i-t(v.verticalTrackWrapper).find(".enscroll-track").outerWidth():i,s-=t(o).outerWidth()-t(o).width()+h.outerWidth()+p.outerWidth(),d=o.firstChild,f=Math.max(a*s,e.minScrollbarLength),f-=t(d).outerWidth()-t(d).width(),r.style.display="none",o.style.width=s+"px",d.style.width=f+"px",a<1&&(a=y.scrollLeft()/(this.scrollWidth-y.width()),d.style.left=a*(s-f)+"px",r.style.display="block"),v._prybar&&(m=v._prybar,this.removeChild(m),e.verticalScrolling&&(m.style.width=this.scrollWidth+t(v.verticalTrackWrapper).find(".enscroll-track").outerWidth()+"px",this.appendChild(m)))),v.corner&&(v.corner.style.display=v.verticalTrackWrapper&&v.horizontalTrackWrapper&&t(v.verticalTrackWrapper).is(":visible")&&t(v.horizontalTrackWrapper).is(":visible")?"":"none")):(e.verticalScrolling&&(v.verticalTrackWrapper.style.display="none"),e.horizontalScrolling&&(v.horizontalTrackWrapper.style.display="none"),v.corner&&(v.corner.style.display="none"))))})},startPolling:function(){return this.each(function(){var e,n=t(this).data("enscroll"),i=this,r=t(i),a=-1,o=-1,s=-1,l=-1,u=function(){if(n.settings.pollChanges){var t=i.scrollWidth,c=i.scrollHeight,h=r.width(),p=r.height(),d=r.offset();(n.settings.verticalScrolling&&(p!==o||c!==l)||n.settings.horizontalScrolling&&(h!==a||t!==s))&&(s=t,l=c,k.resize.call(r)),e.left===d.left&&e.top===d.top&&h===a&&p===o||(e=d,a=h,o=p,k.reposition.call(r)),setTimeout(u,350)}};n&&(n.settings.pollChanges=!0,l=i.scrollHeight,s=i.scrollWidth,e=r.offset(),u())})},stopPolling:function(){return this.each(function(){var e=t(this).data("enscroll");e&&(e.settings.pollChanges=!1)})},destroy:function(){return this.each(function(){var n,i,r=t(this),a=r.data("enscroll");a&&(k.stopPolling.call(r),i=a._mouseScrollHandler,a.settings.verticalScrolling&&(n=a.verticalTrackWrapper,t(n).remove(),n=null),a.settings.horizontalScrolling&&(n=a.horizontalTrackWrapper,t(n).remove(),n=null),a._fadeTimer&&clearTimeout(a._fadeTimer),a.corner&&t(a.corner).remove(),a._prybar&&a._prybar.parentNode&&a._prybar.parentNode===this&&t(a._prybar).remove(),this.setAttribute("style",a._style||""),a._hadTabIndex||r.removeAttr("tabindex"),r.off("scroll.enscroll.pane").off("keydown.enscroll.pane").off("mouseenter.enscroll.pane").off("mousedown.enscroll.pane").data("enscroll",null),this.removeEventListener?(this.removeEventListener("wheel",i,!1),this.removeEventListener("mousewheel",i,!1),this.removeEventListener("touchstart",C,!1)):this.detachEvent&&this.detachEvent("onmousewheel",i),t(e).off("resize.enscroll.window"))})}};t.fn.enscroll=function(i){var a;return k[i]?k[i].call(this):(a=t.extend({},r,i),this.each(function(){if(a.verticalScrolling||a.horizontalScrolling){var i,r,o,u,c,h,p,d,S,D,$,P,E,O,_,L,N,X,F=t(this),I=this,R=F.attr("style"),H=!0,z={position:"absolute","z-index":a.zIndex,margin:0,padding:0},B=function(t){x.call(I,t)},W=function(e,n){"string"==typeof n?t(e).html(n):e.appendChild(n)};if(a.verticalScrolling){r=n.createElement("div"),u=n.createElement("div"),h=n.createElement("a"),t(u).css("position","relative").addClass("enscroll-track").addClass(a.verticalTrackClass).appendTo(r),a.drawScrollButtons&&(p=n.createElement("a"),d=n.createElement("a"),t(p).css({display:"block","text-decoration":"none"}).attr("href","").html("&nbsp;").addClass(a.scrollUpButtonClass).on("click",function(){return g(I,-a.scrollIncrement),!1}).insertBefore(u),t(d).css({display:"block","text-decoration":"none"}).attr("href","").html("&nbsp;").on("click",function(){return g(I,a.scrollIncrement),!1}).addClass(a.scrollDownButtonClass).appendTo(r)),a.clickTrackToScroll&&t(u).on("click",function(e){e.target===this&&b(F,e.pageY>t(h).offset().top?F.height():-F.height())}),t(h).css({position:"absolute","z-index":1}).attr("href","").addClass(a.verticalHandleClass).mousedown({pane:this},y).click(function(){return!1}).appendTo(u),W(h,a.verticalHandleHTML),t(r).css(z).insertAfter(this),a.showOnHover&&t(r).css("opacity",0).on("mouseover.enscroll.vertical",function(){f.call(I,!1)}).on("mouseout.enscroll.vertical",function(){f.call(I)}),P=t(u).outerWidth(),a.addPaddingToPane&&(X="right"===a.verticalScrollerSide?{"padding-right":s(this,"padding-right")+P+"px"}:{"padding-left":s(this,"padding-left")+P+"px"},F.css(t.extend({width:F.width()-P+"px"},X)));try{L=parseInt(F.css("outline-width"),10),0!==L&&!isNaN(L)||"none"!==F.css("outline-style")||F.css("outline","none")}catch(t){F.css("outline","none")}}a.horizontalScrolling&&(i=n.createElement("div"),o=n.createElement("div"),c=n.createElement("a"),t(o).css({position:"relative","z-index":1}).addClass("enscroll-track").addClass(a.horizontalTrackClass).appendTo(i),a.drawScrollButtons&&(S=n.createElement("a"),D=n.createElement("a"),t(S).css("display","block").attr("href","").on("click",function(){return m(I,-a.scrollIncrement),!1}).addClass(a.scrollLeftButtonClass).insertBefore(o),t(D).css("display","block").attr("href","").on("click",function(){return m(I,a.scrollIncrement),!1}).addClass(a.scrollRightButtonClass).appendTo(i)),a.clickTrackToScroll&&t(o).on("click",function(e){e.target===this&&T(F,e.pageX>t(c).offset().left?F.width():-F.width())}),t(c).css({position:"absolute","z-index":1}).attr("href","").addClass(a.horizontalHandleClass).click(function(){return!1}).mousedown({pane:this},v).appendTo(o),W(c,a.horizontalHandleHTML),t(i).css(z).insertAfter(this),a.showOnHover&&t(i).css("opacity",0).on("mouseover.enscroll.horizontal",function(){f.call(I,!1)}).on("mouseout.enscroll.horizontal",function(){f.call(I)}),$=t(o).outerHeight(),a.addPaddingToPane&&F.css({height:F.height()-$+"px","padding-bottom":parseInt(F.css("padding-bottom"),10)+$+"px"}),a.verticalScrolling&&(N=document.createElement("div"),t(N).css({width:"1px",height:"1px",visibility:"hidden",padding:0,margin:"-1px"}).appendTo(this))),a.verticalScrolling&&a.horizontalScrolling&&a.drawCorner&&(E=n.createElement("div"),t(E).addClass(a.cornerClass).css(z).insertAfter(this)),_=F.attr("tabindex"),_||(F.attr("tabindex",0),H=!1);try{O=F.css("outline"),(!O||O.length<1)&&F.css("outline","none")}catch(t){F.css("outline","none")}F.on({"scroll.enscroll.pane":function(t){M.call(this,t)},"keydown.enscroll.pane":w,"mousedown.enscroll.pane":A}).css("overflow","hidden").data("enscroll",{settings:a,horizontalTrackWrapper:i,verticalTrackWrapper:r,corner:E,_prybar:N,_mouseScrollHandler:B,_hadTabIndex:H,_style:R,_scrollingX:!1,_scrollingY:!1,_startX:0,_startY:0,_endX:0,_endY:0,_duration:parseInt(a.easingDuration/16.66666,10),_scrollHeightNoPadding:l(this.nodeName)}),t(e).on("resize.enscroll.window",function(){k.reposition.call(F)}),a.showOnHover&&F.on("mouseenter.enscroll.pane",function(){f.call(this)}),this.addEventListener?("onwheel"in this||"WheelEvent"in e&&navigator.userAgent.toLowerCase().indexOf("msie")>=0?this.addEventListener("wheel",B,!1):"onmousewheel"in this&&this.addEventListener("mousewheel",B,!1),this.addEventListener("touchstart",C,!1)):this.attachEvent&&this.attachEvent("onmousewheel",B),a.pollChanges&&k.startPolling.call(F),k.resize.call(F),k.reposition.call(F)}}))}}(jQuery,window,document),function(t){function e(t,e,n){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:n;default:throw new Error("Implement me")}}function n(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function i(t,e){function n(){pt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}var i=!0;return u(function(){return i&&(n(),i=!1),e.apply(this,arguments)},e)}function r(t,e){return function(n){return p(t.call(this,n),e)}}function a(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}function o(){}function s(t){A(t),u(this,t)}function l(t){var e=v(t),n=e.year||0,i=e.quarter||0,r=e.month||0,a=e.week||0,o=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*s,this._days=+o+7*a,this._months=+r+3*i+12*n,this._data={},this._bubble()}function u(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return e.hasOwnProperty("toString")&&(t.toString=e.toString),e.hasOwnProperty("valueOf")&&(t.valueOf=e.valueOf),t}function c(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&Ct.hasOwnProperty(e)&&(n[e]=t[e]);return n}function h(t){return 0>t?Math.ceil(t):Math.floor(t)}function p(t,e,n){for(var i=""+Math.abs(t),r=t>=0;i.length<e;)i="0"+i;return(r?n?"+":"":"-")+i}function d(t,e,n,i){var r=e._milliseconds,a=e._days,o=e._months;i=null==i||i,r&&t._d.setTime(+t._d+r*n),a&&st(t,"Date",ot(t,"Date")+a*n),o&&at(t,ot(t,"Month")+o*n),i&&pt.updateOffset(t,a||o)}function f(t){return"[object Array]"===Object.prototype.toString.call(t)}function g(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function m(t,e,n){var i,r=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),o=0;for(i=0;r>i;i++)(n&&t[i]!==e[i]||!n&&T(t[i])!==T(e[i]))&&o++;return o+a}function y(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=ee[t]||ne[e]||e}return t}function v(t){var e,n,i={};for(n in t)t.hasOwnProperty(n)&&(e=y(n),e&&(i[e]=t[n]));return i}function S(e){var n,i;if(0===e.indexOf("week"))n=7,i="day";else{if(0!==e.indexOf("month"))return;n=12,i="month"}pt[e]=function(r,a){var o,s,l=pt.fn._lang[e],u=[];if("number"==typeof r&&(a=r,r=t),s=function(t){var e=pt().utc().set(i,t);return l.call(pt.fn._lang,e,r||"")},null!=a)return s(a);for(o=0;n>o;o++)u.push(s(o));return u}}function T(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function b(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function x(t,e,n){return et(pt([t,11,31+e-n]),e,n).week}function M(t){return w(t)?366:365}function w(t){return t%4===0&&t%100!==0||t%400===0}function A(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[St]<0||t._a[St]>11?St:t._a[Tt]<1||t._a[Tt]>b(t._a[vt],t._a[St])?Tt:t._a[bt]<0||t._a[bt]>23?bt:t._a[xt]<0||t._a[xt]>59?xt:t._a[Mt]<0||t._a[Mt]>59?Mt:t._a[wt]<0||t._a[wt]>999?wt:-1,t._pf._overflowDayOfYear&&(vt>e||e>Tt)&&(e=Tt),t._pf.overflow=e)}function C(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length)),t._isValid}function k(t){return t?t.toLowerCase().replace("_","-"):t}function D(t,e){return e._isUTC?pt(t).zone(e._offset||0):pt(t).local()}function $(t,e){return e.abbr=t,At[t]||(At[t]=new o),At[t].set(e),At[t]}function P(t){delete At[t]}function E(t){var e,n,i,r,a=0,o=function(t){if(!At[t]&&kt)try{require("./lang/"+t)}catch(t){}return At[t]};if(!t)return pt.fn._lang;if(!f(t)){if(n=o(t))return n;t=[t]}for(;a<t.length;){for(r=k(t[a]).split("-"),e=r.length,i=k(t[a+1]),i=i?i.split("-"):null;e>0;){if(n=o(r.slice(0,e).join("-")))return n;if(i&&i.length>=e&&m(r,i,!0)>=e-1)break;e--}a++}return pt.fn._lang}function O(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function _(t){var e,n,i=t.match(Et);for(e=0,n=i.length;n>e;e++)i[e]=se[i[e]]?se[i[e]]:O(i[e]);return function(r){var a="";for(e=0;n>e;e++)a+=i[e]instanceof Function?i[e].call(r,t):i[e];return a}}function L(t,e){return t.isValid()?(e=N(e,t.lang()),ie[e]||(ie[e]=_(e)),ie[e](t)):t.lang().invalidDate()}function N(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Ot.lastIndex=0;i>=0&&Ot.test(t);)t=t.replace(Ot,n),Ot.lastIndex=0,i-=1;return t}function X(t,e){var n,i=e._strict;switch(t){case"Q":return Wt;case"DDDD":return Ut;case"YYYY":case"GGGG":case"gggg":return i?Vt:Nt;case"Y":case"G":case"g":return qt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?jt:Xt;case"S":if(i)return Wt;case"SS":if(i)return Yt;case"SSS":if(i)return Ut;case"DDD":return Lt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return It;case"a":case"A":return E(e._l)._meridiemParse;case"X":return zt;case"Z":case"ZZ":return Rt;case"T":return Ht;case"SSSS":return Ft;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?Yt:_t;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return _t;case"Do":return Bt;default:return n=new RegExp(U(Y(t.replace("\\","")),"i"))}}function F(t){t=t||"";var e=t.match(Rt)||[],n=e[e.length-1]||[],i=(n+"").match(Qt)||["-",0,0],r=+(60*i[1])+T(i[2]);return"+"===i[0]?-r:r}function I(t,e,n){var i,r=n._a;switch(t){case"Q":null!=e&&(r[St]=3*(T(e)-1));break;case"M":case"MM":null!=e&&(r[St]=T(e)-1);break;case"MMM":case"MMMM":i=E(n._l).monthsParse(e),null!=i?r[St]=i:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(r[Tt]=T(e));break;case"Do":null!=e&&(r[Tt]=T(parseInt(e,10)));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=T(e));break;case"YY":r[vt]=pt.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":r[vt]=T(e);break;case"a":case"A":n._isPm=E(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":r[bt]=T(e);break;case"m":case"mm":r[xt]=T(e);break;case"s":case"ss":r[Mt]=T(e);break;case"S":case"SS":case"SSS":case"SSSS":r[wt]=T(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=F(e);break;case"dd":case"ddd":case"dddd":i=E(n._l).weekdaysParse(e),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=T(e));break;case"gg":case"GG":n._w=n._w||{},n._w[t]=pt.parseTwoDigitYear(e)}}function R(t){var n,i,r,a,o,s,l,u;n=t._w,null!=n.GG||null!=n.W||null!=n.E?(o=1,s=4,i=e(n.GG,t._a[vt],et(pt(),1,4).year),r=e(n.W,1),a=e(n.E,1)):(u=E(t._l),o=u._week.dow,s=u._week.doy,i=e(n.gg,t._a[vt],et(pt(),o,s).year),r=e(n.w,1),null!=n.d?(a=n.d,o>a&&++r):a=null!=n.e?n.e+o:o),l=nt(i,r,a,s,o),t._a[vt]=l.year,t._dayOfYear=l.dayOfYear}function H(t){var n,i,r,a,o=[];if(!t._d){for(r=B(t),t._w&&null==t._a[Tt]&&null==t._a[St]&&R(t),t._dayOfYear&&(a=e(t._a[vt],r[vt]),t._dayOfYear>M(a)&&(t._pf._overflowDayOfYear=!0),i=K(a,0,t._dayOfYear),t._a[St]=i.getUTCMonth(),t._a[Tt]=i.getUTCDate()),n=0;3>n&&null==t._a[n];++n)t._a[n]=o[n]=r[n];for(;7>n;n++)t._a[n]=o[n]=null==t._a[n]?2===n?1:0:t._a[n];t._d=(t._useUTC?K:J).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()+t._tzm)}}function z(t){var e;t._d||(e=v(t._i),t._a=[e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond],H(t))}function B(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function W(t){if(t._f===pt.ISO_8601)return void j(t);t._a=[],t._pf.empty=!0;var e,n,i,r,a,o=E(t._l),s=""+t._i,l=s.length,u=0;for(i=N(t._f,o).match(Et)||[],e=0;e<i.length;e++)r=i[e],n=(s.match(X(r,t))||[])[0],n&&(a=s.substr(0,s.indexOf(n)),a.length>0&&t._pf.unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),u+=n.length),se[r]?(n?t._pf.empty=!1:t._pf.unusedTokens.push(r),I(r,n,t)):t._strict&&!n&&t._pf.unusedTokens.push(r);t._pf.charsLeftOver=l-u,s.length>0&&t._pf.unusedInput.push(s),t._isPm&&t._a[bt]<12&&(t._a[bt]+=12),t._isPm===!1&&12===t._a[bt]&&(t._a[bt]=0),H(t),A(t)}function Y(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r})}function U(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function V(t){var e,i,r,a,o;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(a=0;a<t._f.length;a++)o=0,e=u({},t),e._pf=n(),e._f=t._f[a],W(e),C(e)&&(o+=e._pf.charsLeftOver,o+=10*e._pf.unusedTokens.length,e._pf.score=o,(null==r||r>o)&&(r=o,i=e));u(t,i||e)}function j(t){var e,n,i=t._i,r=Gt.exec(i);if(r){for(t._pf.iso=!0,e=0,n=Kt.length;n>e;e++)if(Kt[e][1].exec(i)){t._f=Kt[e][0]+(r[6]||" ");break}for(e=0,n=Zt.length;n>e;e++)if(Zt[e][1].exec(i)){t._f+=Zt[e][0];break}i.match(Rt)&&(t._f+="Z"),W(t)}else t._isValid=!1}function q(t){j(t),t._isValid===!1&&(delete t._isValid,pt.createFromInputFallback(t))}function G(e){var n=e._i,i=Dt.exec(n);n===t?e._d=new Date:i?e._d=new Date((+i[1])):"string"==typeof n?q(e):f(n)?(e._a=n.slice(0),H(e)):g(n)?e._d=new Date((+n)):"object"==typeof n?z(e):"number"==typeof n?e._d=new Date(n):pt.createFromInputFallback(e)}function J(t,e,n,i,r,a,o){var s=new Date(t,e,n,i,r,a,o);return 1970>t&&s.setFullYear(t),s}function K(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function Z(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function Q(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function tt(t,e,n){var i=yt(Math.abs(t)/1e3),r=yt(i/60),a=yt(r/60),o=yt(a/24),s=yt(o/365),l=i<re.s&&["s",i]||1===r&&["m"]||r<re.m&&["mm",r]||1===a&&["h"]||a<re.h&&["hh",a]||1===o&&["d"]||o<=re.dd&&["dd",o]||o<=re.dm&&["M"]||o<re.dy&&["MM",yt(o/30)]||1===s&&["y"]||["yy",s];return l[2]=e,l[3]=t>0,l[4]=n,Q.apply({},l)}function et(t,e,n){var i,r=n-e,a=n-t.day();return a>r&&(a-=7),r-7>a&&(a+=7),i=pt(t).add("d",a),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function nt(t,e,n,i,r){var a,o,s=K(t,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:r,a=r-s+(s>i?7:0)-(r>s?7:0),o=7*(e-1)+(n-r)+a+1,{year:o>0?t:t-1,dayOfYear:o>0?o:M(t-1)+o}}function it(e){var n=e._i,i=e._f;return null===n||i===t&&""===n?pt.invalid({nullInput:!0}):("string"==typeof n&&(e._i=n=E().preparse(n)),pt.isMoment(n)?(e=c(n),e._d=new Date((+n._d))):i?f(i)?V(e):W(e):G(e),new s(e))}function rt(t,e){var n,i;if(1===e.length&&f(e[0])&&(e=e[0]),!e.length)return pt();for(n=e[0],i=1;i<e.length;++i)e[i][t](n)&&(n=e[i]);return n}function at(t,e){var n;return"string"==typeof e&&(e=t.lang().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),b(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function ot(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function st(t,e,n){return"Month"===e?at(t,n):t._d["set"+(t._isUTC?"UTC":"")+e](n)}function lt(t,e){return function(n){return null!=n?(st(this,t,n),pt.updateOffset(this,e),this):ot(this,t)}}function ut(t){pt.duration.fn[t]=function(){return this._data[t]}}function ct(t,e){pt.duration.fn["as"+t]=function(){return+this/e}}function ht(t){"undefined"==typeof ender&&(dt=mt.moment,mt.moment=t?i("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",pt):pt)}for(var pt,dt,ft,gt="2.7.0",mt="undefined"!=typeof global?global:this,yt=Math.round,vt=0,St=1,Tt=2,bt=3,xt=4,Mt=5,wt=6,At={},Ct={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_tzm:null,_isUTC:null,_offset:null,_pf:null,_lang:null},kt="undefined"!=typeof module&&module.exports,Dt=/^\/?Date\((\-?\d+)/i,$t=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Pt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Et=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Ot=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,_t=/\d\d?/,Lt=/\d{1,3}/,Nt=/\d{1,4}/,Xt=/[+\-]?\d{1,6}/,Ft=/\d+/,It=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Rt=/Z|[\+\-]\d\d:?\d\d/gi,Ht=/T/i,zt=/[\+\-]?\d+(\.\d{1,3})?/,Bt=/\d{1,2}/,Wt=/\d/,Yt=/\d\d/,Ut=/\d{3}/,Vt=/\d{4}/,jt=/[+-]?\d{6}/,qt=/[+-]?\d+/,Gt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Jt="YYYY-MM-DDTHH:mm:ssZ",Kt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Zt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Qt=/([\+\-]|\d\d)/gi,te=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ee={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ne={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ie={},re={s:45,m:45,h:22,dd:25,dm:45,dy:345},ae="DDD w W M D d".split(" "),oe="M D H h m s w W".split(" "),se={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return p(this.year()%100,2)},YYYY:function(){return p(this.year(),4)},YYYYY:function(){return p(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+p(Math.abs(t),6)},gg:function(){return p(this.weekYear()%100,2)},gggg:function(){return p(this.weekYear(),4)},ggggg:function(){return p(this.weekYear(),5)},GG:function(){return p(this.isoWeekYear()%100,2)},GGGG:function(){return p(this.isoWeekYear(),4)},GGGGG:function(){return p(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return T(this.milliseconds()/100)},SS:function(){return p(T(this.milliseconds()/10),2)},SSS:function(){return p(this.milliseconds(),3)},SSSS:function(){return p(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+p(T(t/60),2)+":"+p(T(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+p(T(t/60),2)+p(T(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},le=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ae.length;)ft=ae.pop(),se[ft+"o"]=a(se[ft],ft);for(;oe.length;)ft=oe.pop(),se[ft+ft]=r(se[ft],2);for(se.DDDD=r(se.DDD,3),u(o.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,i;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=pt.utc([2e3,e]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(i.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=pt([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return et(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),pt=function(e,i,r,a){var o;return"boolean"==typeof r&&(a=r,r=t),o={},o._isAMomentObject=!0,o._i=e,o._f=i,o._l=r,o._strict=a,o._isUTC=!1,o._pf=n(),it(o)},pt.suppressDeprecationWarnings=!1,pt.createFromInputFallback=i("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i)}),pt.min=function(){var t=[].slice.call(arguments,0);return rt("isBefore",t)},pt.max=function(){var t=[].slice.call(arguments,0);return rt("isAfter",t)},pt.utc=function(e,i,r,a){var o;return"boolean"==typeof r&&(a=r,r=t),o={},o._isAMomentObject=!0,o._useUTC=!0,o._isUTC=!0,o._l=r,o._i=e,o._f=i,o._strict=a,o._pf=n(),it(o).utc()},pt.unix=function(t){return pt(1e3*t)},pt.duration=function(t,e){var n,i,r,a=t,o=null;return pt.isDuration(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(o=$t.exec(t))?(n="-"===o[1]?-1:1,a={y:0,d:T(o[Tt])*n,h:T(o[bt])*n,m:T(o[xt])*n,s:T(o[Mt])*n,ms:T(o[wt])*n}):(o=Pt.exec(t))&&(n="-"===o[1]?-1:1,r=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*n},a={y:r(o[2]),M:r(o[3]),d:r(o[4]),h:r(o[5]),m:r(o[6]),s:r(o[7]),w:r(o[8])}),i=new l(a),pt.isDuration(t)&&t.hasOwnProperty("_lang")&&(i._lang=t._lang),i},pt.version=gt,pt.defaultFormat=Jt,pt.ISO_8601=function(){},pt.momentProperties=Ct,pt.updateOffset=function(){},pt.relativeTimeThreshold=function(e,n){return re[e]!==t&&(re[e]=n,!0)},pt.lang=function(t,e){var n;return t?(e?$(k(t),e):null===e?(P(t),t="en"):At[t]||E(t),n=pt.duration.fn._lang=pt.fn._lang=E(t),n._abbr):pt.fn._lang._abbr},pt.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),E(t)},pt.isMoment=function(t){return t instanceof s||null!=t&&t.hasOwnProperty("_isAMomentObject")},pt.isDuration=function(t){
return t instanceof l},ft=le.length-1;ft>=0;--ft)S(le[ft]);pt.normalizeUnits=function(t){return y(t)},pt.invalid=function(t){var e=pt.utc(NaN);return null!=t?u(e._pf,t):e._pf.userInvalidated=!0,e},pt.parseZone=function(){return pt.apply(null,arguments).parseZone()},pt.parseTwoDigitYear=function(t){return T(t)+(T(t)>68?1900:2e3)},u(pt.fn=s.prototype,{clone:function(){return pt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date((+this)):this._d},toISOString:function(){var t=pt(this).utc();return 0<t.year()&&t.year()<=9999?L(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):L(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return C(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&m(this._a,(this._isUTC?pt.utc(this._a):pt(this._a)).toArray())>0)},parsingFlags:function(){return u({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=L(this,t||pt.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var n;return n="string"==typeof t&&"string"==typeof e?pt.duration(isNaN(+e)?+t:+e,isNaN(+e)?e:t):"string"==typeof t?pt.duration(+e,t):pt.duration(t,e),d(this,n,1),this},subtract:function(t,e){var n;return n="string"==typeof t&&"string"==typeof e?pt.duration(isNaN(+e)?+t:+e,isNaN(+e)?e:t):"string"==typeof t?pt.duration(+e,t):pt.duration(t,e),d(this,n,-1),this},diff:function(t,e,n){var i,r,a=D(t,this),o=6e4*(this.zone()-a.zone());return e=y(e),"year"===e||"month"===e?(i=432e5*(this.daysInMonth()+a.daysInMonth()),r=12*(this.year()-a.year())+(this.month()-a.month()),r+=(this-pt(this).startOf("month")-(a-pt(a).startOf("month")))/i,r-=6e4*(this.zone()-pt(this).startOf("month").zone()-(a.zone()-pt(a).startOf("month").zone()))/i,"year"===e&&(r/=12)):(i=this-a,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-o)/864e5:"week"===e?(i-o)/6048e5:i),n?r:h(r)},from:function(t,e){return pt.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(pt(),t)},calendar:function(t){var e=t||pt(),n=D(e,this).startOf("day"),i=this.diff(n,"days",!0),r=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.lang().calendar(r,this))},isLeapYear:function(){return w(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Z(t,this.lang()),this.add({d:t-e})):e},month:lt("Month",!0),startOf:function(t){switch(t=y(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=y(t),this.startOf(t).add("isoWeek"===t?"week":t,1).subtract("ms",1)},isAfter:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)>+pt(t).startOf(e)},isBefore:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)<+pt(t).startOf(e)},isSame:function(t,e){return e=e||"ms",+this.clone().startOf(e)===+D(t,this).startOf(e)},min:i("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=pt.apply(null,arguments),this>t?this:t}),max:i("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=pt.apply(null,arguments),t>this?this:t}),zone:function(t,e){var n=this._offset||0;return null==t?this._isUTC?n:this._d.getTimezoneOffset():("string"==typeof t&&(t=F(t)),Math.abs(t)<16&&(t=60*t),this._offset=t,this._isUTC=!0,n!==t&&(!e||this._changeInProgress?d(this,pt.duration(n-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,pt.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?pt(t).zone():0,(this.zone()-t)%60===0},daysInMonth:function(){return b(this.year(),this.month())},dayOfYear:function(t){var e=yt((pt(this).startOf("day")-pt(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=et(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=et(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=et(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this.day()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return x(this.year(),1,4)},weeksInYear:function(){var t=this._lang._week;return x(this.year(),t.dow,t.doy)},get:function(t){return t=y(t),this[t]()},set:function(t,e){return t=y(t),"function"==typeof this[t]&&this[t](e),this},lang:function(e){return e===t?this._lang:(this._lang=E(e),this)}}),pt.fn.millisecond=pt.fn.milliseconds=lt("Milliseconds",!1),pt.fn.second=pt.fn.seconds=lt("Seconds",!1),pt.fn.minute=pt.fn.minutes=lt("Minutes",!1),pt.fn.hour=pt.fn.hours=lt("Hours",!0),pt.fn.date=lt("Date",!0),pt.fn.dates=i("dates accessor is deprecated. Use date instead.",lt("Date",!0)),pt.fn.year=lt("FullYear",!0),pt.fn.years=i("years accessor is deprecated. Use year instead.",lt("FullYear",!0)),pt.fn.days=pt.fn.day,pt.fn.months=pt.fn.month,pt.fn.weeks=pt.fn.week,pt.fn.isoWeeks=pt.fn.isoWeek,pt.fn.quarters=pt.fn.quarter,pt.fn.toJSON=pt.fn.toISOString,u(pt.duration.fn=l.prototype,{_bubble:function(){var t,e,n,i,r=this._milliseconds,a=this._days,o=this._months,s=this._data;s.milliseconds=r%1e3,t=h(r/1e3),s.seconds=t%60,e=h(t/60),s.minutes=e%60,n=h(e/60),s.hours=n%24,a+=h(n/24),s.days=a%30,o+=h(a/30),s.months=o%12,i=h(o/12),s.years=i},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*T(this._months/12)},humanize:function(t){var e=+this,n=tt(e,!t,this.lang());return t&&(n=this.lang().pastFuture(e,n)),this.lang().postformat(n)},add:function(t,e){var n=pt.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=pt.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=y(t),this[t.toLowerCase()+"s"]()},as:function(t){return t=y(t),this["as"+t.charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:pt.fn.lang,toIsoString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),r=Math.abs(this.minutes()),a=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(i||r||a?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(a?a+"S":""):"P0D"}});for(ft in te)te.hasOwnProperty(ft)&&(ct(ft,te[ft]),ut(ft.toLowerCase()));ct("Weeks",6048e5),pt.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},pt.lang("en",{ordinal:function(t){var e=t%10,n=1===T(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),kt?module.exports=pt:"function"==typeof define&&define.amd?(define("moment",function(t,e,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(mt.moment=dt),pt}),ht(!0)):ht()}.call(this),function(){function t(){var t,e,n=arguments,i={},r=function(t,e){var n,i;"object"!=typeof t&&(t={});for(i in e)e.hasOwnProperty(i)&&(n=e[i],t[i]=n&&"object"==typeof n&&"[object Array]"!==Object.prototype.toString.call(n)&&"renderTo"!==i&&"number"!=typeof n.nodeType?r(t[i]||{},n):e[i]);return t};for(n[0]===!0&&(i=n[1],n=Array.prototype.slice.call(n,2)),e=n.length,t=0;t<e;t++)i=r(i,n[t]);return i}function e(t,e){return parseInt(t,e||10)}function n(t){return"string"==typeof t}function i(t){return t&&"object"==typeof t}function r(t){return"[object Array]"===Object.prototype.toString.call(t)}function a(t){return"number"==typeof t}function o(t){return lt.log(t)/lt.LN10}function s(t){return lt.pow(10,t)}function l(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}}function u(t){return t!==L&&null!==t}function c(t,e,r){var a,o;if(n(e))u(r)?t.setAttribute(e,r):t&&t.getAttribute&&(o=t.getAttribute(e));else if(u(e)&&i(e))for(a in e)t.setAttribute(a,e[a]);return o}function h(t){return r(t)?t:[t]}function p(t,e){bt&&!kt&&e&&e.opacity!==L&&(e.filter="alpha(opacity="+100*e.opacity+")"),zt(t.style,e)}function d(t,e,n,i,r){return t=ot.createElement(t),e&&zt(t,e),r&&p(t,{padding:0,border:Xt,margin:0}),n&&p(t,n),i&&i.appendChild(t),t}function f(t,e){var n=function(){return L};return n.prototype=new t,zt(n.prototype,e),n}function g(t,e){return Array((e||2)+1-String(t).length).join(0)+t}function m(t){return 6e4*(U&&U(t)||Y||0)}function y(t,e){for(var n,i,r,a,o,s="{",l=!1,u=[];(s=t.indexOf(s))!==-1;){if(n=t.slice(0,s),l){for(i=n.split(":"),r=i.shift().split("."),o=r.length,n=e,a=0;a<o;a++)n=n[r[a]];i.length&&(i=i.join(":"),r=/\.([0-9])/,a=I.lang,o=void 0,/f$/.test(i)?(o=(o=i.match(r))?o[1]:-1,null!==n&&(n=at.numberFormat(n,o,a.decimalPoint,i.indexOf(",")>-1?a.thousandsSep:""))):n=R(i,n))}u.push(n),t=t.slice(s+1),s=(l=!l)?"}":"{"}return u.push(t),u.join("")}function v(t){return lt.pow(10,ct(lt.log(t)/lt.LN10))}function S(t,e,n,i,r){var a,o=t,n=Bt(n,1);for(a=t/n,e||(e=[1,2,2.5,5,10],i===!1&&(1===n?e=[1,2,5,10]:n<=.1&&(e=[1/n]))),i=0;i<e.length&&(o=e[i],!(r&&o*n>=t||!r&&a<=(e[i]+(e[i+1]||e[i]))/2));i++);return o*=n}function T(t,e){var n,i,r=t.length;for(i=0;i<r;i++)t[i].ss_i=i;for(t.sort(function(t,i){return n=e(t,i),0===n?t.ss_i-i.ss_i:n}),i=0;i<r;i++)delete t[i].ss_i}function b(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n}function x(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n}function M(t,e){for(var n in t)t[n]&&t[n]!==e&&t[n].destroy&&t[n].destroy(),delete t[n]}function w(t){F||(F=d(Nt)),t&&F.appendChild(t),F.innerHTML=""}function A(t,e){var n="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw n;st.console&&console.log(n)}function C(t,e){return parseFloat(t.toPrecision(e||14))}function k(t,e){e.renderer.globalAnimation=Bt(t,e.animation)}function D(){var t=I.global,e=t.useUTC,n=e?"getUTC":"get",i=e?"setUTC":"set";B=t.Date||window.Date,Y=e&&t.timezoneOffset,U=e&&t.getTimezoneOffset,W=function(t,n,i,r,a,o){var s;return e?(s=B.UTC.apply(0,arguments),s+=m(s)):s=new B(t,n,Bt(i,1),Bt(r,0),Bt(a,0),Bt(o,0)).getTime(),s},V=n+"Minutes",j=n+"Hours",q=n+"Day",G=n+"Date",J=n+"Month",K=n+"FullYear",Z=i+"Milliseconds",Q=i+"Seconds",tt=i+"Minutes",et=i+"Hours",nt=i+"Date",it=i+"Month",rt=i+"FullYear"}function $(){}function P(t,e,n,i){this.axis=t,this.pos=e,this.type=n||"",this.isNew=!0,!n&&!i&&this.addLabel()}function E(t,e,n,i,r){var a=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=i,this.total=null,this.points={},this.stack=r,this.alignOptions={align:e.align||(a?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(a?"middle":n?"bottom":"top"),y:Bt(e.y,a?4:n?14:-6),x:Bt(e.x,a?n?-6:6:0)},this.textAlign=e.textAlign||(a?n?"right":"left":"center")}function O(t){var e=t.options,n=e.navigator,i=n.enabled,e=e.scrollbar,r=e.enabled,a=i?n.height:0,o=r?e.height:0;this.handles=[],this.scrollbarButtons=[],this.elementsToDestroy=[],this.chart=t,this.setBaseSeries(),this.height=a,this.scrollbarHeight=o,this.scrollbarEnabled=r,this.navigatorEnabled=i,this.navigatorOptions=n,this.scrollbarOptions=e,this.outlineHeight=a+o,this.init()}function _(t){this.init(t)}var L,N,X,F,I,R,H,z,B,W,Y,U,V,j,q,G,J,K,Z,Q,tt,et,nt,it,rt,at,ot=document,st=window,lt=Math,ut=lt.round,ct=lt.floor,ht=lt.ceil,pt=lt.max,dt=lt.min,ft=lt.abs,gt=lt.cos,mt=lt.sin,yt=lt.PI,vt=2*yt/360,St=navigator.userAgent,Tt=st.opera,bt=/(msie|trident)/i.test(St)&&!Tt,xt=8===ot.documentMode,Mt=/AppleWebKit/.test(St),wt=/Firefox/.test(St),At=/(Mobile|Android|Windows Phone)/.test(St),Ct="http://www.w3.org/2000/svg",kt=!!ot.createElementNS&&!!ot.createElementNS(Ct,"svg").createSVGRect,Dt=wt&&parseInt(St.split("Firefox/")[1],10)<4,$t=!kt&&!bt&&!!ot.createElement("canvas").getContext,Pt={},Et=0,Ot=function(){return L},_t=[],Lt=0,Nt="div",Xt="none",Ft=/^[0-9]+$/,It=["plotTop","marginRight","marginBottom","plotLeft"],Rt="stroke-width",Ht={};at=st.Highcharts=st.Highcharts?A(16,!0):{},at.seriesTypes=Ht;var zt=at.extend=function(t,e){var n;t||(t={});for(n in e)t[n]=e[n];return t},Bt=at.pick=function(){var t,e,n=arguments,i=n.length;for(t=0;t<i;t++)if(e=n[t],e!==L&&null!==e)return e},Wt=at.wrap=function(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(i),n.apply(this,t)}};R=function(t,e,n){if(!u(e)||isNaN(e))return I.lang.invalidDate||"";var i,t=Bt(t,"%Y-%m-%d %H:%M:%S"),r=new B(e-m(e)),a=r[j](),o=r[q](),s=r[G](),l=r[J](),c=r[K](),h=I.lang,p=h.weekdays,r=zt({a:p[o].substr(0,3),A:p[o],d:g(s),e:s,w:o,b:h.shortMonths[l],B:h.months[l],m:g(l+1),y:c.toString().substr(2,2),Y:c,H:g(a),k:a,I:g(a%12||12),l:a%12||12,M:g(r[V]()),p:a<12?"AM":"PM",P:a<12?"am":"pm",S:g(r.getSeconds()),L:g(ut(e%1e3),3)},at.dateFormats);for(i in r)for(;t.indexOf("%"+i)!==-1;)t=t.replace("%"+i,"function"==typeof r[i]?r[i](e):r[i]);return n?t.substr(0,1).toUpperCase()+t.substr(1):t},z={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},at.numberFormat=function(t,n,i,r){var a=I.lang,t=+t||0,o=n===-1?dt((t.toString().split(".")[1]||"").length,20):isNaN(n=ft(n))?2:n,n=void 0===i?a.decimalPoint:i,r=void 0===r?a.thousandsSep:r,a=t<0?"-":"",i=String(e(t=ft(t).toFixed(o))),s=i.length>3?i.length%3:0;return a+(s?i.substr(0,s)+r:"")+i.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+r)+(o?n+ft(t-i).toFixed(o).slice(2):"")},H={init:function(t,e,n){var i,r,a,e=e||"",o=t.shift,s=e.indexOf("C")>-1,l=s?7:3,e=e.split(" "),n=[].concat(n),u=function(t){for(i=t.length;i--;)"M"===t[i]&&t.splice(i+1,0,t[i+1],t[i+2],t[i+1],t[i+2])};if(s&&(u(e),u(n)),t.isArea&&(r=e.splice(e.length-6,6),a=n.splice(n.length-6,6)),o<=n.length/l&&e.length===n.length)for(;o--;)n=[].concat(n).splice(0,l).concat(n);if(t.shift=0,e.length)for(t=n.length;e.length<t;)o=[].concat(e).splice(e.length-l,l),s&&(o[l-6]=o[l-2],o[l-5]=o[l-1]),e=e.concat(o);return r&&(e=e.concat(r),n=n.concat(a)),[e,n]},step:function(t,e,n,i){var r=[],a=t.length;if(1===n)r=i;else if(a===e.length&&n<1)for(;a--;)i=parseFloat(t[a]),r[a]=isNaN(i)?t[a]:n*parseFloat(e[a]-i)+i;else r=e;return r}},function(t){st.HighchartsAdapter=st.HighchartsAdapter||t&&{init:function(e){var i=t.fx;t.extend(t.easing,{easeOutQuad:function(t,e,n,i,r){return-i*(e/=r)*(e-2)+n}}),t.each(["cur","_default","width","height","opacity"],function(e,n){var r,a=i.step;"cur"===n?a=i.prototype:"_default"===n&&t.Tween&&(a=t.Tween.propHooks[n],n="set"),(r=a[n])&&(a[n]=function(t){var i,t=e?t:this;if("align"!==t.prop)return i=t.elem,i.attr?i.attr(t.prop,"cur"===n?L:t.now):r.apply(this,arguments)})}),Wt(t.cssHooks.opacity,"get",function(t,e,n){return e.attr?e.opacity||0:t.call(this,e,n)}),this.addAnimSetter("d",function(t){var n,i=t.elem;t.started||(n=e.init(i,i.d,i.toD),t.start=n[0],t.end=n[1],t.started=!0),i.attr("d",e.step(t.start,t.end,t.pos,i.toD))}),this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){var n,i=t.length;for(n=0;n<i;n++)if(e.call(t[n],t[n],n,t)===!1)return n},t.fn.highcharts=function(){var t,e,i="Chart",r=arguments;return this[0]&&(n(r[0])&&(i=r[0],r=Array.prototype.slice.call(r,1)),t=r[0],t!==L&&(t.chart=t.chart||{},t.chart.renderTo=this[0],new at[i](t,r[1]),e=this),t===L&&(e=_t[c(this[0],"data-highcharts-chart")])),e}},addAnimSetter:function(e,n){t.Tween?t.Tween.propHooks[e]={set:n}:t.fx.step[e]=n},getScript:t.getScript,inArray:t.inArray,adapterRun:function(e,n){return t(e)[n]()},grep:t.grep,map:function(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n[i]=e.call(t[i],t[i],i,t);return n},offset:function(e){return t(e).offset()},addEvent:function(e,n,i){t(e).bind(n,i)},removeEvent:function(e,n,i){var r=ot.removeEventListener?"removeEventListener":"detachEvent";ot[r]&&e&&!e[r]&&(e[r]=function(){}),t(e).unbind(n,i)},fireEvent:function(e,n,i,r){var a,o=t.Event(n),s="detached"+n;!bt&&i&&(delete i.layerX,delete i.layerY,delete i.returnValue),zt(o,i),e[n]&&(e[s]=e[n],e[n]=null),t.each(["preventDefault","stopPropagation"],function(t,e){var n=o[e];o[e]=function(){try{n.call(o)}catch(t){"preventDefault"===e&&(a=!0)}}}),t(e).trigger(o),e[s]&&(e[n]=e[s],e[s]=null),r&&!o.isDefaultPrevented()&&!a&&r(o)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===L&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(e,n,i){var r=t(e);e.style||(e.style={}),n.d&&(e.toD=n.d,n.d=1),r.stop(),n.opacity!==L&&e.attr&&(n.opacity+="px"),e.hasAnim=1,r.animate(n,i)},stop:function(e){e.hasAnim&&t(e).stop()}}}(st.jQuery);var Yt=st.HighchartsAdapter,Ut=Yt||{};Yt&&Yt.init.call(Yt,H);var Vt=Ut.adapterRun,jt=Ut.getScript,qt=Ut.inArray,Gt=at.each=Ut.each,Jt=Ut.grep,Kt=Ut.offset,Zt=Ut.map,Qt=Ut.addEvent,te=Ut.removeEvent,ee=Ut.fireEvent,ne=Ut.washMouseEvent,ie=Ut.animate,re=Ut.stop;I={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/stock/2.1.8/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/2.1.8/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":at.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:kt,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:At?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var ae=I.plotOptions,Yt=ae.line;D();var oe=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,se=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,le=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,ue=function(n){var i,r,o=[];return function(t){t&&t.stops?r=Zt(t.stops,function(t){return ue(t[1])}):(i=oe.exec(t))?o=[e(i[1]),e(i[2]),e(i[3]),parseFloat(i[4],10)]:(i=se.exec(t))?o=[e(i[1],16),e(i[2],16),e(i[3],16),1]:(i=le.exec(t))&&(o=[e(i[1]),e(i[2]),e(i[3]),1])}(n),{get:function(e){var i;return r?(i=t(n),i.stops=[].concat(i.stops),Gt(r,function(t,n){i.stops[n]=[i.stops[n][0],t.get(e)]})):i=o&&!isNaN(o[0])?"rgb"===e?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===e?o[3]:"rgba("+o.join(",")+")":n,i},brighten:function(t){if(r)Gt(r,function(e){e.brighten(t)});else if(a(t)&&0!==t){var n;for(n=0;n<3;n++)o[n]+=e(255*t),o[n]<0&&(o[n]=0),o[n]>255&&(o[n]=255)}return this},rgba:o,setOpacity:function(t){return o[3]=t,this},raw:n}};$.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textOverflow,textShadow".split(","),init:function(t,e){this.element="span"===e?d(e):ot.createElementNS(Ct,e),this.renderer=t},animate:function(e,n,i){return n=Bt(n,this.renderer.globalAnimation,!0),re(this),n?(n=t(n,{}),i&&(n.complete=i),ie(this,e,n)):this.attr(e,null,i),this},colorGradient:function(e,n,i){var a,o,s,l,c,h,p,d,f,g,m=this.renderer,y=[];if(e.linearGradient?o="linearGradient":e.radialGradient&&(o="radialGradient"),o){s=e[o],l=m.gradients,h=e.stops,f=i.radialReference,r(s)&&(e[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&f&&!u(s.gradientUnits)&&(s=t(s,{cx:f[0]-f[2]/2+s.cx*f[2],cy:f[1]-f[2]/2+s.cy*f[2],r:s.r*f[2],gradientUnits:"userSpaceOnUse"}));for(g in s)"id"!==g&&y.push(g,s[g]);for(g in h)y.push(h[g]);y=y.join(","),l[y]?e=l[y].attr("id"):(s.id=e="highcharts-"+Et++,l[y]=c=m.createElement(o).attr(s).add(m.defs),c.stops=[],Gt(h,function(t){0===t[1].indexOf("rgba")?(a=ue(t[1]),p=a.get("rgb"),d=a.get("a")):(p=t[1],d=1),t=m.createElement("stop").attr({offset:t[0],"stop-color":p,"stop-opacity":d}).add(c),c.stops.push(t)})),i.setAttribute(n,"url("+m.url+"#"+e+")")}},applyTextShadow:function(t){var n,i=this.element,r=t.indexOf("contrast")!==-1,a={},o=this.renderer.forExport||i.style.textShadow!==L&&!bt;r&&(a.textShadow=t=t.replace(/contrast/g,this.renderer.getContrast(i.style.fill))),Mt&&(a.textRendering="geometricPrecision"),o?p(i,a):(this.fakeTS=!0,this.ySetter=this.xSetter,n=[].slice.call(i.getElementsByTagName("tspan")),Gt(t.split(/\s?,\s?/g),function(t){var r,a,o=i.firstChild,t=t.split(" ");r=t[t.length-1],(a=t[t.length-2])&&Gt(n,function(t,n){var s;0===n&&(t.setAttribute("x",i.getAttribute("x")),n=i.getAttribute("y"),t.setAttribute("y",n||0),null===n&&i.setAttribute("y",0)),s=t.cloneNode(1),c(s,{class:"highcharts-text-shadow",fill:r,stroke:r,"stroke-opacity":1/pt(e(a),3),"stroke-width":a,"stroke-linejoin":"round"}),i.insertBefore(s,o)})}))},attr:function(t,e,n){var i,r,a,o=this.element,s=this;if("string"==typeof t&&e!==L&&(i=t,t={},t[i]=e),"string"==typeof t)s=(this[t+"Getter"]||this._defaultGetter).call(this,t,o);else{for(i in t)e=t[i],a=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(r||(this.symbolAttr(t),r=!0),a=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),a||(this[i+"Setter"]||this._defaultSetter).call(this,e,i,o),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,e);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return n&&n(),s},updateShadows:function(t,e){for(var n=this.shadows,i=n.length;i--;)n[i].setAttribute(t,"height"===t?pt(e-(n[i].cutHeight||0),0):"d"===t?this.d:e)},addClass:function(t){var e=this.element,n=c(e,"class")||"";return n.indexOf(t)===-1&&c(e,"class",n+" "+t),this},symbolAttr:function(t){var e=this;Gt("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(n){e[n]=Bt(t[n],e[n])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Xt)},crisp:function(t){var e,n,i={},r=t.strokeWidth||this.strokeWidth||0;n=ut(r)%2/2,t.x=ct(t.x||this.x||0)+n,t.y=ct(t.y||this.y||0)+n,t.width=ct((t.width||this.width||0)-2*n),t.height=ct((t.height||this.height||0)-2*n),t.strokeWidth=r;for(e in t)this[e]!==t[e]&&(this[e]=i[e]=t[e]);return i},css:function(t){var n,i,r=this.styles,a={},o=this.element,s="";if(n=!r,t&&t.color&&(t.fill=t.color),r)for(i in t)t[i]!==r[i]&&(a[i]=t[i],n=!0);if(n){if(n=this.textWidth=t&&t.width&&"text"===o.nodeName.toLowerCase()&&e(t.width)||this.textWidth,r&&(t=zt(r,a)),this.styles=t,n&&($t||!kt&&this.renderer.forExport)&&delete t.width,bt&&!kt)p(this.element,t);else{r=function(t,e){return"-"+e.toLowerCase()};for(i in t)s+=i.replace(/([A-Z])/g,r)+":"+t[i]+";";c(o,"style",s)}n&&this.added&&this.renderer.buildText(this)}return this},on:function(t,e){var n=this,i=n.element;return X&&"click"===t?(i.ontouchstart=function(t){n.touchEventFired=B.now(),t.preventDefault(),e.call(i,t)},i.onclick=function(t){(St.indexOf("Android")===-1||B.now()-(n.touchEventFired||0)>1100)&&e.call(i,t)}):i["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,n=this.scaleX,i=this.scaleY,r=this.inverted,a=this.rotation,o=this.element;r&&(t+=this.attr("width"),e+=this.attr("height")),t=["translate("+t+","+e+")"],r?t.push("rotate(90) scale(-1,1)"):a&&t.push("rotate("+a+" "+(o.getAttribute("x")||0)+" "+(o.getAttribute("y")||0)+")"),(u(n)||u(i))&&t.push("scale("+Bt(n,1)+" "+Bt(i,1)+")"),t.length&&o.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var r,a,o,s,u={};return a=this.renderer,o=a.alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!i||n(i))&&(this.alignTo=r=i||"renderer",l(o,this),o.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,r=this.alignTo),i=Bt(i,a[r],a),r=t.align,a=t.verticalAlign,o=(i.x||0)+(t.x||0),s=(i.y||0)+(t.y||0),"right"!==r&&"center"!==r||(o+=(i.width-(t.width||0))/{right:1,center:2}[r]),u[e?"translateX":"x"]=ut(o),"bottom"!==a&&"middle"!==a||(s+=(i.height-(t.height||0))/({bottom:1,middle:2}[a]||1)),u[e?"translateY":"y"]=ut(s),this[this.placed?"animate":"attr"](u),this.placed=!0,this.alignAttr=u,this},getBBox:function(t){var e,n,i=this.renderer,r=this.rotation,a=this.element,o=this.styles,s=r*vt;n=this.textStr;var l,u,c,h=a.style;if(n!==L&&(c=["",r||0,o&&o.fontSize,a.style.width].join(","),c=""===n||Ft.test(n)?"num:"+n.toString().length+c:n+c),c&&!t&&(e=i.cache[c]),!e){if(a.namespaceURI===Ct||i.forExport){try{u=this.fakeTS&&function(t){Gt(a.querySelectorAll(".highcharts-text-shadow"),function(e){e.style.display=t})},wt&&h.textShadow?(l=h.textShadow,h.textShadow=""):u&&u(Xt),e=a.getBBox?zt({},a.getBBox()):{width:a.offsetWidth,height:a.offsetHeight},l?h.textShadow=l:u&&u("")}catch(t){}(!e||e.width<0)&&(e={width:0,height:0})}else e=this.htmlGetBBox();i.isSVG&&(t=e.width,n=e.height,bt&&o&&"11px"===o.fontSize&&"16.9"===n.toPrecision(3)&&(e.height=n=14),r&&(e.width=ft(n*mt(s))+ft(t*gt(s)),e.height=ft(n*gt(s))+ft(t*mt(s)))),c&&(i.cache[c]=e)}return e},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,n=this.renderer,i=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,n=this,i=n.element||{},r=n.shadows,a=n.renderer.isSVG&&"SPAN"===i.nodeName&&n.parentGroup;if(i.onclick=i.onmouseout=i.onmouseover=i.onmousemove=i.point=null,re(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(e=0;e<n.stops.length;e++)n.stops[e]=n.stops[e].destroy();n.stops=null}for(n.safeRemoveChild(i),r&&Gt(r,function(t){n.safeRemoveChild(t)});a&&a.div&&0===a.div.childNodes.length;)i=a.parentGroup,n.safeRemoveChild(a.div),delete a.div,a=i;n.alignTo&&l(n.renderer.alignedObjects,n);for(t in n)delete n[t];return null},shadow:function(t,e,n){var i,r,a,o,s,l,u=[],h=this.element;if(t){for(o=Bt(t.width,3),s=(t.opacity||.15)/o,l=this.parentInverted?"(-1,-1)":"("+Bt(t.offsetX,1)+", "+Bt(t.offsetY,1)+")",i=1;i<=o;i++)r=h.cloneNode(0),a=2*o+1-2*i,c(r,{isShadow:"true",stroke:t.color||"black","stroke-opacity":s*i,"stroke-width":a,transform:"translate"+l,fill:Xt}),n&&(c(r,"height",pt(c(r,"height")-a,0)),r.cutHeight=a),e?e.element.appendChild(r):h.parentNode.insertBefore(r,h),u.push(r);this.shadows=u}return this},xGetter:function(t){return"circle"===this.element.nodeName&&(t={x:"cx",y:"cy"}[t]||t),this._defaultGetter(t)},_defaultGetter:function(t){return t=Bt(this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,n){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),n.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var n;if(t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),n=t.length;n--;)t[n]=e(t[n])*this["stroke-width"];t=t.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,n){this[e]=t,n.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=ot.createElementNS(Ct,"title"),this.element.appendChild(e)),e.appendChild(ot.createTextNode(String(Bt(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,n){"string"==typeof t?n.setAttribute(e,t):t&&this.colorGradient(t,e,n);
},visibilitySetter:function(t,e,n){"inherit"===t?n.removeAttribute(e):n.setAttribute(e,t)},zIndexSetter:function(t,n){var i,r,a,o=this.renderer,s=this.parentGroup,o=(s||o).element||o.box,l=this.element;i=this.added;var h;if(u(t)&&(l.setAttribute(n,t),t=+t,this[n]===t&&(i=!1),this[n]=t),i){for((t=this.zIndex)&&s&&(s.handleZ=!0),s=o.childNodes,h=0;h<s.length&&!a;h++)i=s[h],r=c(i,"zIndex"),i!==l&&(e(r)>t||!u(t)&&u(r))&&(o.insertBefore(l,i),a=!0);a||o.appendChild(l)}return a},_defaultSetter:function(t,e,n){n.setAttribute(e,t)}},$.prototype.yGetter=$.prototype.xGetter,$.prototype.translateXSetter=$.prototype.translateYSetter=$.prototype.rotationSetter=$.prototype.verticalAlignSetter=$.prototype.scaleXSetter=$.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},$.prototype["stroke-widthSetter"]=$.prototype.strokeSetter=function(t,e,n){this[e]=t,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],$.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)};var ce=function(){this.init.apply(this,arguments)};ce.prototype={Element:$,init:function(t,e,n,i,r){var a,o=location,i=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(i));a=i.element,t.appendChild(a),t.innerHTML.indexOf("xmlns")===-1&&c(a,"xmlns",Ct),this.isSVG=!0,this.box=a,this.boxWrapper=i,this.alignedObjects=[],this.url=(wt||Mt)&&ot.getElementsByTagName("base").length?o.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(ot.createTextNode("Created with Highstock 2.1.8")),this.defs=this.createElement("defs").add(),this.forExport=r,this.gradients={},this.cache={},this.setSize(e,n,!1);var s;wt&&t.getBoundingClientRect&&(this.subPixelFix=e=function(){p(t,{left:0,top:0}),s=t.getBoundingClientRect(),p(t,{left:ht(s.left)-s.left+"px",top:ht(s.top)-s.top+"px"})},e(),Qt(st,"resize",e))},getStyle:function(t){return this.style=zt({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),M(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.subPixelFix&&te(st,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var n,i,r=t.element,a=this,o=a.forExport,s=Bt(t.textStr,"").toString(),l=s.indexOf("<")!==-1,u=r.childNodes,h=c(r,"x"),d=t.styles,f=t.textWidth,g=d&&d.lineHeight,m=d&&d.textShadow,y=d&&"ellipsis"===d.textOverflow,v=u.length,S=f&&!t.added&&this.box,T=function(t){return g?e(g):a.fontMetrics(/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:d&&d.fontSize||a.style.fontSize||12,t).h},b=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")};v--;)r.removeChild(u[v]);l||m||y||s.indexOf(" ")!==-1?(n=/<.*style="([^"]+)".*>/,i=/<.*href="(http[^"]+)".*>/,S&&S.appendChild(r),s=l?s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[s],""===s[s.length-1]&&s.pop(),Gt(s,function(e,s){var l,u=0,e=e.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");l=e.split("|||"),Gt(l,function(e){if(""!==e||1===l.length){var g,m={},v=ot.createElementNS(Ct,"tspan");if(n.test(e)&&(g=e.match(n)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),c(v,"style",g)),i.test(e)&&!o&&(c(v,"onclick",'location.href="'+e.match(i)[1]+'"'),p(v,{cursor:"pointer"})),e=b(e.replace(/<(.|\n)*?>/g,"")||" ")," "!==e){if(v.appendChild(ot.createTextNode(e)),u?m.dx=0:s&&null!==h&&(m.x=h),c(v,m),r.appendChild(v),!u&&s&&(!kt&&o&&p(v,{display:"block"}),c(v,"dy",T(v))),f){for(var S,x,M,m=e.replace(/([^\^])-/g,"$1- ").split(" "),w=l.length>1||s||m.length>1&&"nowrap"!==d.whiteSpace,A=[],C=T(v),k=1,D=t.rotation,$=e,P=$.length;(w||y)&&(m.length||A.length);)t.rotation=0,S=t.getBBox(!0),M=S.width,!kt&&a.forExport&&(M=a.measureSpanWidth(v.firstChild.data,t.styles)),S=M>f,void 0===x&&(x=S),y&&x?(P/=2,""===$||!S&&P<.5?m=[]:(S&&(x=!0),$=e.substring(0,$.length+(S?-1:1)*ht(P)),m=[$+(f>3?"":"")],v.removeChild(v.firstChild))):S&&1!==m.length?(v.removeChild(v.firstChild),A.unshift(m.pop())):(m=A,A=[],m.length&&(k++,v=ot.createElementNS(Ct,"tspan"),c(v,{dy:C,x:h}),g&&c(v,"style",g),r.appendChild(v)),M>f&&(f=M)),m.length&&v.appendChild(ot.createTextNode(m.join(" ").replace(/- /g,"-")));x&&t.attr("title",t.textStr),t.rotation=D}u++}}})}),S&&S.removeChild(r),m&&t.applyTextShadow&&t.applyTextShadow(m)):r.appendChild(ot.createTextNode(b(s)))},getContrast:function(t){return t=ue(t).rgba,t[0]+t[1]+t[2]>384?"#000000":"#FFFFFF"},button:function(e,n,i,r,a,o,s,l,u){var c,h,p,d,f,g,m=this.label(e,n,i,u,null,null,null,null,"button"),y=0,e={x1:0,y1:0,x2:0,y2:1},a=t({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:e,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},a);return p=a.style,delete a.style,o=t(a,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#FFF"],[1,"#ACF"]]}},o),d=o.style,delete o.style,s=t(a,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#9BD"],[1,"#CDF"]]}},s),f=s.style,delete s.style,l=t(a,{style:{color:"#CCC"}},l),g=l.style,delete l.style,Qt(m.element,bt?"mouseover":"mouseenter",function(){3!==y&&m.attr(o).css(d)}),Qt(m.element,bt?"mouseout":"mouseleave",function(){3!==y&&(c=[a,o,s][y],h=[p,d,f][y],m.attr(c).css(h))}),m.setState=function(t){(m.state=y=t)?2===t?m.attr(s).css(f):3===t&&m.attr(l).css(g):m.attr(a).css(p)},m.on("click",function(t){3!==y&&r.call(m,t)}).attr(a).css(zt({cursor:"default"},p))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=ut(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=ut(t[2])+e%2/2),t},path:function(t){var e={fill:Xt};return r(t)?e.d=t:i(t)&&zt(e,t),this.createElement("path").attr(e)},circle:function(t,e,n){return t=i(t)?t:{x:t,y:e,r:n},e=this.createElement("circle"),e.xSetter=function(t){this.element.setAttribute("cx",t)},e.ySetter=function(t){this.element.setAttribute("cy",t)},e.attr(t)},arc:function(t,e,n,r,a,o){return i(t)&&(e=t.y,n=t.r,r=t.innerR,a=t.start,o=t.end,t=t.x),t=this.symbol("arc",t||0,e||0,n||0,n||0,{innerR:r||0,start:a||0,end:o||0}),t.r=n,t},rect:function(t,e,n,r,a,o){var a=i(t)?t.r:a,s=this.createElement("rect"),t=i(t)?t:t===L?{}:{x:t,y:e,width:pt(n,0),height:pt(r,0)};return o!==L&&(t.strokeWidth=o,t=s.crisp(t)),a&&(t.r=a),s.rSetter=function(t){c(this.element,{rx:t,ry:t})},s.attr(t)},setSize:function(t,e,n){var i=this.alignedObjects,r=i.length;for(this.width=t,this.height=e,this.boxWrapper[Bt(n,!0)?"animate":"attr"]({width:t,height:e});r--;)i[r].align()},g:function(t){var e=this.createElement("g");return u(t)?e.attr({class:"highcharts-"+t}):e},image:function(t,e,n,i,r){var a={preserveAspectRatio:Xt};return arguments.length>1&&zt(a,{x:e,y:n,width:i,height:r}),a=this.createElement("image").attr(a),a.element.setAttributeNS?a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):a.element.setAttribute("hc-svg-href",t),a},symbol:function(t,e,n,i,r,a){var o,s,l,u=this.symbols[t],u=u&&u(ut(e),ut(n),i,r,a),c=/^url\((.*?)\)$/;return u?(o=this.path(u),zt(o,{symbolName:t,x:e,y:n,width:i,height:r}),a&&zt(o,a)):c.test(t)&&(l=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(ut((i-e[0])/2),ut((r-e[1])/2)))},s=t.match(c)[1],t=Pt[s]||a&&a.width&&a.height&&[a.width,a.height],o=this.image(s).attr({x:e,y:n}),o.isImg=!0,t?l(o,t):(o.attr({width:0,height:0}),d("img",{onload:function(){l(o,Pt[s]=[this.width,this.height])},src:s}))),o},symbols:{circle:function(t,e,n,i){var r=.166*n;return["M",t+n/2,e,"C",t+n+r,e,t+n+r,e+i,t+n/2,e+i,"C",t-r,e+i,t-r,e,t+n/2,e,"Z"]},square:function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n,e+i,t,e+i,"Z"]},triangle:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i,t,e+i,"Z"]},"triangle-down":function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n/2,e+i,"Z"]},diamond:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i/2,t+n/2,e+i,t,e+i/2,"Z"]},arc:function(t,e,n,i,r){var a=r.start,n=r.r||n||i,o=r.end-.001,i=r.innerR,s=r.open,l=gt(a),u=mt(a),c=gt(o),o=mt(o),r=r.end-a<yt?0:1;return["M",t+n*l,e+n*u,"A",n,n,0,r,1,t+n*c,e+n*o,s?"M":"L",t+i*c,e+i*o,"A",i,i,0,r,0,t+i*l,e+i*u,s?"":"Z"]},callout:function(t,e,n,i,r){var a,o=dt(r&&r.r||0,n,i),s=o+6,l=r&&r.anchorX,r=r&&r.anchorY;return a=["M",t+o,e,"L",t+n-o,e,"C",t+n,e,t+n,e,t+n,e+o,"L",t+n,e+i-o,"C",t+n,e+i,t+n,e+i,t+n-o,e+i,"L",t+o,e+i,"C",t,e+i,t,e+i,t,e+i-o,"L",t,e+o,"C",t,e,t,e,t+o,e],l&&l>n&&r>e+s&&r<e+i-s?a.splice(13,3,"L",t+n,r-6,t+n+6,r,t+n,r+6,t+n,e+i-o):l&&l<0&&r>e+s&&r<e+i-s?a.splice(33,3,"L",t,r+6,t-6,r,t,r-6,t,e+o):r&&r>i&&l>t+s&&l<t+n-s?a.splice(23,3,"L",l+6,e+i,l,e+i+6,l-6,e+i,t+o,e+i):r&&r<0&&l>t+s&&l<t+n-s&&a.splice(3,3,"L",l-6,e,l,e-6,l+6,e,n-o,e),a}},clipRect:function(t,e,n,i){var r="highcharts-"+Et++,a=this.createElement("clipPath").attr({id:r}).add(this.defs),t=this.rect(t,e,n,i,0).add(a);return t.id=r,t.clipPath=a,t.count=0,t},text:function(t,e,n,i){var r=$t||!kt&&this.forExport,a={};return i&&!this.forExport?this.html(t,e,n):(a.x=Math.round(e||0),n&&(a.y=Math.round(n)),(t||0===t)&&(a.text=t),t=this.createElement("text").attr(a),r&&t.css({position:"absolute"}),i||(t.xSetter=function(t,e,n){var i,r,a=n.getElementsByTagName("tspan"),o=n.getAttribute(e);for(r=0;r<a.length;r++)i=a[r],i.getAttribute(e)===o&&i.setAttribute(e,t);n.setAttribute(e,t)}),t)},fontMetrics:function(t,n){var i,r,t=t||this.style.fontSize;return n&&st.getComputedStyle&&(n=n.element||n,t=(i=st.getComputedStyle(n,""))&&i.fontSize),t=/px/.test(t)?e(t):/em/.test(t)?12*parseFloat(t):12,i=t<24?t+3:ut(1.2*t),r=ut(.8*i),{h:i,b:r,f:t}},rotCorr:function(t,e,n){var i=t;return e&&n&&(i=pt(i*gt(e*vt),4)),{x:-t/3*mt(e*vt),y:i}},label:function(e,n,i,r,a,o,s,l,c){function h(){var t,e;t=w.element.style,g=(void 0===m||void 0===y||M.styles.textAlign)&&u(w.textStr)&&w.getBBox(),M.width=(m||g.width||0)+2*C+k,M.height=(y||g.height||0)+2*C,T=C+x.fontMetrics(t&&t.fontSize,w).b,b&&(f||(t=ut(-A*C)+D,e=(l?-T:0)+D,M.box=f=r?x.symbol(r,t,e,M.width,M.height,P):x.rect(t,e,M.width,M.height,0,P[Rt]),f.isImg||f.attr("fill",Xt),f.add(M)),f.isImg||f.attr(zt({width:ut(M.width),height:ut(M.height)},P)),P=null)}function p(){var t,e=M.styles,e=e&&e.textAlign,n=k+C*(1-A);t=l?0:T,u(m)&&g&&("center"===e||"right"===e)&&(n+={center:.5,right:1}[e]*(m-g.width)),n===w.x&&t===w.y||(w.attr("x",n),t!==L&&w.attr("y",t)),w.x=n,w.y=t}function d(t,e){f?f.attr(t,e):P[t]=e}var f,g,m,y,v,S,T,b,x=this,M=x.g(c),w=x.text("",0,0,s).attr({zIndex:1}),A=0,C=3,k=0,D=0,P={};M.onAdd=function(){w.add(M),M.attr({text:e||0===e?e:"",x:n,y:i}),f&&u(a)&&M.attr({anchorX:a,anchorY:o})},M.widthSetter=function(t){m=t},M.heightSetter=function(t){y=t},M.paddingSetter=function(t){u(t)&&t!==C&&(C=M.padding=t,p())},M.paddingLeftSetter=function(t){u(t)&&t!==k&&(k=t,p())},M.alignSetter=function(t){A={left:0,center:.5,right:1}[t]},M.textSetter=function(t){t!==L&&w.textSetter(t),h(),p()},M["stroke-widthSetter"]=function(t,e){t&&(b=!0),D=t%2/2,d(e,t)},M.strokeSetter=M.fillSetter=M.rSetter=function(t,e){"fill"===e&&t&&(b=!0),d(e,t)},M.anchorXSetter=function(t,e){a=t,d(e,ut(t)-D-v)},M.anchorYSetter=function(t,e){o=t,d(e,t-S)},M.xSetter=function(t){M.x=t,A&&(t-=A*((m||g.width)+C)),v=ut(t),M.attr("translateX",v)},M.ySetter=function(t){S=M.y=ut(t),M.attr("translateY",S)};var E=M.css;return zt(M,{css:function(e){if(e){var n={},e=t(e);Gt(M.textProps,function(t){e[t]!==L&&(n[t]=e[t],delete e[t])}),w.css(n)}return E.call(M,e)},getBBox:function(){return{width:g.width+2*C,height:g.height+2*C,x:g.x-C,y:g.y-C}},shadow:function(t){return f&&f.shadow(t),M},destroy:function(){te(M.element,"mouseenter"),te(M.element,"mouseleave"),w&&(w=w.destroy()),f&&(f=f.destroy()),$.prototype.destroy.call(M),M=x=h=p=d=null}})}},N=ce,zt($.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=zt(this.styles,t),p(this.element,t),this},htmlGetBBox:function(){var t=this.element;return"text"===t.nodeName&&(t.style.position="absolute"),{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,n=this.element,i=this.translateX||0,r=this.translateY||0,a=this.x||0,o=this.y||0,s=this.textAlign||"left",l={left:0,center:.5,right:1}[s],c=this.shadows,h=this.styles;if(p(n,{marginLeft:i,marginTop:r}),c&&Gt(c,function(t){p(t,{marginLeft:i+1,marginTop:r+1})}),this.inverted&&Gt(n.childNodes,function(e){t.invertChild(e,n)}),"SPAN"===n.tagName){var d,f=this.rotation,g=e(this.textWidth),m=[f,s,n.innerHTML,this.textWidth,this.textAlign].join(",");m!==this.cTT&&(d=t.fontMetrics(n.style.fontSize).b,u(f)&&this.setSpanRotation(f,l,d),c=Bt(this.elemWidth,n.offsetWidth),c>g&&/[ \-]/.test(n.textContent||n.innerText)&&(p(n,{width:g+"px",display:"block",whiteSpace:h&&h.whiteSpace||"normal"}),c=g),this.getSpanCorrection(c,d,l,f,s)),p(n,{left:a+(this.xCorr||0)+"px",top:o+(this.yCorr||0)+"px"}),Mt&&(d=n.offsetHeight),this.cTT=m}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,n){var i={},r=bt?"-ms-transform":Mt?"-webkit-transform":wt?"MozTransform":Tt?"-o-transform":"";i[r]=i.transform="rotate("+t+"deg)",i[r+(wt?"Origin":"-origin")]=i.transformOrigin=100*e+"% "+n+"px",p(this.element,i)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),zt(ce.prototype,{html:function(t,e,n){var i=this.createElement("span"),r=i.element,a=i.renderer;return i.textSetter=function(t){t!==r.innerHTML&&delete this.bBox,r.innerHTML=this.textStr=t,i.htmlUpdateTransform()},i.xSetter=i.ySetter=i.alignSetter=i.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),i[e]=t,i.htmlUpdateTransform()},i.attr({text:t,x:ut(e),y:ut(n)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),r.style.whiteSpace="nowrap",i.css=i.htmlCss,a.isSVG&&(i.add=function(t){var e,n=a.box.parentNode,o=[];if(this.parentGroup=t){if(e=t.div,!e){for(;t;)o.push(t),t=t.parentGroup;Gt(o.reverse(),function(t){var i,r=c(t.element,"class");r&&(r={className:r}),e=t.div=t.div||d(Nt,r,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px"},e||n),i=e.style,zt(t,{translateXSetter:function(e,n){i.left=e+"px",t[n]=e,t.doTransform=!0},translateYSetter:function(e,n){i.top=e+"px",t[n]=e,t.doTransform=!0}}),Wt(t,"visibilitySetter",function(t,e,n,r){t.call(this,e,n,r),i[n]=e})})}}else e=n;return e.appendChild(r),i.added=!0,i.alignOnAdd&&i.htmlUpdateTransform(),i}),i}});var he;kt||$t||(Ut={init:function(t,e){var n=["<",e,' filled="f" stroked="f"'],i=["position: ","absolute",";"],r=e===Nt;("shape"===e||r)&&i.push("left:0;top:0;width:1px;height:1px;"),i.push("visibility: ",r?"hidden":"visible"),n.push(' style="',i.join(""),'"/>'),e&&(n=r||"span"===e||"img"===e?n.join(""):t.prepVML(n),this.element=d(n)),this.renderer=t},add:function(t){var e=this.renderer,n=this.element,i=e.box,i=t?t.element||t:i;return t&&t.inverted&&e.invertChild(n,i),i.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:$.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=gt(t*vt),n=mt(t*vt);p(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-n,", M21=",n,", M22=",e,", sizingMethod='auto expand')"].join(""):Xt})},getSpanCorrection:function(t,e,n,i,r){var a,o=i?gt(i*vt):1,s=i?mt(i*vt):0,l=Bt(this.elemHeight,this.element.offsetHeight);this.xCorr=o<0&&-t,this.yCorr=s<0&&-l,a=o*s<0,this.xCorr+=s*e*(a?1-n:n),this.yCorr-=o*e*(i?a?n:1-n:1),r&&"left"!==r&&(this.xCorr-=t*n*(o<0?-1:1),i&&(this.yCorr-=l*n*(s<0?-1:1)),p(this.element,{textAlign:r}))},pathToVML:function(t){for(var e=t.length,n=[];e--;)a(t[e])?n[e]=ut(10*t[e])-5:"Z"===t[e]?n[e]="x":(n[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(n[e+5]===n[e+7]&&(n[e+7]+=t[e+7]>t[e+5]?1:-1),n[e+6]===n[e+8]&&(n[e+8]+=t[e+8]>t[e+6]?1:-1)));return n.join(" ")||"x"},clip:function(t){var e,n=this;return t?(e=t.members,l(e,n),e.push(n),n.destroyClip=function(){l(e,n)},t=t.getCSS(n)):(n.destroyClip&&n.destroyClip(),t={clip:xt?"inherit":"rect(auto)"}),n.css(t)},css:$.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&w(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),$.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=st.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,n){var i,t=t.split(/[ ,]/);return i=t.length,9!==i&&11!==i||(t[i-4]=t[i-2]=e(t[i-2])-10*n),t.join(" ")},shadow:function(t,n,i){var r,a,o,s,l,u,c,h=[],p=this.element,f=this.renderer,g=p.style,m=p.path;if(m&&"string"!=typeof m.value&&(m="x"),l=m,t){for(u=Bt(t.width,3),c=(t.opacity||.15)/u,r=1;r<=3;r++)s=2*u+1-2*r,i&&(l=this.cutOffPath(m.value,s+.5)),o=['<shape isShadow="true" strokeweight="',s,'" filled="false" path="',l,'" coordsize="10 10" style="',p.style.cssText,'" />'],a=d(f.prepVML(o),null,{left:e(g.left)+Bt(t.offsetX,1),top:e(g.top)+Bt(t.offsetY,1)}),i&&(a.cutOff=s+1),o=['<stroke color="',t.color||"black",'" opacity="',c*r,'"/>'],d(f.prepVML(o),null,null,a),n?n.element.appendChild(a):p.parentNode.insertBefore(a,p),h.push(a);this.shadows=h}return this},updateShadows:Ot,setAttr:function(t,e){xt?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){this.element.className=t},dashstyleSetter:function(t,e,n){(n.getElementsByTagName("stroke")[0]||d(this.renderer.prepVML(["<stroke/>"]),null,null,n))[e]=t||"solid",this[e]=t},dSetter:function(t,e,n){var i=this.shadows,t=t||[];if(this.d=t.join&&t.join(" "),n.path=t=this.pathToVML(t),i)for(n=i.length;n--;)i[n].path=i[n].cutOff?this.cutOffPath(t,i[n].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,n){var i=n.nodeName;"SPAN"===i?n.style.color=t:"IMG"!==i&&(n.filled=t!==Xt,this.setAttr("fillcolor",this.renderer.color(t,n,e,this)))},opacitySetter:Ot,rotationSetter:function(t,e,n){n=n.style,this[e]=n[e]=t,n.left=-ut(mt(t*vt)+1)+"px",n.top=ut(gt(t*vt))+"px"},strokeSetter:function(t,e,n){this.setAttr("strokecolor",this.renderer.color(t,n,e))},"stroke-widthSetter":function(t,e,n){n.stroked=!!t,this[e]=t,a(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,n){"inherit"===t&&(t="visible"),this.shadows&&Gt(this.shadows,function(n){n.style[e]=t}),"DIV"===n.nodeName&&(t="hidden"===t?"-999em":0,xt||(n.style[e]=t?"visible":"hidden"),e="top"),n.style[e]=t},xSetter:function(t,e,n){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):n.style[e]=t},zIndexSetter:function(t,e,n){n.style[e]=t}},at.VMLElement=Ut=f($,Ut),Ut.prototype.ySetter=Ut.prototype.widthSetter=Ut.prototype.heightSetter=Ut.prototype.xSetter,Ut={Element:Ut,isIE8:St.indexOf("MSIE 8.0")>-1,init:function(t,e,n,i){var r;if(this.alignedObjects=[],i=this.createElement(Nt).css(zt(this.getStyle(i),{position:"relative"})),r=i.element,t.appendChild(i.element),this.isVML=!0,this.box=r,this.boxWrapper=i,this.cache={},this.setSize(e,n,!1),!ot.namespaces.hcv){ot.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{ot.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(t){ot.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,n,r){var a=this.createElement(),o=i(t);return zt(a,{members:[],count:0,left:(o?t.x:t)+1,top:(o?t.y:e)+1,width:(o?t.width:n)-1,height:(o?t.height:r)-1,getCSS:function(t){var e=t.element,n=e.nodeName,t=t.inverted,i=this.top-("shape"===n?e.offsetTop:0),r=this.left,e=r+this.width,a=i+this.height,i={clip:"rect("+ut(t?r:i)+"px,"+ut(t?a:e)+"px,"+ut(t?e:a)+"px,"+ut(t?i:r)+"px)"};return!t&&xt&&"DIV"===n&&zt(i,{width:e+"px",height:a+"px"}),i},updateClipping:function(){Gt(a.members,function(t){t.element&&t.css(a.getCSS(t))})}})},color:function(t,e,n,i){var r,a,o,s=this,l=/^rgba/,u=Xt;if(t&&t.linearGradient?o="gradient":t&&t.radialGradient&&(o="pattern"),o){var c,h,p,f,g,m,y,v,S=t.linearGradient||t.radialGradient,T="",t=t.stops,b=[],x=function(){a=['<fill colors="'+b.join(",")+'" opacity="',g,'" o:opacity2="',f,'" type="',o,'" ',T,'focus="100%" method="any" />'],d(s.prepVML(a),null,null,e)};if(p=t[0],v=t[t.length-1],p[0]>0&&t.unshift([0,p[1]]),v[0]<1&&t.push([1,v[1]]),Gt(t,function(t,e){l.test(t[1])?(r=ue(t[1]),c=r.get("rgb"),h=r.get("a")):(c=t[1],h=1),b.push(100*t[0]+"% "+c),e?(g=h,m=c):(f=h,y=c)}),"fill"===n)if("gradient"===o)n=S.x1||S[0]||0,t=S.y1||S[1]||0,p=S.x2||S[2]||0,S=S.y2||S[3]||0,T='angle="'+(90-180*lt.atan((S-t)/(p-n))/yt)+'"',x();else{var M,u=S.r,w=2*u,A=2*u,C=S.cx,k=S.cy,D=e.radialReference,u=function(){D&&(M=i.getBBox(),C+=(D[0]-M.x)/M.width-.5,k+=(D[1]-M.y)/M.height-.5,w*=D[2]/M.width,A*=D[2]/M.height),T='src="'+I.global.VMLRadialGradientURL+'" size="'+w+","+A+'" origin="0.5,0.5" position="'+C+","+k+'" color2="'+y+'" ',x()};i.added?u():i.onAdd=u,u=m}else u=c}else l.test(t)&&"IMG"!==e.tagName?(r=ue(t),a=["<",n,' opacity="',r.get("a"),'"/>'],d(this.prepVML(a),null,null,e),u=r.get("rgb")):(u=e.getElementsByTagName(n),u.length&&(u[0].opacity=1,u[0].type="solid"),u=t);return u},prepVML:function(t){var e=this.isIE8,t=t.join("");return e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=t.indexOf('style="')===-1?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:"),t},text:ce.prototype.html,path:function(t){var e={coordsize:"10 10"};return r(t)?e.d=t:i(t)&&zt(e,t),this.createElement("shape").attr(e)},circle:function(t,e,n){var r=this.symbol("circle");return i(t)&&(n=t.r,e=t.y,t=t.x),r.isCircle=!0,r.r=n,r.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,class:"highcharts-"+t}),this.createElement(Nt).attr(e)},image:function(t,e,n,i,r){var a=this.createElement("img").attr({src:t});return arguments.length>1&&a.attr({x:e,y:n,width:i,height:r}),a},createElement:function(t){return"rect"===t?this.symbol(t):ce.prototype.createElement.call(this,t)},invertChild:function(t,n){var i=this,r=n.style,a="IMG"===t.tagName&&t.style;p(t,{flip:"x",left:e(r.width)-(a?e(a.top):1),top:e(r.height)-(a?e(a.left):1),rotation:-90}),Gt(t.childNodes,function(e){i.invertChild(e,t)})},symbols:{arc:function(t,e,n,i,r){var a=r.start,o=r.end,s=r.r||n||i,n=r.innerR,i=gt(a),l=mt(a),u=gt(o),c=mt(o);return o-a===0?["x"]:(a=["wa",t-s,e-s,t+s,e+s,t+s*i,e+s*l,t+s*u,e+s*c],r.open&&!n&&a.push("e","M",t,e),a.push("at",t-n,e-n,t+n,e+n,t+n*u,e+n*c,t+n*i,e+n*l,"x","e"),a.isArc=!0,a)},circle:function(t,e,n,i,r){return r&&(n=i=2*r.r),r&&r.isCircle&&(t-=n/2,e-=i/2),["wa",t,e,t+n,e+i,t+n,e+i/2,t+n,e+i/2,"e"]},rect:function(t,e,n,i,r){return ce.prototype.symbols[u(r)&&r.r?"callout":"square"].call(0,t,e,n,i,r)}}},at.VMLRenderer=he=function(){this.init.apply(this,arguments)},he.prototype=t(ce.prototype,Ut),N=he),ce.prototype.measureSpanWidth=function(t,e){var n,i=ot.createElement("span");return n=ot.createTextNode(t),i.appendChild(n),p(i,e),this.box.appendChild(i),n=i.offsetWidth,w(i),n};var pe;$t&&(at.CanVGRenderer=Ut=function(){Ct="http://www.w3.org/1999/xhtml"},Ut.prototype.symbols={},pe=function(){function t(){var t,n=e.length;for(t=0;t<n;t++)e[t]();e=[]}var e=[];return{push:function(n,i){0===e.length&&jt(i,t),e.push(n)}}}(),N=Ut),P.prototype={addLabel:function(){var e,n=this.axis,i=n.options,r=n.chart,a=n.categories,o=n.names,l=this.pos,c=i.labels,h=n.tickPositions,p=l===h[0],d=l===h[h.length-1],o=a?Bt(a[l],o[l],l):l,a=this.label,h=h.info;n.isDatetimeAxis&&h&&(e=i.dateTimeLabelFormats[h.higherRanks[l]||h.unitName]),this.isFirst=p,this.isLast=d,i=n.labelFormatter.call({axis:n,chart:r,isFirst:p,isLast:d,dateTimeLabelFormat:e,value:n.isLog?C(s(o)):o}),u(a)?a&&a.attr({text:i}):(this.labelLength=(this.label=a=u(i)&&c.enabled?r.renderer.text(i,0,0,c.useHTML).css(t(c.style)).add(n.labelGroup):null)&&a.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,n=this.axis,i=t.x,r=n.chart.chartWidth,a=n.chart.spacing,o=Bt(n.labelLeft,dt(n.pos,a[3])),a=Bt(n.labelRight,pt(n.pos+n.len,r-a[1])),s=this.label,l=this.rotation,u={left:0,center:.5,right:1}[n.labelAlign],c=s.getBBox().width,h=n.slotWidth,p=1,d={};l?l<0&&i-u*c<o?e=ut(i/gt(l*vt)-o):l>0&&i+u*c>a&&(e=ut((r-i)/gt(l*vt))):(r=i+(1-u)*c,i-u*c<o?h=t.x+h*(1-u)-o:r>a&&(h=a-t.x+h*u,p=-1),h=dt(n.slotWidth,h),h<n.slotWidth&&"center"===n.labelAlign&&(t.x+=p*(n.slotWidth-h-u*(n.slotWidth-dt(c,h)))),(c>h||n.autoRotation&&s.styles.width)&&(e=h)),e&&(d.width=e,n.options.labels.style.textOverflow||(d.textOverflow="ellipsis"),s.css(d))},getPosition:function(t,e,n,i){var r=this.axis,a=r.chart,o=i&&a.oldChartHeight||a.chartHeight;return{x:t?r.translate(e+n,null,null,i)+r.transB:r.left+r.offset+(r.opposite?(i&&a.oldChartWidth||a.chartWidth)-r.right-r.left:0),y:t?o-r.bottom+r.offset-(r.opposite?r.height:0):o-r.translate(e+n,null,null,i)-r.transB}},getLabelPosition:function(t,e,n,i,r,a,o,s){var l=this.axis,u=l.transA,c=l.reversed,h=l.staggerLines,p=l.tickRotCorr||{x:0,y:0},n=Bt(r.y,p.y+(2===l.side?8:-(n.getBBox().height/2))),t=t+r.x+p.x-(a&&i?a*u*(c?-1:1):0),e=e+n-(a&&!i?a*u*(c?1:-1):0);return h&&(e+=o/(s||1)%h*(l.labelOffset/h)),{x:t,y:ut(e)}},getMarkPath:function(t,e,n,i,r,a){return a.crispLine(["M",t,e,"L",t+(r?0:-n),e+(r?n:0)],i)},render:function(t,e,n){var i=this.axis,r=i.options,a=i.chart.renderer,o=i.horiz,s=this.type,l=this.label,u=this.pos,c=r.labels,h=this.gridLine,p=s?s+"Grid":"grid",d=s?s+"Tick":"tick",f=r[p+"LineWidth"],g=r[p+"LineColor"],m=r[p+"LineDashStyle"],y=r[d+"Length"],p=Bt(r[d+"Width"],!s&&i.isXAxis?1:0),v=r[d+"Color"],S=r[d+"Position"],d=this.mark,T=c.step,b=!0,x=i.tickmarkOffset,M=this.getPosition(o,u,x,e),w=M.x,M=M.y,A=o&&w===i.pos+i.len||!o&&M===i.pos?-1:1,n=Bt(n,1);this.isActive=!0,f&&(u=i.getPlotLinePath(u+x,f*A,e,!0),h===L&&(h={stroke:g,"stroke-width":f},m&&(h.dashstyle=m),s||(h.zIndex=1),e&&(h.opacity=0),this.gridLine=h=f?a.path(u).attr(h).add(i.gridGroup):null),!e&&h&&u&&h[this.isNew?"attr":"animate"]({d:u,opacity:n})),p&&y&&("inside"===S&&(y=-y),i.opposite&&(y=-y),s=this.getMarkPath(w,M,y,p*A,o,a),d?d.animate({d:s,opacity:n}):this.mark=a.path(s).attr({stroke:v,"stroke-width":p,opacity:n}).add(i.axisGroup)),l&&!isNaN(w)&&(l.xy=M=this.getLabelPosition(w,M,l,o,c,x,t,T),this.isFirst&&!this.isLast&&!Bt(r.showFirstLabel,1)||this.isLast&&!this.isFirst&&!Bt(r.showLastLabel,1)?b=!1:o&&!i.isRadial&&!c.step&&!c.rotation&&!e&&0!==n&&this.handleOverflow(M),T&&t%T&&(b=!1),b&&!isNaN(M.y)?(M.opacity=n,l[this.isNew?"attr":"animate"](M),this.isNew=!1):l.attr("y",-9999))},destroy:function(){M(this,this.axis)}},at.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},at.PlotLineOrBand.prototype={render:function(){var e,n=this,i=n.axis,r=i.horiz,a=n.options,s=a.label,l=n.label,c=a.width,h=a.to,p=a.from,d=u(p)&&u(h),f=a.value,g=a.dashStyle,m=n.svgElem,y=[],v=a.color,S=a.zIndex,T=a.events,M={},w=i.chart.renderer;if(i.isLog&&(p=o(p),h=o(h),f=o(f)),c)y=i.getPlotLinePath(f,c),M={stroke:v,"stroke-width":c},g&&(M.dashstyle=g);else{if(!d)return;y=i.getPlotBandPath(p,h,a),v&&(M.fill=v),a.borderWidth&&(M.stroke=a.borderColor,M["stroke-width"]=a.borderWidth)}if(u(S)&&(M.zIndex=S),m)y?m.animate({d:y},null,m.onGetPath):(m.hide(),m.onGetPath=function(){m.show()},l&&(n.label=l=l.destroy()));else if(y&&y.length&&(n.svgElem=m=w.path(y).attr(M).add(),T))for(e in a=function(t){m.on(t,function(e){T[t].apply(n,[e])})},T)a(e);return s&&u(s.text)&&y&&y.length&&i.width>0&&i.height>0?(s=t({align:r&&d&&"center",x:r?!d&&4:10,verticalAlign:!r&&d&&"middle",y:r?d?16:10:d?6:-4,rotation:r&&!d&&90},s),l||(M={align:s.textAlign||s.align,rotation:s.rotation},u(S)&&(M.zIndex=S),n.label=l=w.text(s.text,0,0,s.useHTML).attr(M).css(s.style).add()),i=[y[1],y[4],d?y[6]:y[1]],d=[y[2],y[5],d?y[7]:y[2]],y=b(i),r=b(d),l.align(s,!1,{x:y,y:r,width:x(i)-y,height:x(d)-r}),l.show()):l&&l.hide(),n},destroy:function(){l(this.axis.plotLinesAndBands,this),delete this.axis,M(this)}};var de=at.Axis=function(){this.init.apply(this,arguments)};de.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return at.numberFormat(this.total,-1)},style:t(ae.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(t,e){var n=e.isX;this.chart=t,this.horiz=t.inverted?!n:n,this.coll=(this.isXAxis=n)?"xAxis":"yAxis",this.opposite=e.opposite,this.side=e.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);var i=this.options,r=i.type;this.labelFormatter=i.labels.formatter||this.defaultLabelFormatter,this.userOptions=e,this.minPixelPadding=0,this.reversed=i.reversed,this.zoomEnabled=i.zoomEnabled!==!1,this.categories=i.categories||"category"===r,this.names=this.names||[],this.isLog="logarithmic"===r,this.isDatetimeAxis="datetime"===r,this.isLinked=u(i.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=i.minRange||i.maxZoom,this.range=i.range,this.offset=i.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=Bt(i.crosshair,h(t.options.tooltip.crosshairs)[n?0:1],!1);var a,i=this.options.events;qt(this,t.axes)===-1&&(n&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&n&&this.reversed===L&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(a in i)Qt(this,a,i[a]);this.isLog&&(this.val2lin=o,this.lin2val=s)},setOptions:function(e){this.options=t(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],t(I[this.coll],e))},defaultLabelFormatter:function(){var t,e=this.axis,n=this.value,i=e.categories,r=this.dateTimeLabelFormat,a=I.lang.numericSymbols,o=a&&a.length,s=e.options.labels.format,e=e.isLog?n:e.tickInterval;if(s)t=y(s,this);else if(i)t=n;else if(r)t=R(r,n);else if(o&&e>=1e3)for(;o--&&t===L;)i=Math.pow(1e3,o+1),e>=i&&10*n%i===0&&null!==a[o]&&(t=at.numberFormat(n/i,-1)+a[o]);return t===L&&(t=ft(n)>=1e4?at.numberFormat(n,-1):at.numberFormat(n,-1,L,"")),
t},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.ignoreMinPadding=t.ignoreMaxPadding=null,t.buildStacks&&t.buildStacks(),Gt(t.series,function(n){if(n.visible||!e.options.chart.ignoreHiddenSeries){var i;i=n.options.threshold;var r;t.hasVisibleSeries=!0,t.isLog&&i<=0&&(i=null),t.isXAxis?(i=n.xData,i.length&&(t.dataMin=dt(Bt(t.dataMin,i[0]),b(i)),t.dataMax=pt(Bt(t.dataMax,i[0]),x(i)))):(n.getExtremes(),r=n.dataMax,n=n.dataMin,u(n)&&u(r)&&(t.dataMin=dt(Bt(t.dataMin,n),n),t.dataMax=pt(Bt(t.dataMax,r),r)),u(i)&&(t.dataMin>=i?(t.dataMin=i,t.ignoreMinPadding=!0):t.dataMax<i&&(t.dataMax=i,t.ignoreMaxPadding=!0)))}})},translate:function(t,e,n,i,r,o){var s=this.linkedParent||this,l=1,u=0,c=i?s.oldTransA:s.transA,i=i?s.oldMin:s.min,h=s.minPixelPadding,r=(s.doPostTranslate||s.isLog&&r)&&s.lin2val;return c||(c=s.transA),n&&(l*=-1,u=s.len),s.reversed&&(l*=-1,u-=l*(s.sector||s.len)),e?(t=t*l+u,t-=h,t=t/c+i,r&&(t=s.lin2val(t))):(r&&(t=s.val2lin(t)),"between"===o&&(o=.5),t=l*(t-i)*c+u+l*h+(a(o)?c*o*s.pointRange:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,n,i,r){var a,o,s,l=this.chart,u=this.left,c=this.top,h=n&&l.oldChartHeight||l.chartHeight,p=n&&l.oldChartWidth||l.chartWidth;a=this.transB;var d=function(t,e,n){return(t<e||t>n)&&(i?t=dt(pt(e,t),n):s=!0),t},r=Bt(r,this.translate(t,null,null,n)),t=n=ut(r+a);return a=o=ut(h-r-a),isNaN(r)?s=!0:this.horiz?(a=c,o=h-this.bottom,t=n=d(t,u,u+this.width)):(t=u,n=p-this.right,a=o=d(a,c,c+this.height)),s&&!i?null:l.renderer.crispLine(["M",t,a,"L",n,o],e||1)},getLinearTickPositions:function(t,e,n){var i,r=C(ct(e/t)*t),o=C(ht(n/t)*t),s=[];if(e===n&&a(e))return[e];for(e=r;e<=o&&(s.push(e),e=C(e+t),e!==i);)i=e;return s},getMinorTickPositions:function(){var t,e=this.options,n=this.tickPositions,i=this.minorTickInterval,r=[],a=this.pointRangePadding||0;t=this.min-a;var a=this.max+a,o=a-t;if(o&&o/i<this.len/3)if(this.isLog)for(a=n.length,t=1;t<a;t++)r=r.concat(this.getLogTickPositions(i,n[t-1],n[t],!0));else if(this.isDatetimeAxis&&"auto"===e.minorTickInterval)r=r.concat(this.getTimeTicks(this.normalizeTimeTickInterval(i),t,a,e.startOfWeek));else for(n=t+(n[0]-t)%i;n<=a;n+=i)r.push(n);return 0!==r.length&&this.trimTicks(r,e.startOnTick,e.endOnTick),r},adjustForMinRange:function(){var t,e,n,i,r,a,o=this.options,s=this.min,l=this.max,c=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===L&&!this.isLog&&(u(o.min)||u(o.max)?this.minRange=null:(Gt(this.series,function(t){for(r=t.xData,n=a=t.xIncrement?1:r.length-1;n>0;n--)i=r[n]-r[n-1],(e===L||i<e)&&(e=i)}),this.minRange=dt(5*e,this.dataMax-this.dataMin))),l-s<this.minRange){var h=this.minRange;t=(h-l+s)/2,t=[s-t,Bt(o.min,s-t)],c&&(t[2]=this.dataMin),s=x(t),l=[s+h,Bt(o.max,s+h)],c&&(l[2]=this.dataMax),l=b(l),l-s<h&&(t[0]=l-h,t[1]=Bt(o.min,l-h),s=x(t))}this.min=s,this.max=l},setAxisTranslation:function(t){var e,i=this,r=i.max-i.min,a=i.axisPointRange||0,o=0,s=0,l=i.linkedParent,c=!!i.categories,h=i.transA,p=i.isXAxis;(p||c||a)&&(l?(o=l.minPointOffset,s=l.pointRangePadding):Gt(i.series,function(t){var l=c?1:p?t.pointRange:i.axisPointRange||0,h=t.options.pointPlacement,d=t.closestPointRange;l>r&&(l=0),a=pt(a,l),i.single||(o=pt(o,n(h)?0:l/2),s=pt(s,"on"===h?0:l)),!t.noSharedTooltip&&u(d)&&(e=u(e)?dt(e,d):d)}),l=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=o*=l,i.pointRangePadding=s*=l,i.pointRange=dt(a,r),p&&(i.closestPointRange=e)),t&&(i.oldTransA=h),i.translationSlope=i.transA=h=i.len/(r+s||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=h*o},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var e=this,n=e.chart,i=e.options,r=e.isLog,s=e.isDatetimeAxis,l=e.isXAxis,c=e.isLinked,h=i.maxPadding,p=i.minPadding,d=i.tickInterval,f=i.tickPixelInterval,g=e.categories;!s&&!g&&!c&&this.getTickAmount(),c?(e.linkedParent=n[e.coll][i.linkedTo],n=e.linkedParent.getExtremes(),e.min=Bt(n.min,n.dataMin),e.max=Bt(n.max,n.dataMax),i.type!==e.linkedParent.options.type&&A(11,1)):(e.min=Bt(e.userMin,i.min,e.dataMin),e.max=Bt(e.userMax,i.max,e.dataMax)),r&&(!t&&dt(e.min,Bt(e.dataMin,e.min))<=0&&A(10,1),e.min=C(o(e.min),15),e.max=C(o(e.max),15)),e.range&&u(e.max)&&(e.userMin=e.min=pt(e.min,e.minFromRange()),e.userMax=e.max,e.range=null),e.beforePadding&&e.beforePadding(),e.adjustForMinRange(),g||e.axisPointRange||e.usePercentage||c||!u(e.min)||!u(e.max)||!(n=e.max-e.min)||(u(i.min)||u(e.userMin)||!p||!(e.dataMin<0)&&e.ignoreMinPadding||(e.min-=n*p),u(i.max)||u(e.userMax)||!h||!(e.dataMax>0)&&e.ignoreMaxPadding||(e.max+=n*h)),a(i.floor)&&(e.min=pt(e.min,i.floor)),a(i.ceiling)&&(e.max=dt(e.max,i.ceiling)),e.tickInterval=e.min===e.max||void 0===e.min||void 0===e.max?1:c&&!d&&f===e.linkedParent.options.tickPixelInterval?d=e.linkedParent.tickInterval:Bt(d,this.tickAmount?(e.max-e.min)/pt(this.tickAmount-1,1):void 0,g?1:(e.max-e.min)*f/pt(e.len,f)),l&&!t&&Gt(e.series,function(t){t.processData(e.min!==e.oldMin||e.max!==e.oldMax)}),e.setAxisTranslation(!0),e.beforeSetTickPositions&&e.beforeSetTickPositions(),e.postProcessTickInterval&&(e.tickInterval=e.postProcessTickInterval(e.tickInterval)),e.pointRange&&(e.tickInterval=pt(e.pointRange,e.tickInterval)),t=Bt(i.minTickInterval,e.isDatetimeAxis&&e.closestPointRange),!d&&e.tickInterval<t&&(e.tickInterval=t),s||r||d||(e.tickInterval=S(e.tickInterval,null,v(e.tickInterval),Bt(i.allowDecimals,!(e.tickInterval>.5&&e.tickInterval<5&&e.max>1e3&&e.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(e.tickInterval=e.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e,n=this.options,i=n.tickPositions,r=n.tickPositioner,a=n.startOnTick,o=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===n.minorTickInterval&&this.tickInterval?this.tickInterval/5:n.minorTickInterval,this.tickPositions=t=i&&i.slice(),!t&&(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=t=r),this.isLinked||(this.trimTicks(t,a,o),this.min===this.max&&u(this.min)&&!this.tickAmount&&(e=!0,this.min-=.5,this.max+=.5),this.single=e,!i&&!r&&this.adjustTickAmount())},trimTicks:function(t,e,n){var i=t[0],r=t[t.length-1],a=this.minPointOffset||0;e?this.min=i:this.min-a>i&&t.shift(),n?this.max=r:this.max+a<r&&t.pop(),0===t.length&&u(i)&&t.push((r+i)/2)},getTickAmount:function(){var t,e={},n=this.options,i=n.tickAmount,r=n.tickPixelInterval;!u(n.tickInterval)&&this.len<r&&!this.isRadial&&!this.isLog&&n.startOnTick&&n.endOnTick&&(i=2),!i&&this.chart.options.chart.alignTicks!==!1&&n.alignTicks!==!1&&(Gt(this.chart[this.coll],function(n){var i=n.options,r=n.horiz,i=[r?i.left:i.top,r?i.width:i.height,i.pane].join(",");e[i]?n.series.length&&(t=!0):e[i]=1}),t&&(i=ht(this.len/r)+1)),i<4&&(this.finalTickAmt=i,i=5),this.tickAmount=i},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,n=this.tickAmount,i=this.finalTickAmt,r=e&&e.length;if(r<n){for(;e.length<n;)e.push(C(e[e.length-1]+t));this.transA*=(r-1)/(n-1),this.max=e[e.length-1]}else r>n&&(this.tickInterval*=2,this.setTickPositions());if(u(i)){for(t=n=e.length;t--;)(3===i&&t%2===1||i<=2&&t>0&&t<n-1)&&e.splice(t,1);this.finalTickAmt=L}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,Gt(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(t,e,n,i,r){var a=this,o=a.chart,n=Bt(n,!0);Gt(a.series,function(t){delete t.kdTree}),r=zt(r,{min:t,max:e}),ee(a,"setExtremes",r,function(){a.userMin=t,a.userMax=e,a.eventArgs=r,n&&o.redraw(i)})},zoom:function(t,e){var n=this.dataMin,i=this.dataMax,r=this.options,a=dt(n,Bt(r.min,n)),r=pt(i,Bt(r.max,i));return this.allowZoomOutside||(u(n)&&t<=a&&(t=a),u(i)&&e>=r&&(e=r)),this.displayBtn=t!==L||e!==L,this.setExtremes(t,e,!1,L,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this.chart,e=this.options,n=e.offsetLeft||0,i=this.horiz,r=Bt(e.width,t.plotWidth-n+(e.offsetRight||0)),a=Bt(e.height,t.plotHeight),o=Bt(e.top,t.plotTop),e=Bt(e.left,t.plotLeft+n),n=/%$/;n.test(a)&&(a=parseFloat(a)/100*t.plotHeight),n.test(o)&&(o=parseFloat(o)/100*t.plotHeight+t.plotTop),this.left=e,this.top=o,this.width=r,this.height=a,this.bottom=t.chartHeight-a-o,this.right=t.chartWidth-r-e,this.len=pt(i?r:a,0),this.pos=i?e:o},getExtremes:function(){var t=this.isLog;return{min:t?C(s(this.min)):this.min,max:t?C(s(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,n=e?s(this.min):this.min,e=e?s(this.max):this.max;return null===t?t=e<0?e:n:n>t?t=n:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return t=(Bt(t,0)-90*this.side+720)%360,t>15&&t<165?"right":t>195&&t<345?"left":"center"},unsquish:function(){var t,e,n,i=this.ticks,r=this.options.labels,a=this.horiz,o=this.tickInterval,s=o,l=this.len/(((this.categories?1:0)+this.max-this.min)/o),c=r.rotation,h=this.chart.renderer.fontMetrics(r.style.fontSize,i[0]&&i[0].label),p=Number.MAX_VALUE,d=function(t){return t/=l||1,t=t>1?ht(t):1,t*o};return a?(n=u(c)?[c]:l<Bt(r.autoRotationLimit,80)&&!r.staggerLines&&!r.step&&r.autoRotation)&&Gt(n,function(n){var i;(n===c||n&&n>=-90&&n<=90)&&(e=d(ft(h.h/mt(vt*n))),i=e+ft(n/360),i<p&&(p=i,t=n,s=e))}):r.step||(s=d(h.h)),this.autoRotation=n,this.labelRotation=t,s},renderUnsquish:function(){var e,i=this.chart,r=i.renderer,a=this.tickPositions,o=this.ticks,s=this.options.labels,l=this.horiz,u=i.margin,c=this.categories?a.length:a.length-1,h=this.slotWidth=l&&!s.step&&!s.rotation&&(this.staggerLines||1)*i.plotWidth/c||!l&&(u[3]&&u[3]-i.spacing[3]||.33*i.chartWidth),p=pt(1,ut(h-2*(s.padding||5))),d={},u=r.fontMetrics(s.style.fontSize,o[0]&&o[0].label),c=s.style.textOverflow,f=0;if(n(s.rotation)||(d.rotation=s.rotation||0),this.autoRotation)Gt(a,function(t){(t=o[t])&&t.labelLength>f&&(f=t.labelLength)}),f>p&&f>u.h?d.rotation=this.labelRotation:this.labelRotation=0;else if(h&&(e={width:p+"px"},!c))for(e.textOverflow="clip",h=a.length;!l&&h--;)p=a[h],(p=o[p].label)&&("ellipsis"===p.styles.textOverflow&&p.css({textOverflow:"clip"}),p.getBBox().height>this.len/a.length-(u.h-u.f)&&(p.specCss={textOverflow:"ellipsis"}));d.rotation&&(e={width:(f>.5*i.chartHeight?.33*i.chartHeight:i.chartHeight)+"px"},!c)&&(e.textOverflow="ellipsis"),this.labelAlign=d.align=s.align||this.autoLabelAlign(this.labelRotation),Gt(a,function(n){var i=(n=o[n])&&n.label;i&&(e&&i.css(t(e,i.specCss)),delete i.specCss,i.attr(d),n.rotation=d.rotation)}),this.tickRotCorr=r.rotCorr(u.b,this.labelRotation||0,2===this.side)},hasData:function(){return this.hasVisibleSeries||u(this.min)&&u(this.max)&&!!this.tickPositions},getOffset:function(){var t,e,n,i,r=this,a=r.chart,o=a.renderer,s=r.options,l=r.tickPositions,c=r.ticks,h=r.horiz,p=r.side,d=a.inverted?[1,0,3,2][p]:p,f=0,g=0,m=s.title,y=s.labels,v=0,S=a.axisOffset,a=a.clipOffset,T=[-1,1,1,-1][p];if(t=r.hasData(),r.showAxis=e=t||Bt(s.showEmpty,!0),r.staggerLines=r.horiz&&y.staggerLines,r.axisGroup||(r.gridGroup=o.g("grid").attr({zIndex:s.gridZIndex||1}).add(),r.axisGroup=o.g("axis").attr({zIndex:s.zIndex||2}).add(),r.labelGroup=o.g("axis-labels").attr({zIndex:y.zIndex||7}).addClass("highcharts-"+r.coll.toLowerCase()+"-labels").add()),t||r.isLinked)Gt(l,function(t){c[t]?c[t].addLabel():c[t]=new P(r,t)}),r.renderUnsquish(),Gt(l,function(t){0!==p&&2!==p&&{1:"left",3:"right"}[p]!==r.labelAlign||(v=pt(c[t].getLabelSize(),v))}),r.staggerLines&&(v*=r.staggerLines,r.labelOffset=v);else for(i in c)c[i].destroy(),delete c[i];m&&m.text&&m.enabled!==!1&&(r.axisTitle||(r.axisTitle=o.text(m.text,0,0,m.useHTML).attr({zIndex:7,rotation:m.rotation||0,align:m.textAlign||{low:"left",middle:"center",high:"right"}[m.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(m.style).add(r.axisGroup),r.axisTitle.isNew=!0),e&&(f=r.axisTitle.getBBox()[h?"height":"width"],n=m.offset,g=u(n)?0:Bt(m.margin,h?5:10)),r.axisTitle[e?"show":"hide"]()),r.offset=T*Bt(s.offset,S[p]),r.tickRotCorr=r.tickRotCorr||{x:0,y:0},o=2===p?r.tickRotCorr.y:0,h=v+g+(v&&T*(h?Bt(y.y,r.tickRotCorr.y+8):y.x)-o),r.axisTitleMargin=Bt(n,h),S[p]=pt(S[p],r.axisTitleMargin+f+T*r.offset,h),s=s.offset?0:2*ct(s.lineWidth/2),a[d]=pt(a[d],s)},getLinePath:function(t){var e=this.chart,n=this.opposite,i=this.offset,r=this.horiz,a=this.left+(n?this.width:0)+i,i=e.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(t*=-1),e.renderer.crispLine(["M",r?this.left:a,r?i:this.top,"L",r?e.chartWidth-this.right:a,r?i:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,n=this.left,i=this.top,r=this.len,a=this.options.title,o=t?n:i,s=this.opposite,l=this.offset,u=a.x||0,c=a.y||0,h=e(a.style.fontSize||12),r={low:o+(t?0:r),middle:o+r/2,high:o+(t?r:0)}[a.align],n=(t?i+this.height:n)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+(2===this.side?h:0);return{x:t?r+u:n+(s?this.width:0)+l+u,y:t?n+c-(s?this.height:0)+l:r+c}},render:function(){var t,e,n,i=this,r=i.chart,a=r.renderer,o=i.options,l=i.isLog,c=i.isLinked,h=i.tickPositions,p=i.axisTitle,d=i.ticks,f=i.minorTicks,g=i.alternateBands,m=o.stackLabels,y=o.alternateGridColor,v=i.tickmarkOffset,S=o.lineWidth,T=r.hasRendered&&u(i.oldMin)&&!isNaN(i.oldMin),b=i.showAxis,x=a.globalAnimation;i.labelEdge.length=0,i.overlap=!1,Gt([d,f,g],function(t){for(var e in t)t[e].isActive=!1}),(i.hasData()||c)&&(i.minorTickInterval&&!i.categories&&Gt(i.getMinorTickPositions(),function(t){f[t]||(f[t]=new P(i,t,"minor")),T&&f[t].isNew&&f[t].render(null,!0),f[t].render(null,!1,1)}),h.length&&(Gt(h,function(t,e){(!c||t>=i.min&&t<=i.max)&&(d[t]||(d[t]=new P(i,t)),T&&d[t].isNew&&d[t].render(e,!0,.1),d[t].render(e))}),v&&(0===i.min||i.single))&&(d[-1]||(d[-1]=new P(i,(-1),null,(!0))),d[-1].render(-1)),y&&Gt(h,function(t,r){r%2===0&&t<i.max&&(g[t]||(g[t]=new at.PlotLineOrBand(i)),e=t+v,n=h[r+1]!==L?h[r+1]+v:i.max,g[t].options={from:l?s(e):e,to:l?s(n):n,color:y},g[t].render(),g[t].isActive=!0)}),i._addedPlotLB||(Gt((o.plotLines||[]).concat(o.plotBands||[]),function(t){i.addPlotBandOrLine(t)}),i._addedPlotLB=!0)),Gt([d,f,g],function(t){var e,n,i=[],a=x?x.duration||500:0,o=function(){for(n=i.length;n--;)t[i[n]]&&!t[i[n]].isActive&&(t[i[n]].destroy(),delete t[i[n]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,i.push(e));t!==g&&r.hasRendered&&a?a&&setTimeout(o,a):o()}),S&&(t=i.getLinePath(S),i.axisLine?i.axisLine.animate({d:t}):i.axisLine=a.path(t).attr({stroke:o.lineColor,"stroke-width":S,zIndex:7}).add(i.axisGroup),i.axisLine[b?"show":"hide"]()),p&&b&&(p[p.isNew?"attr":"animate"](i.getTitlePosition()),p.isNew=!1),m&&m.enabled&&i.renderStackTotals(),i.isDirty=!1},redraw:function(){this.render(),Gt(this.plotLinesAndBands,function(t){t.render()}),Gt(this.series,function(t){t.isDirty=!0})},destroy:function(t){var e,n=this,i=n.stacks,r=n.plotLinesAndBands;t||te(n);for(e in i)M(i[e]),i[e]=null;for(Gt([n.ticks,n.minorTicks,n.alternateBands],function(t){M(t)}),t=r.length;t--;)r[t].destroy();Gt("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(t){n[t]&&(n[t]=n[t].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){var n,i=this.crosshair,r=i.animation;!this.crosshair||(u(e)||!Bt(this.crosshair.snap,!0))===!1||e&&e.series&&e.series[this.coll]!==this?this.hideCrosshair():(Bt(i.snap,!0)?u(e)&&(n=this.isXAxis?e.plotX:this.len-e.plotY):n=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,n=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:Bt(e.stackY,e.y))||null:this.getPlotLinePath(null,null,null,null,n)||null,null===n?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[r?"animate":"attr"]({d:n},r):(r=this.categories&&!this.isRadial,r={"stroke-width":i.width||(r?this.transA:1),stroke:i.color||(r?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:i.zIndex||2},i.dashStyle&&(r.dashstyle=i.dashStyle),this.cross=this.chart.renderer.path(n).attr(r).add()))},hideCrosshair:function(){this.cross&&this.cross.hide()}},zt(de.prototype,{getPlotBandPath:function(t,e){var n=this.getPlotLinePath(e,null,null,!0),i=this.getPlotLinePath(t,null,null,!0);return i&&n&&i.toString()!==n.toString()?i.push(n[4],n[5],n[1],n[2]):i=null,i},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var n=new at.PlotLineOrBand(this,t).render(),i=this.userOptions;return n&&(e&&(i[e]=i[e]||[],i[e].push(t)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();Gt([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&l(e,e[r])})}}),de.prototype.getTimeTicks=function(t,e,n,i){var r,a=[],o={},s=I.global.useUTC,l=new B(e-m(e)),c=t.unitRange,h=t.count;if(u(e)){l[Z](c>=z.second?0:h*ct(l.getMilliseconds()/h)),c>=z.second&&l[Q](c>=z.minute?0:h*ct(l.getSeconds()/h)),c>=z.minute&&l[tt](c>=z.hour?0:h*ct(l[V]()/h)),c>=z.hour&&l[et](c>=z.day?0:h*ct(l[j]()/h)),c>=z.day&&l[nt](c>=z.month?1:h*ct(l[G]()/h)),c>=z.month&&(l[it](c>=z.year?0:h*ct(l[J]()/h)),r=l[K]()),c>=z.year&&(r-=r%h,l[rt](r)),c===z.week&&l[nt](l[G]()-l[q]()+Bt(i,1)),e=1,(Y||U)&&(l=l.getTime(),l=new B(l+m(l))),r=l[K]();for(var i=l.getTime(),p=l[J](),d=l[G](),f=(z.day+(s?m(l):6e4*l.getTimezoneOffset()))%z.day;i<n;)a.push(i),c===z.year?i=W(r+e*h,0):c===z.month?i=W(r,p+e*h):s||c!==z.day&&c!==z.week?i+=c*h:i=W(r,p,d+e*h*(c===z.day?1:7)),e++;a.push(i),Gt(Jt(a,function(t){return c<=z.hour&&t%z.day===f}),function(t){o[t]="day"})}return a.info=zt(t,{higherRanks:o,totalRange:c*h}),a},de.prototype.normalizeTimeTickInterval=function(t,e){var n,i=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=i[i.length-1],a=z[r[0]],o=r[1];for(n=0;n<i.length&&(r=i[n],a=z[r[0]],o=r[1],!(i[n+1]&&t<=(a*o[o.length-1]+z[i[n+1][0]])/2));n++);return a===z.year&&t<5*a&&(o=[1,2,5]),i=S(t/a,o,"year"===r[0]?pt(v(t/a),1):1),{unitRange:a,count:i,unitName:r[0]}},de.prototype.getLogTickPositions=function(t,e,n,i){var r=this.options,a=this.len,l=[];if(i||(this._minorAutoInterval=null),t>=.5)t=ut(t),l=this.getLinearTickPositions(t,e,n);else if(t>=.08)for(var u,c,h,p,d,a=ct(e),r=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];a<n+1&&!d;a++)for(c=r.length,u=0;u<c&&!d;u++)h=o(s(a)*r[u]),h>e&&(!i||p<=n)&&p!==L&&l.push(p),p>n&&(d=!0),p=h;else e=s(e),n=s(n),t=r[i?"minorTickInterval":"tickInterval"],t=Bt("auto"===t?null:t,this._minorAutoInterval,(n-e)*(r.tickPixelInterval/(i?5:1))/((i?a/this.tickPositions.length:a)||1)),t=S(t,null,v(t)),l=Zt(this.getLinearTickPositions(t,e,n),o),i||(this._minorAutoInterval=t/5);return i||(this.tickInterval=t),l};var fe=at.Tooltip=function(){this.init.apply(this,arguments)};fe.prototype={init:function(t,n){var i=n.borderWidth,r=n.style,a=e(r.padding);this.chart=t,this.options=n,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,n.shape||"callout",null,null,n.useHTML,null,"tooltip").attr({padding:a,fill:n.backgroundColor,"stroke-width":i,r:n.borderRadius,zIndex:8}).css(r).css({padding:0}).add().attr({y:-9999}),$t||this.label.shadow(n.shadow),this.shared=n.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,n,i){var r=this,a=r.now,o=r.options.animation!==!1&&!r.isHidden&&(ft(t-a.x)>1||ft(e-a.y)>1),s=r.followPointer||r.len>1;zt(a,{x:o?(2*a.x+t)/3:t,y:o?(a.y+e)/2:e,anchorX:s?L:o?(2*a.anchorX+n)/3:n,anchorY:s?L:o?(a.anchorY+i)/2:i}),r.label.attr(a),o&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){r&&r.move(t,e,n,i)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),this.isHidden||(this.hideTimer=setTimeout(function(){e.label.fadeOut(),e.isHidden=!0},Bt(t,this.options.hideDelay,500)))},getAnchor:function(t,e){var n,i,r,a=this.chart,o=a.inverted,s=a.plotTop,l=a.plotLeft,u=0,c=0,t=h(t);return n=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===L&&(e=a.pointer.normalize(e)),n=[e.chartX-a.plotLeft,e.chartY-s]),n||(Gt(t,function(t){i=t.series.yAxis,r=t.series.xAxis,u+=t.plotX+(!o&&r?r.left-l:0),c+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!o&&i?i.top-s:0)}),u/=t.length,c/=t.length,n=[o?a.plotWidth-c:u,this.shared&&!o&&t.length>1&&e?e.chartY-s:o?a.plotHeight-u:c]),Zt(n,ut)},getPosition:function(t,e,n){var i,r=this.chart,a=this.distance,o={},s=n.h||0,l=["y",r.chartHeight,e,n.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],u=["x",r.chartWidth,t,n.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],c=Bt(n.ttBelow,r.inverted&&!n.negative||!r.inverted&&n.negative),h=function(t,e,n,i,r,l){var u=n<i-a,h=i+a+n<e,p=i-a-n;if(i+=a,c&&h)o[t]=i;else if(!c&&u)o[t]=p;else if(u)o[t]=dt(l-n,p-s<0?p:p-s);else{if(!h)return!1;o[t]=pt(r,i+s+n>e?i:i+s)}},p=function(t,e,n,i){return!(i<a||i>e-a)&&void(o[t]=i<n/2?1:i>e-n/2?e-n-2:i-n/2)},d=function(t){var e=l;l=u,u=e,i=t},f=function(){h.apply(0,l)!==!1?p.apply(0,u)===!1&&!i&&(d(!0),f()):i?o.x=o.y=0:(d(!0),f())};return(r.inverted||this.len>1)&&d(),f(),o},defaultFormatter:function(t){var e,n=this.points||h(this);return e=[t.tooltipFooterHeaderFormatter(n[0])],e=e.concat(t.bodyFormatter(n)),e.push(t.tooltipFooterHeaderFormatter(n[0],!0)),e.join("")},refresh:function(t,e){var n,i,r,a,o=this.chart,s=this.label,l=this.options,u={},c=[];a=l.formatter||this.defaultFormatter;var p,u=o.hoverPoints,d=this.shared;clearTimeout(this.hideTimer),this.followPointer=h(t)[0].series.tooltipOptions.followPointer,r=this.getAnchor(t,e),n=r[0],i=r[1],!d||t.series&&t.series.noSharedTooltip?u=t.getLabelConfig():(o.hoverPoints=t,u&&Gt(u,function(t){t.setState()}),Gt(t,function(t){t.setState("hover"),c.push(t.getLabelConfig())}),u={x:t[0].category,y:t[0].y},u.points=c,this.len=c.length,t=t[0]),a=a.call(u,this),u=t.series,this.distance=Bt(u.tooltipOptions.distance,16),a===!1?this.hide():(this.isHidden&&(re(s),s.attr("opacity",1).show()),s.attr({text:a}),p=l.borderColor||t.color||u.color||"#606060",s.attr({stroke:p}),this.updatePosition({plotX:n,plotY:i,negative:t.negative,ttBelow:t.ttBelow,h:r[2]||0}),this.isHidden=!1),ee(o,"tooltipRefresh",{text:a,x:n+o.plotLeft,y:i+o.plotTop,borderColor:p})},updatePosition:function(t){var e=this.chart,n=this.label,n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,t);this.move(ut(n.x),ut(n.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getXDateFormat:function(t,e,n){var i,r,a,e=e.dateTimeLabelFormats,o=n&&n.closestPointRange,s={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond";if(o){a=R("%m-%d %H:%M:%S.%L",t.x);for(r in z){if(o===z.week&&+R("%w",t.x)===n.options.startOfWeek&&"00:00:00.000"===a.substr(6)){r="week";break}if(z[r]>o){r=l;break}if(s[r]&&a.substr(s[r])!=="01-01 00:00:00.000".substr(s[r]))break;"week"!==r&&(l=r)}r&&(i=e[r])}else i=e.day;return i||e.year},tooltipFooterHeaderFormatter:function(t,e){var n=e?"footer":"header",i=t.series,r=i.tooltipOptions,o=r.xDateFormat,s=i.xAxis,l=s&&"datetime"===s.options.type&&a(t.key),n=r[n+"Format"];return l&&!o&&(o=this.getXDateFormat(t,r,s)),l&&o&&(n=n.replace("{point.key}","{point.key:"+o+"}")),y(n,{point:t,series:i})},bodyFormatter:function(t){return Zt(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}};var ge;X=ot.documentElement.ontouchstart!==L;var me=at.Pointer=function(t,e){this.init(t,e)};if(me.prototype={init:function(t,e){var n,i=e.chart,r=i.events,a=$t?"":i.zoomType,i=t.inverted;this.options=e,this.chart=t,this.zoomX=n=/x/.test(a),this.zoomY=a=/y/.test(a),this.zoomHor=n&&!i||a&&i,this.zoomVert=a&&!i||n&&i,this.hasZoom=n||a,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},at.Tooltip&&e.tooltip.enabled&&(t.tooltip=new fe(t,e.tooltip),this.followTouchMove=Bt(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(t,e){var n,i,t=t||window.event,t=ne(t);return t.target||(t.target=t.srcElement),i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=Kt(this.chart.container)),i.pageX===L?(n=pt(t.x,t.clientX-e.left),i=t.y):(n=i.pageX-e.left,i=i.pageY-e.top),zt(t,{chartX:ut(n),chartY:ut(i)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return Gt(this.chart.axes,function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})}),e},runPointActions:function(t){var e,n,i,r,a,o=this.chart,s=o.series,l=o.tooltip,u=!!l&&l.shared,c=o.hoverPoint,h=o.hoverSeries,p=o.chartWidth,d=[];if(!u&&!h)for(e=0;e<s.length;e++)!s[e].directTouch&&s[e].options.stickyTracking||(s=[]);if(!u&&h&&h.directTouch&&c?r=c:(Gt(s,function(e){n=e.noSharedTooltip&&u,i=!u&&e.directTouch,e.visible&&!n&&!i&&Bt(e.options.enableMouseTracking,!0)&&(a=e.searchPoint(t,!n&&1===e.kdDimensions))&&d.push(a)}),Gt(d,function(t){t&&"number"==typeof t.dist&&t.dist<p&&(p=t.dist,r=t)})),r&&(r!==this.prevKDPoint||l&&l.isHidden)){if(u&&!r.series.noSharedTooltip){for(e=d.length;e--;)(d[e].clientX!==r.clientX||d[e].series.noSharedTooltip)&&d.splice(e,1);d.length&&l&&l.refresh(d,t),Gt(d,function(e){e.onMouseOver(t,e!==(h&&h.directTouch&&c||r))})}else l&&l.refresh(r,t),h&&h.directTouch||r.onMouseOver(t);this.prevKDPoint=r}else s=h&&h.tooltipOptions.followPointer,l&&s&&!l.isHidden&&(s=l.getAnchor([{}],t),l.updatePosition({plotX:s[0],plotY:s[1]}));l&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(t){_t[ge]&&_t[ge].pointer.onDocumentMouseMove(t)},Qt(ot,"mousemove",this._onDocumentMouseMove)),Gt(o.axes,function(e){e.drawCrosshair(t,Bt(r,c))})},reset:function(t,e){var n=this.chart,i=n.hoverSeries,r=n.hoverPoint,a=n.hoverPoints,o=n.tooltip,s=o&&o.shared?a:r;(t=t&&o&&s)&&h(s)[0].plotX===L&&(t=!1),t?(o.refresh(s),r&&(r.setState(r.state,!0),Gt(n.axes,function(t){Bt(t.options.crosshair&&t.options.crosshair.snap,!0)?t.drawCrosshair(null,r):t.hideCrosshair()}))):(r&&r.onMouseOut(),a&&Gt(a,function(t){t.setState()}),i&&i.onMouseOut(),o&&o.hide(e),this._onDocumentMouseMove&&(te(ot,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Gt(n.axes,function(t){t.hideCrosshair()}),this.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(t,e){var n,i=this.chart;Gt(i.series,function(r){n=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(e?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))}),i.clipRect.attr(e||i.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,n=this.chart,i=n.options.chart,r=t.chartX,a=t.chartY,o=this.zoomHor,s=this.zoomVert,l=n.plotLeft,u=n.plotTop,c=n.plotWidth,h=n.plotHeight,p=this.selectionMarker,d=this.mouseDownX,f=this.mouseDownY,g=i.panKey&&t[i.panKey+"Key"];p&&p.touch||(r<l?r=l:r>l+c&&(r=l+c),a<u?a=u:a>u+h&&(a=u+h),this.hasDragged=Math.sqrt(Math.pow(d-r,2)+Math.pow(f-a,2)),this.hasDragged>10&&(e=n.isInsidePlot(d-l,f-u),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!g&&!p&&(this.selectionMarker=p=n.renderer.rect(l,u,o?1:c,s?1:h,0).attr({fill:i.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),p&&o&&(r-=d,p.attr({width:ft(r),x:(r>0?0:r)+d})),p&&s&&(r=a-f,p.attr({height:ft(r),y:(r>0?0:r)+f})),e&&!p&&i.panning&&n.pan(t,i.panning)))},drop:function(t){var e=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,a={xAxis:[],yAxis:[],originalEvent:t.originalEvent||t},o=this.selectionMarker,s=o.attr?o.attr("x"):o.x,l=o.attr?o.attr("y"):o.y,c=o.attr?o.attr("width"):o.width,h=o.attr?o.attr("height"):o.height;(this.hasDragged||i)&&(Gt(n.axes,function(n){if(n.zoomEnabled&&u(n.min)&&(i||e[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var o=n.horiz,p="touchend"===t.type?n.minPixelPadding:0,d=n.toValue((o?s:l)+p),o=n.toValue((o?s+c:l+h)-p);a[n.coll].push({axis:n,min:dt(d,o),max:pt(d,o)}),r=!0}}),r&&ee(n,"selection",a,function(t){n.zoom(zt(t,i?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),i&&this.scaleGroups()}n&&(p(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){_t[ge]&&_t[ge].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition,t=this.normalize(t,n);n&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(){var t=_t[ge];t&&(t.pointer.reset(),t.pointer.chartPosition=null)},onContainerMouseMove:function(t){var e=this.chart;ge=e.index,t=this.normalize(t),t.returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),(this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop))&&!e.openMenu&&this.runPointActions(t)},inClass:function(t,e){for(var n;t;){if(n=c(t,"class")){if(n.indexOf(e)!==-1)return!0;if(n.indexOf("highcharts-container")!==-1)return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,n=(t=t.relatedTarget||t.toElement)&&t.point&&t.point.series;!e||e.options.stickyTracking||this.inClass(t,"highcharts-tooltip")||n===e||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,n=e.hoverPoint,i=e.plotLeft,r=e.plotTop,t=this.normalize(t);t.originalEvent=t,e.cancelClick||(n&&this.inClass(t.target,"highcharts-tracker")?(ee(n.series,"click",zt(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(zt(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-i,t.chartY-r)&&ee(e,"click",t)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},Qt(e,"mouseleave",t.onContainerMouseLeave),1===Lt&&Qt(ot,"mouseup",t.onDocumentMouseUp),X&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},1===Lt&&Qt(ot,"touchend",t.onDocumentTouchEnd))},destroy:function(){var t;te(this.chart.container,"mouseleave",this.onContainerMouseLeave),Lt||(te(ot,"mouseup",this.onDocumentMouseUp),te(ot,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(t in this)this[t]=null}},zt(at.Pointer.prototype,{pinchTranslate:function(t,e,n,i,r,a){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,n,i,r,a),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,n,i,r,a)},pinchTranslateDirection:function(t,e,n,i,r,a,o,s){var l,u,c,h=this.chart,p=t?"x":"y",d=t?"X":"Y",f="chart"+d,g=t?"width":"height",m=h["plot"+(t?"Left":"Top")],y=s||1,v=h.inverted,S=h.bounds[t?"h":"v"],T=1===e.length,b=e[0][f],x=n[0][f],M=!T&&e[1][f],w=!T&&n[1][f],n=function(){
!T&&ft(b-M)>20&&(y=s||ft(x-w)/ft(b-M)),u=(m-x)/y+b,l=h["plot"+(t?"Width":"Height")]/y};n(),e=u,e<S.min?(e=S.min,c=!0):e+l>S.max&&(e=S.max-l,c=!0),c?(x-=.8*(x-o[p][0]),T||(w-=.8*(w-o[p][1])),n()):o[p]=[x,w],v||(a[p]=u-m,a[g]=l),a=v?1/y:y,r[g]=l,r[p]=e,i[v?t?"scaleY":"scaleX":"scale"+d]=y,i["translate"+d]=a*m+(x-a*b)},pinch:function(t){var e=this,n=e.chart,i=e.pinchDown,r=t.touches,a=r.length,o=e.lastValidTouch,s=e.hasZoom,l=e.selectionMarker,u={},c=1===a&&(e.inClass(t.target,"highcharts-tracker")&&n.runTrackerClick||e.runChartClick),h={};a>1&&(e.initiated=!0),s&&e.initiated&&!c&&t.preventDefault(),Zt(r,function(t){return e.normalize(t)}),"touchstart"===t.type?(Gt(r,function(t,e){i[e]={chartX:t.chartX,chartY:t.chartY}}),o.x=[i[0].chartX,i[1]&&i[1].chartX],o.y=[i[0].chartY,i[1]&&i[1].chartY],Gt(n.axes,function(t){if(t.zoomEnabled){var e=n.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,r=t.toPixels(Bt(t.options.min,t.dataMin)),a=t.toPixels(Bt(t.options.max,t.dataMax)),o=dt(r,a),r=pt(r,a);e.min=dt(t.pos,o-i),e.max=pt(t.pos+t.len,r+i)}}),e.res=!0):i.length&&(l||(e.selectionMarker=l=zt({destroy:Ot,touch:!0},n.plotBox)),e.pinchTranslate(i,r,u,l,h,o),e.hasPinched=s,e.scaleGroups(u,h),!s&&e.followTouchMove&&1===a?this.runPointActions(e.normalize(t)):e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(t,e){var n=this.chart;ge=n.index,1===t.touches.length?(t=this.normalize(t),n.isInsidePlot(t.chartX-n.plotLeft,t.chartY-n.plotTop)&&!n.openMenu?(e&&this.runPointActions(t),this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchStart:function(t){this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(t){_t[ge]&&_t[ge].pointer.drop(t)}}),st.PointerEvent||st.MSPointerEvent){var ye={},ve=!!st.PointerEvent,Se=function(){var t,e=[];e.item=function(t){return this[t]};for(t in ye)ye.hasOwnProperty(t)&&e.push({pageX:ye[t].pageX,pageY:ye[t].pageY,target:ye[t].target});return e},Te=function(t,e,n,i){t=t.originalEvent||t,"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!_t[ge]||(i(t),i=_t[ge].pointer,i[e]({type:n,target:t.currentTarget,preventDefault:Ot,touches:Se()}))};zt(me.prototype,{onContainerPointerDown:function(t){Te(t,"onContainerTouchStart","touchstart",function(t){ye[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){Te(t,"onContainerTouchMove","touchmove",function(t){ye[t.pointerId]={pageX:t.pageX,pageY:t.pageY},ye[t.pointerId].target||(ye[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){Te(t,"onDocumentTouchEnd","touchend",function(t){delete ye[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,ve?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,ve?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(ot,ve?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),Wt(me.prototype,"init",function(t,e,n){t.call(this,e,n),this.hasZoom&&p(e.container,{"-ms-touch-action":Xt,"touch-action":Xt})}),Wt(me.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Qt)}),Wt(me.prototype,"destroy",function(t){this.batchMSEvents(te),t.call(this)})}var be=at.Legend=function(t,e){this.init(t,e)};be.prototype={init:function(e,n){var i=this,r=n.itemStyle,a=n.itemMarginTop||0;this.options=n,n.enabled&&(i.itemStyle=r,i.itemHiddenStyle=t(r,n.itemHiddenStyle),i.itemMarginTop=a,i.padding=r=Bt(n.padding,8),i.initialItemX=r,i.initialItemY=r-5,i.maxItemWidth=0,i.chart=e,i.itemHeight=0,i.symbolWidth=Bt(n.symbolWidth,16),i.pages=[],i.render(),Qt(i.chart,"endResize",function(){i.positionCheckboxes()}))},colorizeItem:function(t,e){var n,i=this.options,r=t.legendItem,a=t.legendLine,o=t.legendSymbol,s=this.itemHiddenStyle.color,i=e?i.itemStyle.color:s,l=e?t.legendColor||t.color||"#CCC":s,s=t.options&&t.options.marker,u={fill:l};if(r&&r.css({fill:i,color:i}),a&&a.attr({stroke:l}),o){if(s&&o.isMarker)for(n in u.stroke=l,s=t.convertAttribs(s))r=s[n],r!==L&&(u[n]=r);o.attr(u)}},positionItem:function(t){var e=this.options,n=e.symbolPadding,e=!e.rtl,i=t._legendItemPos,r=i[0],i=i[1],a=t.checkbox;(t=t.legendGroup)&&t.element&&t.translate(e?r:this.legendWidth-r-2*n-4,i),a&&(a.x=r,a.y=i)},destroyItem:function(t){var e=t.checkbox;Gt(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&w(t.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),t&&(this.group=t.destroy())},positionCheckboxes:function(t){var e,n=this.group.alignAttr,i=this.clipHeight||this.legendHeight;n&&(e=n.translateY,Gt(this.allItems,function(r){var a,o=r.checkbox;o&&(a=e+o.y+(t||0)+3,p(o,{left:n.translateX+r.checkboxOffset+o.x-20+"px",top:a+"px",display:a>e-6&&a<e+i-6?"":Xt}))}))},renderTitle:function(){var t=this.padding,e=this.options.title,n=0;e.text&&(this.title||(this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(e.style).add(this.group)),t=this.title.getBBox(),n=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},setText:function(t){var e=this.options;t.legendItem.attr({text:e.labelFormat?y(e.labelFormat,t):e.labelFormatter.call(t)})},renderItem:function(e){var n=this.chart,i=n.renderer,r=this.options,a="horizontal"===r.layout,o=this.symbolWidth,s=r.symbolPadding,l=this.itemStyle,u=this.itemHiddenStyle,c=this.padding,h=a?Bt(r.itemDistance,20):0,p=!r.rtl,d=r.width,f=r.itemMarginBottom||0,g=this.itemMarginTop,m=this.initialItemX,y=e.legendItem,v=e.series&&e.series.drawLegendSymbol?e.series:e,S=v.options,S=this.createCheckboxForItem&&S&&S.showCheckbox,T=r.useHTML;y||(e.legendGroup=i.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),e.legendItem=y=i.text("",p?o+s:-s,this.baseline||0,T).css(t(e.visible?l:u)).attr({align:p?"left":"right",zIndex:2}).add(e.legendGroup),this.baseline||(this.fontMetrics=i.fontMetrics(l.fontSize,y),this.baseline=this.fontMetrics.f+3+g,y.attr("y",this.baseline)),v.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,y,T,l,u),this.colorizeItem(e,e.visible),S&&this.createCheckboxForItem(e)),this.setText(e),i=y.getBBox(),o=e.checkboxOffset=r.itemWidth||e.legendItemWidth||o+s+i.width+h+(S?20:0),this.itemHeight=s=ut(e.legendItemHeight||i.height),a&&this.itemX-m+o>(d||n.chartWidth-2*c-m-r.x)&&(this.itemX=m,this.itemY+=g+this.lastLineHeight+f,this.lastLineHeight=0),this.maxItemWidth=pt(this.maxItemWidth,o),this.lastItemY=g+this.itemY+f,this.lastLineHeight=pt(s,this.lastLineHeight),e._legendItemPos=[this.itemX,this.itemY],a?this.itemX+=o:(this.itemY+=g+s+f,this.lastLineHeight=s),this.offsetWidth=d||pt((a?this.itemX-m-h:o)+c,this.offsetWidth)},getAllItems:function(){var t=[];return Gt(this.chart.series,function(e){var n=e.options;Bt(n.showInLegend,!u(n.linkedTo)&&L,!0)&&(t=t.concat(e.legendItems||("point"===n.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var n=this.chart,i=this.options,r=i.align.charAt(0)+i.verticalAlign.charAt(0)+i.layout.charAt(0);this.display&&!i.floating&&Gt([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(a,o){a.test(r)&&!u(t[o])&&(n[It[o]]=pt(n[It[o]],n.legend[(o+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][o]*i[o%2?"x":"y"]+Bt(i.margin,12)+e[o]))})},render:function(){var t,e,n,i,r=this,a=r.chart,o=a.renderer,s=r.group,l=r.box,u=r.options,c=r.padding,h=u.borderWidth,p=u.backgroundColor;r.itemX=r.initialItemX,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,s||(r.group=s=o.g("legend").attr({zIndex:7}).add(),r.contentGroup=o.g().attr({zIndex:1}).add(s),r.scrollGroup=o.g().add(r.contentGroup)),r.renderTitle(),t=r.getAllItems(),T(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),u.reversed&&t.reverse(),r.allItems=t,r.display=e=!!t.length,r.lastLineHeight=0,Gt(t,function(t){r.renderItem(t)}),n=(u.width||r.offsetWidth)+c,i=r.lastItemY+r.lastLineHeight+r.titleHeight,i=r.handleOverflow(i),i+=c,(h||p)&&(l?n>0&&i>0&&(l[l.isNew?"attr":"animate"](l.crisp({width:n,height:i})),l.isNew=!1):(r.box=l=o.rect(0,0,n,i,u.borderRadius,h||0).attr({stroke:u.borderColor,"stroke-width":h||0,fill:p||Xt}).add(s).shadow(u.shadow),l.isNew=!0),l[e?"show":"hide"]()),r.legendWidth=n,r.legendHeight=i,Gt(t,function(t){r.positionItem(t)}),e&&s.align(zt({width:n,height:i},u),!0,"spacingBox"),a.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,n,i=this,r=this.chart,a=r.renderer,o=this.options,s=o.y,s=r.spacingBox.height+("top"===o.verticalAlign?-s:s)-this.padding,l=o.maxHeight,u=this.clipRect,c=o.navigation,h=Bt(c.animation,!0),p=c.arrowSize||12,d=this.nav,f=this.pages,g=this.padding,m=this.allItems,y=function(t){u.attr({height:t}),i.contentGroup.div&&(i.contentGroup.div.style.clip="rect("+g+"px,9999px,"+(g+t)+"px,0)")};return"horizontal"===o.layout&&(s/=2),l&&(s=dt(s,l)),f.length=0,t>s?(this.clipHeight=e=pt(s-20-this.titleHeight-g,0),this.currentPage=Bt(this.currentPage,1),this.fullHeight=t,Gt(m,function(t,i){var r=t._legendItemPos[1],a=ut(t.legendItem.getBBox().height),o=f.length;(!o||r-f[o-1]>e&&(n||r)!==f[o-1])&&(f.push(n||r),o++),i===m.length-1&&r+a-f[o-1]>e&&f.push(r),r!==n&&(n=r)}),u||(u=i.clipRect=a.clipRect(0,g,9999,0),i.contentGroup.clip(u)),y(e),d||(this.nav=d=a.g().attr({zIndex:1}).add(this.group),this.up=a.symbol("triangle",0,0,p,p).on("click",function(){i.scroll(-1,h)}).add(d),this.pager=a.text("",15,10).css(c.style).add(d),this.down=a.symbol("triangle-down",0,0,p,p).on("click",function(){i.scroll(1,h)}).add(d)),i.scroll(0),t=s):d&&(y(r.chartHeight),d.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n=this.pages,i=n.length,r=this.currentPage+t,a=this.clipHeight,o=this.options.navigation,s=o.activeColor,o=o.inactiveColor,l=this.pager,u=this.padding;r>i&&(r=i),r>0&&(e!==L&&k(e,this.chart),this.nav.attr({translateX:u,translateY:a+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===r?o:s}).css({cursor:1===r?"default":"pointer"}),l.attr({text:r+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,fill:r===i?o:s}).css({cursor:r===i?"default":"pointer"}),n=-n[r-1]+this.initialItemY,this.scrollGroup.animate({translateY:n}),this.currentPage=r,this.positionCheckboxes(n))}},Ut=at.LegendSymbolMixin={drawRectangle:function(t,e){var n=t.options.symbolHeight||t.fontMetrics.f;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-n+1,t.symbolWidth,n,t.options.symbolRadius||0).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,n=this.options,i=n.marker;e=t.symbolWidth;var r,a=this.chart.renderer,o=this.legendGroup,t=t.baseline-ut(.3*t.fontMetrics.b);n.lineWidth&&(r={"stroke-width":n.lineWidth},n.dashStyle&&(r.dashstyle=n.dashStyle),this.legendLine=a.path(["M",0,t,"L",e,t]).attr(r).add(o)),i&&i.enabled!==!1&&(n=i.radius,this.legendSymbol=e=a.symbol(this.symbol,e/2-n,t-n,2*n,2*n).add(o),e.isMarker=!0)}},(/Trident\/7\.0/.test(St)||wt)&&Wt(be.prototype,"positionItem",function(t,e){var n=this,i=function(){e._legendItemPos&&t.call(n,e)};i(),setTimeout(i)});var xe=at.Chart=function(){this.init.apply(this,arguments)};xe.prototype={callbacks:[],init:function(e,n){var i,r=e.series;e.series=null,i=t(I,e),i.series=e.series=r,this.userOptions=e,r=i.chart,this.margin=this.splashArray("margin",r),this.spacing=this.splashArray("spacing",r);var a=r.events;this.bounds={h:{},v:{}},this.callback=n,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.hasCartesianSeries=r.showAxes;var o,s=this;if(s.index=_t.length,_t.push(s),Lt++,r.reflow!==!1&&Qt(s,"load",function(){s.initReflow()}),a)for(o in a)Qt(s,o,a[o]);s.xAxis=[],s.yAxis=[],s.animation=!$t&&Bt(r.animation,!0),s.pointCount=s.colorCounter=s.symbolCounter=0,s.firstRender()},initSeries:function(t){var e=this.options.chart;return(e=Ht[t.type||e.type||e.defaultSeriesType])||A(17,!0),e=new e,e.init(this,t),e},isInsidePlot:function(t,e,n){var i=n?e:t,t=n?t:e;return i>=0&&i<=this.plotWidth&&t>=0&&t<=this.plotHeight},redraw:function(t){var e,n,i=this.axes,r=this.series,a=this.pointer,o=this.legend,s=this.isDirtyLegend,l=this.hasCartesianSeries,u=this.isDirtyBox,c=r.length,h=c,p=this.renderer,d=p.isHidden(),f=[];for(k(t,this),d&&this.cloneRenderTo(),this.layOutTitles();h--;)if(t=r[h],t.options.stacking&&(e=!0,t.isDirty)){n=!0;break}if(n)for(h=c;h--;)t=r[h],t.options.stacking&&(t.isDirty=!0);Gt(r,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),s=!0)}),s&&o.options.enabled&&(o.render(),this.isDirtyLegend=!1),e&&this.getStacks(),l&&!this.isResizing&&(this.maxTicks=null,Gt(i,function(t){t.setScale()})),this.getMargins(),l&&(Gt(i,function(t){t.isDirty&&(u=!0)}),Gt(i,function(t){var n=t.min+","+t.max;t.extKey!==n&&(t.extKey=n,f.push(function(){ee(t,"afterSetExtremes",zt(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(u||e)&&t.redraw()})),u&&this.drawChartBox(),Gt(r,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),a&&a.reset(!0),p.draw(),ee(this,"redraw"),d&&this.cloneRenderTo(!0),Gt(f,function(t){t.call()})},get:function(t){var e,n,i=this.axes,r=this.series;for(e=0;e<i.length;e++)if(i[e].options.id===t)return i[e];for(e=0;e<r.length;e++)if(r[e].options.id===t)return r[e];for(e=0;e<r.length;e++)for(n=r[e].points||[],i=0;i<n.length;i++)if(n[i].id===t)return n[i];return null},getAxes:function(){var t=this,e=this.options,n=e.xAxis=h(e.xAxis||{}),e=e.yAxis=h(e.yAxis||{});Gt(n,function(t,e){t.index=e,t.isX=!0}),Gt(e,function(t,e){t.index=e}),n=n.concat(e),Gt(n,function(e){new de(t,e)})},getSelectedPoints:function(){var t=[];return Gt(this.series,function(e){t=t.concat(Jt(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return Jt(this.series,function(t){return t.selected})},setTitle:function(e,n,i){var r,a,o=this,s=o.options;a=s.title=t(s.title,e),r=s.subtitle=t(s.subtitle,n),s=r,Gt([["title",e,a],["subtitle",n,s]],function(t){var e=t[0],n=o[e],i=t[1],t=t[2];n&&i&&(o[e]=n=n.destroy()),t&&t.text&&!n&&(o[e]=o.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+e,zIndex:t.zIndex||4}).css(t.style).add())}),o.layOutTitles(i)},layOutTitles:function(t){var e=0,n=this.title,i=this.subtitle,r=this.options,a=r.title,r=r.subtitle,o=this.renderer,s=this.spacingBox.width-44;!n||(n.css({width:(a.width||s)+"px"}).align(zt({y:o.fontMetrics(a.style.fontSize,n).b-3},a),!1,"spacingBox"),a.floating||a.verticalAlign)||(e=n.getBBox().height),i&&(i.css({width:(r.width||s)+"px"}).align(zt({y:e+(a.margin-13)+o.fontMetrics(a.style.fontSize,i).b},r),!1,"spacingBox"),!r.floating&&!r.verticalAlign&&(e=ht(e+i.getBBox().height))),n=this.titleOffset!==e,this.titleOffset=e,!this.isDirtyBox&&n&&(this.isDirtyBox=n,this.hasRendered&&Bt(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this.options.chart,e=t.width,t=t.height,n=this.renderToClone||this.renderTo;u(e)||(this.containerWidth=Vt(n,"width")),u(t)||(this.containerHeight=Vt(n,"height")),this.chartWidth=pt(0,e||this.containerWidth||600),this.chartHeight=pt(0,Bt(t,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,n=this.container;t?e&&(this.renderTo.appendChild(n),w(e),delete this.renderToClone):(n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=e=this.renderTo.cloneNode(0),p(e,{position:"absolute",top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),ot.body.appendChild(e),n&&e.appendChild(n))},getContainer:function(){var t,i,r,a,o=this.options.chart;this.renderTo=t=o.renderTo,a="highcharts-"+Et++,n(t)&&(this.renderTo=t=ot.getElementById(t)),t||A(13,!0),i=e(c(t,"data-highcharts-chart")),!isNaN(i)&&_t[i]&&_t[i].hasRendered&&_t[i].destroy(),c(t,"data-highcharts-chart",this.index),t.innerHTML="",!o.skipClone&&!t.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),i=this.chartWidth,r=this.chartHeight,this.container=t=d(Nt,{className:"highcharts-container"+(o.className?" "+o.className:""),id:a},zt({position:"relative",overflow:"hidden",width:i+"px",height:r+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},o.style),this.renderToClone||t),this._cursor=t.style.cursor,this.renderer=o.forExport?new ce(t,i,r,o.style,(!0)):new N(t,i,r,o.style),$t&&this.renderer.create(this,t,i,r),this.renderer.chartIndex=this.index},getMargins:function(t){var e=this.spacing,n=this.margin,i=this.titleOffset;this.resetMargins(),i&&!u(n[0])&&(this.plotTop=pt(this.plotTop,i+this.options.title.margin+e[0])),this.legend.adjustMargins(n,e),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],n=t.margin;t.hasCartesianSeries&&Gt(t.axes,function(t){t.getOffset()}),Gt(It,function(i,r){u(n[r])||(t[i]+=e[r])}),t.setChartSize()},reflow:function(t){var e=this,n=e.options.chart,i=e.renderTo,r=n.width||Vt(i,"width"),a=n.height||Vt(i,"height"),n=t?t.target:st,i=function(){e.container&&(e.setSize(r,a,!1),e.hasUserSize=null)};e.hasUserSize||e.isPrinting||!r||!a||n!==st&&n!==ot||(r===e.containerWidth&&a===e.containerHeight||(clearTimeout(e.reflowTimeout),t?e.reflowTimeout=setTimeout(i,100):i()),e.containerWidth=r,e.containerHeight=a)},initReflow:function(){var t=this,e=function(e){t.reflow(e)};Qt(st,"resize",e),Qt(t,"destroy",function(){te(st,"resize",e)})},setSize:function(t,e,n){var i,r,a,o=this,s=o.renderer,l=s.globalAnimation;o.isResizing+=1,a=function(){o&&ee(o,"endResize",null,function(){o.isResizing-=1})},k(n,o),o.oldChartHeight=o.chartHeight,o.oldChartWidth=o.chartWidth,u(t)&&(o.chartWidth=i=pt(0,ut(t)),o.hasUserSize=!!i),u(e)&&(o.chartHeight=r=pt(0,ut(e))),(l?ie:p)(o.container,{width:i+"px",height:r+"px"},l),o.setChartSize(!0),s.setSize(i,r,n),o.maxTicks=null,Gt(o.axes,function(t){t.isDirty=!0,t.setScale()}),Gt(o.series,function(t){t.isDirty=!0}),o.isDirtyLegend=!0,o.isDirtyBox=!0,o.layOutTitles(),o.getMargins(),o.redraw(n),o.oldChartHeight=null,ee(o,"resize"),l===!1?a():setTimeout(a,l&&l.duration||500)},setChartSize:function(t){var e,n,i,r,a=this.inverted,o=this.renderer,s=this.chartWidth,l=this.chartHeight,u=this.options.chart,c=this.spacing,h=this.clipOffset;this.plotLeft=e=ut(this.plotLeft),this.plotTop=n=ut(this.plotTop),this.plotWidth=i=pt(0,ut(s-e-this.marginRight)),this.plotHeight=r=pt(0,ut(l-n-this.marginBottom)),this.plotSizeX=a?r:i,this.plotSizeY=a?i:r,this.plotBorderWidth=u.plotBorderWidth||0,this.spacingBox=o.spacingBox={x:c[3],y:c[0],width:s-c[3]-c[1],height:l-c[0]-c[2]},this.plotBox=o.plotBox={x:e,y:n,width:i,height:r},s=2*ct(this.plotBorderWidth/2),a=ht(pt(s,h[3])/2),o=ht(pt(s,h[0])/2),this.clipBox={x:a,y:o,width:ct(this.plotSizeX-pt(s,h[1])/2-a),height:pt(0,ct(this.plotSizeY-pt(s,h[2])/2-o))},t||Gt(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this;Gt(It,function(e,n){t[e]=Bt(t.margin[n],t.spacing[n])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e=this.options.chart,n=this.renderer,i=this.chartWidth,r=this.chartHeight,a=this.chartBackground,o=this.plotBackground,s=this.plotBorder,l=this.plotBGImage,u=e.borderWidth||0,c=e.backgroundColor,h=e.plotBackgroundColor,p=e.plotBackgroundImage,d=e.plotBorderWidth||0,f=this.plotLeft,g=this.plotTop,m=this.plotWidth,y=this.plotHeight,v=this.plotBox,S=this.clipRect,T=this.clipBox;t=u+(e.shadow?8:0),(u||c)&&(a?a.animate(a.crisp({width:i-t,height:r-t})):(a={fill:c||Xt},u&&(a.stroke=e.borderColor,a["stroke-width"]=u),this.chartBackground=n.rect(t/2,t/2,i-t,r-t,e.borderRadius,u).attr(a).addClass("highcharts-background").add().shadow(e.shadow))),h&&(o?o.animate(v):this.plotBackground=n.rect(f,g,m,y,0).attr({fill:h}).add().shadow(e.plotShadow)),p&&(l?l.animate(v):this.plotBGImage=n.image(p,f,g,m,y).add()),S?S.animate({width:T.width,height:T.height}):this.clipRect=n.clipRect(T),d&&(s?s.animate(s.crisp({x:f,y:g,width:m,height:y,strokeWidth:-d})):this.plotBorder=n.rect(f,g,m,y,0,-d).attr({stroke:e.plotBorderColor,"stroke-width":d,fill:Xt,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var t,e,n,i=this,r=i.options.chart,a=i.options.series;Gt(["inverted","angular","polar"],function(o){for(t=Ht[r.type||r.defaultSeriesType],n=i[o]||r[o]||t&&t.prototype[o],e=a&&a.length;!n&&e--;)(t=Ht[a[e].type])&&t.prototype[o]&&(n=!0);i[o]=n})},linkSeries:function(){var t=this,e=t.series;Gt(e,function(t){t.linkedSeries.length=0}),Gt(e,function(e){var i=e.options.linkedTo;n(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&(i.linkedSeries.push(e),e.linkedParent=i,e.visible=Bt(e.options.visible,i.options.visible,e.visible))})},renderSeries:function(){Gt(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,n=t.options.labels;n.items&&Gt(n.items,function(i){var r=zt(n.style,i.style),a=e(r.left)+t.plotLeft,o=e(r.top)+t.plotTop+12;delete r.left,delete r.top,t.renderer.text(i.html,a,o).attr({zIndex:2}).css(r).add()})},render:function(){var t,e,n,i,r=this.axes,a=this.renderer,o=this.options;this.setTitle(),this.legend=new be(this,o.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),t=this.plotWidth,e=this.plotHeight-=13,Gt(r,function(t){t.setScale()}),this.getAxisMargins(),n=t/this.plotWidth>1.1,i=e/this.plotHeight>1.1,(n||i)&&(this.maxTicks=null,Gt(r,function(t){(t.horiz&&n||!t.horiz&&i)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&Gt(r,function(t){t.render()}),this.seriesGroup||(this.seriesGroup=a.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(o.credits),this.hasRendered=!0},showCredits:function(t){t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text,0,0).on("click",function(){t.href&&(location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position))},destroy:function(){var t,e=this,n=e.axes,i=e.series,r=e.container,a=r&&r.parentNode;for(ee(e,"destroy"),_t[e.index]=L,Lt--,e.renderTo.removeAttribute("data-highcharts-chart"),te(e),t=n.length;t--;)n[t]=n[t].destroy();for(t=i.length;t--;)i[t]=i[t].destroy();Gt("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var n=e[t];n&&n.destroy&&(e[t]=n.destroy())}),r&&(r.innerHTML="",te(r),a&&w(r));for(t in e)delete e[t]},isReadyToRender:function(){var t=this;return!(!kt&&st==st.top&&"complete"!==ot.readyState||$t&&!st.canvg)||($t?pe.push(function(){t.firstRender()},t.options.global.canvasToolsURL):ot.attachEvent("onreadystatechange",function(){ot.detachEvent("onreadystatechange",t.firstRender),"complete"===ot.readyState&&t.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options,n=t.callback;t.isReadyToRender()&&(t.getContainer(),ee(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),Gt(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),ee(t,"beforeRender"),at.Pointer&&(t.pointer=new me(t,e)),t.render(),t.renderer.draw(),n&&n.apply(t,[t]),Gt(t.callbacks,function(e){t.index!==L&&e.apply(t,[t])}),ee(t,"load"),t.cloneRenderTo(!0))},splashArray:function(t,e){var n=e[t],n=i(n)?n:[n,n,n,n];return[Bt(e[t+"Top"],n[0]),Bt(e[t+"Right"],n[1]),Bt(e[t+"Bottom"],n[2]),Bt(e[t+"Left"],n[3])]}};var Me=at.CenteredSeriesMixin={getCenter:function(){var t,e,n=this.options,i=this.chart,r=2*(n.slicedOffset||0),a=i.plotWidth-2*r,i=i.plotHeight-2*r,o=n.center,o=[Bt(o[0],"50%"),Bt(o[1],"50%"),n.size||"100%",n.innerSize||0],s=dt(a,i);for(t=0;t<4;++t)e=o[t],n=t<2||2===t&&/%$/.test(e),o[t]=(/%$/.test(e)?[a,i,s,o[2]][t]*parseFloat(e)/100:parseFloat(e))+(n?r:0);return o}},we=function(){};we.prototype={init:function(t,e,n){return this.series=t,this.color=t.color,this.applyOptions(e,n),this.pointAttr={},t.options.colorByPoint&&(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter++],t.colorCounter===e.length)&&(t.colorCounter=0),t.chart.pointCount++,this},applyOptions:function(t,e){var n=this.series,i=n.options.pointValKey||n.pointValKey,t=we.prototype.optionsToObject.call(this,t);return zt(this,t),this.options=this.options?zt(this.options,t):t,i&&(this.y=this[i]),this.x===L&&n&&(this.x=e===L?n.autoIncrement():e),this},optionsToObject:function(t){var e={},n=this.series,i=n.options.keys,a=i||n.pointArrayMap||["y"],o=a.length,s=0,l=0;if("number"==typeof t||null===t)e[a[0]]=t;else if(r(t))for(!i&&t.length>o&&(n=typeof t[0],"string"===n?e.name=t[0]:"number"===n&&(e.x=t[0]),s++);l<o;)e[a[l++]]=t[s++];else"object"==typeof t&&(e=t,t.dataLabels&&(n._hasPointLabels=!0),t.marker&&(n._hasPointMarkers=!0));return e},destroy:function(){var t,e=this.series.chart,n=e.hoverPoints;e.pointCount--,n&&(this.setState(),l(n,this),!n.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(te(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),n=6;n--;)t=e[n],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,n=e.tooltipOptions,i=Bt(n.valueDecimals,""),r=n.valuePrefix||"",a=n.valueSuffix||"";return Gt(e.pointArrayMap||["y"],function(e){e="{point."+e,(r||a)&&(t=t.replace(e+"}",r+e+"}"+a)),t=t.replace(e+"}",e+":,."+i+"f}")}),y(t,{point:this,series:this.series})},firePointEvent:function(t,e,n){var i=this,r=this.series.options;(r.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(n=function(t){i.select&&i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),ee(this,t,e,n)}};var Ae=at.Series=function(){};Ae.prototype={isCartesian:!0,type:"line",pointClass:we,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(t,e){var n,i,r=this,a=t.series,o=function(t,e){return Bt(t.options.index,t._i)-Bt(e.options.index,e._i)};r.chart=t,r.options=e=r.setOptions(e),r.linkedSeries=[],r.bindAxes(),zt(r,{name:e.name,state:"",pointAttr:{},visible:e.visible!==!1,selected:e.selected===!0}),$t&&(e.animation=!1),i=e.events;for(n in i)Qt(r,n,i[n]);(i&&i.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),r.getColor(),r.getSymbol(),Gt(r.parallelArrays,function(t){r[t+"Data"]=[]}),r.setData(e.data,!1),r.isCartesian&&(t.hasCartesianSeries=!0),a.push(r),r._i=a.length-1,T(a,o),this.yAxis&&T(this.yAxis.series,o),Gt(a,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,n=e.options,i=e.chart;Gt(e.axisTypes||[],function(r){Gt(i[r],function(i){t=i.options,(n[r]===t.index||n[r]!==L&&n[r]===t.id||n[r]===L&&0===t.index)&&(i.series.push(e),e[r]=i,i.isDirty=!0)}),!e[r]&&e.optionalAxis!==r&&A(18,!0)})},updateParallelArrays:function(t,e){var n=t.series,i=arguments;Gt(n.parallelArrays,"number"==typeof e?function(i){var r="y"===i&&n.toYData?n.toYData(t):t[i];n[i+"Data"][e]=r}:function(t){Array.prototype[e].apply(n[t+"Data"],Array.prototype.slice.call(i,2))})},autoIncrement:function(){var t,e=this.options,n=this.xIncrement,i=e.pointIntervalUnit,n=Bt(n,e.pointStart,0);return this.pointInterval=t=Bt(this.pointInterval,e.pointInterval,1),"month"!==i&&"year"!==i||(e=new B(n),e="month"===i?+e[it](e[J]()+t):+e[rt](e[K]()+t),t=e-n),this.xIncrement=n+t,n},getSegments:function(){var t,e=-1,n=[],i=this.points,r=i.length;if(r)if(this.options.connectNulls){for(t=r;t--;)null===i[t].y&&i.splice(t,1);i.length&&(n=[i])}else Gt(i,function(t,a){null===t.y?(a>e+1&&n.push(i.slice(e+1,a)),e=a):a===r-1&&n.push(i.slice(e+1,a+1))});this.segments=n},setOptions:function(e){var n=this.chart,i=n.options.plotOptions,n=n.userOptions||{},r=n.plotOptions||{},a=i[this.type];return this.userOptions=e,i=t(a,i.series,e),this.tooltipOptions=t(I.tooltip,I.plotOptions[this.type].tooltip,n.tooltip,r.series&&r.series.tooltip,r[this.type]&&r[this.type].tooltip,e.tooltip),null===a.marker&&delete i.marker,this.zoneAxis=i.zoneAxis,e=this.zones=(i.zones||[]).slice(),!i.negativeColor&&!i.negativeFillColor||i.zones||e.push({value:i[this.zoneAxis+"Threshold"]||i.threshold||0,color:i.negativeColor,fillColor:i.negativeFillColor}),e.length&&u(e[e.length-1].value)&&e.push({color:this.color,fillColor:this.fillColor}),i},getCyclic:function(t,e,n){var i=this.userOptions,r="_"+t+"Index",a=t+"Counter";e||(u(i[r])?e=i[r]:(i[r]=e=this.chart[a]%n.length,this.chart[a]+=1),e=n[e]),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||ae[this.type].color,this.chart.options.colors)},getSymbol:function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(t.radius=0)},drawLegendSymbol:Ut.drawLineMarker,setData:function(t,e,i,o){var s,l=this,c=l.points,h=c&&c.length||0,p=l.options,d=l.chart,f=null,g=l.xAxis,m=g&&!!g.categories,y=p.turboThreshold,v=this.xData,S=this.yData,T=(s=l.pointArrayMap)&&s.length,t=t||[];if(s=t.length,e=Bt(e,!0),o!==!1&&s&&h===s&&!l.cropped&&!l.hasGroupedData&&l.visible)Gt(t,function(t,e){c[e].update&&c[e].update(t,!1,null,!1)});else{if(l.xIncrement=null,l.pointRange=m?1:p.pointRange,l.colorCounter=0,Gt(this.parallelArrays,function(t){l[t+"Data"].length=0}),y&&s>y){for(i=0;null===f&&i<s;)f=t[i],i++;if(a(f)){for(m=Bt(p.pointStart,0),p=Bt(p.pointInterval,1),i=0;i<s;i++)v[i]=m,S[i]=t[i],m+=p;l.xIncrement=m}else if(r(f))if(T)for(i=0;i<s;i++)p=t[i],v[i]=p[0],S[i]=p.slice(1,T+1);else for(i=0;i<s;i++)p=t[i],v[i]=p[0],S[i]=p[1];else A(12)}else for(i=0;i<s;i++)t[i]!==L&&(p={series:l},l.pointClass.prototype.applyOptions.apply(p,[t[i]]),l.updateParallelArrays(p,i),m&&u(p.name))&&(g.names[p.x]=p.name);for(n(S[0])&&A(14,!0),l.data=[],l.options.data=t,i=h;i--;)c[i]&&c[i].destroy&&c[i].destroy();g&&(g.minRange=g.userMinRange),l.isDirty=l.isDirtyData=d.isDirtyBox=!0,i=!1}e&&d.redraw(i)},processData:function(t){var e,n=this.xData,i=this.yData,r=n.length;e=0;var a,o,s,l=this.xAxis,u=this.options;s=u.cropThreshold;var c,h,p=this.isCartesian;if(p&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(l&&(t=l.getExtremes(),c=t.min,h=t.max),p&&this.sorted&&(!s||r>s||this.forceCrop)&&(n[r-1]<c||n[0]>h?(n=[],i=[]):(n[0]<c||n[r-1]>h)&&(e=this.cropData(this.xData,this.yData,c,h),n=e.xData,i=e.yData,e=e.start,a=!0)),s=n.length-1;s>=0;s--)r=n[s]-n[s-1],r>0&&(o===L||r<o)?o=r:r<0&&this.requireSorting&&A(15);this.cropped=a,this.cropStart=e,this.processedXData=n,this.processedYData=i,null===u.pointRange&&(this.pointRange=o||1),this.closestPointRange=o},cropData:function(t,e,n,i){var r,a=t.length,o=0,s=a,l=Bt(this.cropShoulder,1);for(r=0;r<a;r++)if(t[r]>=n){o=pt(0,r-l);break}for(;r<a;r++)if(t[r]>i){s=r+l;break}return{xData:t.slice(o,s),yData:e.slice(o,s),start:o,end:s}},generatePoints:function(){var t,e,n,i,r=this.options.data,a=this.data,o=this.processedXData,s=this.processedYData,l=this.pointClass,u=o.length,c=this.cropStart||0,p=this.hasGroupedData,d=[];for(a||p||(a=[],a.length=r.length,a=this.data=a),i=0;i<u;i++)e=c+i,p?d[i]=(new l).init(this,[o[i]].concat(h(s[i]))):(a[e]?n=a[e]:r[e]!==L&&(a[e]=n=(new l).init(this,r[e],o[i])),d[i]=n),d[i].index=e;if(a&&(u!==(t=a.length)||p))for(i=0;i<t;i++)i===c&&!p&&(i+=u),a[i]&&(a[i].destroyElements(),a[i].plotX=L);this.data=a,this.points=d},getExtremes:function(t){var e,n=this.yAxis,i=this.processedXData,r=[],a=0;e=this.xAxis.getExtremes();
var o,s,l,u,c=e.min,h=e.max,t=t||this.stackedYData||this.processedYData;for(e=t.length,u=0;u<e;u++)if(s=i[u],l=t[u],o=null!==l&&l!==L&&(!n.isLog||l.length||l>0),s=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(i[u+1]||s)>=c&&(i[u-1]||s)<=h,o&&s)if(o=l.length)for(;o--;)null!==l[o]&&(r[a++]=l[o]);else r[a++]=l;this.dataMin=b(r),this.dataMax=x(r)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,e,n,i=this.options,r=i.stacking,o=this.xAxis,s=o.categories,l=this.yAxis,c=this.points,h=c.length,p=!!this.modifyValue,d=i.pointPlacement,f="between"===d||a(d),g=i.threshold,m=i.startFromThreshold?g:0,y=Number.MAX_VALUE,i=0;i<h;i++){var v=c[i],S=v.x,T=v.y;e=v.low;var b=r&&l.stacks[(this.negStacks&&T<(m?0:g)?"-":"")+this.stackKey];l.isLog&&null!==T&&T<=0&&(v.y=T=null,A(10)),v.plotX=t=dt(pt(-1e5,o.translate(S,0,0,0,1,d,"flags"===this.type)),1e5),r&&this.visible&&b&&b[S]&&(b=b[S],T=b.points[this.index+","+i],e=T[0],T=T[1],e===m&&(e=Bt(g,l.min)),l.isLog&&e<=0&&(e=null),v.total=v.stackTotal=b.total,v.percentage=b.total&&v.y/b.total*100,v.stackY=T,b.setOffset(this.pointXOffset||0,this.barW||0)),v.yBottom=u(e)?l.translate(e,0,1,0,1):null,p&&(T=this.modifyValue(T,v)),v.plotY=e="number"==typeof T&&T!==1/0?dt(pt(-1e5,l.translate(T,0,1,0,1)),1e5):L,v.isInside=e!==L&&e>=0&&e<=l.len&&t>=0&&t<=o.len,v.clientX=f?o.translate(S,0,0,0,1):t,v.negative=v.y<(g||0),v.category=s&&s[v.x]!==L?s[v.x]:v.x,i&&(y=dt(y,ft(t-n))),n=t}this.closestPointRangePx=y,this.getSegments()},setClip:function(t){var e=this.chart,n=e.renderer,i=e.inverted,r=this.clipBox,a=r||e.clipBox,o=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,a.height].join(","),s=e[o],l=e[o+"m"];s||(t&&(a.width=0,e[o+"m"]=l=n.clipRect(-99,i?-e.plotLeft:-e.plotTop,99,i?e.chartWidth:e.chartHeight)),e[o]=s=n.clipRect(a)),t&&(s.count+=1),this.options.clip!==!1&&(this.group.clip(t||r?s:e.clipRect),this.markerGroup.clip(l),this.sharedClipKey=o),t||(s.count-=1,s.count<=0&&o&&e[o]&&(r||(e[o]=e[o].destroy()),e[o+"m"]&&(e[o+"m"]=e[o+"m"].destroy())))},animate:function(t){var e,n=this.chart,r=this.options.animation;r&&!i(r)&&(r=ae[this.type].animation),t?this.setClip(r):(e=this.sharedClipKey,(t=n[e])&&t.animate({width:n.plotSizeX},r),n[e+"m"]&&n[e+"m"].animate({width:n.plotSizeX+99},r),this.animate=null)},afterAnimate:function(){this.setClip(),ee(this,"afterAnimate")},drawPoints:function(){var t,e,n,i,r,a,o,s,l,u,c,h,p=this.points,d=this.chart,f=this.options.marker,g=this.pointAttr[""],m=this.markerGroup,y=Bt(f.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*f.radius);if(f.enabled!==!1||this._hasPointMarkers)for(i=p.length;i--;)r=p[i],e=ct(r.plotX),n=r.plotY,l=r.graphic,u=r.marker||{},c=!!r.marker,t=y&&u.enabled===L||u.enabled,h=r.isInside,t&&n!==L&&!isNaN(n)&&null!==r.y?(t=r.pointAttr[r.selected?"select":""]||g,a=t.r,o=Bt(u.symbol,this.symbol),s=0===o.indexOf("url"),l?l[h?"show":"hide"](!0).animate(zt({x:e-a,y:n-a},l.symbolName?{width:2*a,height:2*a}:{})):h&&(a>0||s)&&(r.graphic=d.renderer.symbol(o,e-a,n-a,2*a,2*a,c?u:f).attr(t).add(m))):l&&(r.graphic=l.destroy())},convertAttribs:function(t,e,n,i){var r,a,o=this.pointAttrToOptions,s={},t=t||{},e=e||{},n=n||{},i=i||{};for(r in o)a=o[r],s[r]=Bt(t[a],e[r],n[r],i[r]);return s},getAttribs:function(){var t,e=this,n=e.options,i=ae[e.type].marker?n.marker:n,r=i.states,a=r.hover,o=e.color,s=e.options.negativeColor;t={stroke:o,fill:o};var l,c,h=e.points||[],p=[],d=e.pointAttrToOptions;l=e.hasPointSpecificOptions;var f=i.lineColor,g=i.fillColor;c=n.turboThreshold;var m,y=e.zones,v=e.zoneAxis||"y";if(n.marker?(a.radius=a.radius||i.radius+a.radiusPlus,a.lineWidth=a.lineWidth||i.lineWidth+a.lineWidthPlus):(a.color=a.color||ue(a.color||o).brighten(a.brightness).get(),a.negativeColor=a.negativeColor||ue(a.negativeColor||s).brighten(a.brightness).get()),p[""]=e.convertAttribs(i,t),Gt(["hover","select"],function(t){p[t]=e.convertAttribs(r[t],p[""])}),e.pointAttr=p,o=h.length,!c||o<c||l)for(;o--;){if(c=h[o],(i=c.options&&c.options.marker||c.options)&&i.enabled===!1&&(i.radius=0),y.length){for(l=0,t=y[l];c[v]>=t.value;)t=y[++l];t.color&&(c.color=c.fillColor=t.color)}if(l=n.colorByPoint||c.color,c.options)for(m in d)u(i[d[m]])&&(l=!0);l?(i=i||{},l=[],r=i.states||{},t=r.hover=r.hover||{},n.marker||(t.color=t.color||!c.options.color&&a[c.negative&&s?"negativeColor":"color"]||ue(c.color).brighten(t.brightness||a.brightness).get()),t={color:c.color},g||(t.fillColor=c.color),f||(t.lineColor=c.color),i.hasOwnProperty("color")&&!i.color&&delete i.color,l[""]=e.convertAttribs(zt(t,i),p[""]),l.hover=e.convertAttribs(r.hover,p.hover,l[""]),l.select=e.convertAttribs(r.select,p.select,l[""])):l=p,c.pointAttr=l}},destroy:function(){var t,e,n,i,r=this,a=r.chart,o=/AppleWebKit\/533/.test(St),s=r.data||[];for(ee(r,"destroy"),te(r),Gt(r.axisTypes||[],function(t){(i=r[t])&&(l(i.series,r),i.isDirty=i.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),t=s.length;t--;)(e=s[t])&&e.destroy&&e.destroy();r.points=null,clearTimeout(r.animationTimeout);for(n in r)r[n]instanceof $&&!r[n].survive&&(t=o&&"group"===n?"hide":"destroy",r[n][t]());a.hoverSeries===r&&(a.hoverSeries=null),l(a.series,r);for(n in r)delete r[n]},getSegmentPath:function(t){var e=this,n=[],i=e.options.step;return Gt(t,function(r,a){var o,s=r.plotX,l=r.plotY;e.getPointSpline?n.push.apply(n,e.getPointSpline(t,r,a)):(n.push(a?"L":"M"),i&&a&&(o=t[a-1],"right"===i?n.push(o.plotX,l):"center"===i?n.push((o.plotX+s)/2,o.plotY,(o.plotX+s)/2,l):n.push(s,o.plotY)),n.push(r.plotX,r.plotY))}),n},getGraphPath:function(){var t,e=this,n=[],i=[];return Gt(e.segments,function(r){t=e.getSegmentPath(r),r.length>1?n=n.concat(t):i.push(r[0])}),e.singlePoints=i,e.graphPath=n},drawGraph:function(){var t=this,e=this.options,n=[["graph",e.lineColor||this.color,e.dashStyle]],i=e.lineWidth,r="square"!==e.linecap,a=this.getGraphPath(),o=this.fillGraph&&this.color||Xt;Gt(this.zones,function(i,r){n.push(["zoneGraph"+r,i.color||t.color,i.dashStyle||e.dashStyle])}),Gt(n,function(n,s){var l=n[0],u=t[l];u?u.animate({d:a}):(i||o)&&a.length&&(u={stroke:n[1],"stroke-width":i,fill:o,zIndex:1},n[2]?u.dashstyle=n[2]:r&&(u["stroke-linecap"]=u["stroke-linejoin"]="round"),t[l]=t.chart.renderer.path(a).attr(u).add(t.group).shadow(s<2&&e.shadow))})},applyZones:function(){var t,e,n,i,r,a,o,s=this,l=this.chart,u=l.renderer,c=this.zones,h=this.clips||[],p=this.graph,d=this.area,f=pt(l.chartWidth,l.chartHeight),g=this[(this.zoneAxis||"y")+"Axis"],m=g.reversed,y=l.inverted,v=g.horiz,S=!1;c.length&&(p||d)&&g.min!==L&&(p&&p.hide(),d&&d.hide(),i=g.getExtremes(),Gt(c,function(c,T){t=m?v?l.plotWidth:0:v?0:g.toPixels(i.min),t=dt(pt(Bt(e,t),0),f),e=dt(pt(ut(g.toPixels(Bt(c.value,i.max),!0)),0),f),S&&(t=e=g.toPixels(i.max)),r=Math.abs(t-e),a=dt(t,e),o=pt(t,e),g.isXAxis?(n={x:y?o:a,y:0,width:r,height:f},v||(n.x=l.plotHeight-n.x)):(n={x:0,y:y?o:a,width:f,height:r},v&&(n.y=l.plotWidth-n.y)),l.inverted&&u.isVML&&(n=g.isXAxis?{x:0,y:m?a:o,height:n.width,width:l.chartWidth}:{x:n.y-l.plotLeft-l.spacingBox.x,y:0,width:n.height,height:l.chartHeight}),h[T]?h[T].animate(n):(h[T]=u.clipRect(n),p&&s["zoneGraph"+T].clip(h[T]),d&&s["zoneArea"+T].clip(h[T])),S=c.value>i.max}),this.clips=h)},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};Gt(["group","markerGroup"],function(n){e[n]&&e[n].attr(t).invert()})}var e=this,n=e.chart;e.xAxis&&(Qt(n,"resize",t),Qt(e,"destroy",function(){te(n,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,n,i,r){var a=this[t],o=!a;return o&&(this[t]=a=this.chart.renderer.g(e).attr({visibility:n,zIndex:i||.1}).add(r)),a[o?"attr":"animate"](this.getPlotBox()),a},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,n=e.chart,i=e.options,r=(t=i.animation)&&!!e.animate&&n.renderer.isSVG&&Bt(t.duration,500)||0,a=e.visible?"visible":"hidden",o=i.zIndex,s=e.hasRendered,l=n.seriesGroup;t=e.plotGroup("group","series",a,o,l),e.markerGroup=e.plotGroup("markerGroup","markers",a,o,l),r&&e.animate(!0),e.getAttribs(),t.inverted=!!e.isCartesian&&n.inverted,e.drawGraph&&(e.drawGraph(),e.applyZones()),Gt(e.points,function(t){t.redraw&&t.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),n.inverted&&e.invertGroups(),i.clip!==!1&&!e.sharedClipKey&&!s&&t.clip(n.clipRect),r&&e.animate(),s||(r?e.animationTimeout=setTimeout(function(){e.afterAnimate()},r):e.afterAnimate()),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirtyData,n=this.isDirty,i=this.group,r=this.xAxis,a=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:Bt(r&&r.left,t.plotLeft),translateY:Bt(a&&a.top,t.plotTop)})),this.translate(),this.render(),e&&ee(this,"updatedData"),(n||e)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var n=this.xAxis,i=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:r?i.len-t.chartX+i.pos:t.chartY-i.pos},e)},buildKDTree:function(){function t(e,i,r){var a,o;if(o=e&&e.length)return a=n.kdAxisArray[i%r],e.sort(function(t,e){return t[a]-e[a]}),o=Math.floor(o/2),{point:e[o],left:t(e.slice(0,o),i+1,r),right:t(e.slice(o+1),i+1,r)}}function e(){var e=Jt(n.points||[],function(t){return null!==t.y});n.kdTree=t(e,i,i)}var n=this,i=n.kdDimensions;delete n.kdTree,n.options.kdSync?e():setTimeout(e)},searchKDTree:function(t,e){function n(t,e,s,l){var c,h,p=e.point,d=i.kdAxisArray[s%l],f=p;return h=u(t[r])&&u(p[r])?Math.pow(t[r]-p[r],2):null,c=u(t[a])&&u(p[a])?Math.pow(t[a]-p[a],2):null,c=(h||0)+(c||0),p.dist=u(c)?Math.sqrt(c):Number.MAX_VALUE,p.distX=u(h)?Math.sqrt(h):Number.MAX_VALUE,d=t[d]-p[d],c=d<0?"left":"right",h=d<0?"right":"left",e[c]&&(c=n(t,e[c],s+1,l),f=c[o]<f[o]?c:p),e[h]&&Math.sqrt(d*d)<f[o]&&(t=n(t,e[h],s+1,l),f=t[o]<f[o]?t:f),f}var i=this,r=this.kdAxisArray[0],a=this.kdAxisArray[1],o=e?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return n(t,this.kdTree,this.kdDimensions,this.kdDimensions)}},E.prototype={destroy:function(){M(this,this.axis)},render:function(t){var e=this.options,n=e.format,n=n?y(n,this):e.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var n=this.axis,i=n.chart,r=i.inverted,a=n.reversed,a=this.isNegative&&!a||!this.isNegative&&a,o=n.translate(n.usePercentage?100:this.total,0,0,0,1),n=n.translate(0),n=ft(o-n),s=i.xAxis[0].translate(this.x)+t,l=i.plotHeight,a={x:r?a?o:o-n:s,y:r?l-s-e:a?l-o-n:l-o,width:r?n:e,height:r?e:n};(r=this.label)&&(r.align(this.alignOptions,null,a),a=r.alignAttr,r[this.options.crop===!1||i.isInsidePlot(a.x,a.y)?"show":"hide"](!0))}},xe.prototype.getStacks=function(){var t=this;Gt(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),Gt(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+Bt(e.options.stack,""))})},de.prototype.buildStacks=function(){var t=this.series,e=Bt(this.options.reversedStacks,!0),n=t.length;if(!this.isXAxis){for(this.usePercentage=!1;n--;)t[e?n:t.length-n-1].setStackedPoints();if(this.usePercentage)for(n=0;n<t.length;n++)t[n].setPercentStacks()}},de.prototype.renderStackTotals=function(){var t,e,n=this.chart,i=n.renderer,r=this.stacks,a=this.stackTotalGroup;a||(this.stackTotalGroup=a=i.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),a.translate(n.plotLeft,n.plotTop);for(t in r)for(e in n=r[t])n[e].render(a)},de.prototype.resetStacks=function(){var t,e,n=this.stacks;if(!this.isXAxis)for(t in n)for(e in n[t])n[t][e].touched<this.stacksTouched?(n[t][e].destroy(),delete n[t][e]):(n[t][e].total=null,n[t][e].cum=0)},de.prototype.cleanStacks=function(){var t,e,n;if(!this.isXAxis){this.oldStacks&&(t=this.stacks=this.oldStacks);for(e in t)for(n in t[e])t[e][n].cum=t[e][n].total}},Ae.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t,e,n,i,r,a,o=this.processedXData,s=this.processedYData,l=[],u=s.length,c=this.options,h=c.threshold,p=c.startFromThreshold?h:0,d=c.stack,c=c.stacking,f=this.stackKey,g="-"+f,m=this.negStacks,y=this.yAxis,v=y.stacks,S=y.oldStacks;for(y.stacksTouched+=1,i=0;i<u;i++)r=o[i],a=s[i],n=this.index+","+i,e=(t=m&&a<(p?0:h))?g:f,v[e]||(v[e]={}),v[e][r]||(S[e]&&S[e][r]?(v[e][r]=S[e][r],v[e][r].total=null):v[e][r]=new E(y,y.options.stackLabels,t,r,d)),e=v[e][r],e.points[n]=[Bt(e.cum,p)],e.touched=y.stacksTouched,"percent"===c?(t=t?f:g,m&&v[t]&&v[t][r]?(t=v[t][r],e.total=t.total=pt(t.total,e.total)+ft(a)||0):e.total=C(e.total+(ft(a)||0))):e.total=C(e.total+(a||0)),e.cum=Bt(e.cum,p)+(a||0),e.points[n].push(e.cum),l[i]=e.cum;"percent"===c&&(y.usePercentage=!0),this.stackedYData=l,y.oldStacks={}}},Ae.prototype.setPercentStacks=function(){var t=this,e=t.stackKey,n=t.yAxis.stacks,i=t.processedXData;Gt([e,"-"+e],function(e){for(var r,a,o,s=i.length;s--;)a=i[s],r=(o=n[e]&&n[e][a])&&o.points[t.index+","+s],(a=r)&&(o=o.total?100/o.total:0,a[0]=C(a[0]*o),a[1]=C(a[1]*o),t.stackedYData[s]=a[1])})},zt(xe.prototype,{addSeries:function(t,e,n){var i,r=this;return t&&(e=Bt(e,!0),ee(r,"addSeries",{options:t},function(){i=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),e&&r.redraw(n)})),i},addAxis:function(e,n,i,r){var a=n?"xAxis":"yAxis",o=this.options;new de(this,t(e,{index:this[a].length,isX:n})),o[a]=h(o[a]||{}),o[a].push(e),Bt(i,!0)&&this.redraw(r)},showLoading:function(t){var e=this,n=e.options,i=e.loadingDiv,r=n.loading,a=function(){i&&p(i,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};i||(e.loadingDiv=i=d(Nt,{className:"highcharts-loading"},zt(r.style,{zIndex:10,display:Xt}),e.container),e.loadingSpan=d("span",null,r.labelStyle,i),Qt(e,"redraw",a)),e.loadingSpan.innerHTML=t||n.lang.loading,e.loadingShown||(p(i,{opacity:0,display:""}),ie(i,{opacity:r.style.opacity},{duration:r.showDuration||0}),e.loadingShown=!0),a()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&ie(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){p(e,{display:Xt})}}),this.loadingShown=!1}}),zt(we.prototype,{update:function(t,e,n,a){function o(){l.applyOptions(t),null===l.y&&c&&(l.graphic=c.destroy()),i(t)&&!r(t)&&(l.redraw=function(){c&&c.element&&t&&t.marker&&t.marker.symbol&&(l.graphic=c.destroy()),t&&t.dataLabels&&l.dataLabel&&(l.dataLabel=l.dataLabel.destroy()),l.redraw=null}),s=l.index,u.updateParallelArrays(l,s),d&&l.name&&(d[l.x]=l.name),p.data[s]=l.options,u.isDirty=u.isDirtyData=!0,!u.fixedBox&&u.hasCartesianSeries&&(h.isDirtyBox=!0),"point"===p.legendType&&(h.isDirtyLegend=!0),e&&h.redraw(n)}var s,l=this,u=l.series,c=l.graphic,h=u.chart,p=u.options,d=u.xAxis&&u.xAxis.names,e=Bt(e,!0);a===!1?o():l.firePointEvent("update",{options:t},o)},remove:function(t,e){this.series.removePoint(qt(this,this.series.data),t,e)}}),zt(Ae.prototype,{addPoint:function(t,e,n,i){var r,a=this,o=a.options,s=a.data,l=a.graph,u=a.area,c=a.chart,h=a.xAxis&&a.xAxis.names,p=l&&l.shift||0,d=["graph","area"],l=o.data,f=a.xData;if(k(i,c),n){for(i=a.zones.length;i--;)d.push("zoneGraph"+i,"zoneArea"+i);Gt(d,function(t){a[t]&&(a[t].shift=p+1)})}if(u&&(u.isArea=!0),e=Bt(e,!0),u={series:a},a.pointClass.prototype.applyOptions.apply(u,[t]),d=u.x,i=f.length,a.requireSorting&&d<f[i-1])for(r=!0;i&&f[i-1]>d;)i--;a.updateParallelArrays(u,"splice",i,0,0),a.updateParallelArrays(u,i),h&&u.name&&(h[d]=u.name),l.splice(i,0,t),r&&(a.data.splice(i,0,null),a.processData()),"point"===o.legendType&&a.generatePoints(),n&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),a.updateParallelArrays(u,"shift"),l.shift())),a.isDirty=!0,a.isDirtyData=!0,e&&(a.getAttribs(),c.redraw())},removePoint:function(t,e,n){var i=this,r=i.data,a=r[t],o=i.points,s=i.chart,l=function(){r.length===o.length&&o.splice(t,1),r.splice(t,1),i.options.data.splice(t,1),i.updateParallelArrays(a||{series:i},"splice",t,1),a&&a.destroy(),i.isDirty=!0,i.isDirtyData=!0,e&&s.redraw()};k(n,s),e=Bt(e,!0),a?a.firePointEvent("remove",null,l):l()},remove:function(t,e){var n=this,i=n.chart,t=Bt(t,!0);n.isRemoving||(n.isRemoving=!0,ee(n,"remove",null,function(){n.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,i.linkSeries(),t&&i.redraw(e)})),n.isRemoving=!1},update:function(e,n){var i,r=this,a=this.chart,o=this.userOptions,s=this.type,l=Ht[s].prototype,u=["group","markerGroup","dataLabelsGroup"];(e.type&&e.type!==s||void 0!==e.zIndex)&&(u.length=0),Gt(u,function(t){u[t]=r[t],delete r[t]}),e=t(o,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},e),this.remove(!1);for(i in l)this[i]=L;zt(this,Ht[e.type||s].prototype),Gt(u,function(t){r[t]=u[t]}),this.init(a,e),a.linkSeries(),Bt(n,!0)&&a.redraw(!1)}}),zt(de.prototype,{update:function(e,n){var i=this.chart,e=i.options[this.coll][this.options.index]=t(this.userOptions,e);this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=L,this.init(i,zt(e,{events:L})),i.isDirtyBox=!0,Bt(n,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);l(e.axes,this),l(e[n],this),e.options[n].splice(this.options.index,1),Gt(e[n],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,Bt(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}});var Ce=f(Ae);Ht.line=Ce,ae.area=t(Yt,{threshold:0});var ke=f(Ae,{type:"area",getSegments:function(){var t,e,n,i,r=this,a=[],o=[],s=[],l=this.xAxis,u=this.yAxis,c=u.stacks[this.stackKey],h={},p=this.points,d=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(n=0;n<p.length;n++)h[p[n].x]=p[n];for(i in c)null!==c[i].total&&s.push(+i);s.sort(function(t,e){return t-e}),Gt(s,function(i){var a,s=0;if(!d||h[i]&&null!==h[i].y)if(h[i])o.push(h[i]);else{for(n=r.index;n<=u.series.length;n++)if(a=c[i].points[n+","+i]){s=a[1];break}t=l.translate(i),e=u.toPixels(s,!0),o.push({y:null,plotX:t,clientX:t,plotY:e,yBottom:e,onMouseOver:Ot})}}),o.length&&a.push(o)}else Ae.prototype.getSegments.call(this),a=this.segments;this.segments=a},getSegmentPath:function(t){var e,n=Ae.prototype.getSegmentPath.call(this,t),i=[].concat(n),r=this.options;e=n.length;var a,o=this.yAxis.getThreshold(r.threshold);if(3===e&&i.push("L",n[1],n[2]),r.stacking&&!this.closedStacks)for(e=t.length-1;e>=0;e--)a=Bt(t[e].yBottom,o),e<t.length-1&&r.step&&i.push(t[e+1].plotX,a),i.push(t[e].plotX,a);else this.closeSegment(i,t,o);return this.areaPath=this.areaPath.concat(i),n},closeSegment:function(t,e,n){t.push("L",e[e.length-1].plotX,n,"L",e[0].plotX,n)},drawGraph:function(){this.areaPath=[],Ae.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,n=this.options,i=[["area",this.color,n.fillColor]];Gt(this.zones,function(e,r){i.push(["zoneArea"+r,e.color||t.color,e.fillColor||n.fillColor])}),Gt(i,function(i){var r=i[0],a=t[r];a?a.animate({d:e}):t[r]=t.chart.renderer.path(e).attr({fill:Bt(i[2],ue(i[1]).setOpacity(Bt(n.fillOpacity,.75)).get()),zIndex:0}).add(t.group)})},drawLegendSymbol:Ut.drawRectangle});Ht.area=ke,ae.spline=t(Yt),Ce=f(Ae,{type:"spline",getPointSpline:function(t,e,n){var i,r,a,o,s=e.plotX,l=e.plotY,u=t[n-1],c=t[n+1];if(u&&c){t=u.plotY,a=c.plotX;var h,c=c.plotY;i=(1.5*s+u.plotX)/2.5,r=(1.5*l+t)/2.5,a=(1.5*s+a)/2.5,o=(1.5*l+c)/2.5,h=(o-r)*(a-s)/(a-i)+l-o,r+=h,o+=h,r>t&&r>l?(r=pt(t,l),o=2*l-r):r<t&&r<l&&(r=dt(t,l),o=2*l-r),o>c&&o>l?(o=pt(c,l),r=2*l-o):o<c&&o<l&&(o=dt(c,l),r=2*l-o),e.rightContX=a,e.rightContY=o}return n?(e=["C",u.rightContX||u.plotX,u.rightContY||u.plotY,i||s,r||l,s,l],u.rightContX=u.rightContY=null):e=["M",s,l],e}}),Ht.spline=Ce,ae.areaspline=t(ae.area),ke=ke.prototype,Ce=f(Ce,{type:"areaspline",closedStacks:!0,getSegmentPath:ke.getSegmentPath,closeSegment:ke.closeSegment,drawGraph:ke.drawGraph,drawLegendSymbol:Ut.drawRectangle}),Ht.areaspline=Ce,ae.column=t(Yt,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0}),Ce=f(Ae,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Ae.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&Gt(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e,n=this,i=n.options,r=n.xAxis,a=n.yAxis,o=r.reversed,s={},l=0;i.grouping===!1?l=1:Gt(n.chart.series,function(i){var r=i.options,o=i.yAxis;i.type===n.type&&i.visible&&a.len===o.len&&a.pos===o.pos&&(r.stacking?(t=i.stackKey,s[t]===L&&(s[t]=l++),e=s[t]):r.grouping!==!1&&(e=l++),i.columnIndex=e)});var u=dt(ft(r.transA)*(r.ordinalSlope||i.pointRange||r.closestPointRange||r.tickInterval||1),r.len),c=u*i.groupPadding,h=(u-2*c)/l,i=dt(i.maxPointWidth||r.len,Bt(i.pointWidth,h*(1-2*i.pointPadding)));return n.columnMetrics={width:i,offset:(h-i)/2+(c+((o?l-(n.columnIndex||0):n.columnIndex)||0)*h-u/2)*(o?-1:1)}},translate:function(){var t=this,e=t.chart,n=t.options,i=t.borderWidth=Bt(n.borderWidth,t.closestPointRange*t.xAxis.transA<2?0:1),r=t.yAxis,a=t.translatedThreshold=r.getThreshold(n.threshold),o=Bt(n.minPointLength,5),s=t.getColumnMetrics(),l=s.width,u=t.barW=pt(l,1+2*i),c=t.pointXOffset=s.offset,h=-(i%2?.5:0),p=i%2?.5:1;e.inverted&&(a-=.5,e.renderer.isVML&&(p+=1)),n.pointPadding&&(u=ht(u)),Ae.prototype.translate.apply(t),Gt(t.points,function(n){var i,s,d=Bt(n.yBottom,a),f=999+ft(d),f=dt(pt(-f,n.plotY),r.len+f),g=n.plotX+c,m=u,y=dt(f,d);i=pt(f,d)-y,ft(i)<o&&o&&(i=o,s=!r.reversed&&!n.negative||r.reversed&&n.negative,y=ut(ft(y-a)>o?d-o:a-(s?o:0))),n.barX=g,n.pointWidth=l,m=ut(g+m)+h,g=ut(g)+h,m-=g,d=ft(y)<.5,i=dt(ut(y+i)+p,9e4),y=ut(y)+p,i-=y,d&&(y-=1,i+=1),n.tooltipPos=e.inverted?[r.len+r.pos-e.plotLeft-f,t.xAxis.len-g-m/2,i]:[g+m/2,f+r.pos-e.plotTop,i],n.shapeType="rect",n.shapeArgs={x:g,y:y,width:m,height:i}})},getSymbol:Ot,drawLegendSymbol:Ut.drawRectangle,drawGraph:Ot,drawPoints:function(){var e,n,i=this,r=this.chart,a=i.options,o=r.renderer,s=a.animationLimit||250;Gt(i.points,function(l){var c=l.plotY,h=l.graphic;c===L||isNaN(c)||null===l.y?h&&(l.graphic=h.destroy()):(e=l.shapeArgs,c=u(i.borderWidth)?{"stroke-width":i.borderWidth}:{},n=l.pointAttr[l.selected?"select":""]||i.pointAttr[""],h?(re(h),h.attr(c)[r.pointCount<s?"animate":"attr"](t(e))):l.graphic=o[l.shapeType](e).attr(c).attr(n).add(i.group).shadow(a.shadow,null,a.stacking&&!a.borderRadius))})},animate:function(t){var e=this.yAxis,n=this.options,i=this.chart.inverted,r={};kt&&(t?(r.scaleY=.001,t=dt(e.pos+e.len,pt(e.pos,e.toPixels(n.threshold))),i?r.translateX=t-e.len:r.translateY=t,this.group.attr(r)):(r.scaleY=1,r[i?"translateX":"translateY"]=e.pos,this.group.animate(r,this.options.animation),this.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&Gt(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),Ae.prototype.remove.apply(t,arguments)}}),Ht.column=Ce,ae.bar=t(ae.column),ke=f(Ce,{type:"bar",inverted:!0}),Ht.bar=ke,ae.scatter=t(Yt,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),ke=f(Ae,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&Ae.prototype.drawGraph.call(this)}}),Ht.scatter=ke,ae.pie=t(Yt,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),Yt={type:"pie",isCartesian:!1,pointClass:f(we,{init:function(){we.prototype.init.apply(this,arguments);var t,e=this;return zt(e,{visible:e.visible!==!1,name:Bt(e.name,"Slice")}),t=function(t){e.slice("select"===t.type)},Qt(e,"select",t),Qt(e,"unselect",t),e},setVisible:function(t,e){var n=this,i=n.series,r=i.chart,a=i.options.ignoreHiddenPoint,e=Bt(e,a);t!==n.visible&&(n.visible=n.options.visible=t=t===L?!n.visible:t,i.options.data[qt(n,i.data)]=n.options,Gt(["graphic","dataLabel","connector","shadowGroup"],function(e){n[e]&&n[e][t?"show":"hide"](!0)}),n.legendItem&&r.legend.colorizeItem(n,t),!t&&"hover"===n.state&&n.setState(""),a&&(i.isDirty=!0),e&&r.redraw())},slice:function(t,e,n){var i=this.series;k(n,i.chart),Bt(e,!0),this.sliced=this.options.sliced=t=u(t)?t:!this.sliced,i.options.data[qt(this,i.data)]=this.options,t=t?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)},haloPath:function(t){var e=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+e.x,n.plotTop+e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(t){var e=this,n=e.points,i=e.startAngleRad;t||(Gt(n,function(t){var n=t.graphic,r=t.shapeArgs;n&&(n.attr({r:t.startR||e.center[3]/2,start:i,end:i}),n.animate({r:r.r,start:r.start,end:r.end},e.options.animation))}),e.animate=null)},setData:function(t,e,n,i){Ae.prototype.setData.call(this,t,!1,n,i),this.processData(),this.generatePoints(),Bt(e,!0)&&this.chart.redraw(n)},updateTotals:function(){var t,e,n=0,i=this.points,r=i.length,a=this.options.ignoreHiddenPoint;for(t=0;t<r;t++)e=i[t],n+=a&&!e.visible?0:e.y;for(this.total=n,t=0;t<r;t++)e=i[t],e.percentage=n>0&&(e.visible||!a)?e.y/n*100:0,e.total=n},generatePoints:function(){Ae.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,n,i,r,a,o=0,s=this.options,l=s.slicedOffset,u=l+s.borderWidth,c=s.startAngle||0,h=this.startAngleRad=yt/180*(c-90),c=(this.endAngleRad=yt/180*(Bt(s.endAngle,c+360)-90))-h,p=this.points,d=s.dataLabels.distance,s=s.ignoreHiddenPoint,f=p.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,n){return i=lt.asin(dt((e-t[1])/(t[2]/2+d),1)),t[0]+(n?-1:1)*gt(i)*(t[2]/2+d)},r=0;r<f;r++)a=p[r],e=h+o*c,s&&!a.visible||(o+=a.percentage/100),n=h+o*c,a.shapeType="arc",a.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:ut(1e3*e)/1e3,end:ut(1e3*n)/1e3},i=(n+e)/2,i>1.5*yt?i-=2*yt:i<-yt/2&&(i+=2*yt),a.slicedTranslation={translateX:ut(gt(i)*l),translateY:ut(mt(i)*l)},e=gt(i)*t[2]/2,n=mt(i)*t[2]/2,a.tooltipPos=[t[0]+.7*e,t[1]+.7*n],a.half=i<-yt/2||i>yt/2?1:0,a.angle=i,u=dt(u,d/2),a.labelPos=[t[0]+e+gt(i)*d,t[1]+n+mt(i)*d,t[0]+e+gt(i)*u,t[1]+n+mt(i)*u,t[0]+e,t[1]+n,d<0?"center":a.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var t,e,n,i,r,a=this,o=a.chart.renderer,s=a.options.shadow;s&&!a.shadowGroup&&(a.shadowGroup=o.g("shadow").add(a.group)),Gt(a.points,function(l){null!==l.y&&(e=l.graphic,i=l.shapeArgs,n=l.shadowGroup,s&&!n&&(n=l.shadowGroup=o.g("shadow").add(a.shadowGroup)),t=l.sliced?l.slicedTranslation:{translateX:0,translateY:0},n&&n.attr(t),e?e.animate(zt(i,t)):(r={"stroke-linejoin":"round"},l.visible||(r.visibility="hidden"),l.graphic=e=o[l.shapeType](i).setRadialReference(a.center).attr(l.pointAttr[l.selected?"select":""]).attr(r).attr(t).add(a.group).shadow(s,n)))})},searchPoint:Ot,sortByAngle:function(t,e){t.sort(function(t,n){return void 0!==t.angle&&(n.angle-t.angle)*e})},drawLegendSymbol:Ut.drawRectangle,getCenter:Me.getCenter,getSymbol:Ot},Yt=f(Ae,Yt),Ht.pie=Yt,Ae.prototype.drawDataLabels=function(){var e,n,i,r,a=this,o=a.options,s=o.cursor,l=o.dataLabels,c=a.points,h=a.hasRendered||0,p=a.chart.renderer;(l.enabled||a._hasPointLabels)&&(a.dlProcessOptions&&a.dlProcessOptions(l),r=a.plotGroup("dataLabelsGroup","data-labels",l.defer?"hidden":"visible",l.zIndex||6),Bt(l.defer,!0)&&(r.attr({opacity:+h}),h||Qt(a,"afterAnimate",function(){a.visible&&r.show(),r[o.animation?"animate":"attr"]({opacity:1},{duration:200})})),n=l,Gt(c,function(c){var h,d,f,g,m=c.dataLabel,v=c.connector,S=!0,T={};if(e=c.dlOptions||c.options&&c.options.dataLabels,h=Bt(e&&e.enabled,n.enabled),m&&!h)c.dataLabel=m.destroy();else if(h){if(l=t(n,e),g=l.style,h=l.rotation,d=c.getLabelConfig(),i=l.format?y(l.format,d):l.formatter.call(d,l),g.color=Bt(l.color,g.color,a.color,"black"),m)u(i)?(m.attr({text:i}),S=!1):(c.dataLabel=m=m.destroy(),v&&(c.connector=v.destroy()));else if(u(i)){m={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":l.borderWidth,r:l.borderRadius||0,rotation:h,padding:l.padding,zIndex:1},"contrast"===g.color&&(T.color=l.inside||l.distance<0||o.stacking?p.getContrast(c.color||a.color):"#000000"),s&&(T.cursor=s);for(f in m)m[f]===L&&delete m[f];m=c.dataLabel=p[h?"text":"label"](i,0,-999,l.shape,null,null,l.useHTML).attr(m).css(zt(g,T)).add(r).shadow(l.shadow)}m&&a.alignDataLabel(c,m,l,null,S)}}))},Ae.prototype.alignDataLabel=function(t,e,n,i,r){var a=this.chart,o=a.inverted,s=Bt(t.plotX,-999),l=Bt(t.plotY,-999),u=e.getBBox(),c=a.renderer.fontMetrics(n.style.fontSize).b,h=this.visible&&(t.series.forceDL||a.isInsidePlot(s,ut(l),o)||i&&a.isInsidePlot(s,o?i.x+1:i.y+i.height-1,o));h&&(i=zt({x:o?a.plotWidth-l:s,y:ut(o?a.plotHeight-s:l),width:0,height:0},i),zt(n,{width:u.width,height:u.height}),n.rotation?(t=a.renderer.rotCorr(c,n.rotation),e[r?"attr":"animate"]({x:i.x+n.x+i.width/2+t.x,y:i.y+n.y+i.height/2}).attr({align:n.align})):(e.align(n,null,i),o=e.alignAttr,"justify"===Bt(n.overflow,"justify")?this.justifyDataLabel(e,n,o,u,i,r):Bt(n.crop,!0)&&(h=a.isInsidePlot(o.x,o.y)&&a.isInsidePlot(o.x+u.width,o.y+u.height)),n.shape&&e.attr({anchorX:t.plotX,anchorY:t.plotY}))),h||(e.attr({y:-999}),e.placed=!1)},Ae.prototype.justifyDataLabel=function(t,e,n,i,r,a){var o,s,l=this.chart,u=e.align,c=e.verticalAlign,h=t.box?0:t.padding||0;o=n.x+h,o<0&&("right"===u?e.align="left":e.x=-o,s=!0),o=n.x+i.width-h,o>l.plotWidth&&("left"===u?e.align="right":e.x=l.plotWidth-o,s=!0),o=n.y+h,o<0&&("bottom"===c?e.verticalAlign="top":e.y=-o,s=!0),o=n.y+i.height-h,o>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-o,s=!0),s&&(t.placed=!a,t.align(e,null,r))},Ht.pie&&(Ht.pie.prototype.drawDataLabels=function(){var t,e,n,i,r,a,o,s,l,u,c,h=this,p=h.data,d=h.chart,f=h.options.dataLabels,g=Bt(f.connectorPadding,10),m=Bt(f.connectorWidth,1),y=d.plotWidth,v=d.plotHeight,S=Bt(f.softConnector,!0),T=f.distance,b=h.center,M=b[2]/2,w=b[1],A=T>0,C=[[],[]],k=[0,0,0,0],D=function(t,e){return e.y-t.y};if(h.visible&&(f.enabled||h._hasPointLabels)){for(Ae.prototype.drawDataLabels.apply(h),Gt(p,function(t){t.dataLabel&&t.visible&&C[t.half].push(t)}),u=2;u--;){var $,P=[],E=[],O=C[u],_=O.length;if(_){for(h.sortByAngle(O,u-.5),c=p=0;!p&&O[c];)p=O[c]&&O[c].dataLabel&&(O[c].dataLabel.getBBox().height||21),c++;if(T>0){for(r=dt(w+M+T,d.plotHeight),c=pt(0,w-M-T);c<=r;c+=p)P.push(c);if(r=P.length,_>r){for(t=[].concat(O),t.sort(D),c=_;c--;)t[c].rank=c;for(c=_;c--;)O[c].rank>=r&&O.splice(c,1);_=O.length}for(c=0;c<_;c++){t=O[c],a=t.labelPos,t=9999;var L,N;for(N=0;N<r;N++)L=ft(P[N]-a[1]),L<t&&(t=L,$=N);if($<c&&null!==P[c])$=c;else for(r<_-c+$&&null!==P[c]&&($=r-_+c);null===P[$];)$++;
E.push({i:$,y:P[$]}),P[$]=null}E.sort(D)}for(c=0;c<_;c++)t=O[c],a=t.labelPos,i=t.dataLabel,l=t.visible===!1?"hidden":"inherit",t=a[1],T>0?(r=E.pop(),$=r.i,s=r.y,(t>s&&null!==P[$+1]||t<s&&null!==P[$-1])&&(s=dt(pt(0,t),d.plotHeight))):s=t,o=f.justify?b[0]+(u?-1:1)*(M+T):h.getX(s===w-M-T||s===w+M+T?t:s,u),i._attr={visibility:l,align:a[6]},i._pos={x:o+f.x+({left:g,right:-g}[a[6]]||0),y:s+f.y-10},i.connX=o,i.connY=s,null===this.options.size&&(r=i.width,o-r<g?k[3]=pt(ut(r-o+g),k[3]):o+r>y-g&&(k[1]=pt(ut(o+r-y+g),k[1])),s-p/2<0?k[0]=pt(ut(-s+p/2),k[0]):s+p/2>v&&(k[2]=pt(ut(s+p/2-v),k[2])))}}(0===x(k)||this.verifyDataLabelOverflow(k))&&(this.placeDataLabels(),A&&m&&Gt(this.points,function(t){e=t.connector,a=t.labelPos,(i=t.dataLabel)&&i._pos&&t.visible?(l=i._attr.visibility,o=i.connX,s=i.connY,n=S?["M",o+("left"===a[6]?5:-5),s,"C",o,s,2*a[2]-a[4],2*a[3]-a[5],a[2],a[3],"L",a[4],a[5]]:["M",o+("left"===a[6]?5:-5),s,"L",a[2],a[3],"L",a[4],a[5]],e?(e.animate({d:n}),e.attr("visibility",l)):t.connector=e=h.chart.renderer.path(n).attr({"stroke-width":m,stroke:f.connectorColor||t.color||"#606060",visibility:l}).add(h.dataLabelsGroup)):e&&(t.connector=e.destroy())}))}},Ht.pie.prototype.placeDataLabels=function(){Gt(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-999}))})},Ht.pie.prototype.alignDataLabel=Ot,Ht.pie.prototype.verifyDataLabelOverflow=function(t){var e,n=this.center,i=this.options,r=i.center,a=i.minSize||80,o=a;return null!==r[0]?o=pt(n[2]-pt(t[1],t[3]),a):(o=pt(n[2]-t[1]-t[3],a),n[0]+=(t[3]-t[1])/2),null!==r[1]?o=pt(dt(o,n[2]-pt(t[0],t[2])),a):(o=pt(dt(o,n[2]-t[0]-t[2]),a),n[1]+=(t[0]-t[2])/2),o<n[2]?(n[2]=o,n[3]=/%$/.test(i.innerSize||0)?o*parseFloat(i.innerSize||0)/100:parseFloat(i.innerSize||0),this.translate(n),Gt(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),Ht.column&&(Ht.column.prototype.alignDataLabel=function(e,n,i,r,a){var o=this.chart.inverted,s=e.series,l=e.dlBox||e.shapeArgs,u=Bt(e.below,e.plotY>Bt(this.translatedThreshold,s.yAxis.len)),c=Bt(i.inside,!!this.options.stacking);l&&(r=t(l),o&&(r={x:s.yAxis.len-r.y-r.height,y:s.xAxis.len-r.x-r.width,width:r.height,height:r.width}),!c)&&(o?(r.x+=u?0:r.width,r.width=0):(r.y+=u?r.height:0,r.height=0)),i.align=Bt(i.align,!o||c?"center":u?"right":"left"),i.verticalAlign=Bt(i.verticalAlign,o||c?"middle":u?"top":"bottom"),Ae.prototype.alignDataLabel.call(this,e,n,i,r,a)}),function(t){var e=t.Chart,n=t.each,i=t.pick,r=HighchartsAdapter.addEvent;e.prototype.callbacks.push(function(t){function e(){var e=[];n(t.series,function(t){var r=t.options.dataLabels,a=t.dataLabelCollections||["dataLabel"];(r.enabled||t._hasPointLabels)&&!r.allowOverlap&&t.visible&&n(a,function(r){n(t.points,function(t){t[r]&&(t[r].labelrank=i(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t[r]))})})}),t.hideOverlappingLabels(e)}e(),r(t,"redraw",e)}),e.prototype.hideOverlappingLabels=function(t){var e,i,r,a,o,s,l,u=t.length;for(i=0;i<u;i++)(e=t[i])&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),i=0;i<u;i++)for(r=t[i],e=i+1;e<u;++e)a=t[e],r&&a&&r.placed&&a.placed&&0!==r.newOpacity&&0!==a.newOpacity&&(o=r.alignAttr,s=a.alignAttr,l=2*(r.box?0:r.padding),o=!(s.x>o.x+(r.width-l)||s.x+(a.width-l)<o.x||s.y>o.y+(r.height-l)||s.y+(a.height-l)<o.y))&&((r.labelrank<a.labelrank?r:a).newOpacity=0);n(t,function(t){var e,n;t&&(n=t.newOpacity,t.oldOpacity!==n&&t.placed&&(n?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=n,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(at);var De=at.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,n=e.pointer,i=t.options.cursor,r=i&&{cursor:i},a=function(t){for(var n,i=t.target;i&&!n;)n=i.point,i=i.parentNode;n!==L&&n!==e.hoverPoint&&n.onMouseOver(t)};Gt(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(Gt(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",a).on("mouseout",function(t){n.onTrackerMouseOut(t)}).css(r),X)&&t[e].on("touchstart",a)}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,n=e.options,i=n.trackByArea,r=[].concat(i?e.areaPath:e.graphPath),a=r.length,o=e.chart,s=o.pointer,l=o.renderer,u=o.options.tooltip.snap,c=e.tracker,h=n.cursor,p=h&&{cursor:h},h=e.singlePoints,d=function(){o.hoverSeries!==e&&e.onMouseOver()},f="rgba(192,192,192,"+(kt?1e-4:.002)+")";if(a&&!i)for(t=a+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-u,r[t+2],"L"),(t&&"M"===r[t]||t===a)&&r.splice(t,0,"L",r[t-2]+u,r[t-1]);for(t=0;t<h.length;t++)a=h[t],r.push("M",a.plotX-u,a.plotY,"L",a.plotX+u,a.plotY);c?c.attr({d:r}):(e.tracker=l.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:f,fill:i?f:Xt,"stroke-width":n.lineWidth+(i?0:2*u),zIndex:2}).add(e.group),Gt([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",d).on("mouseout",function(t){s.onTrackerMouseOut(t)}).css(p),X&&t.on("touchstart",d)}))}};Ht.column&&(Ce.prototype.drawTracker=De.drawTrackerPoint),Ht.pie&&(Ht.pie.prototype.drawTracker=De.drawTrackerPoint),Ht.scatter&&(ke.prototype.drawTracker=De.drawTrackerPoint),zt(be.prototype,{setItemEvents:function(t,e,n,i,r){var a=this;(n?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),e.css(a.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?i:r),t.setState()}).on("click",function(e){var n=function(){t.setVisible()},e={browserEvent:e};t.firePointEvent?t.firePointEvent("legendItemClick",e,n):ee(t,"legendItemClick",e,n)})},createCheckboxForItem:function(t){t.checkbox=d("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),Qt(t.checkbox,"click",function(e){ee(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),I.legend.itemStyle.cursor="pointer",zt(xe.prototype,{showResetZoom:function(){var t=this,e=I.lang,n=t.options.chart.resetZoomButton,i=n.theme,r=i.states,a="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},i,r&&r.hover).attr({align:n.position.align,title:e.resetZoomTitle}).add().align(n.position,!1,a)},zoomOut:function(){var t=this;ee(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,n,r=this.pointer,a=!1;!t||t.resetSelection?Gt(this.axes,function(t){e=t.zoom()}):Gt(t.xAxis.concat(t.yAxis),function(t){var n=t.axis,i=n.isXAxis;(r[i?"zoomX":"zoomY"]||r[i?"pinchX":"pinchY"])&&(e=n.zoom(t.min,t.max),n.displayBtn&&(a=!0))}),n=this.resetZoomButton,a&&!n?this.showResetZoom():!a&&i(n)&&(this.resetZoomButton=n.destroy()),e&&this.redraw(Bt(this.options.chart.animation,t&&t.animation,this.pointCount<100))},pan:function(t,e){var n,i=this,r=i.hoverPoints;r&&Gt(r,function(t){t.setState()}),Gt("xy"===e?[1,0]:[1],function(e){var r=t[e?"chartX":"chartY"],a=i[e?"xAxis":"yAxis"][0],o=i[e?"mouseDownX":"mouseDownY"],s=(a.pointRange||0)/2,l=a.getExtremes(),u=a.toValue(o-r,!0)+s,s=a.toValue(o+i[e?"plotWidth":"plotHeight"]-r,!0)-s,o=o>r;a.series.length&&(o||u>dt(l.dataMin,l.min))&&(!o||s<pt(l.dataMax,l.max))&&(a.setExtremes(u,s,!1,!1,{trigger:"pan"}),n=!0),i[e?"mouseDownX":"mouseDownY"]=r}),n&&i.redraw(!1),p(i.container,{cursor:"move"})}}),zt(we.prototype,{select:function(t,e){var n=this,i=n.series,r=i.chart,t=Bt(t,!n.selected);n.firePointEvent(t?"select":"unselect",{accumulate:e},function(){n.selected=n.options.selected=t,i.options.data[qt(n,i.data)]=n.options,n.setState(t&&"select"),e||Gt(r.getSelectedPoints(),function(t){t.selected&&t!==n&&(t.selected=t.options.selected=!1,i.options.data[qt(t,i.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t,e){var n=this.series,i=n.chart,r=i.tooltip,a=i.hoverPoint;i.hoverSeries!==n&&n.onMouseOver(),a&&a!==this&&a.onMouseOut(),this.series&&(this.firePointEvent("mouseOver"),r&&(!r.shared||n.noSharedTooltip)&&r.refresh(this,t),this.setState("hover"),!e)&&(i.hoverPoint=this)},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&qt(this,e)!==-1||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var e,n=t(this.series.options.point,this.options).events;this.events=n;for(e in n)Qt(this,e,n[e]);this.hasImportedEvents=!0}},setState:function(e,n){var i,r=this.plotX,a=this.plotY,o=this.series,s=o.options.states,l=ae[o.type].marker&&o.options.marker,u=l&&!l.enabled,c=l&&l.states[e],h=c&&c.enabled===!1,p=o.stateMarkerGraphic,d=this.marker||{},f=o.chart,g=o.halo,e=e||"";i=this.pointAttr[e]||o.pointAttr[e],e===this.state&&!n||this.selected&&"select"!==e||s[e]&&s[e].enabled===!1||e&&(h||u&&c.enabled===!1)||e&&d.states&&d.states[e]&&d.states[e].enabled===!1||(this.graphic?(l=l&&this.graphic.symbolName&&i.r,this.graphic.attr(t(i,l?{x:r-l,y:a-l,width:2*l,height:2*l}:{})),p&&p.hide()):(e&&c&&(l=c.radius,d=d.symbol||o.symbol,p&&p.currentSymbol!==d&&(p=p.destroy()),p?p[n?"animate":"attr"]({x:r-l,y:a-l}):d&&(o.stateMarkerGraphic=p=f.renderer.symbol(d,r-l,a-l,2*l,2*l).attr(i).add(o.markerGroup),p.currentSymbol=d)),p&&(p[e&&f.isInsidePlot(r,a,f.inverted)?"show":"hide"](),p.element.point=this)),(r=s[e]&&s[e].halo)&&r.size?(g||(o.halo=g=f.renderer.path().add(f.seriesGroup)),g.attr(zt({fill:ue(this.color||o.color).setOpacity(r.opacity).get()},r.attributes))[n?"animate":"attr"]({d:this.haloPath(r.size)})):g&&g.attr({d:[]}),this.state=e)},haloPath:function(t){var e=this.series,n=e.chart,i=e.getPlotBox(),r=n.inverted;return n.renderer.symbols.circle(i.translateX+(r?e.yAxis.len-this.plotY:this.plotX)-t,i.translateY+(r?e.xAxis.len-this.plotX:this.plotY)-t,2*t,2*t)}}),zt(Ae.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&ee(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,n=e.tooltip,i=e.hoverPoint;e.hoverSeries=null,i&&i.onMouseOut(),this&&t.events.mouseOut&&ee(this,"mouseOut"),n&&!t.stickyTracking&&(!n.shared||this.noSharedTooltip)&&n.hide(),this.setState()},setState:function(t){var e=this.options,n=this.graph,i=e.states,r=e.lineWidth,e=0,t=t||"";if(this.state!==t&&(this.state=t,!(i[t]&&i[t].enabled===!1)&&(t&&(r=i[t].lineWidth||r+(i[t].lineWidthPlus||0)),n&&!n.dashstyle)))for(t={"stroke-width":r},n.attr(t);this["zoneGraph"+e];)this["zoneGraph"+e].attr(t),e+=1},setVisible:function(t,e){var n,i=this,r=i.chart,a=i.legendItem,o=r.options.chart.ignoreHiddenSeries,s=i.visible;n=(i.visible=t=i.userOptions.visible=t===L?!s:t)?"show":"hide",Gt(["group","dataLabelsGroup","markerGroup","tracker"],function(t){i[t]&&i[t][n]()}),r.hoverSeries!==i&&(r.hoverPoint&&r.hoverPoint.series)!==i||i.onMouseOut(),a&&r.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&Gt(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),Gt(i.linkedSeries,function(e){e.setVisible(t,!1)}),o&&(r.isDirtyBox=!0),e!==!1&&r.redraw(),ee(i,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=t===L?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),ee(this,t?"select":"unselect")},drawTracker:De.drawTrackerGraph}),Wt(Ae.prototype,"init",function(t){var e;t.apply(this,Array.prototype.slice.call(arguments,1)),(e=this.xAxis)&&e.options.ordinal&&Qt(this,"updatedData",function(){delete e.ordinalIndex})}),Wt(de.prototype,"getTimeTicks",function(t,e,n,i,r,a,o,s){var l,c,h,p,d=0,f=0,g={},m=[],y=-Number.MAX_VALUE,v=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!a||a.length<3||n===L)return t.call(this,e,n,i,r);for(h=a.length;f<h;f++){if(p=f&&a[f-1]>i,a[f]<n&&(d=f),f===h-1||a[f+1]-a[f]>5*o||p){if(a[f]>y){for(l=t.call(this,e,a[d],a[f],r);l.length&&l[0]<=y;)l.shift();l.length&&(y=l[l.length-1]),m=m.concat(l)}d=f+1}if(p)break}if(t=l.info,s&&t.unitRange<=z.hour){for(f=m.length-1,d=1;d<f;d++)R("%d",m[d])!==R("%d",m[d-1])&&(g[m[d]]="day",c=!0);c&&(g[m[0]]="day"),t.higherRanks=g}if(m.info=t,s&&u(v)){var S,s=t=m.length,f=[];for(c=[];s--;)d=this.translate(m[s]),S&&(c[s]=S-d),f[s]=S=d;for(c.sort(),c=c[ct(c.length/2)],c<.6*v&&(c=null),s=m[t-1]>i?t-1:t,S=void 0;s--;)d=f[s],i=S-d,S&&i<.8*v&&(null===c||i<.8*c)?(g[m[s]]&&!g[m[s+1]]?(i=s+1,S=d):i=s,m.splice(i,1)):S=d}return m}),zt(de.prototype,{beforeSetTickPositions:function(){var t,e,n,i=[],r=!1,a=this.getExtremes(),o=a.min,s=a.max,l=this.isXAxis&&!!this.options.breaks;if((a=this.options.ordinal)||l){if(Gt(this.series,function(e,n){if(e.visible!==!1&&(e.takeOrdinalPosition!==!1||l)&&(i=i.concat(e.processedXData),t=i.length,i.sort(function(t,e){return t-e}),t))for(n=t-1;n--;)i[n]===i[n+1]&&i.splice(n,1)}),t=i.length,t>2){for(e=i[1]-i[0],n=t-1;n--&&!r;)i[n+1]-i[n]!==e&&(r=!0);!this.options.keepOrdinalPadding&&(i[0]-o>e||s-i[i.length-1]>e)&&(r=!0)}r?(this.ordinalPositions=i,e=this.val2lin(pt(o,i[0]),!0),n=pt(this.val2lin(dt(s,i[i.length-1]),!0),1),this.ordinalSlope=s=(s-o)/(n-e),this.ordinalOffset=o-e*s):this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=L}this.doPostTranslate=a&&r||l,this.groupIntervalFactor=null},val2lin:function(t,e){var n=this.ordinalPositions;if(n){var i,r,a=n.length;for(i=a;i--;)if(n[i]===t){r=i;break}for(i=a-1;i--;)if(t>n[i]||0===i){n=(t-n[i])/(n[i+1]-n[i]),r=i+n;break}return e?r:this.ordinalSlope*(r||0)+this.ordinalOffset}return t},lin2val:function(t,e){var n=this.ordinalPositions;if(n){var i,r,a=this.ordinalSlope,o=this.ordinalOffset,s=n.length-1;if(e)t<0?t=n[0]:t>s?t=n[s]:(s=ct(t),r=t-s);else for(;s--;)if(i=a*s+o,t>=i){a=a*(s+1)+o,r=(t-i)/(a-i);break}return r!==L&&n[s]!==L?n[s]+(r?r*(n[s+1]-n[s]):0):t}return t},getExtendedPositions:function(){var t,e,n=this.chart,i=this.series[0].currentDataGrouping,r=this.ordinalIndex,a=i?i.count+i.unitName:"raw",o=this.getExtremes();return r||(r=this.ordinalIndex={}),r[a]||(t={series:[],getExtremes:function(){return{min:o.dataMin,max:o.dataMax}},options:{ordinal:!0},val2lin:de.prototype.val2lin},Gt(this.series,function(r){e={xAxis:t,xData:r.xData,chart:n,destroyGroupedData:Ot},e.options={dataGrouping:i?{enabled:!0,forced:!0,approximation:"open",units:[[i.unitName,[i.count]]]}:{enabled:!1}},r.processData.apply(e),t.series.push(e)}),this.beforeSetTickPositions.apply(t),r[a]=t.ordinalPositions),r[a]},getGroupIntervalFactor:function(t,e,n){var i=0,n=n.processedXData,r=n.length,a=[],o=this.groupIntervalFactor;if(!o){for(;i<r-1;i++)a[i]=n[i+1]-n[i];a.sort(function(t,e){return t-e}),i=a[ct(r/2)],t=pt(t,n[0]),e=dt(e,n[r-1]),this.groupIntervalFactor=o=r*i/(e-t)}return o},postProcessTickInterval:function(t){var e=this.ordinalSlope;return e?this.options.breaks?this.closestPointRange:t/(e/this.closestPointRange):t}}),Wt(xe.prototype,"pan",function(t,e){var n=this.xAxis[0],i=e.chartX,r=!1;if(n.options.ordinal&&n.series.length){var a,o=this.mouseDownX,s=n.getExtremes(),l=s.dataMax,u=s.min,c=s.max,h=this.hoverPoints,d=n.closestPointRange,o=(o-i)/(n.translationSlope*(n.ordinalSlope||d)),f={ordinalPositions:n.getExtendedPositions()},d=n.lin2val,g=n.val2lin;f.ordinalPositions?ft(o)>1&&(h&&Gt(h,function(t){t.setState()}),o<0?(h=f,a=n.ordinalPositions?n:f):(h=n.ordinalPositions?n:f,a=f),f=a.ordinalPositions,l>f[f.length-1]&&f.push(l),this.fixedRange=c-u,o=n.toFixedRange(null,null,d.apply(h,[g.apply(h,[u,!0])+o,!0]),d.apply(a,[g.apply(a,[c,!0])+o,!0])),o.min>=dt(s.dataMin,u)&&o.max<=pt(l,c)&&n.setExtremes(o.min,o.max,!0,!1,{trigger:"pan"}),this.mouseDownX=i,p(this.container,{cursor:"move"})):r=!0}else r=!0;r&&t.apply(this,Array.prototype.slice.call(arguments,1))}),Wt(Ae.prototype,"getSegments",function(t){var e,n=this.options.gapSize,i=this.xAxis;t.apply(this,Array.prototype.slice.call(arguments,1)),n&&(e=this.segments,Gt(e,function(t,r){for(var a=t.length-1;a--;){if(t[a].x<i.min&&t[a+1].x>i.max){e.length=0;break}t[a+1].x-t[a].x>i.closestPointRange*n&&e.splice(r+1,0,t.splice(a+1,t.length-a))}}))}),function(t){function e(){return Array.prototype.slice.call(arguments,1)}var n=t.pick,i=t.wrap,r=t.extend,a=HighchartsAdapter.fireEvent,o=t.Axis,s=t.Series;r(o.prototype,{isInBreak:function(t,e){var n=t.repeat||1/0,i=t.from,r=t.to-t.from,n=e>=i?(e-i)%n:n-(i-e)%n;return t.inclusive?n<=r:n<r&&0!==n},isInAnyBreak:function(t,e){var i,r,a,o=this.options.breaks,s=o&&o.length;if(s){for(;s--;)this.isInBreak(o[s],t)&&(i=!0,r||(r=n(o[s].showPoints,!this.isXAxis)));a=i&&e?i&&!r:i}return a}}),i(o.prototype,"setTickPositions",function(t){if(t.apply(this,Array.prototype.slice.call(arguments,1)),this.options.breaks){var e,n=this.tickPositions,i=this.tickPositions.info,r=[];if(!(i&&i.totalRange>=this.closestPointRange)){for(e=0;e<n.length;e++)this.isInAnyBreak(n[e])||r.push(n[e]);this.tickPositions=r,this.tickPositions.info=i}}}),i(o.prototype,"init",function(t,e,n){if(n.breaks&&n.breaks.length&&(n.ordinal=!1),t.call(this,e,n),this.options.breaks){var i=this;i.doPostTranslate=!0,this.val2lin=function(t){var e,n,r=t;for(n=0;n<i.breakArray.length;n++)if(e=i.breakArray[n],e.to<=t)r-=e.len;else{if(e.from>=t)break;if(i.isInBreak(e,t)){r-=t-e.from;break}}return r},this.lin2val=function(t){var e,n;for(n=0;n<i.breakArray.length&&(e=i.breakArray[n],!(e.from>=t));n++)e.to<t?t+=e.len:i.isInBreak(e,t)&&(t+=e.len);return t},this.setExtremes=function(t,e,n,i,r){for(;this.isInAnyBreak(t);)t-=this.closestPointRange;for(;this.isInAnyBreak(e);)e-=this.closestPointRange;o.prototype.setExtremes.call(this,t,e,n,i,r)},this.setAxisTranslation=function(t){o.prototype.setAxisTranslation.call(this,t);var e,n,r,s,l=i.options.breaks,t=[],u=[],c=0,h=i.userMin||i.min,p=i.userMax||i.max;for(s in l)n=l[s],e=n.repeat||1/0,i.isInBreak(n,h)&&(h+=n.to%e-h%e),i.isInBreak(n,p)&&(p-=p%e-n.from%e);for(s in l){for(n=l[s],r=n.from,e=n.repeat||1/0;r-e>h;)r-=e;for(;r<h;)r+=e;for(;r<p;r+=e)t.push({value:r,move:"in"}),t.push({value:r+(n.to-n.from),move:"out",size:n.breakSize})}t.sort(function(t,e){return t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value}),l=0,r=h;for(s in t)n=t[s],l+="in"===n.move?1:-1,1===l&&"in"===n.move&&(r=n.value),0===l&&(u.push({from:r,to:n.value,len:n.value-r-(n.size||0)}),c+=n.value-r-(n.size||0));i.breakArray=u,a(i,"afterBreaks"),i.transA*=(p-i.min)/(p-h-c),i.min=h,i.max=p}}}),i(s.prototype,"generatePoints",function(t){t.apply(this,e(arguments));var n,i,r=this.xAxis,a=this.yAxis,o=this.points,s=o.length,l=this.options.connectNulls;if(r&&a&&(r.options.breaks||a.options.breaks))for(;s--;)n=o[s],i=null===n.y&&l===!1,i||!r.isInAnyBreak(n.x,!0)&&!a.isInAnyBreak(n.y,!0)||(o.splice(s,1),this.data[s]&&this.data[s].destroyElements())}),i(t.seriesTypes.column.prototype,"drawPoints",function(t){t.apply(this);var e,i,r,o,s,l,t=this.points,u=this.yAxis,c=u.breakArray||[],h=n(this.options.threshold,u.min);for(o=0;o<t.length;o++)for(i=t[o],l=i.stackY||i.y,s=0;s<c.length;s++)r=c[s],e=!1,h<r.from&&l>r.to||h>r.from&&l<r.from?e="pointBreak":(h<r.from&&l>r.from&&l<r.to||h>r.from&&l>r.to&&l<r.from)&&(e="pointInBreak"),e&&a(u,e,{point:i,brk:r})})}(at);var $e=Ae.prototype,Yt=fe.prototype,Pe=$e.processData,Ee=$e.generatePoints,Oe=$e.destroy,_e=Yt.tooltipFooterHeaderFormatter,Le={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},Ne={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},Xe=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],Fe={sum:function(t){var e,n=t.length;if(!n&&t.hasNulls)e=null;else if(n)for(e=0;n--;)e+=t[n];return e},average:function(t){var e=t.length,t=Fe.sum(t);return"number"==typeof t&&e&&(t/=e),t},open:function(t){return t.length?t[0]:t.hasNulls?null:L},high:function(t){return t.length?x(t):t.hasNulls?null:L},low:function(t){return t.length?b(t):t.hasNulls?null:L},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:L},ohlc:function(t,e,n,i){if(t=Fe.open(t),e=Fe.high(e),n=Fe.low(n),i=Fe.close(i),"number"==typeof t||"number"==typeof e||"number"==typeof n||"number"==typeof i)return[t,e,n,i]},range:function(t,e){if(t=Fe.low(t),e=Fe.high(e),"number"==typeof t||"number"==typeof e)return[t,e]}};$e.groupData=function(t,e,n,i){var r,a,o,s=this.data,l=this.options.data,u=[],c=[],h=t.length,p=!!e,d=[[],[],[],[]],i="function"==typeof i?i:Fe[i],f=this.pointArrayMap,g=f&&f.length;for(o=0;o<=h&&!(t[o]>=n[0]);o++);for(;o<=h;o++){for(;(n[1]!==L&&t[o]>=n[1]||o===h)&&(r=n.shift(),a=i.apply(0,d),a!==L&&(u.push(r),c.push(a)),d[0]=[],d[1]=[],d[2]=[],d[3]=[],o!==h););if(o===h)break;if(f){r=this.cropStart+o,r=s&&s[r]||this.pointClass.prototype.applyOptions.apply({series:this},[l[r]]);var m;for(a=0;a<g;a++)m=r[f[a]],"number"==typeof m?d[a].push(m):null===m&&(d[a].hasNulls=!0)}else r=p?e[o]:null,"number"==typeof r?d[0].push(r):null===r&&(d[0].hasNulls=!0)}return[u,c]},$e.processData=function(){var t,e=this.chart,n=this.options,i=n.dataGrouping,r=this.allowDG!==!1&&i&&Bt(i.enabled,e.options._stock);if(this.forceCrop=r,this.groupPixelWidth=null,this.hasProcessed=!0,Pe.apply(this,arguments)!==!1&&r){this.destroyGroupedData();var a=this.processedXData,o=this.processedYData,s=e.plotSizeX,e=this.xAxis,l=e.options.ordinal,c=this.groupPixelWidth=e.getGroupPixelWidth&&e.getGroupPixelWidth(),r=this.pointRange;if(c){t=!0,this.points=null;var h=e.getExtremes(),r=h.min,h=h.max,l=l&&e.getGroupIntervalFactor(r,h,this)||1,s=c*(h-r)/s*l,c=e.getTimeTicks(e.normalizeTimeTickInterval(s,i.units||Xe),r,h,e.options.startOfWeek,a,this.closestPointRange),o=$e.groupData.apply(this,[a,o,c,i.approximation]),a=o[0],o=o[1];if(i.smoothed){for(i=a.length-1,a[i]=h;i--&&i>0;)a[i]+=s/2;a[0]=r}this.currentDataGrouping=c.info,null===n.pointRange&&(this.pointRange=c.info.totalRange),this.closestPointRange=c.info.totalRange,u(a[0])&&a[0]<e.dataMin&&(e.min===e.dataMin&&(e.min=a[0]),e.dataMin=a[0]),this.processedXData=a,this.processedYData=o}else this.currentDataGrouping=null,this.pointRange=r;this.hasGroupedData=t}},$e.destroyGroupedData=function(){var t=this.groupedData;Gt(t||[],function(e,n){e&&(t[n]=e.destroy?e.destroy():null)}),this.groupedData=null},$e.generatePoints=function(){Ee.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},Yt.tooltipFooterHeaderFormatter=function(t,e){var n,i=t.series,r=i.tooltipOptions,o=i.options.dataGrouping,s=r.xDateFormat,l=i.xAxis;return l&&"datetime"===l.options.type&&o&&a(t.key)?(i=i.currentDataGrouping,o=o.dateTimeLabelFormats,i?(l=o[i.unitName],1===i.count?s=l[0]:(s=l[1],n=l[2])):!s&&o&&(s=this.getXDateFormat(t,r,l)),s=R(s,t.key),n&&(s+=R(n,t.key+i.totalRange-1)),r=r[(e?"footer":"header")+"Format"].replace("{point.key}",s)):r=_e.call(this,t,e),r},$e.destroy=function(){for(var t=this.groupedData||[],e=t.length;e--;)t[e]&&t[e].destroy();Oe.apply(this)},Wt($e,"setOptions",function(e,n){var i=e.call(this,n),r=this.type,a=this.chart.options.plotOptions,o=ae[r].dataGrouping;return Ne[r]&&(o||(o=t(Le,Ne[r])),i.dataGrouping=t(o,a.series&&a.series.dataGrouping,a[r].dataGrouping,n.dataGrouping)),this.chart.options._stock&&(this.requireSorting=!0),i}),Wt(de.prototype,"setScale",function(t){t.call(this),Gt(this.series,function(t){t.hasProcessed=!1})}),de.prototype.getGroupPixelWidth=function(){var t,e,n=this.series,i=n.length,r=0,a=!1;for(t=i;t--;)(e=n[t].options.dataGrouping)&&(r=pt(r,e.groupPixelWidth));for(t=i;t--;)(e=n[t].options.dataGrouping)&&n[t].hasProcessed&&(i=(n[t].processedXData||n[t].data).length,(n[t].groupPixelWidth||i>this.chart.plotSizeX/r||i&&e.forced)&&(a=!0));return a?r:0},de.prototype.setDataGrouping=function(t,e){var n,e=Bt(e,!0);if(t||(t={forced:!1,units:null}),this instanceof de)for(n=this.series.length;n--;)this.series[n].update({dataGrouping:t},!1);else Gt(this.chart.options.series,function(e){e.dataGrouping=t},!1);e&&this.chart.redraw()},ae.ohlc=t(ae.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null}),Yt=f(Ht.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(t){return[t.open,t.high,t.low,t.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){Ht.column.prototype.getAttribs.apply(this,arguments);var e=this.options,n=e.states,e=e.upColor||this.color,i=t(this.pointAttr),r=this.upColorProp;i[""][r]=e,i.hover[r]=n.hover.upColor||e,i.select[r]=n.select.upColor||e,Gt(this.points,function(t){t.open<t.close&&!t.options.color&&(t.pointAttr=i)})},translate:function(){var t=this.yAxis;Ht.column.prototype.translate.apply(this),Gt(this.points,function(e){null!==e.open&&(e.plotOpen=t.translate(e.open,0,1,0,1)),null!==e.close&&(e.plotClose=t.translate(e.close,0,1,0,1))})},drawPoints:function(){var t,e,n,i,r,a,o,s,l=this,u=l.chart;Gt(l.points,function(c){c.plotY!==L&&(o=c.graphic,t=c.pointAttr[c.selected?"selected":""]||l.pointAttr[""],i=t["stroke-width"]%2/2,s=ut(c.plotX)-i,r=ut(c.shapeArgs.width/2),a=["M",s,ut(c.yBottom),"L",s,ut(c.plotY)],null!==c.open&&(e=ut(c.plotOpen)+i,a.push("M",s,e,"L",s-r,e)),null!==c.close&&(n=ut(c.plotClose)+i,a.push("M",s,n,"L",s+r,n)),o?o.attr(t).animate({d:a}):c.graphic=u.renderer.path(a).attr(t).add(l.group))})},animate:null}),Ht.ohlc=Yt,ae.candlestick=t(ae.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:ae.ohlc.tooltip,threshold:null,upColor:"white"}),Yt=f(Yt,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",getAttribs:function(){Ht.ohlc.prototype.getAttribs.apply(this,arguments);var e=this.options,n=e.states,i=e.upLineColor||e.lineColor,r=n.hover.upLineColor||i,a=n.select.upLineColor||i;Gt(this.points,function(e){e.open<e.close&&(e.lineColor&&(e.pointAttr=t(e.pointAttr),i=e.lineColor),e.pointAttr[""].stroke=i,e.pointAttr.hover.stroke=r,e.pointAttr.select.stroke=a)})},drawPoints:function(){var t,e,n,i,r,a,o,s,l,u,c,h,p=this,d=p.chart,f=p.pointAttr[""];Gt(p.points,function(g){u=g.graphic,g.plotY!==L&&(t=g.pointAttr[g.selected?"selected":""]||f,s=t["stroke-width"]%2/2,l=ut(g.plotX)-s,e=g.plotOpen,n=g.plotClose,i=lt.min(e,n),r=lt.max(e,n),h=ut(g.shapeArgs.width/2),a=ut(i)!==ut(g.plotY),o=r!==g.yBottom,i=ut(i)+s,r=ut(r)+s,c=["M",l-h,r,"L",l-h,i,"L",l+h,i,"L",l+h,r,"Z","M",l,i,"L",l,a?ut(g.plotY):i,"M",l,r,"L",l,o?ut(g.yBottom):r],u?u.attr(t).animate({d:c}):g.graphic=d.renderer.path(c).attr(t).add(p.group).shadow(p.options.shadow))})}}),Ht.candlestick=Yt;var Ie=ce.prototype.symbols;ae.flags=t(ae.column,{fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:12,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30}),Ht.flags=f(Ht.column,{type:"flags",sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:Ae.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){Ht.column.prototype.translate.apply(this);var t,e,n,i,r,a=this.chart,o=this.points,s=o.length-1,l=this.options.onSeries,l=(t=l&&a.get(l))&&t.options.step,u=t&&t.points,c=u&&u.length,h=this.xAxis,p=h.getExtremes();if(t&&t.visible&&c)for(t=t.currentDataGrouping,i=u[c-1].x+(t?t.totalRange:0),o.sort(function(t,e){return t.x-e.x});c--&&o[s]&&(t=o[s],n=u[c],!(n.x<=t.x&&n.plotY!==L&&(t.x<=i&&(t.plotY=n.plotY,n.x<t.x&&!l&&(r=u[c+1])&&r.plotY!==L&&(t.plotY+=(t.x-n.x)/(r.x-n.x)*(r.plotY-n.plotY))),s--,c++,s<0))););Gt(o,function(t,n){var i;t.plotY===L&&(t.x>=p.min&&t.x<=p.max?t.plotY=a.chartHeight-h.bottom-(h.opposite?h.height:0)+h.offset-a.plotTop:t.shapeArgs={}),(e=o[n-1])&&e.plotX===t.plotX&&(e.stackIndex===L&&(e.stackIndex=0),i=e.stackIndex+1),t.stackIndex=i})},drawPoints:function(){var e,n,i,r,a,o,s,l,u,c=this.pointAttr[""],h=this.points,p=this.chart.renderer,d=this.options,f=d.y;for(a=h.length;a--;)o=h[a],e=o.plotX>this.xAxis.len,n=o.plotX,n>0&&(n-=Bt(o.lineWidth,d.lineWidth)%2),s=o.stackIndex,r=o.options.shape||d.shape,i=o.plotY,i!==L&&(i=o.plotY+f-(s!==L&&s*d.stackDistance)),l=s?L:o.plotX,u=s?L:o.plotY,s=o.graphic,i!==L&&n>=0&&!e?(e=o.pointAttr[o.selected?"select":""]||c,s?s.attr({x:n,y:i,r:e.r,anchorX:l,anchorY:u}):o.graphic=p.label(o.options.title||d.title||"A",n,i,r,l,u,d.useHTML).css(t(d.style,o.style)).attr(e).attr({align:"flag"===r?"left":"center",width:d.width,height:d.height}).add(this.markerGroup).shadow(d.shadow),o.tooltipPos=[n,i]):s&&(o.graphic=s.destroy())},drawTracker:function(){var t=this.points;De.drawTrackerPoint.apply(this),Gt(t,function(e){var n=e.graphic;n&&Qt(n.element,"mouseover",function(){e.stackIndex>0&&!e.raised&&(e._y=n.y,n.attr({y:e._y-8}),e.raised=!0),Gt(t,function(t){t!==e&&t.raised&&t.graphic&&(t.graphic.attr({y:t._y}),t.raised=!1)})})})},animate:Ot,buildKDTree:Ot,setClip:Ot}),Ie.flag=function(t,e,n,i,r){return["M",r&&r.anchorX||t,r&&r.anchorY||e,"L",t,e+i,t,e,t+n,e,t+n,e+i,t,e+i,"Z"]},Gt(["circle","square"],function(t){Ie[t+"pin"]=function(e,n,i,r,a){var o=a&&a.anchorX,a=a&&a.anchorY;return"circle"===t&&r>i&&(e-=ut((r-i)/2),i=r),e=Ie[t](e,n,i,r),o&&a&&e.push("M",o,n>a?n:n+r,"L",o,a),e}}),N===at.VMLRenderer&&Gt(["flag","circlepin","squarepin"],function(t){he.prototype.symbols[t]=Ie[t]});var Yt=[].concat(Xe),Re=function(t){var e=Jt(arguments,function(t){return"number"==typeof t});if(e.length)return Math[t].apply(0,e)};Yt[4]=["day",[1,2,3,4]],Yt[5]=["week",[1,2,3]],zt(I,{navigator:{handles:{backgroundColor:"#ebe7e8",borderColor:"#b2b1b6"},height:40,margin:25,maskFill:"rgba(128,179,236,0.3)",maskInside:!0,outlineColor:"#b2b1b6",outlineWidth:1,series:{type:Ht.areaspline===L?"line":"areaspline",color:"#4572A7",compare:null,fillOpacity:.05,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:Yt},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",lineColor:"#4572A7",lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{tickWidth:0,lineWidth:0,gridLineColor:"#EEE",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#888"},x:3,y:-4},crosshair:!1},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickWidth:0}},scrollbar:{height:At?20:14,barBackgroundColor:"#bfc8d1",barBorderRadius:0,barBorderWidth:1,barBorderColor:"#bfc8d1",buttonArrowColor:"#666",buttonBackgroundColor:"#ebe7e8",buttonBorderColor:"#bbb",buttonBorderRadius:0,buttonBorderWidth:1,minWidth:6,rifleColor:"#666",trackBackgroundColor:"#eeeeee",trackBorderColor:"#eeeeee",trackBorderWidth:1,liveRedraw:kt&&!At}}),O.prototype={drawHandle:function(t,e){var n,i=this.chart,r=i.renderer,a=this.elementsToDestroy,o=this.handles,s=this.navigatorOptions.handles,s={fill:s.backgroundColor,stroke:s.borderColor,"stroke-width":1};this.rendered||(o[e]=r.g("navigator-handle-"+["left","right"][e]).css({cursor:"ew-resize"}).attr({zIndex:4-e}).add(),n=r.rect(-4.5,0,9,16,0,1).attr(s).add(o[e]),a.push(n),
n=r.path(["M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12]).attr(s).add(o[e]),a.push(n)),o[e][i.isResizing?"animate":"attr"]({translateX:this.scrollerLeft+this.scrollbarHeight+parseInt(t,10),translateY:this.top+this.height/2-8})},drawScrollbarButton:function(t){var e,n=this.chart.renderer,i=this.elementsToDestroy,r=this.scrollbarButtons,a=this.scrollbarHeight,o=this.scrollbarOptions;this.rendered||(r[t]=n.g().add(this.scrollbarGroup),e=n.rect(-.5,-.5,a+1,a+1,o.buttonBorderRadius,o.buttonBorderWidth).attr({stroke:o.buttonBorderColor,"stroke-width":o.buttonBorderWidth,fill:o.buttonBackgroundColor}).add(r[t]),i.push(e),e=n.path(["M",a/2+(t?-1:1),a/2-3,"L",a/2+(t?-1:1),a/2+3,a/2+(t?2:-2),a/2]).attr({fill:o.buttonArrowColor}).add(r[t]),i.push(e)),t&&r[t].attr({translateX:this.scrollerWidth-a})},render:function(t,e,n,i){var r,a,o,s,l,c=this.chart,h=c.renderer,p=this.scrollbarGroup,d=this.navigatorGroup,f=this.scrollbar,d=this.xAxis,g=this.scrollbarTrack,m=this.scrollbarHeight,y=this.scrollbarEnabled,v=this.navigatorOptions,S=this.scrollbarOptions,T=S.minWidth,b=this.height,x=this.top,M=this.navigatorEnabled,w=v.outlineWidth,A=w/2,C=0,k=this.outlineHeight,D=S.barBorderRadius,$=S.barBorderWidth,P=x+A;u(t)&&!isNaN(t)&&(this.navigatorLeft=r=Bt(d.left,c.plotLeft+m),this.navigatorWidth=a=Bt(d.len,c.plotWidth-2*m),this.scrollerLeft=o=r-m,this.scrollerWidth=s=s=a+2*m,d.getExtremes&&(l=this.getUnionExtremes(!0))&&(l.dataMin!==d.min||l.dataMax!==d.max)&&d.setExtremes(l.dataMin,l.dataMax,!0,!1),n=Bt(n,d.translate(t)),i=Bt(i,d.translate(e)),(isNaN(n)||ft(n)===1/0)&&(n=0,i=s),d.translate(i,!0)-d.translate(n,!0)<c.xAxis[0].minRange||(this.zoomedMax=dt(pt(n,i),a),this.zoomedMin=pt(this.fixedWidth?this.zoomedMax-this.fixedWidth:dt(n,i),0),this.range=this.zoomedMax-this.zoomedMin,n=ut(this.zoomedMax),e=ut(this.zoomedMin),t=n-e,this.rendered||(M&&(this.navigatorGroup=d=h.g("navigator").attr({zIndex:3}).add(),this.leftShade=h.rect().attr({fill:v.maskFill}).add(d),v.maskInside?this.leftShade.css({cursor:"ew-resize "}):this.rightShade=h.rect().attr({fill:v.maskFill}).add(d),this.outline=h.path().attr({"stroke-width":w,stroke:v.outlineColor}).add(d)),y&&(this.scrollbarGroup=p=h.g("scrollbar").add(),f=S.trackBorderWidth,this.scrollbarTrack=g=h.rect().attr({x:0,y:-f%2/2,fill:S.trackBackgroundColor,stroke:S.trackBorderColor,"stroke-width":f,r:S.trackBorderRadius||0,height:m}).add(p),this.scrollbar=f=h.rect().attr({y:-$%2/2,height:m,fill:S.barBackgroundColor,stroke:S.barBorderColor,"stroke-width":$,r:D}).add(p),this.scrollbarRifles=h.path().attr({stroke:S.rifleColor,"stroke-width":1}).add(p))),c=c.isResizing?"animate":"attr",M&&(this.leftShade[c](v.maskInside?{x:r+e,y:x,width:n-e,height:b}:{x:r,y:x,width:e,height:b}),this.rightShade&&this.rightShade[c]({x:r+n,y:x,width:a-n,height:b}),this.outline[c]({d:["M",o,P,"L",r+e-A,P,r+e-A,P+k,"L",r+n-A,P+k,"L",r+n-A,P,o+s,P].concat(v.maskInside?["M",r+e+A,P,"L",r+n-A,P]:[])}),this.drawHandle(e+A,0),this.drawHandle(n+A,1)),y&&p&&(this.drawScrollbarButton(0),this.drawScrollbarButton(1),p[c]({translateX:o,translateY:ut(P+b)}),g[c]({width:s}),r=m+e,a=t-$,a<T&&(C=(T-a)/2,a=T,r-=C),this.scrollbarPad=C,f[c]({x:ct(r)+$%2/2,width:a}),T=m+e+t/2-.5,this.scrollbarRifles.attr({visibility:t>12?"visible":"hidden"})[c]({d:["M",T-3,m/4,"L",T-3,2*m/3,"M",T,m/4,"L",T,2*m/3,"M",T+3,m/4,"L",T+3,2*m/3]})),this.scrollbarPad=C,this.rendered=!0))},addEvents:function(){var t,e=this.chart.container,n=this.mouseDownHandler,i=this.mouseMoveHandler,r=this.mouseUpHandler;t=[[e,"mousedown",n],[e,"mousemove",i],[document,"mouseup",r]],X&&t.push([e,"touchstart",n],[e,"touchmove",i],[document,"touchend",r]),Gt(t,function(t){Qt.apply(null,t)}),this._events=t},removeEvents:function(){Gt(this._events,function(t){te.apply(null,t)}),this._events=L,this.navigatorEnabled&&this.baseSeries&&te(this.baseSeries,"updatedData",this.updatedDataHandler)},init:function(){var e,n,i,r,a=this,o=a.chart,s=a.scrollbarHeight,l=a.navigatorOptions,u=a.height,c=a.top,h=a.baseSeries;a.mouseDownHandler=function(t){var n,t=o.pointer.normalize(t),r=a.zoomedMin,s=a.zoomedMax,l=a.top,c=a.scrollbarHeight,h=a.scrollerLeft,p=a.scrollerWidth,d=a.navigatorLeft,f=a.navigatorWidth,g=a.scrollbarPad,m=a.range,y=t.chartX,v=t.chartY,t=o.xAxis[0],S=At?10:7;v>l&&v<l+u+c&&((l=!a.scrollbarEnabled||v<l+u)&&lt.abs(y-r-d)<S?(a.grabbedLeft=!0,a.otherHandlePos=s,a.fixedExtreme=t.max,o.fixedRange=null):l&&lt.abs(y-s-d)<S?(a.grabbedRight=!0,a.otherHandlePos=r,a.fixedExtreme=t.min,o.fixedRange=null):y>d+r-g&&y<d+s+g?(a.grabbedCenter=y,a.fixedWidth=m,i=y-r):y>h&&y<h+p&&(s=l?y-d-m/2:y<d?r-.2*m:y>h+p-c?r+.2*m:y<d+r?r-m:s,s<0?s=0:s+m>=f&&(s=f-m,n=a.getUnionExtremes().dataMax),s!==r&&(a.fixedWidth=m,r=e.toFixedRange(s,s+m,null,n),t.setExtremes(r.min,r.max,!0,!1,{trigger:"navigator"}))))},a.mouseMoveHandler=function(t){var e,n=a.scrollbarHeight,s=a.navigatorLeft,l=a.navigatorWidth,u=a.scrollerLeft,c=a.scrollerWidth,h=a.range;0!==t.pageX&&(t=o.pointer.normalize(t),e=t.chartX,e<s?e=s:e>u+c-n&&(e=u+c-n),a.grabbedLeft?(r=!0,a.render(0,0,e-s,a.otherHandlePos)):a.grabbedRight?(r=!0,a.render(0,0,a.otherHandlePos,e-s)):a.grabbedCenter&&(r=!0,e<i?e=i:e>l+i-h&&(e=l+i-h),a.render(0,0,e-i,e-i+h)),r&&a.scrollbarOptions.liveRedraw&&setTimeout(function(){a.mouseUpHandler(t)},0))},a.mouseUpHandler=function(t){var n,s;r&&(a.zoomedMin===a.otherHandlePos?n=a.fixedExtreme:a.zoomedMax===a.otherHandlePos&&(s=a.fixedExtreme),n=e.toFixedRange(a.zoomedMin,a.zoomedMax,n,s),o.xAxis[0].setExtremes(n.min,n.max,!0,!1,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:t})),"mousemove"!==t.type&&(a.grabbedLeft=a.grabbedRight=a.grabbedCenter=a.fixedWidth=a.fixedExtreme=a.otherHandlePos=r=i=null)};var p=o.xAxis.length,d=o.yAxis.length;o.extraBottomMargin=a.outlineHeight+l.margin,a.navigatorEnabled?(a.xAxis=e=new de(o,t({breaks:h&&h.xAxis.options.breaks,ordinal:h&&h.xAxis.options.ordinal},l.xAxis,{id:"navigator-x-axis",isX:!0,type:"datetime",index:p,height:u,offset:0,offsetLeft:s,offsetRight:-s,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),a.yAxis=n=new de(o,t(l.yAxis,{id:"navigator-y-axis",alignTicks:!1,height:u,offset:0,index:d,zoomEnabled:!1})),h||l.series.data?a.addBaseSeries():0===o.series.length&&Wt(o,"redraw",function(t,e){o.series.length>0&&!a.series&&(a.setBaseSeries(),o.redraw=t),t.call(o,e)})):a.xAxis=e={translate:function(t,e){var n=o.xAxis[0],i=n.getExtremes(),r=o.plotWidth-2*s,a=Re("min",n.options.min,i.dataMin),n=Re("max",n.options.max,i.dataMax)-a;return e?t*n/r+a:r*(t-a)/n},toFixedRange:de.prototype.toFixedRange},Wt(o,"getMargins",function(t){var i=this.legend,r=i.options;t.apply(this,[].slice.call(arguments,1)),a.top=c=a.navigatorOptions.top||this.chartHeight-a.height-a.scrollbarHeight-this.spacing[2]-("bottom"===r.verticalAlign&&r.enabled&&!r.floating?i.legendHeight+Bt(r.margin,10):0),e&&n&&(e.options.top=n.options.top=c,e.setAxisSize(),n.setAxisSize())}),a.addEvents()},getUnionExtremes:function(t){var e,n=this.chart.xAxis[0],i=this.xAxis,r=i.options,a=n.options;return t&&null===n.dataMin||(e={dataMin:Bt(r&&r.min,Re("min",a.min,n.dataMin,i.dataMin)),dataMax:Bt(r&&r.max,Re("max",a.max,n.dataMax,i.dataMax))}),e},setBaseSeries:function(t){var e=this.chart,t=t||e.options.navigator.baseSeries;this.series&&this.series.remove(),this.baseSeries=e.series[t]||"string"==typeof t&&e.get(t)||e.series[0],this.xAxis&&this.addBaseSeries()},addBaseSeries:function(){var e,n=this.baseSeries,i=n?n.options:{},r=i.data,a=this.navigatorOptions.series;e=a.data,this.hasNavigatorData=!!e,i=t(i,a,{enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",name:"Navigator",showInLegend:!1,isInternal:!0,visible:!0}),i.data=e||r,this.series=this.chart.initSeries(i),n&&this.navigatorOptions.adaptToUpdatedData!==!1&&(Qt(n,"updatedData",this.updatedDataHandler),n.userOptions.events=zt(n.userOptions.event,{updatedData:this.updatedDataHandler}))},updatedDataHandler:function(){var t,e,n,i,r,a=this.chart.scroller,o=a.baseSeries,s=o.xAxis,l=s.getExtremes(),u=l.min,c=l.max,h=l.dataMin,l=l.dataMax,p=c-u,d=a.series;t=d.xData;var f=!!s.setExtremes;e=c>=t[t.length-1]-(this.closestPointRange||0),t=u<=h,a.hasNavigatorData||(d.options.pointStart=o.xData[0],d.setData(o.options.data,!1),r=!0),t&&(i=h,n=i+p),e&&(n=l,t||(i=pt(n-p,d.xData[0]))),f&&(t||e)?isNaN(i)||s.setExtremes(i,n,!0,!1,{trigger:"updatedData"}):(r&&this.chart.redraw(!1),a.render(pt(u,h),dt(c,l)))},destroy:function(){this.removeEvents(),Gt([this.xAxis,this.yAxis,this.leftShade,this.rightShade,this.outline,this.scrollbarTrack,this.scrollbarRifles,this.scrollbarGroup,this.scrollbar],function(t){t&&t.destroy&&t.destroy()}),this.xAxis=this.yAxis=this.leftShade=this.rightShade=this.outline=this.scrollbarTrack=this.scrollbarRifles=this.scrollbarGroup=this.scrollbar=null,Gt([this.scrollbarButtons,this.handles,this.elementsToDestroy],function(t){M(t)})}},at.Scroller=O,Wt(de.prototype,"zoom",function(t,e,n){var i,r=this.chart,a=r.options,o=a.chart.zoomType,s=a.navigator,a=a.rangeSelector;return this.isXAxis&&(s&&s.enabled||a&&a.enabled)&&("x"===o?r.resetZoomButton="blocked":"y"===o?i=!1:"xy"===o&&(r=this.previousZoom,u(e)?this.previousZoom=[this.min,this.max]:r&&(e=r[0],n=r[1],delete this.previousZoom))),i!==L?i:t.call(this,e,n)}),Wt(xe.prototype,"init",function(t,e,n){Qt(this,"beforeRender",function(){var t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=new O(this))}),t.call(this,e,n)}),Wt(Ae.prototype,"addPoint",function(t,e,n,a,o){var s=this.options.turboThreshold;s&&this.xData.length>s&&i(e)&&!r(e)&&this.chart.scroller&&A(20,!0),t.call(this,e,n,a,o)}),zt(I,{rangeSelector:{buttonTheme:{width:28,height:18,fill:"#f7f7f7",padding:2,r:0,"stroke-width":0,style:{color:"#444",cursor:"pointer",fontWeight:"normal"},zIndex:7,states:{hover:{fill:"#e7e7e7"},select:{fill:"#e7f0f9",style:{color:"black",fontWeight:"bold"}}}},inputPosition:{align:"right"},labelStyle:{color:"#666"}}}),I.lang=t(I.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),_.prototype={clickButton:function(t,e){var n,i,r,a,o,s=this,l=s.selected,u=s.chart,c=s.buttons,h=s.buttonOptions[t],p=u.xAxis[0],d=u.scroller&&u.scroller.getUnionExtremes()||p||{},f=d.dataMin,g=d.dataMax,m=p&&ut(dt(p.max,Bt(g,p.max))),y=h.type,d=h._range,v=h.dataGrouping;if(null!==f&&null!==g&&t!==s.selected){if(u.fixedRange=d,v&&(this.forcedDataGrouping=!0,de.prototype.setDataGrouping.call(p||{chart:this.chart},v,!1)),"month"===y||"year"===y)p?(y={range:h,max:m,dataMin:f,dataMax:g},n=p.minFromRange.call(y),"number"==typeof y.newMax&&(m=y.newMax)):d=h;else if(d)n=pt(m-d,f),m=dt(n+d,g);else if("ytd"===y){if(!p)return void Qt(u,"beforeRender",function(){s.clickButton(t)});g===L&&(f=Number.MAX_VALUE,g=Number.MIN_VALUE,Gt(u.series,function(t){t=t.xData,f=dt(t[0],f),g=pt(t[t.length-1],g)}),e=!1),m=new B(g),n=m.getFullYear(),n=r=pt(f||0,B.UTC(n,0,1)),m=m.getTime(),m=dt(g||m,m)}else"all"===y&&p&&(n=f,m=g);c[l]&&c[l].setState(0),c[t]&&c[t].setState(2),p?(p.setExtremes(n,m,Bt(e,1),0,{trigger:"rangeSelectorButton",rangeSelectorButton:h}),s.setSelected(t)):(i=u.options.xAxis[0],o=i.range,i.range=d,a=i.min,i.min=r,s.setSelected(t),Qt(u,"load",function(){i.range=o,i.min=a}))}},setSelected:function(t){this.selected=this.options.selected=t},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(t){var e=this,n=t.options.rangeSelector,i=n.buttons||[].concat(e.defaultButtons),r=n.selected,a=e.blurInputs=function(){var t=e.minInput,n=e.maxInput;t&&t.blur&&ee(t,"blur"),n&&n.blur&&ee(n,"blur")};e.chart=t,e.options=n,e.buttons=[],t.extraTopMargin=35,e.buttonOptions=i,Qt(t.container,"mousedown",a),Qt(t,"resize",a),Gt(i,e.computeButtonRange),r!==L&&i[r]&&this.clickButton(r,!1),Qt(t,"load",function(){Qt(t.xAxis[0],"setExtremes",function(n){this.max-this.min!==t.fixedRange&&"rangeSelectorButton"!==n.trigger&&"updatedData"!==n.trigger&&e.forcedDataGrouping&&this.setDataGrouping(!1,!1)}),Qt(t.xAxis[0],"afterSetExtremes",function(){e.updateButtonStates(!0)})})},updateButtonStates:function(t){var e=this,n=this.chart,i=n.xAxis[0],r=n.scroller&&n.scroller.getUnionExtremes()||i,a=r.dataMin,o=r.dataMax,s=e.selected,l=e.options.allButtonsEnabled,u=e.buttons;t&&n.fixedRange!==ut(i.max-i.min)&&(u[s]&&u[s].setState(0),e.setSelected(null)),Gt(e.buttonOptions,function(t,r){var c=ut(i.max-i.min),h=t._range,p=t.type,d=t.count||1,f=h>o-a,g=h<i.minRange,m="all"===t.type&&i.max-i.min>=o-a&&2!==u[r].state,y="ytd"===t.type&&R("%Y",a)===R("%Y",o),v=n.renderer.forExport&&r===s,h=h===c;("month"===p||"year"===p)&&c>=864e5*{month:28,year:365}[p]*d&&c<=864e5*{month:31,year:366}[p]*d&&(h=!0),v||h&&r!==s?(e.setSelected(r),u[r].setState(2)):!l&&(f||g||m||y)?u[r].setState(3):3===u[r].state&&u[r].setState(0)})},computeButtonRange:function(t){var e=t.type,n=t.count||1,i={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};i[e]?t._range=i[e]*n:"month"!==e&&"year"!==e||(t._range=864e5*{month:30,year:365}[e]*n)},setInputValue:function(t,e){var n=this.chart.options.rangeSelector;u(e)&&(this[t+"Input"].HCTime=e),this[t+"Input"].value=R(n.inputEditDateFormat||"%Y-%m-%d",this[t+"Input"].HCTime),this[t+"DateBox"].attr({text:R(n.inputDateFormat||"%b %e, %Y",this[t+"Input"].HCTime)})},showInput:function(t){var e=this.inputGroup,n=this[t+"DateBox"];p(this[t+"Input"],{left:e.translateX+n.x+"px",top:e.translateY+"px",width:n.width-2+"px",height:n.height-2+"px",border:"2px solid silver"})},hideInput:function(t){p(this[t+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(t)},drawInput:function(n){var i,r,a=this,o=a.chart,s=o.renderer.style,l=o.renderer,u=o.options.rangeSelector,c=a.div,h="min"===n,p=this.inputGroup;this[n+"Label"]=r=l.label(I.lang[h?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:2}).css(t(s,u.labelStyle)).add(p),p.offset+=r.width+5,this[n+"DateBox"]=l=l.label("",p.offset).attr({padding:2,width:u.inputBoxWidth||90,height:u.inputBoxHeight||17,stroke:u.inputBoxBorderColor||"silver","stroke-width":1}).css(t({textAlign:"center",color:"#444"},s,u.inputStyle)).on("click",function(){a.showInput(n),a[n+"Input"].focus()}).add(p),p.offset+=l.width+(h?10:0),this[n+"Input"]=i=d("input",{name:n,className:"highcharts-range-selector",type:"text"},zt({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:s.fontSize,fontFamily:s.fontFamily,top:o.plotTop+"px"},u.inputStyle),c),i.onfocus=function(){a.showInput(n)},i.onblur=function(){a.hideInput(n)},i.onchange=function(){var t=i.value,n=(u.inputDateParser||B.parse)(t),r=o.xAxis[0],s=r.dataMin,l=r.dataMax;isNaN(n)&&(n=t.split("-"),n=B.UTC(e(n[0]),e(n[1])-1,e(n[2]))),isNaN(n)||(I.global.useUTC||(n+=6e4*(new B).getTimezoneOffset()),h?n>a.maxInput.HCTime?n=L:n<s&&(n=s):n<a.minInput.HCTime?n=L:n>l&&(n=l),n!==L&&o.xAxis[0].setExtremes(h?n:r.min,h?r.max:n,L,L,{trigger:"rangeSelectorInput"}))}},getPosition:function(){var t=this.chart,t=Bt((t.options.rangeSelector.buttonPosition||{}).y,t.plotTop-t.axisOffset[0]-35);return{buttonTop:t,inputTop:t-10}},render:function(t,e){var n,i=this,r=i.chart,a=r.renderer,o=r.container,s=r.options,l=s.exporting&&s.navigation&&s.navigation.buttonOptions,c=s.rangeSelector,h=i.buttons,s=I.lang,p=i.div,p=i.inputGroup,f=c.buttonTheme,g=c.buttonPosition||{},m=c.inputEnabled,y=f&&f.states,v=r.plotLeft,S=this.getPosition(),T=i.group,b=i.rendered;b||(i.group=T=a.g("range-selector-buttons").add(),i.zoomText=a.text(s.rangeSelectorZoom,Bt(g.x,v),15).css(c.labelStyle).add(T),n=Bt(g.x,v)+i.zoomText.getBBox().width+5,Gt(i.buttonOptions,function(t,e){h[e]=a.button(t.text,n,0,function(){i.clickButton(e),i.isActive=!0},f,y&&y.hover,y&&y.select,y&&y.disabled).css({textAlign:"center"}).add(T),n+=h[e].width+Bt(c.buttonSpacing,5),i.selected===e&&h[e].setState(2)}),i.updateButtonStates(),m===!1)||(i.div=p=d("div",null,{position:"relative",height:0,zIndex:1}),o.parentNode.insertBefore(p,o),i.inputGroup=p=a.g("input-group").add(),p.offset=0,i.drawInput("min"),i.drawInput("max")),T[b?"animate":"attr"]({translateY:S.buttonTop}),m!==!1&&(p.align(zt({y:S.inputTop,width:p.offset,x:l&&S.inputTop<(l.y||0)+l.height-r.spacing[0]?-40:0},c.inputPosition),!0,r.spacingBox),u(m)||(r=T.getBBox(),p[p.translateX<r.x+r.width+10?"hide":"show"]()),i.setInputValue("min",t),i.setInputValue("max",e)),i.rendered=!0},destroy:function(){var t,e=this.minInput,n=this.maxInput,i=this.chart,r=this.blurInputs;te(i.container,"mousedown",r),te(i,"resize",r),M(this.buttons),e&&(e.onfocus=e.onblur=e.onchange=null),n&&(n.onfocus=n.onblur=n.onchange=null);for(t in this)this[t]&&"chart"!==t&&(this[t].destroy?this[t].destroy():this[t].nodeType&&w(this[t])),this[t]=null}},de.prototype.toFixedRange=function(t,e,n,i){var r=this.chart&&this.chart.fixedRange,t=Bt(n,this.translate(t,!0)),e=Bt(i,this.translate(e,!0)),n=r&&(e-t)/r;return n>.7&&n<1.3&&(i?t=e-r:e=t+r),{min:t,max:e}},de.prototype.minFromRange=function(){var t,e=this.range,n={month:"Month",year:"FullYear"}[e.type],i=this.max,r=new B(i);return"number"==typeof e?(n=this.max-e,t=e):(r["set"+n](r["get"+n]()-e.count),n=r.getTime()),e=Bt(this.dataMin,Number.MIN_VALUE),isNaN(n)&&(n=e),n<=e&&(n=e,this.newMax=dt(n+t,this.dataMax)),isNaN(i)&&(n=void 0),n},Wt(xe.prototype,"init",function(t,e,n){Qt(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new _(this))}),t.call(this,e,n)}),at.RangeSelector=_,xe.prototype.callbacks.push(function(t){function e(){a=t.xAxis[0].getExtremes(),o.render(a.min,a.max)}function n(){a=t.xAxis[0].getExtremes(),isNaN(a.min)||s.render(a.min,a.max)}function i(t){"navigator-drag"!==t.triggerOp&&o.render(t.min,t.max)}function r(t){s.render(t.min,t.max)}var a,o=t.scroller,s=t.rangeSelector;o&&(Qt(t.xAxis[0],"afterSetExtremes",i),Wt(t,"drawChartBox",function(t){var n=this.isDirtyBox;t.call(this),n&&e()}),e()),s&&(Qt(t.xAxis[0],"afterSetExtremes",r),Qt(t,"resize",n),n()),Qt(t,"destroy",function(){o&&te(t.xAxis[0],"afterSetExtremes",i),s&&(te(t,"resize",n),te(t.xAxis[0],"afterSetExtremes",r))})}),at.StockChart=function(e,n){var i,r=e.series,a=Bt(e.navigator&&e.navigator.enabled,!0)?{startOnTick:!1,endOnTick:!1}:null,o={marker:{enabled:!1,radius:2}},s={shadow:!1,borderWidth:0};return e.xAxis=Zt(h(e.xAxis||{}),function(e){return t({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},e,{type:"datetime",categories:null},a)}),e.yAxis=Zt(h(e.yAxis||{}),function(e){return i=Bt(e.opposite,!0),t({labels:{y:-2},opposite:i,showLastLabel:!1,title:{text:null}},e)}),e.series=null,e=t({chart:{panning:!0,pinchType:"x"},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null,style:{fontSize:"16px"}},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:o,spline:o,area:o,areaspline:o,arearange:o,areasplinerange:o,column:s,columnrange:s,candlestick:s,ohlc:s}},e,{_stock:!0,chart:{inverted:!1}}),e.series=r,new xe(e,n)},Wt(me.prototype,"init",function(t,e,n){var i=n.chart.pinchType||"";t.call(this,e,n),this.pinchX=this.pinchHor=i.indexOf("x")!==-1,this.pinchY=this.pinchVert=i.indexOf("y")!==-1,this.hasZoom=this.hasZoom||this.pinchHor||this.pinchVert}),Wt(de.prototype,"autoLabelAlign",function(t){var e=this.chart,n=this.options,e=e._labelPanes=e._labelPanes||{},i=this.options.labels;return this.chart.options._stock&&"yAxis"===this.coll&&(n=n.top+","+n.height,!e[n]&&i.enabled)?(15===i.x&&(i.x=0),void 0===i.align&&(i.align="right"),e[n]=1,"right"):t.call(this,[].slice.call(arguments,1))}),Wt(de.prototype,"getPlotLinePath",function(t,e,n,i,r,a){var o,s,l,c,h,p=this,d=this.isLinked&&!this.series?this.linkedParent.series:this.series,f=p.chart,g=f.renderer,m=p.left,y=p.top,v=[],S=[];return"colorAxis"===p.coll?t.apply(this,[].slice.call(arguments,1)):(S=p.isXAxis?u(p.options.yAxis)?[f.yAxis[p.options.yAxis]]:Zt(d,function(t){return t.yAxis}):u(p.options.xAxis)?[f.xAxis[p.options.xAxis]]:Zt(d,function(t){return t.xAxis}),Gt(p.isXAxis?f.yAxis:f.xAxis,function(t){if(u(t.options.id)?t.options.id.indexOf("navigator")===-1:1){var e=t.isXAxis?"yAxis":"xAxis",e=u(t.options[e])?f[e][t.options[e]]:f[e][0];p===e&&S.push(t)}}),h=S.length?[]:[p.isXAxis?f.yAxis[0]:f.xAxis[0]],Gt(S,function(t){qt(t,h)===-1&&h.push(t)}),a=Bt(a,p.translate(e,null,null,i)),isNaN(a)||(p.horiz?Gt(h,function(t){var e;s=t.pos,c=s+t.len,o=l=ut(a+p.transB),(o<m||o>m+p.width)&&(r?o=l=dt(pt(m,o),m+p.width):e=!0),e||v.push("M",o,s,"L",l,c)}):Gt(h,function(t){var e;o=t.pos,l=o+t.len,s=c=ut(y+p.height-a),(s<y||s>y+p.height)&&(r?s=c=dt(pt(y,s),p.top+p.height):e=!0),e||v.push("M",o,s,"L",l,c)})),v.length>0?g.crispPolyLine(v,n||1):null)}),de.prototype.getPlotBandPath=function(t,e){var n,i=this.getPlotLinePath(e,null,null,!0),r=this.getPlotLinePath(t,null,null,!0),a=[];if(r&&i&&r.toString()!==i.toString())for(n=0;n<r.length;n+=6)a.push("M",r[n+1],r[n+2],"L",r[n+4],r[n+5],i[n+4],i[n+5],i[n+1],i[n+2]);else a=null;return a},ce.prototype.crispPolyLine=function(t,e){var n;for(n=0;n<t.length;n+=6)t[n+1]===t[n+4]&&(t[n+1]=t[n+4]=ut(t[n+1])-e%2/2),t[n+2]===t[n+5]&&(t[n+2]=t[n+5]=ut(t[n+2])+e%2/2);return t},N===at.VMLRenderer&&(he.prototype.crispPolyLine=ce.prototype.crispPolyLine),Wt(de.prototype,"hideCrosshair",function(t,e){t.call(this,e),u(this.crossLabelArray)&&(u(e)?this.crossLabelArray[e]&&this.crossLabelArray[e].hide():Gt(this.crossLabelArray,function(t){t.hide()}))}),Wt(de.prototype,"drawCrosshair",function(t,e,n){var i,r;if(t.call(this,e,n),u(this.crosshair.label)&&this.crosshair.label.enabled&&u(n)){var a,o,t=this.chart,s=this.options.crosshair.label,l=this.isXAxis?"x":"y",e=this.horiz,c=this.opposite,h=this.left,p=this.top,d=this.crossLabel,f=s.format,g="";d||(d=this.crossLabel=t.renderer.label().attr({align:s.align||(e?"center":c?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center"),zIndex:12,height:e?16:L,fill:s.backgroundColor||this.series[0]&&this.series[0].color||"gray",padding:Bt(s.padding,2),stroke:s.borderColor||null,"stroke-width":s.borderWidth||0}).css(zt({color:"white",fontWeight:"normal",fontSize:"11px",textAlign:"center"},s.style)).add()),e?(a=n.plotX+h,o=p+(c?0:this.height)):(a=c?this.width+h:0,o=n.plotY+p),o<p||o>p+this.height?this.hideCrosshair():(!f&&!s.formatter&&(this.isDatetimeAxis&&(g="%b %d, %Y"),f="{value"+(g?":"+g:"")+"}"),d.attr({text:f?y(f,{value:n[l]}):s.formatter.call(this,n[l]),x:a,y:o,visibility:"visible"}),n=d.getBBox(),e?("inside"===this.options.tickPosition&&!c||"inside"!==this.options.tickPosition&&c)&&(o=d.y-n.height):o=d.y-n.height/2,e?(i=h-n.x,r=h+this.width-n.x):(i="left"===this.labelAlign?h:0,r="right"===this.labelAlign?h+this.width:t.chartWidth),d.translateX<i&&(a+=i-d.translateX),d.translateX+n.width>=r&&(a-=d.translateX+n.width-r),d.attr({x:a,y:o,visibility:"visible"}))}});var He=$e.init,ze=$e.processData,Be=we.prototype.tooltipFormatter;$e.init=function(){He.apply(this,arguments),this.setCompare(this.options.compare)},$e.setCompare=function(t){this.modifyValue="value"===t||"percent"===t?function(e,n){var i=this.compareValue;return e!==L&&(e="value"===t?e-i:e=100*(e/i)-100,n)&&(n.change=e),e}:null,this.chart.hasRendered&&(this.isDirty=!0)},$e.processData=function(){var t,e,n,i=0;if(ze.apply(this,arguments),this.xAxis&&this.processedYData)for(t=this.processedXData,e=this.processedYData,n=e.length;i<n;i++)if("number"==typeof e[i]&&t[i]>=this.xAxis.min){this.compareValue=e[i];break}},Wt($e,"getExtremes",function(t){t.apply(this,[].slice.call(arguments,1)),this.modifyValue&&(this.dataMax=this.modifyValue(this.dataMax),this.dataMin=this.modifyValue(this.dataMin))}),de.prototype.setCompare=function(t,e){this.isXAxis||(Gt(this.series,function(e){e.setCompare(t)}),Bt(e,!0)&&this.chart.redraw())},we.prototype.tooltipFormatter=function(t){return t=t.replace("{point.change}",(this.change>0?"+":"")+at.numberFormat(this.change,Bt(this.series.tooltipOptions.changeDecimals,2))),Be.apply(this,[t])},Wt(Ae.prototype,"render",function(e){this.chart.options._stock&&this.xAxis&&(!this.clipBox&&this.animate?(this.clipBox=t(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]&&(re(this.chart[this.sharedClipKey]),this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}))),e.call(this)}),zt(at,{Color:ue,Point:we,Tick:P,Renderer:N,SVGElement:$,SVGRenderer:ce,arrayMin:b,arrayMax:x,charts:_t,dateFormat:R,error:A,format:y,pathAnim:H,getOptions:function(){return I},hasBidiBug:Dt,isTouchDevice:At,setOptions:function(e){return I=t(!0,I,e),D(),I},addEvent:Qt,removeEvent:te,createElement:d,discardElement:w,css:p,each:Gt,map:Zt,merge:t,splat:h,extendClass:f,pInt:e,svg:kt,canvas:$t,vml:!kt&&!$t,product:"Highstock",version:"2.1.8"})}(),function(t){"use strict";function e(t){var e=t.options.yAxis[0].currentPriceIndicator;if(e){var i,a,o,s,l,u=t.yAxis[0],c=t.series[0],h=c.yData,p=e.extractLastPriceFunction,d=p?p(h):h[h.length-1][3],f=u.getExtremes(),g=f.min,m=f.max,y={backgroundColor:"#000000",priceIncreaseColor:"green",priceDecreaseColor:"red",borderColor:"#000000",lineColor:"#000000",lineDashStyle:"Solid",pullLeft:0,lineOpacity:.8,triangle:{width:10},enabled:!0,style:{color:"#ffffff",fontSize:"11px"},x:0,y:0,zIndex:7},v=t.chartWidth,S=t.optionsMarginRight||0,T=t.optionsMarginLeft||0,b=t.renderer,x=u.currentPriceIndicator||{},M=Object.keys(x).length,w=x.group,A=x.label,C=x.box,k=x.line,D=x.triangle;if(e=r(!0,y,e),i=u.opposite?S?S:40:T?T:40,o=u.opposite?v-i:T,s=u.toPixels(d),l=u.opposite?T:v-S,o+=e.x-e.pullLeft,s+=e.y,e.enabled&&(M?(x.label.animate({text:d,y:s},0),a=x.label.getBBox().height,x.box.animate({y:s-a/2},0),x.line.animate({d:["M",l,s,"L",o,s]},0),x.label.animate({y:s+a/4},0)):(w=b.g().attr({zIndex:e.zIndex}).add(),A=b.text(d,o,s).attr({zIndex:2}).css({color:e.style.color,fontSize:e.style.fontSize}).add(w),a=A.getBBox().height,C=b.rect(o,s-a/2,i+e.boxIncreaseWidthBy,a).attr({fill:e.backgroundColor,stroke:e.borderColor,zIndex:1,"stroke-width":1}).add(w),k=b.path(["M",l,s,"L",o,s]).attr({stroke:e.lineColor,"stroke-dasharray":n(e.lineDashStyle,1),"stroke-width":1,opacity:e.lineOpacity,zIndex:1}).add(w),A.animate({y:s+a/4},0)),e.triangle&&(x.triangle&&x.triangle.destroy(),D=b.path(["M",o,s-a/2,"L",o,s+a/2,"L",o-e.triangle.width,s,"Z"]).attr({fill:e.backgroundColor,zIndex:1}).add(w)),d>g&&d<m?w.show():w.hide(),u.currentPriceIndicator={group:w,label:A,box:C,line:k,triangle:D}),u.lastPrice){var $=d>u.lastPrice?e.priceIncreaseColor:e.priceDecreaseColor;u.currentPriceIndicator.box.attr({fill:$,stroke:$}),u.currentPriceIndicator.line.attr({stroke:$}),u.currentPriceIndicator.triangle.attr({fill:$})}u.lastPrice=d}}function n(t,e){var n;if(t=t.toLowerCase(),e="undefined"!=typeof e&&0!==e?e:1,"solid"===t)n="none";else if(t){for(n=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),i=n.length;i--;)n[i]=parseInt(n[i])*e;n=n.join(",")}return n}var r=t.merge;t.wrap(t.Chart.prototype,"init",function(t){t.apply(this,Array.prototype.slice.call(arguments,1)),e(this)}),t.wrap(t.Chart.prototype,"redraw",function(t){t.apply(this,Array.prototype.slice.call(arguments,1)),e(this)})}(Highcharts),!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function i(t){return null===t?NaN:+t}function r(t){return!isNaN(t)}function a(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);i<r;){var a=i+r>>>1;t(e[a],n)<0?i=a+1:r=a}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);i<r;){var a=i+r>>>1;t(e[a],n)>0?r=a:i=a+1}return i}}}function o(t){return t.length}function s(t){for(var e=1;t*e%1;)e*=10;return e}function l(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function u(){this._=Object.create(null)}function c(t){return(t+="")===po||t[0]===fo?fo+t:t}function h(t){return(t+="")[0]===fo?t.slice(1):t}function p(t){return c(t)in this._}function d(t){return(t=c(t))in this._&&delete this._[t]}function f(){var t=[];for(var e in this._)t.push(h(e));return t}function g(){var t=0;for(var e in this._)++t;return t}function m(){for(var t in this._)return!1;return!0}function y(){this._=Object.create(null)}function v(t){return t}function S(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function T(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=go.length;n<i;++n){var r=go[n]+e;if(r in t)return r}}function b(){}function x(){}function M(t){function e(){for(var e,i=n,r=-1,a=i.length;++r<a;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new u;return e.on=function(e,r){var a,o=i.get(e);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,a=n.indexOf(o)).concat(n.slice(a+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function w(){eo.event.preventDefault()}function A(){for(var t,e=eo.event;t=e.sourceEvent;)e=t;return e}function C(t){for(var e=new x,n=0,i=arguments.length;++n<i;)e[arguments[n]]=M(e);return e.of=function(n,i){return function(r){try{var a=r.sourceEvent=eo.event;r.target=t,eo.event=r,e[r.type].apply(n,i)}finally{eo.event=a}}},e}function k(t){return yo(t,bo),t}function D(t){return"function"==typeof t?t:function(){return vo(t,this)}}function $(t){return"function"==typeof t?t:function(){return So(t,this)}}function P(t,e){function n(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function a(){this.setAttributeNS(t.space,t.local,e)}function o(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=eo.ns.qualify(t),null==e?t.local?i:n:"function"==typeof e?t.local?s:o:t.local?a:r}function E(t){return t.trim().replace(/\s+/g," ")}function O(t){return new RegExp("(?:^|\\s+)"+eo.requote(t)+"(?:\\s+|$)","g")}function _(t){return(t+"").trim().split(/^|\s+/)}function L(t,e){function n(){for(var n=-1;++n<r;)t[n](this,e)}function i(){for(var n=-1,i=e.apply(this,arguments);++n<r;)t[n](this,i)}t=_(t).map(N);var r=t.length;return"function"==typeof e?i:n}function N(t){var e=O(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",E(r+" "+t))):n.setAttribute("class",E(r.replace(e," ")))}}function X(t,e,n){function i(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,n)}function a(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}return null==e?i:"function"==typeof e?a:r}function F(t,e){function n(){delete this[t]}function i(){this[t]=e}function r(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?r:i}function I(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n?e.createElementNS(n,t):e.createElement(t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=eo.ns.qualify(t)).local?n:e}function R(){var t=this.parentNode;t&&t.removeChild(this)}function H(t){return{__data__:t}}function z(t){return function(){return To(this,t)}}function B(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function W(t,e){for(var n=0,i=t.length;n<i;n++)for(var r,a=t[n],o=0,s=a.length;o<s;o++)(r=a[o])&&e(r,o,n);return t}function Y(t){return yo(t,Mo),t}function U(t){
var e,n;return function(i,r,a){var o,s=t[a].update,l=s.length;for(a!=n&&(n=a,e=0),r>=e&&(e=r+1);!(o=s[e])&&++e<l;);return o}}function V(t,e,n){function i(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}function r(){var r=l(e,io(arguments));i.call(this),this.addEventListener(t,this[o]=r,r.$=n),r._=e}function a(){var e,n=new RegExp("^__on([^.]+)"+eo.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}var o="__on"+t,s=t.indexOf("."),l=j;s>0&&(t=t.slice(0,s));var u=wo.get(t);return u&&(t=u,l=q),s?e?r:i:e?b:a}function j(t,e){return function(n){var i=eo.event;eo.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{eo.event=i}}}function q(t,e){var n=j(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function G(n){var i=".dragsuppress-"+ ++Co,r="click"+i,a=eo.select(e(n)).on("touchmove"+i,w).on("dragstart"+i,w).on("selectstart"+i,w);if(null==Ao&&(Ao=!("onselectstart"in n)&&T(n.style,"userSelect")),Ao){var o=t(n).style,s=o[Ao];o[Ao]="none"}return function(t){if(a.on(i,null),Ao&&(o[Ao]=s),t){var e=function(){a.on(r,null)};a.on(r,function(){w(),e()},!0),setTimeout(e,0)}}}function J(t,n){n.changedTouches&&(n=n.changedTouches[0]);var i=t.ownerSVGElement||t;if(i.createSVGPoint){var r=i.createSVGPoint();if(ko<0){var a=e(t);if(a.scrollX||a.scrollY){i=eo.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=i[0][0].getScreenCTM();ko=!(o.f||o.e),i.remove()}}return ko?(r.x=n.pageX,r.y=n.pageY):(r.x=n.clientX,r.y=n.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function K(){return eo.event.changedTouches[0].identifier}function Z(t){return t>0?1:t<0?-1:0}function Q(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return t>1?0:t<-1?Po:Math.acos(t)}function et(t){return t>1?_o:t<-1?-_o:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function it(t){return((t=Math.exp(t))+1/t)/2}function rt(t){return((t=Math.exp(2*t))-1)/(t+1)}function at(t){return(t=Math.sin(t/2))*t}function ot(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):bt(""+t,xt,st):new st(t,e,n)}function lt(t,e,n){function i(t){return t>360?t-=360:t<0&&(t+=360),t<60?a+(o-a)*t/60:t<180?o:t<240?a+(o-a)*(240-t)/60:a}function r(t){return Math.round(255*i(t))}var a,o;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,o=n<=.5?n*(1+e):n+e-n*e,a=2*n-o,new yt(r(t+120),r(t),r(t-120))}function ut(t,e,n){return this instanceof ut?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ut?new ut(t.h,t.c,t.l):t instanceof ht?dt(t.l,t.a,t.b):dt((t=Mt((t=eo.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ut(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ht(n,Math.cos(t*=Lo)*e,Math.sin(t)*e)}function ht(t,e,n){return this instanceof ht?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ht?new ht(t.l,t.a,t.b):t instanceof ut?ct(t.h,t.c,t.l):Mt((t=yt(t)).r,t.g,t.b):new ht(t,e,n)}function pt(t,e,n){var i=(t+16)/116,r=i+e/500,a=i-n/200;return r=ft(r)*Uo,i=ft(i)*Vo,a=ft(a)*jo,new yt(mt(3.2404542*r-1.5371385*i-.4985314*a),mt(-.969266*r+1.8760108*i+.041556*a),mt(.0556434*r-.2040259*i+1.0572252*a))}function dt(t,e,n){return t>0?new ut(Math.atan2(n,e)*No,Math.sqrt(e*e+n*n),t):new ut(NaN,NaN,t)}function ft(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function gt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function mt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function yt(t,e,n){return this instanceof yt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof yt?new yt(t.r,t.g,t.b):bt(""+t,yt,lt):new yt(t,e,n)}function vt(t){return new yt(t>>16,t>>8&255,255&t)}function St(t){return vt(t)+""}function Tt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function bt(t,e,n){var i,r,a,o=0,s=0,l=0;if(i=/([a-z]+)\((.*)\)/i.exec(t))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(At(r[0]),At(r[1]),At(r[2]))}return(a=Jo.get(t.toLowerCase()))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&a)>>4,o=o>>4|o,s=240&a,s=s>>4|s,l=15&a,l=l<<4|l):7===t.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,l=255&a)),e(o,s,l))}function xt(t,e,n){var i,r,a=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-a,l=(o+a)/2;return s?(r=l<.5?s/(o+a):s/(2-o-a),i=t==o?(e-n)/s+(e<n?6:0):e==o?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,r=l>0&&l<1?0:i),new st(i,r,l)}function Mt(t,e,n){t=wt(t),e=wt(e),n=wt(n);var i=gt((.4124564*t+.3575761*e+.1804375*n)/Uo),r=gt((.2126729*t+.7151522*e+.072175*n)/Vo),a=gt((.0193339*t+.119192*e+.9503041*n)/jo);return ht(116*r-16,500*(i-r),200*(r-a))}function wt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function At(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Ct(t){return"function"==typeof t?t:function(){return t}}function kt(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),Dt(e,n,t,i)}}function Dt(t,e,n,i){function r(){var t,e=l.status;if(!e&&Pt(l)||e>=200&&e<300||304===e){try{t=n.call(a,l)}catch(t){return void o.error.call(a,t)}o.load.call(a,t)}else o.error.call(a,l)}var a={},o=eo.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=r:l.onreadystatechange=function(){l.readyState>3&&r()},l.onprogress=function(t){var e=eo.event;eo.event=t;try{o.progress.call(a,l)}finally{eo.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",a):e},a.responseType=function(t){return arguments.length?(u=t,a):u},a.response=function(t){return n=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(io(arguments)))}}),a.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var c in s)l.setRequestHeader(c,s[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=r&&a.on("error",r).on("load",function(t){r(null,t)}),o.beforesend.call(a,l),l.send(null==i?null:i),a},a.abort=function(){return l.abort(),a},eo.rebind(a,o,"on"),null==i?a:a.get($t(i))}function $t(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Pt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Et(){var t=Ot(),e=_t()-t;e>24?(isFinite(e)&&(clearTimeout(ts),ts=setTimeout(Et,e)),Qo=0):(Qo=1,ns(Et))}function Ot(){var t=Date.now();for(es=Ko;es;)t>=es.t&&(es.f=es.c(t-es.t)),es=es.n;return t}function _t(){for(var t,e=Ko,n=1/0;e;)e.f?e=t?t.n=e.n:Ko=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return Zo=t,n}function Lt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Nt(t,e){var n=Math.pow(10,3*ho(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Xt(t){var e=t.decimal,n=t.thousands,i=t.grouping,r=t.currency,a=i&&n?function(t,e){for(var r=t.length,a=[],o=0,s=i[0],l=0;r>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),a.push(t.substring(r-=s,r+s)),!((l+=s+1)>e));)s=i[o=(o+1)%i.length];return a.reverse().join(n)}:v;return function(t){var n=rs.exec(t),i=n[1]||" ",o=n[2]||">",s=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],h=n[7],p=n[8],d=n[9],f=1,g="",m="",y=!1,v=!0;switch(p&&(p=+p.substring(1)),(u||"0"===i&&"="===o)&&(u=i="0",o="="),d){case"n":h=!0,d="g";break;case"%":f=100,m="%",d="f";break;case"p":f=100,m="%",d="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+d.toLowerCase());case"c":v=!1;case"d":y=!0,p=0;break;case"s":f=-1,d="r"}"$"===l&&(g=r[0],m=r[1]),"r"!=d||p||(d="g"),null!=p&&("g"==d?p=Math.max(1,Math.min(21,p)):"e"!=d&&"f"!=d||(p=Math.max(0,Math.min(20,p)))),d=as.get(d)||Ft;var S=u&&h;return function(t){var n=m;if(y&&t%1)return"";var r=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(f<0){var l=eo.formatPrefix(t,p);t=l.scale(t),n=l.symbol+m}else t*=f;t=d(t,p);var T,b,x=t.lastIndexOf(".");if(x<0){var M=v?t.lastIndexOf("e"):-1;M<0?(T=t,b=""):(T=t.substring(0,M),b=t.substring(M))}else T=t.substring(0,x),b=e+t.substring(x+1);!u&&h&&(T=a(T,1/0));var w=g.length+T.length+b.length+(S?0:r.length),A=w<c?new Array(w=c-w+1).join(i):"";return S&&(T=a(A+T,A.length?c-b.length:1/0)),r+=g,t=T+b,("<"===o?r+t+A:">"===o?A+r+t:"^"===o?A.substring(0,w>>=1)+r+t+A.substring(w):r+(S?t:A+t))+n}}}function Ft(t){return t+""}function It(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Rt(t,e,n){function i(e){var n=t(e),i=a(n,1);return e-n<i-e?n:i}function r(n){return e(n=t(new ss(n-1)),1),n}function a(t,n){return e(t=new ss((+t)),n),t}function o(t,i,a){var o=r(t),s=[];if(a>1)for(;o<i;)n(o)%a||s.push(new Date((+o))),e(o,1);else for(;o<i;)s.push(new Date((+o))),e(o,1);return s}function s(t,e,n){try{ss=It;var i=new It;return i._=t,o(i,e,n)}finally{ss=Date}}t.floor=t,t.round=i,t.ceil=r,t.offset=a,t.range=o;var l=t.utc=Ht(t);return l.floor=l,l.round=Ht(i),l.ceil=Ht(r),l.offset=Ht(a),l.range=s,t}function Ht(t){return function(e,n){try{ss=It;var i=new It;return i._=e,t(i,n)._}finally{ss=Date}}}function zt(t){function e(t){function e(e){for(var n,r,a,o=[],s=-1,l=0;++s<i;)37===t.charCodeAt(s)&&(o.push(t.slice(l,s)),null!=(r=us[n=t.charAt(++s)])&&(n=t.charAt(++s)),(a=D[n])&&(n=a(e,null==r?"e"===n?" ":"0":r)),o.push(n),l=s+1);return o.push(t.slice(l,s)),o.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=n(i,t,e,0);if(r!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var a=null!=i.Z&&ss!==It,o=new(a?It:ss);return"j"in i?o.setFullYear(i.y,0,i.j):"w"in i&&("W"in i||"U"in i)?(o.setFullYear(i.y,0,1),o.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(o.getDay()+5)%7:i.w+7*i.U-(o.getDay()+6)%7)):o.setFullYear(i.y,i.m,i.d),o.setHours(i.H+(i.Z/100|0),i.M+i.Z%100,i.S,i.L),a?o._:o},e.toString=function(){return t},e}function n(t,e,n,i){for(var r,a,o,s=0,l=e.length,u=n.length;s<l;){if(i>=u)return-1;if(r=e.charCodeAt(s++),37===r){if(o=e.charAt(s++),a=$[o in us?e.charAt(s++):o],!a||(i=a(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function i(t,e,n){x.lastIndex=0;var i=x.exec(e.slice(n));return i?(t.w=M.get(i[0].toLowerCase()),n+i[0].length):-1}function r(t,e,n){T.lastIndex=0;var i=T.exec(e.slice(n));return i?(t.w=b.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,n){C.lastIndex=0;var i=C.exec(e.slice(n));return i?(t.m=k.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){w.lastIndex=0;var i=w.exec(e.slice(n));return i?(t.m=A.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,i){return n(t,D.c.toString(),e,i)}function l(t,e,i){return n(t,D.x.toString(),e,i)}function u(t,e,i){return n(t,D.X.toString(),e,i)}function c(t,e,n){var i=S.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var h=t.dateTime,p=t.date,d=t.time,f=t.periods,g=t.days,m=t.shortDays,y=t.months,v=t.shortMonths;e.utc=function(t){function n(t){try{ss=It;var e=new ss;return e._=t,i(e)}finally{ss=Date}}var i=e(t);return n.parse=function(t){try{ss=It;var e=i.parse(t);return e&&e._}finally{ss=Date}},n.toString=i.toString,n},e.multi=e.utc.multi=se;var S=eo.map(),T=Wt(g),b=Yt(g),x=Wt(m),M=Yt(m),w=Wt(y),A=Yt(y),C=Wt(v),k=Yt(v);f.forEach(function(t,e){S.set(t.toLowerCase(),e)});var D={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return v[t.getMonth()]},B:function(t){return y[t.getMonth()]},c:e(h),d:function(t,e){return Bt(t.getDate(),e,2)},e:function(t,e){return Bt(t.getDate(),e,2)},H:function(t,e){return Bt(t.getHours(),e,2)},I:function(t,e){return Bt(t.getHours()%12||12,e,2)},j:function(t,e){return Bt(1+os.dayOfYear(t),e,3)},L:function(t,e){return Bt(t.getMilliseconds(),e,3)},m:function(t,e){return Bt(t.getMonth()+1,e,2)},M:function(t,e){return Bt(t.getMinutes(),e,2)},p:function(t){return f[+(t.getHours()>=12)]},S:function(t,e){return Bt(t.getSeconds(),e,2)},U:function(t,e){return Bt(os.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Bt(os.mondayOfYear(t),e,2)},x:e(p),X:e(d),y:function(t,e){return Bt(t.getFullYear()%100,e,2)},Y:function(t,e){return Bt(t.getFullYear()%1e4,e,4)},Z:ae,"%":function(){return"%"}},$={a:i,A:r,b:a,B:o,c:s,d:Qt,e:Qt,H:ee,I:ee,j:te,L:re,m:Zt,M:ne,p:c,S:ie,U:Vt,w:Ut,W:jt,x:l,X:u,y:Gt,Y:qt,Z:Jt,"%":oe};return e}function Bt(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(e)+r:r)}function Wt(t){return new RegExp("^(?:"+t.map(eo.requote).join("|")+")","i")}function Yt(t){for(var e=new u,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Ut(t,e,n){cs.lastIndex=0;var i=cs.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Vt(t,e,n){cs.lastIndex=0;var i=cs.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function jt(t,e,n){cs.lastIndex=0;var i=cs.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function qt(t,e,n){cs.lastIndex=0;var i=cs.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Gt(t,e,n){cs.lastIndex=0;var i=cs.exec(e.slice(n,n+2));return i?(t.y=Kt(+i[0]),n+i[0].length):-1}function Jt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Kt(t){return t+(t>68?1900:2e3)}function Zt(t,e,n){cs.lastIndex=0;var i=cs.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Qt(t,e,n){cs.lastIndex=0;var i=cs.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function te(t,e,n){cs.lastIndex=0;var i=cs.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function ee(t,e,n){cs.lastIndex=0;var i=cs.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function ne(t,e,n){cs.lastIndex=0;var i=cs.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function ie(t,e,n){cs.lastIndex=0;var i=cs.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function re(t,e,n){cs.lastIndex=0;var i=cs.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function ae(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=ho(e)/60|0,r=ho(e)%60;return n+Bt(i,"0",2)+Bt(r,"0",2)}function oe(t,e,n){hs.lastIndex=0;var i=hs.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function se(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}function le(){}function ue(t,e,n){var i=n.s=t+e,r=i-t,a=i-r;n.t=t-a+(e-r)}function ce(t,e){t&&gs.hasOwnProperty(t.type)&&gs[t.type](t,e)}function he(t,e,n){var i,r=-1,a=t.length-n;for(e.lineStart();++r<a;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function pe(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)he(t[n],e,1);e.polygonEnd()}function de(){function t(t,e){t*=Lo,e=e*Lo/2+Po/4;var n=t-i,o=n>=0?1:-1,s=o*n,l=Math.cos(e),u=Math.sin(e),c=a*u,h=r*l+c*Math.cos(s),p=c*o*Math.sin(s);ys.add(Math.atan2(p,h)),i=t,r=l,a=u}var e,n,i,r,a;vs.point=function(o,s){vs.point=t,i=(e=o)*Lo,r=Math.cos(s=(n=s)*Lo/2+Po/4),a=Math.sin(s)},vs.lineEnd=function(){t(e,n)}}function fe(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function ge(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function me(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ye(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ve(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Se(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Te(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function be(t,e){return ho(t[0]-e[0])<Do&&ho(t[1]-e[1])<Do}function xe(t,e){t*=Lo;var n=Math.cos(e*=Lo);Me(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Me(t,e,n){++Ss,bs+=(t-bs)/Ss,xs+=(e-xs)/Ss,Ms+=(n-Ms)/Ss}function we(){function t(t,r){t*=Lo;var a=Math.cos(r*=Lo),o=a*Math.cos(t),s=a*Math.sin(t),l=Math.sin(r),u=Math.atan2(Math.sqrt((u=n*l-i*s)*u+(u=i*o-e*l)*u+(u=e*s-n*o)*u),e*o+n*s+i*l);Ts+=u,ws+=u*(e+(e=o)),As+=u*(n+(n=s)),Cs+=u*(i+(i=l)),Me(e,n,i)}var e,n,i;Ps.point=function(r,a){r*=Lo;var o=Math.cos(a*=Lo);e=o*Math.cos(r),n=o*Math.sin(r),i=Math.sin(a),Ps.point=t,Me(e,n,i)}}function Ae(){Ps.point=xe}function Ce(){function t(t,e){t*=Lo;var n=Math.cos(e*=Lo),o=n*Math.cos(t),s=n*Math.sin(t),l=Math.sin(e),u=r*l-a*s,c=a*o-i*l,h=i*s-r*o,p=Math.sqrt(u*u+c*c+h*h),d=i*o+r*s+a*l,f=p&&-tt(d)/p,g=Math.atan2(p,d);ks+=f*u,Ds+=f*c,$s+=f*h,Ts+=g,ws+=g*(i+(i=o)),As+=g*(r+(r=s)),Cs+=g*(a+(a=l)),Me(i,r,a)}var e,n,i,r,a;Ps.point=function(o,s){e=o,n=s,Ps.point=t,o*=Lo;var l=Math.cos(s*=Lo);i=l*Math.cos(o),r=l*Math.sin(o),a=Math.sin(s),Me(i,r,a)},Ps.lineEnd=function(){t(e,n),Ps.lineEnd=Ae,Ps.point=xe}}function ke(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n}function De(){return!0}function $e(t,e,n,i,r){var a=[],o=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(be(n,i)){r.lineStart();for(var s=0;s<e;++s)r.point((n=t[s])[0],n[1]);return void r.lineEnd()}var l=new Ee(n,t,null,(!0)),u=new Ee(n,null,l,(!1));l.o=u,a.push(l),o.push(u),l=new Ee(i,t,null,(!1)),u=new Ee(i,null,l,(!0)),l.o=u,a.push(l),o.push(u)}}),o.sort(e),Pe(a),Pe(o),a.length){for(var s=0,l=n,u=o.length;s<u;++s)o[s].e=l=!l;for(var c,h,p=a[0];;){for(var d=p,f=!0;d.v;)if((d=d.n)===p)return;c=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(var s=0,u=c.length;s<u;++s)r.point((h=c[s])[0],h[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(f){c=d.p.z;for(var s=c.length-1;s>=0;--s)r.point((h=c[s])[0],h[1])}else i(d.x,d.p.x,-1,r);d=d.p}d=d.o,c=d.z,f=!f}while(!d.v);r.lineEnd()}}}function Pe(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Ee(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Oe(t,e,n,i){return function(r,a){function o(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&a.point(e,n)}function s(t,e){var n=r(t,e);m.point(n[0],n[1])}function l(){v.point=s,m.lineStart()}function u(){v.point=o,m.lineEnd()}function c(t,e){g.push([t,e]);var n=r(t,e);T.point(n[0],n[1])}function h(){T.lineStart(),g=[]}function p(){c(g[0][0],g[0][1]),T.lineEnd();var t,e=T.clean(),n=S.buffer(),i=n.length;if(g.pop(),f.push(g),g=null,i)if(1&e){t=n[0];var r,i=t.length-1,o=-1;if(i>0){for(b||(a.polygonStart(),b=!0),a.lineStart();++o<i;)a.point((r=t[o])[0],r[1]);a.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),d.push(n.filter(_e))}var d,f,g,m=e(a),y=r.invert(i[0],i[1]),v={point:o,lineStart:l,lineEnd:u,polygonStart:function(){v.point=c,v.lineStart=h,v.lineEnd=p,d=[],f=[]},polygonEnd:function(){v.point=o,v.lineStart=l,v.lineEnd=u,d=eo.merge(d);var t=Re(y,f);d.length?(b||(a.polygonStart(),b=!0),$e(d,Ne,t,n,a)):t&&(b||(a.polygonStart(),b=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),b&&(a.polygonEnd(),b=!1),d=f=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},S=Le(),T=e(S),b=!1;return v}}function _e(t){return t.length>1}function Le(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:b,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Ne(t,e){return((t=t.x)[0]<0?t[1]-_o-Do:_o-t[1])-((e=e.x)[0]<0?e[1]-_o-Do:_o-e[1])}function Xe(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?Po:-Po,l=ho(a-n);ho(l-Po)<Do?(t.point(n,i=(i+o)/2>0?_o:-_o),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(a,i),e=0):r!==s&&l>=Po&&(ho(n-r)<Do&&(n-=r*Do),ho(a-s)<Do&&(a-=s*Do),i=Fe(n,i,a,o),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=a,i=o),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function Fe(t,e,n,i){var r,a,o=Math.sin(t-n);return ho(o)>Do?Math.atan((Math.sin(e)*(a=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*a*o)):(e+i)/2}function Ie(t,e,n,i){var r;if(null==t)r=n*_o,i.point(-Po,r),i.point(0,r),i.point(Po,r),i.point(Po,0),i.point(Po,-r),i.point(0,-r),i.point(-Po,-r),i.point(-Po,0),i.point(-Po,r);else if(ho(t[0]-e[0])>Do){var a=t[0]<e[0]?Po:-Po;r=n*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(e[0],e[1])}function Re(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],a=0,o=0;ys.reset();for(var s=0,l=e.length;s<l;++s){var u=e[s],c=u.length;if(c)for(var h=u[0],p=h[0],d=h[1]/2+Po/4,f=Math.sin(d),g=Math.cos(d),m=1;;){m===c&&(m=0),t=u[m];var y=t[0],v=t[1]/2+Po/4,S=Math.sin(v),T=Math.cos(v),b=y-p,x=b>=0?1:-1,M=x*b,w=M>Po,A=f*S;if(ys.add(Math.atan2(A*x*Math.sin(M),g*T+A*Math.cos(M))),a+=w?b+x*Eo:b,w^p>=n^y>=n){var C=me(fe(h),fe(t));Se(C);var k=me(r,C);Se(k);var D=(w^b>=0?-1:1)*et(k[2]);(i>D||i===D&&(C[0]||C[1]))&&(o+=w^b>=0?1:-1)}if(!m++)break;p=y,f=S,g=T,h=t}}return(a<-Do||a<Do&&ys<0)^1&o}function He(t){function e(t,e){return Math.cos(t)*Math.cos(e)>a}function n(t){var n,a,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,p){var d,f=[h,p],g=e(h,p),m=o?g?0:r(h,p):g?r(h+(h<0?Po:-Po),p):0;if(!n&&(u=l=g)&&t.lineStart(),g!==l&&(d=i(n,f),(be(n,d)||be(f,d))&&(f[0]+=Do,f[1]+=Do,g=e(f[0],f[1]))),g!==l)c=0,g?(t.lineStart(),d=i(f,n),t.point(d[0],d[1])):(d=i(n,f),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(s&&n&&o^g){var y;m&a||!(y=i(f,n,!0))||(c=0,o?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!g||n&&be(n,f)||t.point(f[0],f[1]),n=f,l=g,a=m},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function i(t,e,n){var i=fe(t),r=fe(e),o=[1,0,0],s=me(i,r),l=ge(s,s),u=s[0],c=l-u*u;if(!c)return!n&&t;var h=a*l/c,p=-a*u/c,d=me(o,s),f=ve(o,h),g=ve(s,p);ye(f,g);var m=d,y=ge(f,m),v=ge(m,m),S=y*y-v*(ge(f,f)-1);if(!(S<0)){var T=Math.sqrt(S),b=ve(m,(-y-T)/v);if(ye(b,f),b=Te(b),!n)return b;var x,M=t[0],w=e[0],A=t[1],C=e[1];w<M&&(x=M,M=w,w=x);var k=w-M,D=ho(k-Po)<Do,$=D||k<Do;if(!D&&C<A&&(x=A,A=C,C=x),$?D?A+C>0^b[1]<(ho(b[0]-M)<Do?A:C):A<=b[1]&&b[1]<=C:k>Po^(M<=b[0]&&b[0]<=w)){var P=ve(m,(-y+T)/v);return ye(P,f),[b,Te(P)]}}}function r(e,n){var i=o?t:Po-t,r=0;return e<-i?r|=1:e>i&&(r|=2),n<-i?r|=4:n>i&&(r|=8),r}var a=Math.cos(t),o=a>0,s=ho(a)>Do,l=fn(t,6*Lo);return Oe(e,n,l,o?[0,-t]:[-Po,t-Po])}function ze(t,e,n,i){return function(r){var a,o=r.a,s=r.b,l=o.x,u=o.y,c=s.x,h=s.y,p=0,d=1,f=c-l,g=h-u;if(a=t-l,f||!(a>0)){if(a/=f,f<0){if(a<p)return;a<d&&(d=a)}else if(f>0){if(a>d)return;a>p&&(p=a)}if(a=n-l,f||!(a<0)){if(a/=f,f<0){if(a>d)return;a>p&&(p=a)}else if(f>0){if(a<p)return;a<d&&(d=a)}if(a=e-u,g||!(a>0)){if(a/=g,g<0){if(a<p)return;a<d&&(d=a)}else if(g>0){if(a>d)return;a>p&&(p=a)}if(a=i-u,g||!(a<0)){if(a/=g,g<0){if(a>d)return;a>p&&(p=a)}else if(g>0){if(a<p)return;a<d&&(d=a)}return p>0&&(r.a={x:l+p*f,y:u+p*g}),d<1&&(r.b={x:l+d*f,y:u+d*g}),r}}}}}}function Be(t,e,n,i){function r(i,r){return ho(i[0]-t)<Do?r>0?0:3:ho(i[0]-n)<Do?r>0?2:1:ho(i[1]-e)<Do?r>0?1:0:r>0?3:2}function a(t,e){return o(t.x,e.x)}function o(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t){for(var e=0,n=m.length,i=t[1],r=0;r<n;++r)for(var a,o=1,s=m[r],l=s.length,u=s[0];o<l;++o)a=s[o],u[1]<=i?a[1]>i&&Q(u,a,t)>0&&++e:a[1]<=i&&Q(u,a,t)<0&&--e,u=a;return 0!==e}function u(a,s,l,u){var c=0,h=0;if(null==a||(c=r(a,l))!==(h=r(s,l))||o(a,s)<0^l>0){do u.point(0===c||3===c?t:n,c>1?i:e);while((c=(c+l+4)%4)!==h)}else u.point(s[0],s[1])}function c(r,a){return t<=r&&r<=n&&e<=a&&a<=i}function h(t,e){c(t,e)&&s.point(t,e)}function p(){$.point=f,m&&m.push(y=[]),w=!0,M=!1,b=x=NaN}function d(){g&&(f(v,S),T&&M&&k.rejoin(),g.push(k.buffer())),$.point=h,M&&s.lineEnd()}function f(t,e){t=Math.max(-Os,Math.min(Os,t)),e=Math.max(-Os,Math.min(Os,e));var n=c(t,e);if(m&&y.push([t,e]),w)v=t,S=e,T=n,w=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&M)s.point(t,e);else{var i={a:{x:b,y:x},b:{x:t,y:e}};D(i)?(M||(s.lineStart(),s.point(i.a.x,i.a.y)),s.point(i.b.x,i.b.y),n||s.lineEnd(),A=!1):n&&(s.lineStart(),s.point(t,e),A=!1)}b=t,x=e,M=n}var g,m,y,v,S,T,b,x,M,w,A,C=s,k=Le(),D=ze(t,e,n,i),$={point:h,lineStart:p,lineEnd:d,polygonStart:function(){s=k,g=[],m=[],A=!0},polygonEnd:function(){s=C,g=eo.merge(g);var e=l([t,i]),n=A&&e,r=g.length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),u(null,null,1,s),s.lineEnd()),r&&$e(g,a,e,u,s),s.polygonEnd()),g=m=y=null}};return $}}function We(t){var e=0,n=Po/3,i=on(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Po/180,n=t[1]*Po/180):[e/Po*180,n/Po*180]},r}function Ye(t,e){function n(t,e){var n=Math.sqrt(a-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,a=1+i*(2*r-i),o=Math.sqrt(a)/r;return n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,et((a-(t*t+n*n)*r*r)/(2*r))]},n}function Ue(){function t(t,e){Ls+=r*t-i*e,i=t,r=e}var e,n,i,r;Rs.point=function(a,o){Rs.point=t,e=i=a,n=r=o},Rs.lineEnd=function(){t(e,n)}}function Ve(t,e){t<Ns&&(Ns=t),t>Fs&&(Fs=t),e<Xs&&(Xs=e),e>Is&&(Is=e)}function je(){function t(t,e){o.push("M",t,",",e,a)}function e(t,e){o.push("M",t,",",e),s.point=n}function n(t,e){o.push("L",t,",",e)}function i(){s.point=t}function r(){o.push("Z")}var a=qe(4.5),o=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return a=qe(t),s},result:function(){if(o.length){var t=o.join("");return o=[],t}}};return s}function qe(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ge(t,e){bs+=t,xs+=e,++Ms}function Je(){function t(t,i){var r=t-e,a=i-n,o=Math.sqrt(r*r+a*a);ws+=o*(e+t)/2,As+=o*(n+i)/2,Cs+=o,Ge(e=t,n=i)}var e,n;zs.point=function(i,r){zs.point=t,Ge(e=i,n=r)}}function Ke(){zs.point=Ge}function Ze(){function t(t,e){var n=t-i,a=e-r,o=Math.sqrt(n*n+a*a);ws+=o*(i+t)/2,As+=o*(r+e)/2,Cs+=o,o=r*t-i*e,ks+=o*(i+t),Ds+=o*(r+e),$s+=3*o,Ge(i=t,r=e)}var e,n,i,r;zs.point=function(a,o){zs.point=t,Ge(e=i=a,n=r=o)},zs.lineEnd=function(){t(e,n)}}function Qe(t){function e(e,n){t.moveTo(e+o,n),t.arc(e,n,o,0,Eo)}function n(e,n){t.moveTo(e,n),s.point=i}function i(e,n){t.lineTo(e,n)}function r(){s.point=e}function a(){t.closePath()}var o=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:r,polygonStart:function(){s.lineEnd=a},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(t){return o=t,s},result:b};return s}function tn(t){function e(t){return(s?i:n)(t)}function n(e){return rn(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1])}function i(){S=NaN,w.point=a,e.lineStart()}function a(n,i){var a=fe([n,i]),o=t(n,i);r(S,T,v,b,x,M,S=o[0],T=o[1],v=n,b=a[0],x=a[1],M=a[2],s,e),e.point(S,T)}function o(){w.point=n,e.lineEnd()}function l(){i(),w.point=u,w.lineEnd=c}function u(t,e){a(h=t,p=e),d=S,f=T,g=b,m=x,y=M,w.point=a}function c(){r(S,T,v,b,x,M,d,f,h,g,m,y,s,e),w.lineEnd=o,o()}var h,p,d,f,g,m,y,v,S,T,b,x,M,w={point:n,lineStart:i,lineEnd:o,polygonStart:function(){e.polygonStart(),w.lineStart=l},polygonEnd:function(){e.polygonEnd(),w.lineStart=i}};return w}function r(e,n,i,s,l,u,c,h,p,d,f,g,m,y){var v=c-e,S=h-n,T=v*v+S*S;if(T>4*a&&m--){var b=s+d,x=l+f,M=u+g,w=Math.sqrt(b*b+x*x+M*M),A=Math.asin(M/=w),C=ho(ho(M)-1)<Do||ho(i-p)<Do?(i+p)/2:Math.atan2(x,b),k=t(C,A),D=k[0],$=k[1],P=D-e,E=$-n,O=S*P-v*E;(O*O/T>a||ho((v*P+S*E)/T-.5)>.3||s*d+l*f+u*g<o)&&(r(e,n,i,s,l,u,D,$,C,b/=w,x/=w,M,m,y),y.point(D,$),r(D,$,C,b,x,M,c,h,p,d,f,g,m,y))}}var a=.5,o=Math.cos(30*Lo),s=16;return e.precision=function(t){return arguments.length?(s=(a=t*t)>0&&16,e):Math.sqrt(a)},e}function en(t){var e=tn(function(e,n){return t([e*No,n*No])});return function(t){return sn(e(t))}}function nn(t){this.stream=t}function rn(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function an(t){return on(function(){return t})()}function on(t){function e(t){return t=s(t[0]*Lo,t[1]*Lo),[t[0]*p+l,u-t[1]*p]}function n(t){return t=s.invert((t[0]-l)/p,(u-t[1])/p),t&&[t[0]*No,t[1]*No]}function i(){s=ke(o=cn(y,S,T),a);var t=a(g,m);return l=d-t[0]*p,u=f+t[1]*p,r()}function r(){return c&&(c.valid=!1,c=null),e}var a,o,s,l,u,c,h=tn(function(t,e){return t=a(t,e),[t[0]*p+l,u-t[1]*p]}),p=150,d=480,f=250,g=0,m=0,y=0,S=0,T=0,b=Es,x=v,M=null,w=null;return e.stream=function(t){return c&&(c.valid=!1),c=sn(b(o,h(x(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(b=null==t?(M=t,Es):He((M=+t)*Lo),r()):M},e.clipExtent=function(t){return arguments.length?(w=t,x=t?Be(t[0][0],t[0][1],t[1][0],t[1][1]):v,r()):w},e.scale=function(t){return arguments.length?(p=+t,i()):p},e.translate=function(t){return arguments.length?(d=+t[0],f=+t[1],i()):[d,f]},e.center=function(t){return arguments.length?(g=t[0]%360*Lo,m=t[1]%360*Lo,i()):[g*No,m*No]},e.rotate=function(t){return arguments.length?(y=t[0]%360*Lo,S=t[1]%360*Lo,T=t.length>2?t[2]%360*Lo:0,i()):[y*No,S*No,T*No]},eo.rebind(e,h,"precision"),function(){return a=t.apply(this,arguments),e.invert=a.invert&&n,i()}}function sn(t){return rn(t,function(e,n){t.point(e*Lo,n*Lo)})}function ln(t,e){return[t,e]}function un(t,e){return[t>Po?t-Eo:t<-Po?t+Eo:t,e]}function cn(t,e,n){return t?e||n?ke(pn(t),dn(e,n)):pn(t):e||n?dn(e,n):un}function hn(t){return function(e,n){return e+=t,[e>Po?e-Eo:e<-Po?e+Eo:e,n]}}function pn(t){var e=hn(t);return e.invert=hn(-t),e}function dn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*i+s*r;return[Math.atan2(l*a-c*o,s*i-u*r),et(c*a+l*o)]}var i=Math.cos(t),r=Math.sin(t),a=Math.cos(e),o=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*a-l*o;return[Math.atan2(l*a+u*o,s*i+c*r),et(c*i-s*r)]},n}function fn(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,a,o,s){var l=o*e;null!=r?(r=gn(n,r),a=gn(n,a),(o>0?r<a:r>a)&&(r+=o*Eo)):(r=t+o*Eo,a=t-.5*l);for(var u,c=r;o>0?c>a:c<a;c-=l)s.point((u=Te([n,-i*Math.cos(c),-i*Math.sin(c)]))[0],u[1])}}function gn(t,e){var n=fe(e);n[0]-=t,Se(n);var i=tt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Do)%(2*Math.PI)}function mn(t,e,n){var i=eo.range(t,e-Do,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function yn(t,e,n){var i=eo.range(t,e-Do,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function vn(t){return t.source}function Sn(t){return t.target}function Tn(t,e,n,i){var r=Math.cos(e),a=Math.sin(e),o=Math.cos(i),s=Math.sin(i),l=r*Math.cos(t),u=r*Math.sin(t),c=o*Math.cos(n),h=o*Math.sin(n),p=2*Math.asin(Math.sqrt(at(i-e)+r*o*at(n-t))),d=1/Math.sin(p),f=p?function(t){var e=Math.sin(t*=p)*d,n=Math.sin(p-t)*d,i=n*l+e*c,r=n*u+e*h,o=n*a+e*s;return[Math.atan2(r,i)*No,Math.atan2(o,Math.sqrt(i*i+r*r))*No]}:function(){return[t*No,e*No]};return f.distance=p,f}function bn(){function t(t,r){var a=Math.sin(r*=Lo),o=Math.cos(r),s=ho((t*=Lo)-e),l=Math.cos(s);Bs+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=i*a-n*o*l)*s),n*a+i*o*l),e=t,n=a,i=o}var e,n,i;Ws.point=function(r,a){e=r*Lo,n=Math.sin(a*=Lo),i=Math.cos(a),Ws.point=t},Ws.lineEnd=function(){Ws.point=Ws.lineEnd=b}}function xn(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),a=t(i*r);return[a*r*Math.sin(e),a*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),a=Math.sin(r),o=Math.cos(r);return[Math.atan2(t*a,i*o),Math.asin(i&&n*a/i)]},n}function Mn(t,e){function n(t,e){o>0?e<-_o+Do&&(e=-_o+Do):e>_o-Do&&(e=_o-Do);
var n=o/Math.pow(r(e),a);return[n*Math.sin(a*t),o-n*Math.cos(a*t)]}var i=Math.cos(t),r=function(t){return Math.tan(Po/4+t/2)},a=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),o=i*Math.pow(r(t),a)/a;return a?(n.invert=function(t,e){var n=o-e,i=Z(a)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/a,2*Math.atan(Math.pow(o/i,1/a))-_o]},n):An}function wn(t,e){function n(t,e){var n=a-e;return[n*Math.sin(r*t),a-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),a=i/r+t;return ho(r)<Do?ln:(n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,a-Z(r)*Math.sqrt(t*t+n*n)]},n)}function An(t,e){return[t,Math.log(Math.tan(Po/4+e/2))]}function Cn(t){var e,n=an(t),i=n.scale,r=n.translate,a=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var o=a.apply(n,arguments);if(o===n){if(e=null==t){var s=Po*i(),l=r();a([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(o=null);return o},n.clipExtent(null)}function kn(t,e){return[Math.log(Math.tan(Po/4+e/2)),-t]}function Dn(t){return t[0]}function $n(t){return t[1]}function Pn(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;r++){for(;i>1&&Q(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function En(t,e){return t[0]-e[0]||t[1]-e[1]}function On(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function _n(t,e,n,i){var r=t[0],a=n[0],o=e[0]-r,s=i[0]-a,l=t[1],u=n[1],c=e[1]-l,h=i[1]-u,p=(s*(l-u)-h*(r-a))/(h*o-s*c);return[r+p*o,l+p*c]}function Ln(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Nn(){ni(this),this.edge=this.site=this.circle=null}function Xn(t){var e=el.pop()||new Nn;return e.site=t,e}function Fn(t){jn(t),Zs.remove(t),el.push(t),ni(t)}function In(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},a=t.P,o=t.N,s=[t];Fn(t);for(var l=a;l.circle&&ho(n-l.circle.x)<Do&&ho(i-l.circle.cy)<Do;)a=l.P,s.unshift(l),Fn(l),l=a;s.unshift(l),jn(l);for(var u=o;u.circle&&ho(n-u.circle.x)<Do&&ho(i-u.circle.cy)<Do;)o=u.N,s.push(u),Fn(u),u=o;s.push(u),jn(u);var c,h=s.length;for(c=1;c<h;++c)u=s[c],l=s[c-1],Qn(u.edge,l.site,u.site,r);l=s[0],u=s[h-1],u.edge=Kn(l.site,u.site,null,r),Vn(l),Vn(u)}function Rn(t){for(var e,n,i,r,a=t.x,o=t.y,s=Zs._;s;)if(i=Hn(s,o)-a,i>Do)s=s.L;else{if(r=a-zn(s,o),!(r>Do)){i>-Do?(e=s.P,n=s):r>-Do?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=Xn(t);if(Zs.insert(e,l),e||n){if(e===n)return jn(e),n=Xn(e.site),Zs.insert(l,n),l.edge=n.edge=Kn(e.site,l.site),Vn(e),void Vn(n);if(!n)return void(l.edge=Kn(e.site,l.site));jn(e),jn(n);var u=e.site,c=u.x,h=u.y,p=t.x-c,d=t.y-h,f=n.site,g=f.x-c,m=f.y-h,y=2*(p*m-d*g),v=p*p+d*d,S=g*g+m*m,T={x:(m*v-d*S)/y+c,y:(p*S-g*v)/y+h};Qn(n.edge,u,f,T),l.edge=Kn(u,t,null,T),n.edge=Kn(t,f,null,T),Vn(e),Vn(n)}}function Hn(t,e){var n=t.site,i=n.x,r=n.y,a=r-e;if(!a)return i;var o=t.P;if(!o)return-(1/0);n=o.site;var s=n.x,l=n.y,u=l-e;if(!u)return s;var c=s-i,h=1/a-1/u,p=c/u;return h?(-p+Math.sqrt(p*p-2*h*(c*c/(-2*u)-l+u/2+r-a/2)))/h+i:(i+s)/2}function zn(t,e){var n=t.N;if(n)return Hn(n,e);var i=t.site;return i.y===e?i.x:1/0}function Bn(t){this.site=t,this.edges=[]}function Wn(t){for(var e,n,i,r,a,o,s,l,u,c,h=t[0][0],p=t[1][0],d=t[0][1],f=t[1][1],g=Ks,m=g.length;m--;)if(a=g[m],a&&a.prepare())for(s=a.edges,l=s.length,o=0;o<l;)c=s[o].end(),i=c.x,r=c.y,u=s[++o%l].start(),e=u.x,n=u.y,(ho(i-e)>Do||ho(r-n)>Do)&&(s.splice(o,0,new ti(Zn(a.site,c,ho(i-h)<Do&&f-r>Do?{x:h,y:ho(e-h)<Do?n:f}:ho(r-f)<Do&&p-i>Do?{x:ho(n-f)<Do?e:p,y:f}:ho(i-p)<Do&&r-d>Do?{x:p,y:ho(e-p)<Do?n:d}:ho(r-d)<Do&&i-h>Do?{x:ho(n-d)<Do?e:h,y:d}:null),a.site,null)),++l)}function Yn(t,e){return e.angle-t.angle}function Un(){ni(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vn(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,a=n.site;if(i!==a){var o=r.x,s=r.y,l=i.x-o,u=i.y-s,c=a.x-o,h=a.y-s,p=2*(l*h-u*c);if(!(p>=-$o)){var d=l*l+u*u,f=c*c+h*h,g=(h*d-u*f)/p,m=(l*f-c*d)/p,h=m+s,y=nl.pop()||new Un;y.arc=t,y.site=r,y.x=g+o,y.y=h+Math.sqrt(g*g+m*m),y.cy=h,t.circle=y;for(var v=null,S=tl._;S;)if(y.y<S.y||y.y===S.y&&y.x<=S.x){if(!S.L){v=S.P;break}S=S.L}else{if(!S.R){v=S;break}S=S.R}tl.insert(v,y),v||(Qs=y)}}}}function jn(t){var e=t.circle;e&&(e.P||(Qs=e.N),tl.remove(e),nl.push(e),ni(e),t.circle=null)}function qn(t){for(var e,n=Js,i=ze(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)e=n[r],(!Gn(e,t)||!i(e)||ho(e.a.x-e.b.x)<Do&&ho(e.a.y-e.b.y)<Do)&&(e.a=e.b=null,n.splice(r,1))}function Gn(t,e){var n=t.b;if(n)return!0;var i,r,a=t.a,o=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,h=t.r,p=c.x,d=c.y,f=h.x,g=h.y,m=(p+f)/2,y=(d+g)/2;if(g===d){if(m<o||m>=s)return;if(p>f){if(a){if(a.y>=u)return}else a={x:m,y:l};n={x:m,y:u}}else{if(a){if(a.y<l)return}else a={x:m,y:u};n={x:m,y:l}}}else if(i=(p-f)/(g-d),r=y-i*m,i<-1||i>1)if(p>f){if(a){if(a.y>=u)return}else a={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else{if(a){if(a.y<l)return}else a={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else if(d<g){if(a){if(a.x>=s)return}else a={x:o,y:i*o+r};n={x:s,y:i*s+r}}else{if(a){if(a.x<o)return}else a={x:s,y:i*s+r};n={x:o,y:i*o+r}}return t.a=a,t.b=n,!0}function Jn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Kn(t,e,n,i){var r=new Jn(t,e);return Js.push(r),n&&Qn(r,t,e,n),i&&Qn(r,e,t,i),Ks[t.i].edges.push(new ti(r,t,e)),Ks[e.i].edges.push(new ti(r,e,t)),r}function Zn(t,e,n){var i=new Jn(t,null);return i.a=e,i.b=n,Js.push(i),i}function Qn(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function ti(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function ei(){this._=null}function ni(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ii(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function ri(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function ai(t){for(;t.L;)t=t.L;return t}function oi(t,e){var n,i,r,a=t.sort(si).pop();for(Js=[],Ks=new Array(t.length),Zs=new ei,tl=new ei;;)if(r=Qs,a&&(!r||a.y<r.y||a.y===r.y&&a.x<r.x))a.x===n&&a.y===i||(Ks[a.i]=new Bn(a),Rn(a),n=a.x,i=a.y),a=t.pop();else{if(!r)break;In(r.arc)}e&&(qn(e),Wn(e));var o={cells:Ks,edges:Js};return Zs=tl=Js=Ks=null,o}function si(t,e){return e.y-t.y||e.x-t.x}function li(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function ui(t){return t.x}function ci(t){return t.y}function hi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function pi(t,e,n,i,r,a){if(!t(e,n,i,r,a)){var o=.5*(n+r),s=.5*(i+a),l=e.nodes;l[0]&&pi(t,l[0],n,i,o,s),l[1]&&pi(t,l[1],o,i,r,s),l[2]&&pi(t,l[2],n,s,o,a),l[3]&&pi(t,l[3],o,s,r,a)}}function di(t,e,n,i,r,a,o){var s,l=1/0;return function t(u,c,h,p,d){if(!(c>a||h>o||p<i||d<r)){if(f=u.point){var f,g=e-u.x,m=n-u.y,y=g*g+m*m;if(y<l){var v=Math.sqrt(l=y);i=e-v,r=n-v,a=e+v,o=n+v,s=f}}for(var S=u.nodes,T=.5*(c+p),b=.5*(h+d),x=e>=T,M=n>=b,w=M<<1|x,A=w+4;w<A;++w)if(u=S[3&w])switch(3&w){case 0:t(u,c,h,T,b);break;case 1:t(u,T,h,p,b);break;case 2:t(u,c,b,T,d);break;case 3:t(u,T,b,p,d)}}}(t,i,r,a,o),s}function fi(t,e){t=eo.rgb(t),e=eo.rgb(e);var n=t.r,i=t.g,r=t.b,a=e.r-n,o=e.g-i,s=e.b-r;return function(t){return"#"+Tt(Math.round(n+a*t))+Tt(Math.round(i+o*t))+Tt(Math.round(r+s*t))}}function gi(t,e){var n,i={},r={};for(n in t)n in e?i[n]=vi(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function mi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yi(t,e){var n,i,r,a=rl.lastIndex=al.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=rl.exec(t))&&(i=al.exec(e));)(r=i.index)>a&&(r=e.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:mi(n,i)})),a=al.lastIndex;return a<e.length&&(r=e.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,i=0;i<e;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})}function vi(t,e){for(var n,i=eo.interpolators.length;--i>=0&&!(n=eo.interpolators[i](t,e)););return n}function Si(t,e){var n,i=[],r=[],a=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)i.push(vi(t[n],e[n]));for(;n<a;++n)r[n]=t[n];for(;n<o;++n)r[n]=e[n];return function(t){for(n=0;n<s;++n)r[n]=i[n](t);return r}}function Ti(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function bi(t){return function(e){return 1-t(1-e)}}function xi(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function Mi(t){return t*t}function wi(t){return t*t*t}function Ai(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Ci(t){return function(e){return Math.pow(e,t)}}function ki(t){return 1-Math.cos(t*_o)}function Di(t){return Math.pow(2,10*(t-1))}function $i(t){return 1-Math.sqrt(1-t*t)}function Pi(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Eo*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Eo/e)}}function Ei(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Oi(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function _i(t,e){t=eo.hcl(t),e=eo.hcl(e);var n=t.h,i=t.c,r=t.l,a=e.h-n,o=e.c-i,s=e.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?e.c:i),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360),function(t){return ct(n+a*t,i+o*t,r+s*t)+""}}function Li(t,e){t=eo.hsl(t),e=eo.hsl(e);var n=t.h,i=t.s,r=t.l,a=e.h-n,o=e.s-i,s=e.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?e.s:i),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360),function(t){return lt(n+a*t,i+o*t,r+s*t)+""}}function Ni(t,e){t=eo.lab(t),e=eo.lab(e);var n=t.l,i=t.a,r=t.b,a=e.l-n,o=e.a-i,s=e.b-r;return function(t){return pt(n+a*t,i+o*t,r+s*t)+""}}function Xi(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Fi(t){var e=[t.a,t.b],n=[t.c,t.d],i=Ri(e),r=Ii(e,n),a=Ri(Hi(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*No,this.translate=[t.e,t.f],this.scale=[i,a],this.skew=a?Math.atan2(r,a)*No:0}function Ii(t,e){return t[0]*e[0]+t[1]*e[1]}function Ri(t){var e=Math.sqrt(Ii(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Hi(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function zi(t,e){var n,i=[],r=[],a=eo.transform(t),o=eo.transform(e),s=a.translate,l=o.translate,u=a.rotate,c=o.rotate,h=a.skew,p=o.skew,d=a.scale,f=o.scale;return s[0]!=l[0]||s[1]!=l[1]?(i.push("translate(",null,",",null,")"),r.push({i:1,x:mi(s[0],l[0])},{i:3,x:mi(s[1],l[1])})):l[0]||l[1]?i.push("translate("+l+")"):i.push(""),u!=c?(u-c>180?c+=360:c-u>180&&(u+=360),r.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:mi(u,c)})):c&&i.push(i.pop()+"rotate("+c+")"),h!=p?r.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:mi(h,p)}):p&&i.push(i.pop()+"skewX("+p+")"),d[0]!=f[0]||d[1]!=f[1]?(n=i.push(i.pop()+"scale(",null,",",null,")"),r.push({i:n-4,x:mi(d[0],f[0])},{i:n-2,x:mi(d[1],f[1])})):1==f[0]&&1==f[1]||i.push(i.pop()+"scale("+f+")"),n=r.length,function(t){for(var e,a=-1;++a<n;)i[(e=r[a]).i]=e.x(t);return i.join("")}}function Bi(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Wi(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Yi(t){for(var e=t.source,n=t.target,i=Vi(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var a=r.length;n!==i;)r.splice(a,0,n),n=n.parent;return r}function Ui(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Vi(t,e){if(t===e)return t;for(var n=Ui(t),i=Ui(e),r=n.pop(),a=i.pop(),o=null;r===a;)o=r,r=n.pop(),a=i.pop();return o}function ji(t){t.fixed|=2}function qi(t){t.fixed&=-7}function Gi(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Ji(t){t.fixed&=-5}function Ki(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var a,o=t.nodes,s=o.length,l=-1;++l<s;)a=o[l],null!=a&&(Ki(a,e,n),t.charge+=a.charge,i+=a.charge*a.cx,r+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,i+=u*t.point.x,r+=u*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function Zi(t,e){return eo.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=rr,t}function Qi(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function tr(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(a=t.children)&&(r=a.length))for(var r,a,o=-1;++o<r;)n.push(a[o]);for(;null!=(t=i.pop());)e(t)}function er(t){return t.children}function nr(t){return t.value}function ir(t,e){return e.value-t.value}function rr(t){return eo.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function ar(t){return t.x}function or(t){return t.y}function sr(t,e,n){t.y0=e,t.y=n}function lr(t){return eo.range(t.length)}function ur(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function cr(t){for(var e,n=1,i=0,r=t[0][1],a=t.length;n<a;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function hr(t){return t.reduce(pr,0)}function pr(t,e){return t+e[1]}function dr(t,e){return fr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function fr(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,a=[];++n<=e;)a[n]=r*n+i;return a}function gr(t){return[eo.min(t),eo.max(t)]}function mr(t,e){return t.value-e.value}function yr(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function vr(t,e){t._pack_next=e,e._pack_prev=t}function Sr(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function Tr(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),p=Math.min(t.y-t.r,p),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(u=n.length)){var n,i,r,a,o,s,l,u,c=1/0,h=-(1/0),p=1/0,d=-(1/0);if(n.forEach(br),i=n[0],i.x=-i.r,i.y=0,e(i),u>1&&(r=n[1],r.x=r.r,r.y=0,e(r),u>2))for(a=n[2],wr(i,r,a),e(a),yr(i,a),i._pack_prev=a,yr(a,r),r=i._pack_next,o=3;o<u;o++){wr(i,r,a=n[o]);var f=0,g=1,m=1;for(s=r._pack_next;s!==r;s=s._pack_next,g++)if(Sr(s,a)){f=1;break}if(1==f)for(l=i._pack_prev;l!==s._pack_prev&&!Sr(l,a);l=l._pack_prev,m++);f?(g<m||g==m&&r.r<i.r?vr(i,r=s):vr(i=l,r),o--):(yr(i,a),r=a,e(a))}var y=(c+h)/2,v=(p+d)/2,S=0;for(o=0;o<u;o++)a=n[o],a.x-=y,a.y-=v,S=Math.max(S,a.r+Math.sqrt(a.x*a.x+a.y*a.y));t.r=S,n.forEach(xr)}}function br(t){t._pack_next=t._pack_prev=t}function xr(t){delete t._pack_next,delete t._pack_prev}function Mr(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var a=-1,o=r.length;++a<o;)Mr(r[a],e,n,i)}function wr(t,e,n){var i=t.r+n.r,r=e.x-t.x,a=e.y-t.y;if(i&&(r||a)){var o=e.r+n.r,s=r*r+a*a;o*=o,i*=i;var l=.5+(i-o)/(2*s),u=Math.sqrt(Math.max(0,2*o*(i+s)-(i-=s)*i-o*o))/(2*s);n.x=t.x+l*r+u*a,n.y=t.y+l*a-u*r}else n.x=t.x+i,n.y=t.y}function Ar(t,e){return t.parent==e.parent?1:2}function Cr(t){var e=t.children;return e.length?e[0]:t.t}function kr(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Dr(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function $r(t){for(var e,n=0,i=0,r=t.children,a=r.length;--a>=0;)e=r[a],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Pr(t,e,n){return t.a.parent===e.parent?t.a:n}function Er(t){return 1+eo.max(t,function(t){return t.y})}function Or(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function _r(t){var e=t.children;return e&&e.length?_r(e[0]):t}function Lr(t){var e,n=t.children;return n&&(e=n.length)?Lr(n[e-1]):t}function Nr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Xr(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return r<0&&(n+=r/2,r=0),a<0&&(i+=a/2,a=0),{x:n,y:i,dx:r,dy:a}}function Fr(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Ir(t){return t.rangeExtent?t.rangeExtent():Fr(t.range())}function Rr(t,e,n,i){var r=n(t[0],t[1]),a=i(e[0],e[1]);return function(t){return a(r(t))}}function Hr(t,e){var n,i=0,r=t.length-1,a=t[i],o=t[r];return o<a&&(n=i,i=r,r=n,n=a,a=o,o=n),t[i]=e.floor(a),t[r]=e.ceil(o),t}function zr(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:ml}function Br(t,e,n,i){var r=[],a=[],o=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<=s;)r.push(n(t[o-1],t[o])),a.push(i(e[o-1],e[o]));return function(e){var n=eo.bisect(t,e,1,s)-1;return a[n](r[n](e))}}function Wr(t,e,n,i){function r(){var r=Math.min(t.length,e.length)>2?Br:Rr,l=i?Wi:Bi;return o=r(t,e,l,n),s=r(e,t,l,vi),a}function a(t){return o(t)}var o,s;return a.invert=function(t){return s(t)},a.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},a.range=function(t){return arguments.length?(e=t,r()):e},a.rangeRound=function(t){return a.range(t).interpolate(Xi)},a.clamp=function(t){return arguments.length?(i=t,r()):i},a.interpolate=function(t){return arguments.length?(n=t,r()):n},a.ticks=function(e){return jr(t,e)},a.tickFormat=function(e,n){return qr(t,e,n)},a.nice=function(e){return Ur(t,e),r()},a.copy=function(){return Wr(t,e,n,i)},r()}function Yr(t,e){return eo.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Ur(t,e){return Hr(t,zr(Vr(t,e)[2]))}function Vr(t,e){null==e&&(e=10);var n=Fr(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),a=e/i*r;return a<=.15?r*=10:a<=.35?r*=5:a<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function jr(t,e){return eo.range.apply(eo,Vr(t,e))}function qr(t,e,n){var i=Vr(t,e);if(n){var r=rs.exec(n);if(r.shift(),"s"===r[8]){var a=eo.formatPrefix(Math.max(ho(i[0]),ho(i[1])));return r[7]||(r[7]="."+Gr(a.scale(i[2]))),r[8]="f",n=eo.format(r.join("")),function(t){return n(a.scale(t))+a.symbol}}r[7]||(r[7]="."+Jr(r[8],i)),n=r.join("")}else n=",."+Gr(i[2])+"f";return eo.format(n)}function Gr(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Jr(t,e){var n=Gr(e[2]);return t in yl?Math.abs(n-Gr(Math.max(ho(e[0]),ho(e[1]))))+ +("e"!==t):n-2*("%"===t)}function Kr(t,e,n,i){function r(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function a(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function o(e){return t(r(e))}return o.invert=function(e){return a(t.invert(e))},o.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((i=e.map(Number)).map(r)),o):i},o.base=function(n){return arguments.length?(e=+n,t.domain(i.map(r)),o):e},o.nice=function(){var e=Hr(i.map(r),n?Math:Sl);return t.domain(e),i=e.map(a),o},o.ticks=function(){var t=Fr(i),o=[],s=t[0],l=t[1],u=Math.floor(r(s)),c=Math.ceil(r(l)),h=e%1?2:e;if(isFinite(c-u)){if(n){for(;u<c;u++)for(var p=1;p<h;p++)o.push(a(u)*p);o.push(a(u))}else for(o.push(a(u));u++<c;)for(var p=h-1;p>0;p--)o.push(a(u)*p);for(u=0;o[u]<s;u++);for(c=o.length;o[c-1]>l;c--);o=o.slice(u,c)}return o},o.tickFormat=function(t,e){if(!arguments.length)return vl;arguments.length<2?e=vl:"function"!=typeof e&&(e=eo.format(e));var i,s=Math.max(.1,t/o.ticks().length),l=n?(i=1e-12,Math.ceil):(i=-1e-12,Math.floor);return function(t){return t/a(l(r(t)+i))<=s?e(t):""}},o.copy=function(){return Kr(t.copy(),e,n,i)},Yr(o,t)}function Zr(t,e,n){function i(e){return t(r(e))}var r=Qr(e),a=Qr(1/e);return i.invert=function(e){return a(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),i):n},i.ticks=function(t){return jr(n,t)},i.tickFormat=function(t,e){return qr(n,t,e)},i.nice=function(t){return i.domain(Ur(n,t))},i.exponent=function(o){return arguments.length?(r=Qr(e=o),a=Qr(1/e),t.domain(n.map(r)),i):e},i.copy=function(){return Zr(t.copy(),e,n)},Yr(i,t)}function Qr(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ta(t,e){function n(n){return a[((r.get(n)||("range"===e.t?r.set(n,t.push(n)):NaN))-1)%a.length]}function i(e,n){return eo.range(t.length).map(function(t){return e+n*t})}var r,a,o;return n.domain=function(i){if(!arguments.length)return t;t=[],r=new u;for(var a,o=-1,s=i.length;++o<s;)r.has(a=i[o])||r.set(a,t.push(a));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(a=t,o=0,e={t:"range",a:arguments},n):a},n.rangePoints=function(r,s){arguments.length<2&&(s=0);var l=r[0],u=r[1],c=t.length<2?(l=(l+u)/2,0):(u-l)/(t.length-1+s);return a=i(l+c*s/2,c),o=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(r,s){arguments.length<2&&(s=0);var l=r[0],u=r[1],c=t.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(t.length-1+s)|0;return a=i(l+Math.round(c*s/2+(u-l-(t.length-1+s)*c)/2),c),o=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(r,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=r[1]<r[0],c=r[u-0],h=r[1-u],p=(h-c)/(t.length-s+2*l);return a=i(c+p*l,p),u&&a.reverse(),o=p*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=r[1]<r[0],c=r[u-0],h=r[1-u],p=Math.floor((h-c)/(t.length-s+2*l));return a=i(c+Math.round((h-c-(t.length-s)*p)/2),p),u&&a.reverse(),o=Math.round(p*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return o},n.rangeExtent=function(){return Fr(e.a[0])},n.copy=function(){return ta(t,e)},n.domain(t)}function ea(t,e){function a(){var n=0,i=e.length;for(s=[];++n<i;)s[n-1]=eo.quantile(t,n/i);return o}function o(t){if(!isNaN(t=+t))return e[eo.bisect(s,t)]}var s;return o.domain=function(e){return arguments.length?(t=e.map(i).filter(r).sort(n),a()):t},o.range=function(t){return arguments.length?(e=t,a()):e},o.quantiles=function(){return s},o.invertExtent=function(n){return n=e.indexOf(n),n<0?[NaN,NaN]:[n>0?s[n-1]:t[0],n<s.length?s[n]:t[t.length-1]]},o.copy=function(){return ea(t,e)},a()}function na(t,e,n){function i(e){return n[Math.max(0,Math.min(o,Math.floor(a*(e-t))))]}function r(){return a=n.length/(e-t),o=n.length-1,i}var a,o;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],r()):[t,e]},i.range=function(t){return arguments.length?(n=t,r()):n},i.invertExtent=function(e){return e=n.indexOf(e),e=e<0?NaN:e/a+t,[e,e+1/a]},i.copy=function(){return na(t,e,n)},r()}function ia(t,e){function n(n){if(n<=n)return e[eo.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return ia(t,e)},n}function ra(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return jr(t,e)},e.tickFormat=function(e,n){return qr(t,e,n)},e.copy=function(){return ra(t)},e}function aa(){return 0}function oa(t){return t.innerRadius}function sa(t){return t.outerRadius}function la(t){return t.startAngle}function ua(t){return t.endAngle}function ca(t){return t&&t.padAngle}function ha(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function pa(t,e,n,i,r){var a=t[0]-e[0],o=t[1]-e[1],s=(r?i:-i)/Math.sqrt(a*a+o*o),l=s*o,u=-s*a,c=t[0]+l,h=t[1]+u,p=e[0]+l,d=e[1]+u,f=(c+p)/2,g=(h+d)/2,m=p-c,y=d-h,v=m*m+y*y,S=n-i,T=c*d-p*h,b=(y<0?-1:1)*Math.sqrt(S*S*v-T*T),x=(T*y-m*b)/v,M=(-T*m-y*b)/v,w=(T*y+m*b)/v,A=(-T*m+y*b)/v,C=x-f,k=M-g,D=w-f,$=A-g;return C*C+k*k>D*D+$*$&&(x=w,M=A),[[x-l,M-u],[x*n/S,M*n/S]]}function da(t){function e(e){function o(){u.push("M",a(t(c),s))}for(var l,u=[],c=[],h=-1,p=e.length,d=Ct(n),f=Ct(i);++h<p;)r.call(this,l=e[h],h)?c.push([+d.call(this,l,h),+f.call(this,l,h)]):c.length&&(o(),c=[]);return c.length&&o(),u.length?u.join(""):null}var n=Dn,i=$n,r=De,a=fa,o=a.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(o="function"==typeof t?a=t:(a=Al.get(t)||fa).key,e):o},e.tension=function(t){return arguments.length?(s=t,e):s},e}function fa(t){return t.join("L")}function ga(t){return fa(t)+"Z"}function ma(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function ya(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function va(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function Sa(t,e){return t.length<4?fa(t):t[1]+xa(t.slice(1,-1),Ma(t,e))}function Ta(t,e){return t.length<3?fa(t):t[0]+xa((t.push(t[0]),t),Ma([t[t.length-2]].concat(t,[t[1]]),e))}function ba(t,e){return t.length<3?fa(t):t[0]+xa(t,Ma(t,e))}function xa(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return fa(t);var n=t.length!=e.length,i="",r=t[0],a=t[1],o=e[0],s=o,l=1;if(n&&(i+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],r=t[1],l=2),e.length>1){s=e[1],a=t[l],l++,i+="C"+(r[0]+o[0])+","+(r[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var u=2;u<e.length;u++,l++)a=t[l],s=e[u],i+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var c=t[l];i+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function Ma(t,e){for(var n,i=[],r=(1-e)/2,a=t[0],o=t[1],s=1,l=t.length;++s<l;)n=a,a=o,o=t[s],i.push([r*(o[0]-n[0]),r*(o[1]-n[1])]);return i}function wa(t){if(t.length<3)return fa(t);var e=1,n=t.length,i=t[0],r=i[0],a=i[1],o=[r,r,r,(i=t[1])[0]],s=[a,a,a,i[1]],l=[r,",",a,"L",Da(Dl,o),",",Da(Dl,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],o.shift(),o.push(i[0]),s.shift(),s.push(i[1]),$a(l,o,s);return t.pop(),l.push("L",i),l.join("")}function Aa(t){if(t.length<4)return fa(t);for(var e,n=[],i=-1,r=t.length,a=[0],o=[0];++i<3;)e=t[i],a.push(e[0]),o.push(e[1]);for(n.push(Da(Dl,a)+","+Da(Dl,o)),--i;++i<r;)e=t[i],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),$a(n,a,o);return n.join("")}function Ca(t){for(var e,n,i=-1,r=t.length,a=r+4,o=[],s=[];++i<4;)n=t[i%r],o.push(n[0]),s.push(n[1]);for(e=[Da(Dl,o),",",Da(Dl,s)],--i;++i<a;)n=t[i%r],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),$a(e,o,s);return e.join("")}function ka(t,e){var n=t.length-1;if(n)for(var i,r,a=t[0][0],o=t[0][1],s=t[n][0]-a,l=t[n][1]-o,u=-1;++u<=n;)i=t[u],r=u/n,i[0]=e*i[0]+(1-e)*(a+r*s),i[1]=e*i[1]+(1-e)*(o+r*l);return wa(t)}function Da(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function $a(t,e,n){t.push("C",Da(Cl,e),",",Da(Cl,n),",",Da(kl,e),",",Da(kl,n),",",Da(Dl,e),",",Da(Dl,n))}function Pa(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Ea(t){for(var e=0,n=t.length-1,i=[],r=t[0],a=t[1],o=i[0]=Pa(r,a);++e<n;)i[e]=(o+(o=Pa(r=a,a=t[e+1])))/2;return i[e]=o,i}function Oa(t){for(var e,n,i,r,a=[],o=Ea(t),s=-1,l=t.length-1;++s<l;)e=Pa(t[s],t[s+1]),ho(e)<Do?o[s]=o[s+1]=0:(n=o[s]/e,i=o[s+1]/e,r=n*n+i*i,r>9&&(r=3*e/Math.sqrt(r),o[s]=r*n,o[s+1]=r*i));for(s=-1;++s<=l;)r=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([r||0,o[s]*r||0]);return a}function _a(t){return t.length<3?fa(t):t[0]+xa(t,Oa(t))}function La(t){for(var e,n,i,r=-1,a=t.length;++r<a;)e=t[r],n=e[0],i=e[1]-_o,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Na(t){function e(e){function l(){g.push("M",s(t(y),h),c,u(t(m.reverse()),h),"Z")}for(var p,d,f,g=[],m=[],y=[],v=-1,S=e.length,T=Ct(n),b=Ct(r),x=n===i?function(){return d}:Ct(i),M=r===a?function(){return f}:Ct(a);++v<S;)o.call(this,p=e[v],v)?(m.push([d=+T.call(this,p,v),f=+b.call(this,p,v)]),y.push([+x.call(this,p,v),+M.call(this,p,v)])):m.length&&(l(),m=[],y=[]);return m.length&&l(),g.length?g.join(""):null}var n=Dn,i=Dn,r=0,a=$n,o=De,s=fa,l=s.key,u=s,c="L",h=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=a=t,e):a},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(a=t,e):a},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=Al.get(t)||fa).key,u=s.reverse||s,c=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Xa(t){return t.radius}function Fa(t){return[t.x,t.y]}function Ia(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-_o;return[n*Math.cos(i),n*Math.sin(i)]}}function Ra(){return 64}function Ha(){return"circle"}function za(t){var e=Math.sqrt(t/Po);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Ba(t){return function(){var e,n;(e=this[t])&&(n=e[e.active])&&(--e.count?delete e[e.active]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Wa(t,e,n){return yo(t,Nl),t.namespace=e,t.id=n,t}function Ya(t,e,n,i){var r=t.id,a=t.namespace;return W(t,"function"==typeof n?function(t,o,s){t[a][r].tween.set(e,i(n.call(t,t.__data__,o,s)))}:(n=i(n),function(t){t[a][r].tween.set(e,n)}))}function Ua(t){return null==t&&(t=""),function(){this.textContent=t}}function Va(t){return null==t?"__transition__":"__transition_"+t+"__"}function ja(t,e,n,i,r){var a=t[n]||(t[n]={active:0,count:0}),o=a[i];if(!o){var s=r.time;o=a[i]={tween:new u,time:s,delay:r.delay,duration:r.duration,ease:r.ease,index:e},r=null,++a.count,eo.timer(function(r){function l(n){if(a.active>i)return c();var r=a[a.active];r&&(--a.count,delete a[a.active],r.event&&r.event.interrupt.call(t,t.__data__,r.index)),a.active=i,o.event&&o.event.start.call(t,t.__data__,e),o.tween.forEach(function(n,i){(i=i.call(t,t.__data__,e))&&g.push(i)}),p=o.ease,h=o.duration,eo.timer(function(){return f.c=u(n||1)?De:u,1},0,s)}function u(n){if(a.active!==i)return 1;for(var r=n/h,s=p(r),l=g.length;l>0;)g[--l].call(t,s);return r>=1?(o.event&&o.event.end.call(t,t.__data__,e),c()):void 0}function c(){return--a.count?delete a[i]:delete t[n],1}var h,p,d=o.delay,f=es,g=[];return f.t=d+s,d<=r?l(r-d):void(f.c=l)},0,s)}}function qa(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function Ga(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}function Ja(t){return t.toISOString()}function Ka(t,e,n){function i(e){return t(e)}function r(t,n){var i=t[1]-t[0],r=i/n,a=eo.bisect(Yl,r);return a==Yl.length?[e.year,Vr(t.map(function(t){return t/31536e6}),n)[2]]:a?e[r/Yl[a-1]<Yl[a]/r?a-1:a]:[jl,Vr(t,n)[2]]}return i.invert=function(e){return Za(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(Za)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Za(+n+1),e).length}var a=i.domain(),o=Fr(a),s=null==t?r(o,10):"number"==typeof t&&r(o,t);return s&&(t=s[0],e=s[1]),i.domain(Hr(a,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Za(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Za(+e+1);return e}}:t))},i.ticks=function(t,e){var n=Fr(i.domain()),a=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return a&&(t=a[0],e=a[1]),t.range(n[0],Za(+n[1]+1),e<1?1:e)},i.tickFormat=function(){return n},i.copy=function(){return Ka(t.copy(),e,n)},Yr(i,t)}function Za(t){return new Date(t)}function Qa(t){return JSON.parse(t.responseText)}function to(t){var e=ro.createRange();return e.selectNode(ro.body),e.createContextualFragment(t.responseText)}var eo={version:"3.5.5"},no=[].slice,io=function(t){return no.call(t)},ro=this.document;if(ro)try{io(ro.documentElement.childNodes)[0].nodeType}catch(t){io=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),ro)try{ro.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var ao=this.Element.prototype,oo=ao.setAttribute,so=ao.setAttributeNS,lo=this.CSSStyleDeclaration.prototype,uo=lo.setProperty;ao.setAttribute=function(t,e){oo.call(this,t,e+"")},ao.setAttributeNS=function(t,e,n){so.call(this,t,e,n+"")},lo.setProperty=function(t,e,n){uo.call(this,t,e+"",n)}}eo.ascending=n,eo.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},eo.min=function(t,e){var n,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<a;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<a;)if(null!=(i=e.call(t,t[r],r))&&i>=i){
n=i;break}for(;++r<a;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},eo.max=function(t,e){var n,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<a;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<a;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<a;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},eo.extent=function(t,e){var n,i,r,a=-1,o=t.length;if(1===arguments.length){for(;++a<o;)if(null!=(i=t[a])&&i>=i){n=r=i;break}for(;++a<o;)null!=(i=t[a])&&(n>i&&(n=i),r<i&&(r=i))}else{for(;++a<o;)if(null!=(i=e.call(t,t[a],a))&&i>=i){n=r=i;break}for(;++a<o;)null!=(i=e.call(t,t[a],a))&&(n>i&&(n=i),r<i&&(r=i))}return[n,r]},eo.sum=function(t,e){var n,i=0,a=t.length,o=-1;if(1===arguments.length)for(;++o<a;)r(n=+t[o])&&(i+=n);else for(;++o<a;)r(n=+e.call(t,t[o],o))&&(i+=n);return i},eo.mean=function(t,e){var n,a=0,o=t.length,s=-1,l=o;if(1===arguments.length)for(;++s<o;)r(n=i(t[s]))?a+=n:--l;else for(;++s<o;)r(n=i(e.call(t,t[s],s)))?a+=n:--l;if(l)return a/l},eo.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],a=n-i;return a?r+a*(t[i]-r):r},eo.median=function(t,e){var a,o=[],s=t.length,l=-1;if(1===arguments.length)for(;++l<s;)r(a=i(t[l]))&&o.push(a);else for(;++l<s;)r(a=i(e.call(t,t[l],l)))&&o.push(a);if(o.length)return eo.quantile(o.sort(n),.5)},eo.variance=function(t,e){var n,a,o=t.length,s=0,l=0,u=-1,c=0;if(1===arguments.length)for(;++u<o;)r(n=i(t[u]))&&(a=n-s,s+=a/++c,l+=a*(n-s));else for(;++u<o;)r(n=i(e.call(t,t[u],u)))&&(a=n-s,s+=a/++c,l+=a*(n-s));if(c>1)return l/(c-1)},eo.deviation=function(){var t=eo.variance.apply(this,arguments);return t?Math.sqrt(t):t};var co=a(n);eo.bisectLeft=co.left,eo.bisect=eo.bisectRight=co.right,eo.bisector=function(t){return a(1===t.length?function(e,i){return n(t(e),i)}:t)},eo.shuffle=function(t,e,n){(a=arguments.length)<3&&(n=t.length,a<2&&(e=0));for(var i,r,a=n-e;a;)r=Math.random()*a--|0,i=t[a+e],t[a+e]=t[r+e],t[r+e]=i;return t},eo.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},eo.pairs=function(t){for(var e,n=0,i=t.length-1,r=t[0],a=new Array(i<0?0:i);n<i;)a[n]=[e=r,r=t[++n]];return a},eo.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,e=eo.min(arguments,o),n=new Array(e);++t<e;)for(var i,r=-1,a=n[t]=new Array(i);++r<i;)a[r]=arguments[r][t];return n},eo.transpose=function(t){return eo.zip.apply(eo,t)},eo.keys=function(t){var e=[];for(var n in t)e.push(n);return e},eo.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},eo.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},eo.merge=function(t){for(var e,n,i,r=t.length,a=-1,o=0;++a<r;)o+=t[a].length;for(n=new Array(o);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--o]=i[e];return n};var ho=Math.abs;eo.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var i,r=[],a=s(ho(n)),o=-1;if(t*=a,e*=a,n*=a,n<0)for(;(i=t+n*++o)>e;)r.push(i/a);else for(;(i=t+n*++o)<e;)r.push(i/a);return r},eo.map=function(t,e){var n=new u;if(t instanceof u)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,a=t.length;if(1===arguments.length)for(;++r<a;)n.set(r,t[r]);else for(;++r<a;)n.set(e.call(t,i=t[r],r),i)}else for(var o in t)n.set(o,t[o]);return n};var po="__proto__",fo="\0";l(u,{has:p,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:d,keys:f,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:h(e),value:this._[e]});return t},size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,h(e),this._[e])}}),eo.nest=function(){function t(e,o,s){if(s>=a.length)return i?i.call(r,o):n?o.sort(n):o;for(var l,c,h,p,d=-1,f=o.length,g=a[s++],m=new u;++d<f;)(p=m.get(l=g(c=o[d])))?p.push(c):m.set(l,[c]);return e?(c=e(),h=function(n,i){c.set(n,t(e,i,s))}):(c={},h=function(n,i){c[n]=t(e,i,s)}),m.forEach(h),c}function e(t,n){if(n>=a.length)return t;var i=[],r=o[n++];return t.forEach(function(t,r){i.push({key:t,values:e(r,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,i,r={},a=[],o=[];return r.map=function(e,n){return t(n,e,0)},r.entries=function(n){return e(t(eo.map,n,0),0)},r.key=function(t){return a.push(t),r},r.sortKeys=function(t){return o[a.length-1]=t,r},r.sortValues=function(t){return n=t,r},r.rollup=function(t){return i=t,r},r},eo.set=function(t){var e=new y;if(t)for(var n=0,i=t.length;n<i;++n)e.add(t[n]);return e},l(y,{has:p,add:function(t){return this._[c(t+="")]=!0,t},remove:d,values:f,size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,h(e))}}),eo.behavior={},eo.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=S(t,e,e[n]);return t};var go=["webkit","ms","moz","Moz","o","O"];eo.dispatch=function(){for(var t=new x,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=M(t);return t},x.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},eo.event=null,eo.requote=function(t){return t.replace(mo,"\\$&")};var mo=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,yo={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},vo=function(t,e){return e.querySelector(t)},So=function(t,e){return e.querySelectorAll(t)},To=function(t,e){var n=t.matches||t[T(t,"matchesSelector")];return(To=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(vo=function(t,e){return Sizzle(t,e)[0]||null},So=Sizzle,To=Sizzle.matchesSelector),eo.selection=function(){return eo.select(ro.documentElement)};var bo=eo.selection.prototype=[];bo.select=function(t){var e,n,i,r,a=[];t=D(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]),e.parentNode=(i=this[o]).parentNode;for(var l=-1,u=i.length;++l<u;)(r=i[l])?(e.push(n=t.call(r,r.__data__,l,o)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return k(a)},bo.selectAll=function(t){var e,n,i=[];t=$(t);for(var r=-1,a=this.length;++r<a;)for(var o=this[r],s=-1,l=o.length;++s<l;)(n=o[s])&&(i.push(e=io(t.call(n,n.__data__,s,r))),e.parentNode=n);return k(i)};var xo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};eo.ns={prefix:xo,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),xo.hasOwnProperty(n)?{space:xo[n],local:t}:t}},bo.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=eo.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(P(e,t[e]));return this}return this.each(P(t,e))},bo.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=_(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!O(t[r]).test(e))return!1;return!0}for(e in t)this.each(L(e,t[e]));return this}return this.each(L(t,e))},bo.style=function(t,n,i){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(n="");for(i in t)this.each(X(i,t[i],n));return this}if(r<2){var a=this.node();return e(a).getComputedStyle(a,null).getPropertyValue(t)}i=""}return this.each(X(t,n,i))},bo.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(F(e,t[e]));return this}return this.each(F(t,e))},bo.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},bo.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},bo.append=function(t){return t=I(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},bo.insert=function(t,e){return t=I(t),e=D(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},bo.remove=function(){return this.each(R)},bo.data=function(t,e){function n(t,n){var i,r,a,o=t.length,h=n.length,p=Math.min(o,h),d=new Array(h),f=new Array(h),g=new Array(o);if(e){var m,y=new u,v=new Array(o);for(i=-1;++i<o;)y.has(m=e.call(r=t[i],r.__data__,i))?g[i]=r:y.set(m,r),v[i]=m;for(i=-1;++i<h;)(r=y.get(m=e.call(n,a=n[i],i)))?r!==!0&&(d[i]=r,r.__data__=a):f[i]=H(a),y.set(m,!0);for(i=-1;++i<o;)y.get(v[i])!==!0&&(g[i]=t[i])}else{for(i=-1;++i<p;)r=t[i],a=n[i],r?(r.__data__=a,d[i]=r):f[i]=H(a);for(;i<h;++i)f[i]=H(n[i]);for(;i<o;++i)g[i]=t[i]}f.update=d,f.parentNode=d.parentNode=g.parentNode=t.parentNode,s.push(f),l.push(d),c.push(g)}var i,r,a=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(i=this[0]).length);++a<o;)(r=i[a])&&(t[a]=r.__data__);return t}var s=Y([]),l=k([]),c=k([]);if("function"==typeof t)for(;++a<o;)n(i=this[a],t.call(i,i.parentNode.__data__,a));else for(;++a<o;)n(i=this[a],t);return l.enter=function(){return s},l.exit=function(){return c},l},bo.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},bo.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=z(t));for(var a=0,o=this.length;a<o;a++){r.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var s=0,l=n.length;s<l;s++)(i=n[s])&&t.call(i,i.__data__,s,a)&&e.push(i)}return k(r)},bo.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,a=i[r];--r>=0;)(n=i[r])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},bo.sort=function(t){t=B.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},bo.each=function(t){return W(this,function(e,n,i){t.call(e,e.__data__,n,i)})},bo.call=function(t){var e=io(arguments);return t.apply(e[0]=this,e),this},bo.empty=function(){return!this.node()},bo.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],i=0,r=n.length;i<r;i++){var a=n[i];if(a)return a}return null},bo.size=function(){var t=0;return W(this,function(){++t}),t};var Mo=[];eo.selection.enter=Y,eo.selection.enter.prototype=Mo,Mo.append=bo.append,Mo.empty=bo.empty,Mo.node=bo.node,Mo.call=bo.call,Mo.size=bo.size,Mo.select=function(t){for(var e,n,i,r,a,o=[],s=-1,l=this.length;++s<l;){i=(r=this[s]).update,o.push(e=[]),e.parentNode=r.parentNode;for(var u=-1,c=r.length;++u<c;)(a=r[u])?(e.push(i[u]=n=t.call(r.parentNode,a.__data__,u,s)),n.__data__=a.__data__):e.push(null)}return k(o)},Mo.insert=function(t,e){return arguments.length<2&&(e=U(this)),bo.insert.call(this,t,e)},eo.select=function(e){var n;return"string"==typeof e?(n=[vo(e,ro)],n.parentNode=ro.documentElement):(n=[e],n.parentNode=t(e)),k([n])},eo.selectAll=function(t){var e;return"string"==typeof t?(e=io(So(t,ro)),e.parentNode=ro.documentElement):(e=t,e.parentNode=null),k([e])},bo.on=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){i<2&&(e=!1);for(n in t)this.each(V(n,t[n],e));return this}if(i<2)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(V(t,e,n))};var wo=eo.map({mouseenter:"mouseover",mouseleave:"mouseout"});ro&&wo.forEach(function(t){"on"+t in ro&&wo.remove(t)});var Ao,Co=0;eo.mouse=function(t){return J(t,A())};var ko=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;eo.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=A().changedTouches),e)for(var i,r=0,a=e.length;r<a;++r)if((i=e[r]).identifier===n)return J(t,i)},eo.behavior.drag=function(){function t(){this.on("mousedown.drag",a).on("touchstart.drag",o)}function n(t,e,n,a,o){return function(){function s(){var t,n,i=e(p,g);i&&(t=i[0]-S[0],n=i[1]-S[1],f|=t|n,S=i,d({type:"drag",x:i[0]+u[0],y:i[1]+u[1],dx:t,dy:n}))}function l(){e(p,g)&&(y.on(a+m,null).on(o+m,null),v(f&&eo.event.target===h),d({type:"dragend"}))}var u,c=this,h=eo.event.target,p=c.parentNode,d=i.of(c,arguments),f=0,g=t(),m=".drag"+(null==g?"":"-"+g),y=eo.select(n(h)).on(a+m,s).on(o+m,l),v=G(h),S=e(p,g);r?(u=r.apply(c,arguments),u=[u.x-S[0],u.y-S[1]]):u=[0,0],d({type:"dragstart"})}}var i=C(t,"drag","dragstart","dragend"),r=null,a=n(b,eo.mouse,e,"mousemove","mouseup"),o=n(K,eo.touch,v,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},eo.rebind(t,i,"on")},eo.touches=function(t,e){return arguments.length<2&&(e=A().touches),e?io(e).map(function(e){var n=J(t,e);return n.identifier=e.identifier,n}):[]};var Do=1e-6,$o=Do*Do,Po=Math.PI,Eo=2*Po,Oo=Eo-Do,_o=Po/2,Lo=Po/180,No=180/Po,Xo=Math.SQRT2,Fo=2,Io=4;eo.interpolateZoom=function(t,e){function n(t){var e=t*v;if(y){var n=it(g),o=a/(Fo*p)*(n*rt(Xo*e+g)-nt(g));return[i+o*u,r+o*c,a*n/it(Xo*e+g)]}return[i+t*u,r+t*c,a*Math.exp(Xo*e)]}var i=t[0],r=t[1],a=t[2],o=e[0],s=e[1],l=e[2],u=o-i,c=s-r,h=u*u+c*c,p=Math.sqrt(h),d=(l*l-a*a+Io*h)/(2*a*Fo*p),f=(l*l-a*a-Io*h)/(2*l*Fo*p),g=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(f*f+1)-f),y=m-g,v=(y||Math.log(l/a))/Xo;return n.duration=1e3*v,n},eo.behavior.zoom=function(){function t(t){t.on(E,h).on(Ho+".zoom",d).on("dblclick.zoom",f).on(L,p)}function n(t){return[(t[0]-A.x)/A.k,(t[1]-A.y)/A.k]}function i(t){return[t[0]*A.k+A.x,t[1]*A.k+A.y]}function r(t){A.k=Math.max(D[0],Math.min(D[1],t))}function a(t,e){e=i(e),A.x+=t[0]-e[0],A.y+=t[1]-e[1]}function o(e,n,i,o){e.__chart__={x:A.x,y:A.y,k:A.k},r(Math.pow(2,o)),a(m=n,i),e=eo.select(e),$>0&&(e=e.transition().duration($)),e.call(t.event)}function s(){b&&b.domain(T.range().map(function(t){return(t-A.x)/A.k}).map(T.invert)),M&&M.domain(x.range().map(function(t){return(t-A.y)/A.k}).map(x.invert))}function l(t){P++||t({type:"zoomstart"})}function u(t){s(),t({type:"zoom",scale:A.k,translate:[A.x,A.y]})}function c(t){--P||t({type:"zoomend"}),m=null}function h(){function t(){h=1,a(eo.mouse(r),d),u(s)}function i(){p.on(O,null).on(_,null),f(h&&eo.event.target===o),c(s)}var r=this,o=eo.event.target,s=N.of(r,arguments),h=0,p=eo.select(e(r)).on(O,t).on(_,i),d=n(eo.mouse(r)),f=G(r);Ll.call(r),l(s)}function p(){function t(){var t=eo.touches(f);return d=A.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=n(t))}),t}function e(){var e=eo.event.target;eo.select(e).on(T,i).on(b,s),x.push(e);for(var n=eo.event.changedTouches,r=0,a=n.length;r<a;++r)m[n[r].identifier]=null;var l=t(),u=Date.now();if(1===l.length){if(u-S<500){var c=l[0];o(f,c,m[c.identifier],Math.floor(Math.log(A.k)/Math.LN2)+1),w()}S=u}else if(l.length>1){var c=l[0],h=l[1],p=c[0]-h[0],d=c[1]-h[1];y=p*p+d*d}}function i(){var t,e,n,i,o=eo.touches(f);Ll.call(f);for(var s=0,l=o.length;s<l;++s,i=null)if(n=o[s],i=m[n.identifier]){if(e)break;t=n,e=i}if(i){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,h=y&&Math.sqrt(c/y);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],r(h*d)}S=null,a(t,e),u(g)}function s(){if(eo.event.touches.length){for(var e=eo.event.changedTouches,n=0,i=e.length;n<i;++n)delete m[e[n].identifier];for(var r in m)return void t()}eo.selectAll(x).on(v,null),M.on(E,h).on(L,p),C(),c(g)}var d,f=this,g=N.of(f,arguments),m={},y=0,v=".zoom-"+eo.event.changedTouches[0].identifier,T="touchmove"+v,b="touchend"+v,x=[],M=eo.select(f),C=G(f);e(),l(g),M.on(E,null).on(L,e)}function d(){var t=N.of(this,arguments);v?clearTimeout(v):(g=n(m=y||eo.mouse(this)),Ll.call(this),l(t)),v=setTimeout(function(){v=null,c(t)},50),w(),r(Math.pow(2,.002*Ro())*A.k),a(m,g),u(t)}function f(){var t=eo.mouse(this),e=Math.log(A.k)/Math.LN2;o(this,t,n(t),eo.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var g,m,y,v,S,T,b,x,M,A={x:0,y:0,k:1},k=[960,500],D=zo,$=250,P=0,E="mousedown.zoom",O="mousemove.zoom",_="mouseup.zoom",L="touchstart.zoom",N=C(t,"zoomstart","zoom","zoomend");return Ho||(Ho="onwheel"in ro?(Ro=function(){return-eo.event.deltaY*(eo.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ro?(Ro=function(){return eo.event.wheelDelta},"mousewheel"):(Ro=function(){return-eo.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=N.of(this,arguments),e=A;Ol?eo.select(this).transition().each("start.zoom",function(){A=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var n=k[0],i=k[1],r=m?m[0]:n/2,a=m?m[1]:i/2,o=eo.interpolateZoom([(r-A.x)/A.k,(a-A.y)/A.k,n/A.k],[(r-e.x)/e.k,(a-e.y)/e.k,n/e.k]);return function(e){var i=o(e),s=n/i[2];this.__chart__=A={x:r-i[0]*s,y:a-i[1]*s,k:s},u(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=A,l(t),u(t),c(t))})},t.translate=function(e){return arguments.length?(A={x:+e[0],y:+e[1],k:A.k},s(),t):[A.x,A.y]},t.scale=function(e){return arguments.length?(A={x:A.x,y:A.y,k:+e},s(),t):A.k},t.scaleExtent=function(e){return arguments.length?(D=null==e?zo:[+e[0],+e[1]],t):D},t.center=function(e){return arguments.length?(y=e&&[+e[0],+e[1]],t):y},t.size=function(e){return arguments.length?(k=e&&[+e[0],+e[1]],t):k},t.duration=function(e){return arguments.length?($=+e,t):$},t.x=function(e){return arguments.length?(b=e,T=e.copy(),A={x:0,y:0,k:1},t):b},t.y=function(e){return arguments.length?(M=e,x=e.copy(),A={x:0,y:0,k:1},t):M},eo.rebind(t,N,"on")};var Ro,Ho,zo=[0,1/0];eo.color=ot,ot.prototype.toString=function(){return this.rgb()+""},eo.hsl=st;var Bo=st.prototype=new ot;Bo.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Bo.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Bo.rgb=function(){return lt(this.h,this.s,this.l)},eo.hcl=ut;var Wo=ut.prototype=new ot;Wo.brighter=function(t){return new ut(this.h,this.c,Math.min(100,this.l+Yo*(arguments.length?t:1)))},Wo.darker=function(t){return new ut(this.h,this.c,Math.max(0,this.l-Yo*(arguments.length?t:1)))},Wo.rgb=function(){return ct(this.h,this.c,this.l).rgb()},eo.lab=ht;var Yo=18,Uo=.95047,Vo=1,jo=1.08883,qo=ht.prototype=new ot;qo.brighter=function(t){return new ht(Math.min(100,this.l+Yo*(arguments.length?t:1)),this.a,this.b)},qo.darker=function(t){return new ht(Math.max(0,this.l-Yo*(arguments.length?t:1)),this.a,this.b)},qo.rgb=function(){return pt(this.l,this.a,this.b)},eo.rgb=yt;var Go=yt.prototype=new ot;Go.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&e<r&&(e=r),n&&n<r&&(n=r),i&&i<r&&(i=r),new yt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new yt(r,r,r)},Go.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new yt(t*this.r,t*this.g,t*this.b)},Go.hsl=function(){return xt(this.r,this.g,this.b)},Go.toString=function(){return"#"+Tt(this.r)+Tt(this.g)+Tt(this.b)};var Jo=eo.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Jo.forEach(function(t,e){Jo.set(t,vt(e))}),eo.functor=Ct,eo.xhr=kt(v),eo.dsv=function(t,e){function n(t,n,a){arguments.length<3&&(a=n,n=null);var o=Dt(t,e,null==n?i:r(n),a);return o.row=function(t){return arguments.length?o.response(null==(n=t)?i:r(t)):n},o}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function a(e){return e.map(o).join(t)}function o(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(c>=u)return o;if(r)return r=!1,a;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var i=t.charCodeAt(n+1);return 13===i?(r=!0,10===t.charCodeAt(n+2)&&++c):10===i&&(r=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c<u;){var i=t.charCodeAt(c++),s=1;if(10===i)r=!0;else if(13===i)r=!0,10===t.charCodeAt(c)&&(++c,++s);else if(i!==l)continue;return t.slice(e,c-s)}return t.slice(e)}for(var i,r,a={},o={},s=[],u=t.length,c=0,h=0;(i=n())!==o;){for(var p=[];i!==a&&i!==o;)p.push(i),i=n();e&&null==(p=e(p,h++))||s.push(p)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new y,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(o).join(t)].concat(e.map(function(e){return r.map(function(t){return o(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(a).join("\n")},n},eo.csv=eo.dsv(",","text/csv"),eo.tsv=eo.dsv("\t","text/tab-separated-values");var Ko,Zo,Qo,ts,es,ns=this[T(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};eo.timer=function(t,e,n){var i=arguments.length;i<2&&(e=0),i<3&&(n=Date.now());var r=n+e,a={c:t,t:r,f:!1,n:null};Zo?Zo.n=a:Ko=a,Zo=a,Qo||(ts=clearTimeout(ts),Qo=1,ns(Et))},eo.timer.flush=function(){Ot(),_t()},eo.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var is=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Nt);eo.formatPrefix=function(t,e){var n=0;return t&&(t<0&&(t*=-1),e&&(t=eo.round(t,Lt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),is[8+n/3]};var rs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,as=eo.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=eo.round(t,Lt(t,e))).toFixed(Math.max(0,Math.min(20,Lt(t*(1+1e-15),e))))}}),os=eo.time={},ss=Date;It.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ls.setUTCDate.apply(this._,arguments)},setDay:function(){ls.setUTCDay.apply(this._,arguments)},setFullYear:function(){ls.setUTCFullYear.apply(this._,arguments)},setHours:function(){ls.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ls.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ls.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ls.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ls.setUTCSeconds.apply(this._,arguments)},setTime:function(){ls.setTime.apply(this._,arguments)}};var ls=Date.prototype;os.year=Rt(function(t){return t=os.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),os.years=os.year.range,os.years.utc=os.year.utc.range,os.day=Rt(function(t){var e=new ss(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),os.days=os.day.range,os.days.utc=os.day.utc.range,os.dayOfYear=function(t){var e=os.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=os[t]=Rt(function(t){return(t=os.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=os.year(t).getDay();return Math.floor((os.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});os[t+"s"]=n.range,os[t+"s"].utc=n.utc.range,os[t+"OfYear"]=function(t){var n=os.year(t).getDay();return Math.floor((os.dayOfYear(t)+(n+e)%7)/7)}}),os.week=os.sunday,os.weeks=os.sunday.range,os.weeks.utc=os.sunday.utc.range,os.weekOfYear=os.sundayOfYear;var us={"-":"",_:" ",0:"0"},cs=/^\s*\d+/,hs=/^%/;eo.locale=function(t){return{numberFormat:Xt(t),timeFormat:zt(t)}};var ps=eo.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});eo.format=ps.numberFormat,eo.geo={},le.prototype={s:0,t:0,add:function(t){ue(t,this.t,ds),ue(ds.s,this.s,this),this.s?this.t+=ds.t:this.s=ds.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ds=new le;eo.geo.stream=function(t,e){t&&fs.hasOwnProperty(t.type)?fs[t.type](t,e):ce(t,e)};var fs={Feature:function(t,e){ce(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)ce(n[i].geometry,e)}},gs={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){he(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)he(n[i],e,0)},Polygon:function(t,e){pe(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)pe(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)ce(n[i],e)}};eo.geo.area=function(t){return ms=0,eo.geo.stream(t,vs),ms};var ms,ys=new le,vs={sphere:function(){ms+=4*Po},point:b,lineStart:b,lineEnd:b,polygonStart:function(){ys.reset(),vs.lineStart=de},polygonEnd:function(){var t=2*ys;ms+=t<0?4*Po+t:t,vs.lineStart=vs.lineEnd=vs.point=b}};eo.geo.bounds=function(){function t(t,e){S.push(T=[c=t,p=t]),e<h&&(h=e),e>d&&(d=e)}function e(e,n){var i=fe([e*Lo,n*Lo]);if(y){var r=me(y,i),a=[r[1],-r[0],0],o=me(a,r);Se(o),o=Te(o);var l=e-f,u=l>0?1:-1,g=o[0]*No*u,m=ho(l)>180;if(m^(u*f<g&&g<u*e)){var v=o[1]*No;v>d&&(d=v)}else if(g=(g+360)%360-180,m^(u*f<g&&g<u*e)){var v=-o[1]*No;v<h&&(h=v)}else n<h&&(h=n),n>d&&(d=n);m?e<f?s(c,e)>s(c,p)&&(p=e):s(e,p)>s(c,p)&&(c=e):p>=c?(e<c&&(c=e),e>p&&(p=e)):e>f?s(c,e)>s(c,p)&&(p=e):s(e,p)>s(c,p)&&(c=e)}else t(e,n);y=i,f=e}function n(){b.point=e}function i(){T[0]=c,T[1]=p,b.point=t,y=null}function r(t,n){if(y){var i=t-f;v+=ho(i)>180?i+(i>0?360:-360):i}else g=t,m=n;vs.point(t,n),e(t,n)}function a(){vs.lineStart()}function o(){r(g,m),vs.lineEnd(),ho(v)>Do&&(c=-(p=180)),T[0]=c,T[1]=p,y=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,h,p,d,f,g,m,y,v,S,T,b={point:t,lineStart:n,lineEnd:i,polygonStart:function(){b.point=r,b.lineStart=a,b.lineEnd=o,v=0,vs.polygonStart()},polygonEnd:function(){vs.polygonEnd(),b.point=t,b.lineStart=n,b.lineEnd=i,ys<0?(c=-(p=180),h=-(d=90)):v>Do?d=90:v<-Do&&(h=-90),T[0]=c,T[1]=p}};return function(t){d=p=-(c=h=1/0),S=[],eo.geo.stream(t,b);var e=S.length;if(e){S.sort(l);for(var n,i=1,r=S[0],a=[r];i<e;++i)n=S[i],u(n[0],r)||u(n[1],r)?(s(r[0],n[1])>s(r[0],r[1])&&(r[1]=n[1]),s(n[0],r[1])>s(r[0],r[1])&&(r[0]=n[0])):a.push(r=n);for(var o,n,f=-(1/0),e=a.length-1,i=0,r=a[e];i<=e;r=n,++i)n=a[i],(o=s(r[1],n[0]))>f&&(f=o,c=n[0],p=r[1])}return S=T=null,c===1/0||h===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,h],[p,d]]}}(),eo.geo.centroid=function(t){Ss=Ts=bs=xs=Ms=ws=As=Cs=ks=Ds=$s=0,eo.geo.stream(t,Ps);var e=ks,n=Ds,i=$s,r=e*e+n*n+i*i;return r<$o&&(e=ws,n=As,i=Cs,Ts<Do&&(e=bs,n=xs,i=Ms),r=e*e+n*n+i*i,r<$o)?[NaN,NaN]:[Math.atan2(n,e)*No,et(i/Math.sqrt(r))*No]};var Ss,Ts,bs,xs,Ms,ws,As,Cs,ks,Ds,$s,Ps={sphere:b,point:xe,lineStart:we,lineEnd:Ae,polygonStart:function(){Ps.lineStart=Ce},polygonEnd:function(){Ps.lineStart=we}},Es=Oe(De,Xe,Ie,[-Po,-Po/2]),Os=1e9;eo.geo.clipExtent=function(){var t,e,n,i,r,a,o={stream:function(t){return r&&(r.valid=!1),r=a(t),r.valid=!0,r},extent:function(s){return arguments.length?(a=Be(t=+s[0][0],e=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),o):[[t,e],[n,i]]}};return o.extent([[0,0],[960,500]])},(eo.geo.conicEqualArea=function(){return We(Ye)}).raw=Ye,eo.geo.albers=function(){return eo.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},eo.geo.albersUsa=function(){function t(t){var a=t[0],o=t[1];return e=null,n(a,o),e||(i(a,o),e)||r(a,o),e}var e,n,i,r,a=eo.geo.albers(),o=eo.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=eo.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=a.scale(),n=a.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?o:r>=.166&&r<.234&&i>=-.214&&i<-.115?s:a).invert(t)},t.stream=function(t){var e=a.stream(t),n=o.stream(t),i=s.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),
i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(a.precision(e),o.precision(e),s.precision(e),t):a.precision()},t.scale=function(e){return arguments.length?(a.scale(e),o.scale(.35*e),s.scale(e),t.translate(a.translate())):a.scale()},t.translate=function(e){if(!arguments.length)return a.translate();var u=a.scale(),c=+e[0],h=+e[1];return n=a.translate(e).clipExtent([[c-.455*u,h-.238*u],[c+.455*u,h+.238*u]]).stream(l).point,i=o.translate([c-.307*u,h+.201*u]).clipExtent([[c-.425*u+Do,h+.12*u+Do],[c-.214*u-Do,h+.234*u-Do]]).stream(l).point,r=s.translate([c-.205*u,h+.212*u]).clipExtent([[c-.214*u+Do,h+.166*u+Do],[c-.115*u-Do,h+.234*u-Do]]).stream(l).point,t},t.scale(1070)};var _s,Ls,Ns,Xs,Fs,Is,Rs={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Ls=0,Rs.lineStart=Ue},polygonEnd:function(){Rs.lineStart=Rs.lineEnd=Rs.point=b,_s+=ho(Ls/2)}},Hs={point:Ve,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},zs={point:Ge,lineStart:Je,lineEnd:Ke,polygonStart:function(){zs.lineStart=Ze},polygonEnd:function(){zs.point=Ge,zs.lineStart=Je,zs.lineEnd=Ke}};eo.geo.path=function(){function t(t){return t&&("function"==typeof s&&a.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=r(a)),eo.geo.stream(t,o)),a.result()}function e(){return o=null,t}var n,i,r,a,o,s=4.5;return t.area=function(t){return _s=0,eo.geo.stream(t,r(Rs)),_s},t.centroid=function(t){return bs=xs=Ms=ws=As=Cs=ks=Ds=$s=0,eo.geo.stream(t,r(zs)),$s?[ks/$s,Ds/$s]:Cs?[ws/Cs,As/Cs]:Ms?[bs/Ms,xs/Ms]:[NaN,NaN]},t.bounds=function(t){return Fs=Is=-(Ns=Xs=1/0),eo.geo.stream(t,r(Hs)),[[Ns,Xs],[Fs,Is]]},t.projection=function(t){return arguments.length?(r=(n=t)?t.stream||en(t):v,e()):n},t.context=function(t){return arguments.length?(a=null==(i=t)?new je:new Qe(t),"function"!=typeof s&&a.pointRadius(s),e()):i},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(a.pointRadius(+e),+e),t):s},t.projection(eo.geo.albersUsa()).context(null)},eo.geo.transform=function(t){return{stream:function(e){var n=new nn(e);for(var i in t)n[i]=t[i];return n}}},nn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},eo.geo.projection=an,eo.geo.projectionMutator=on,(eo.geo.equirectangular=function(){return an(ln)}).raw=ln.invert=ln,eo.geo.rotation=function(t){function e(e){return e=t(e[0]*Lo,e[1]*Lo),e[0]*=No,e[1]*=No,e}return t=cn(t[0]%360*Lo,t[1]*Lo,t.length>2?t[2]*Lo:0),e.invert=function(e){return e=t.invert(e[0]*Lo,e[1]*Lo),e[0]*=No,e[1]*=No,e},e},un.invert=ln,eo.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=cn(-t[0]*Lo,-t[1]*Lo,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=No,t[1]*=No}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=fn((e=+i)*Lo,r*Lo),t):e},t.precision=function(i){return arguments.length?(n=fn(e*Lo,(r=+i)*Lo),t):r},t.angle(90)},eo.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Lo,r=t[1]*Lo,a=e[1]*Lo,o=Math.sin(i),s=Math.cos(i),l=Math.sin(r),u=Math.cos(r),c=Math.sin(a),h=Math.cos(a);return Math.atan2(Math.sqrt((n=h*o)*n+(n=u*c-l*h*s)*n),l*c+u*h*s)},eo.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return eo.range(Math.ceil(a/m)*m,r,m).map(p).concat(eo.range(Math.ceil(u/y)*y,l,y).map(d)).concat(eo.range(Math.ceil(i/f)*f,n,f).filter(function(t){return ho(t%m)>Do}).map(c)).concat(eo.range(Math.ceil(s/g)*g,o,g).filter(function(t){return ho(t%y)>Do}).map(h))}var n,i,r,a,o,s,l,u,c,h,p,d,f=10,g=f,m=90,y=360,v=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[p(a).concat(d(l).slice(1),p(r).reverse().slice(1),d(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(a=+e[0][0],r=+e[1][0],u=+e[0][1],l=+e[1][1],a>r&&(e=a,a=r,r=e),u>l&&(e=u,u=l,l=e),t.precision(v)):[[a,u],[r,l]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],o=+e[1][1],i>n&&(e=i,i=n,n=e),s>o&&(e=s,s=o,o=e),t.precision(v)):[[i,s],[n,o]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],y=+e[1],t):[m,y]},t.minorStep=function(e){return arguments.length?(f=+e[0],g=+e[1],t):[f,g]},t.precision=function(e){return arguments.length?(v=+e,c=mn(s,o,90),h=yn(i,n,v),p=mn(u,l,90),d=yn(a,r,v),t):v},t.majorExtent([[-180,-90+Do],[180,90-Do]]).minorExtent([[-180,-80-Do],[180,80+Do]])},eo.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=vn,r=Sn;return t.distance=function(){return eo.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},eo.geo.interpolate=function(t,e){return Tn(t[0]*Lo,t[1]*Lo,e[0]*Lo,e[1]*Lo)},eo.geo.length=function(t){return Bs=0,eo.geo.stream(t,Ws),Bs};var Bs,Ws={sphere:b,point:b,lineStart:bn,lineEnd:b,polygonStart:b,polygonEnd:b},Ys=xn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(eo.geo.azimuthalEqualArea=function(){return an(Ys)}).raw=Ys;var Us=xn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},v);(eo.geo.azimuthalEquidistant=function(){return an(Us)}).raw=Us,(eo.geo.conicConformal=function(){return We(Mn)}).raw=Mn,(eo.geo.conicEquidistant=function(){return We(wn)}).raw=wn;var Vs=xn(function(t){return 1/t},Math.atan);(eo.geo.gnomonic=function(){return an(Vs)}).raw=Vs,An.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-_o]},(eo.geo.mercator=function(){return Cn(An)}).raw=An;var js=xn(function(){return 1},Math.asin);(eo.geo.orthographic=function(){return an(js)}).raw=js;var qs=xn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(eo.geo.stereographic=function(){return an(qs)}).raw=qs,kn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-_o]},(eo.geo.transverseMercator=function(){var t=Cn(kn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=kn,eo.geom={},eo.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r=Ct(n),a=Ct(i),o=t.length,s=[],l=[];for(e=0;e<o;e++)s.push([+r.call(this,t[e],e),+a.call(this,t[e],e),e]);for(s.sort(En),e=0;e<o;e++)l.push([s[e][0],-s[e][1]]);var u=Pn(s),c=Pn(l),h=c[0]===u[0],p=c[c.length-1]===u[u.length-1],d=[];for(e=u.length-1;e>=0;--e)d.push(t[s[u[e]][2]]);for(e=+h;e<c.length-p;++e)d.push(t[s[c[e]][2]]);return d}var n=Dn,i=$n;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},eo.geom.polygon=function(t){return yo(t,Gs),t};var Gs=eo.geom.polygon.prototype=[];Gs.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},Gs.centroid=function(t){var e,n,i=-1,r=this.length,a=0,o=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a*t,o*t]},Gs.clip=function(t){for(var e,n,i,r,a,o,s=Ln(t),l=-1,u=this.length-Ln(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,r=this[l],a=e[(i=e.length-s)-1],n=-1;++n<i;)o=e[n],On(o,c,r)?(On(a,c,r)||t.push(_n(a,o,c,r)),t.push(o)):On(a,c,r)&&t.push(_n(a,o,c,r)),a=o;s&&t.push(t[0]),c=r}return t};var Js,Ks,Zs,Qs,tl,el=[],nl=[];Bn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Yn),e.length},ti.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ei.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ai(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ii(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ri(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(ri(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ii(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,a=t.L,o=t.R;if(n=a?o?ai(o):a:o,r?r.L===t?r.L=n:r.R=n:this._=n,a&&o?(i=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=o,o.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,ii(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ri(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ii(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,ri(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ii(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,ri(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},eo.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=s[0][0],r=s[0][1],a=s[1][0],o=s[1][1];return oi(n(t),s).cells.forEach(function(n,s){var l=n.edges,u=n.site,c=e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=i&&u.x<=a&&u.y>=r&&u.y<=o?[[i,o],[a,o],[a,r],[i,r]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(a(t,e)/Do)*Do,y:Math.round(o(t,e)/Do)*Do,i:e}})}var i=Dn,r=$n,a=i,o=r,s=il;return t?e(t):(e.links=function(t){return oi(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return oi(n(t)).cells.forEach(function(n,i){for(var r,a,o=n.site,s=n.edges.sort(Yn),l=-1,u=s.length,c=s[u-1].edge,h=c.l===o?c.r:c.l;++l<u;)r=c,a=h,c=s[l].edge,h=c.l===o?c.r:c.l,i<a.i&&i<h.i&&li(o,a,h)<0&&e.push([t[i],t[a.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(a=Ct(i=t),e):i},e.y=function(t){return arguments.length?(o=Ct(r=t),e):r},e.clipExtent=function(t){return arguments.length?(s=null==t?il:t,e):s===il?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===il?null:s&&s[1]},e)};var il=[[-1e6,-1e6],[1e6,1e6]];eo.geom.delaunay=function(t){return eo.geom.voronoi().triangles(t)},eo.geom.quadtree=function(t,e,n,i,r){function a(t){function a(t,e,n,i,r,a,o,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(ho(l-n)+ho(c-i)<.01)u(t,e,n,i,r,a,o,s);else{var h=t.point;t.x=t.y=t.point=null,u(t,h,l,c,r,a,o,s),u(t,e,n,i,r,a,o,s)}else t.x=n,t.y=i,t.point=e}else u(t,e,n,i,r,a,o,s)}function u(t,e,n,i,r,o,s,l){var u=.5*(r+s),c=.5*(o+l),h=n>=u,p=i>=c,d=p<<1|h;t.leaf=!1,t=t.nodes[d]||(t.nodes[d]=hi()),h?r=u:s=u,p?o=c:l=c,a(t,e,n,i,r,o,s,l)}var c,h,p,d,f,g,m,y,v,S=Ct(s),T=Ct(l);if(null!=e)g=e,m=n,y=i,v=r;else if(y=v=-(g=m=1/0),h=[],p=[],f=t.length,o)for(d=0;d<f;++d)c=t[d],c.x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>y&&(y=c.x),c.y>v&&(v=c.y),h.push(c.x),p.push(c.y);else for(d=0;d<f;++d){var b=+S(c=t[d],d),x=+T(c,d);b<g&&(g=b),x<m&&(m=x),b>y&&(y=b),x>v&&(v=x),h.push(b),p.push(x)}var M=y-g,w=v-m;M>w?v=m+M:y=g+w;var A=hi();if(A.add=function(t){a(A,t,+S(t,++d),+T(t,d),g,m,y,v)},A.visit=function(t){pi(t,A,g,m,y,v)},A.find=function(t){return di(A,t[0],t[1],g,m,y,v)},d=-1,null==e){for(;++d<f;)a(A,t[d],h[d],p[d],g,m,y,v);--d}else t.forEach(A.add);return h=p=t=c=null,A}var o,s=Dn,l=$n;return(o=arguments.length)?(s=ui,l=ci,3===o&&(r=n,i=e,n=e=0),a(t)):(a.x=function(t){return arguments.length?(s=t,a):s},a.y=function(t){return arguments.length?(l=t,a):l},a.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),a):null==e?null:[[e,n],[i,r]]},a.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),a):null==e?null:[i-e,r-n]},a)},eo.interpolateRgb=fi,eo.interpolateObject=gi,eo.interpolateNumber=mi,eo.interpolateString=yi;var rl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,al=new RegExp(rl.source,"g");eo.interpolate=vi,eo.interpolators=[function(t,e){var n=typeof e;return("string"===n?Jo.has(e)||/^(#|rgb\(|hsl\()/.test(e)?fi:yi:e instanceof ot?fi:Array.isArray(e)?Si:"object"===n&&isNaN(e)?gi:mi)(t,e)}],eo.interpolateArray=Si;var ol=function(){return v},sl=eo.map({linear:ol,poly:Ci,quad:function(){return Mi},cubic:function(){return wi},sin:function(){return ki},exp:function(){return Di},circle:function(){return $i},elastic:Pi,back:Ei,bounce:function(){return Oi}}),ll=eo.map({in:v,out:bi,"in-out":xi,"out-in":function(t){return xi(bi(t))}});eo.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return n=sl.get(n)||ol,i=ll.get(i)||v,Ti(i(n.apply(null,no.call(arguments,1))))},eo.interpolateHcl=_i,eo.interpolateHsl=Li,eo.interpolateLab=Ni,eo.interpolateRound=Xi,eo.transform=function(t){var e=ro.createElementNS(eo.ns.prefix.svg,"g");return(eo.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Fi(n?n.matrix:ul)})(t)},Fi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ul={a:1,b:0,c:0,d:1,e:0,f:0};eo.interpolateTransform=zi,eo.layout={},eo.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Yi(t[n]));return e}},eo.layout.chord=function(){function t(){var t,u,h,p,d,f={},g=[],m=eo.range(a),y=[];for(n=[],i=[],t=0,p=-1;++p<a;){for(u=0,d=-1;++d<a;)u+=r[p][d];g.push(u),y.push(eo.range(a)),t+=u}for(o&&m.sort(function(t,e){return o(g[t],g[e])}),s&&y.forEach(function(t,e){t.sort(function(t,n){return s(r[e][t],r[e][n])})}),t=(Eo-c*a)/t,u=0,p=-1;++p<a;){for(h=u,d=-1;++d<a;){var v=m[p],S=y[v][d],T=r[v][S],b=u,x=u+=T*t;f[v+"-"+S]={index:v,subindex:S,startAngle:b,endAngle:x,value:T}}i[v]={index:v,startAngle:h,endAngle:u,value:(u-h)/t},u+=c}for(p=-1;++p<a;)for(d=p-1;++d<a;){var M=f[p+"-"+d],w=f[d+"-"+p];(M.value||w.value)&&n.push(M.value<w.value?{source:w,target:M}:{source:M,target:w})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,r,a,o,s,l,u={},c=0;return u.matrix=function(t){return arguments.length?(a=(r=t)&&r.length,n=i=null,u):r},u.padding=function(t){return arguments.length?(c=t,n=i=null,u):c},u.sortGroups=function(t){return arguments.length?(o=t,n=i=null,u):o},u.sortSubgroups=function(t){return arguments.length?(s=t,n=null,u):s},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return i||t(),i},u},eo.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var a=e.cx-t.x,o=e.cy-t.y,s=r-n,l=a*a+o*o;if(s*s/m<l){if(l<f){var u=e.charge/l;t.px-=a*u,t.py-=o*u}return!0}if(e.point&&l&&l<f){var u=e.pointCharge/l;t.px-=a*u,t.py-=o*u}}return!e.charge}}function e(t){t.px=eo.event.x,t.py=eo.event.y,s.resume()}var n,i,r,a,o,s={},l=eo.dispatch("start","tick","end"),u=[1,1],c=.9,h=cl,p=hl,d=-30,f=pl,g=.1,m=.64,y=[],S=[];return s.tick=function(){if((i*=.99)<.005)return l.end({type:"end",alpha:i=0}),!0;var e,n,s,h,p,f,m,v,T,b=y.length,x=S.length;for(n=0;n<x;++n)s=S[n],h=s.source,p=s.target,v=p.x-h.x,T=p.y-h.y,(f=v*v+T*T)&&(f=i*a[n]*((f=Math.sqrt(f))-r[n])/f,v*=f,T*=f,p.x-=v*(m=h.weight/(p.weight+h.weight)),p.y-=T*m,h.x+=v*(m=1-m),h.y+=T*m);if((m=i*g)&&(v=u[0]/2,T=u[1]/2,n=-1,m))for(;++n<b;)s=y[n],s.x+=(v-s.x)*m,s.y+=(T-s.y)*m;if(d)for(Ki(e=eo.geom.quadtree(y),i,o),n=-1;++n<b;)(s=y[n]).fixed||e.visit(t(s));for(n=-1;++n<b;)s=y[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);l.tick({type:"tick",alpha:i})},s.nodes=function(t){return arguments.length?(y=t,s):y},s.links=function(t){return arguments.length?(S=t,s):S},s.size=function(t){return arguments.length?(u=t,s):u},s.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(p="function"==typeof t?t:+t,s):p},s.friction=function(t){return arguments.length?(c=+t,s):c},s.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.chargeDistance=function(t){return arguments.length?(f=t*t,s):Math.sqrt(f)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(m=t*t,s):Math.sqrt(m)},s.alpha=function(t){return arguments.length?(t=+t,i?i=t>0?t:0:t>0&&(l.start({type:"start",alpha:i=t}),eo.timer(s.tick)),s):i},s.start=function(){function t(t,i){if(!n){for(n=new Array(l),s=0;s<l;++s)n[s]=[];for(s=0;s<c;++s){var r=S[s];n[r.source.index].push(r.target),n[r.target.index].push(r.source)}}for(var a,o=n[e],s=-1,u=o.length;++s<u;)if(!isNaN(a=o[s][t]))return a;return Math.random()*i}var e,n,i,l=y.length,c=S.length,f=u[0],g=u[1];for(e=0;e<l;++e)(i=y[e]).index=e,i.weight=0;for(e=0;e<c;++e)i=S[e],"number"==typeof i.source&&(i.source=y[i.source]),"number"==typeof i.target&&(i.target=y[i.target]),++i.source.weight,++i.target.weight;for(e=0;e<l;++e)i=y[e],isNaN(i.x)&&(i.x=t("x",f)),isNaN(i.y)&&(i.y=t("y",g)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(r=[],"function"==typeof h)for(e=0;e<c;++e)r[e]=+h.call(this,S[e],e);else for(e=0;e<c;++e)r[e]=h;if(a=[],"function"==typeof p)for(e=0;e<c;++e)a[e]=+p.call(this,S[e],e);else for(e=0;e<c;++e)a[e]=p;if(o=[],"function"==typeof d)for(e=0;e<l;++e)o[e]=+d.call(this,y[e],e);else for(e=0;e<l;++e)o[e]=d;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=eo.behavior.drag().origin(v).on("dragstart.force",ji).on("drag.force",e).on("dragend.force",qi)),arguments.length?void this.on("mouseover.force",Gi).on("mouseout.force",Ji).call(n):n},eo.rebind(s,l,"on")};var cl=20,hl=1,pl=1/0;eo.layout.hierarchy=function(){function t(r){var a,o=[r],s=[];for(r.depth=0;null!=(a=o.pop());)if(s.push(a),(u=n.call(t,a,a.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)o.push(c=u[l]),c.parent=a,c.depth=a.depth+1;i&&(a.value=0),a.children=u}else i&&(a.value=+i.call(t,a,a.depth)||0),delete a.children;return tr(r,function(t){var n,r;e&&(n=t.children)&&n.sort(e),i&&(r=t.parent)&&(r.value+=t.value)}),s}var e=ir,n=er,i=nr;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(i=e,t):i},t.revalue=function(e){return i&&(Qi(e,function(t){t.children&&(t.value=0)}),tr(e,function(e){var n;e.children||(e.value=+i.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},eo.layout.partition=function(){function t(e,n,i,r){var a=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,a&&(o=a.length)){var o,s,l,u=-1;for(i=e.value?i/e.value:0;++u<o;)t(s=a[u],n,l=s.value*i,r),n+=l}}function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,a=-1;++a<r;)i=Math.max(i,e(n[a]));return 1+i}function n(n,a){var o=i.call(this,n,a);return t(o[0],0,r[0],r[1]/e(o[0])),o}var i=eo.layout.hierarchy(),r=[1,1];return n.size=function(t){return arguments.length?(r=t,n):r},Zi(n,i)},eo.layout.pie=function(){function t(o){var s,l=o.length,u=o.map(function(n,i){return+e.call(t,n,i)}),c=+("function"==typeof i?i.apply(this,arguments):i),h=("function"==typeof r?r.apply(this,arguments):r)-c,p=Math.min(Math.abs(h)/l,+("function"==typeof a?a.apply(this,arguments):a)),d=p*(h<0?-1:1),f=(h-l*d)/eo.sum(u),g=eo.range(l),m=[];return null!=n&&g.sort(n===dl?function(t,e){return u[e]-u[t]}:function(t,e){return n(o[t],o[e])}),g.forEach(function(t){m[t]={data:o[t],value:s=u[t],startAngle:c,endAngle:c+=s*f+d,padAngle:p}}),m}var e=Number,n=dl,i=0,r=Eo,a=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t.padAngle=function(e){return arguments.length?(a=e,t):a},t};var dl={};eo.layout.stack=function(){function t(s,l){if(!(p=s.length))return s;var u=s.map(function(n,i){return e.call(t,n,i)}),c=u.map(function(e){return e.map(function(e,n){return[a.call(t,e,n),o.call(t,e,n)]})}),h=n.call(t,c,l);u=eo.permute(u,h),c=eo.permute(c,h);var p,d,f,g,m=i.call(t,c,l),y=u[0].length;for(f=0;f<y;++f)for(r.call(t,u[0][f],g=m[f],c[0][f][1]),d=1;d<p;++d)r.call(t,u[d][f],g+=c[d-1][f][1],c[d][f][1]);return s}var e=v,n=lr,i=ur,r=sr,a=ar,o=or;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:fl.get(e)||lr,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:gl.get(e)||ur,t):i},t.x=function(e){return arguments.length?(a=e,t):a},t.y=function(e){return arguments.length?(o=e,t):o},t.out=function(e){return arguments.length?(r=e,t):r},t};var fl=eo.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(cr),a=t.map(hr),o=eo.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,l=0,u=[],c=[];for(e=0;e<i;++e)n=o[e],s<l?(s+=a[n],u.push(n)):(l+=a[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return eo.range(t.length).reverse()},default:lr}),gl=eo.map({silhouette:function(t){var e,n,i,r=t.length,a=t[0].length,o=[],s=0,l=[];for(n=0;n<a;++n){for(e=0,i=0;e<r;e++)i+=t[e][n][1];i>s&&(s=i),o.push(i)}for(n=0;n<a;++n)l[n]=(s-o[n])/2;return l},wiggle:function(t){var e,n,i,r,a,o,s,l,u,c=t.length,h=t[0],p=h.length,d=[];for(d[0]=l=u=0,n=1;n<p;++n){for(e=0,r=0;e<c;++e)r+=t[e][n][1];for(e=0,a=0,s=h[n][0]-h[n-1][0];e<c;++e){for(i=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);i<e;++i)o+=(t[i][n][1]-t[i][n-1][1])/s;a+=o*t[e][n][1]}d[n]=l-=r?a/r*s:0,l<u&&(u=l)}for(n=0;n<p;++n)d[n]-=u;return d},expand:function(t){var e,n,i,r=t.length,a=t[0].length,o=1/r,s=[];for(n=0;n<a;++n){for(e=0,i=0;e<r;e++)i+=t[e][n][1];if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=o}for(n=0;n<a;++n)s[n]=0;return s},zero:ur});eo.layout.histogram=function(){function t(t,a){for(var o,s,l=[],u=t.map(n,this),c=i.call(this,u,a),h=r.call(this,c,u,a),a=-1,p=u.length,d=h.length-1,f=e?1:1/p;++a<d;)o=l[a]=[],o.dx=h[a+1]-(o.x=h[a]),o.y=0;if(d>0)for(a=-1;++a<p;)s=u[a],s>=c[0]&&s<=c[1]&&(o=l[eo.bisect(h,s,1,d)-1],o.y+=f,o.push(t[a]));return l}var e=!0,n=Number,i=gr,r=dr;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=Ct(e),t):i},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return fr(t,e)}:Ct(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},eo.layout.pack=function(){function t(t,a){var o=n.call(this,t,a),s=o[0],l=r[0],u=r[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,tr(s,function(t){t.r=+c(t.value)}),tr(s,Tr),i){var h=i*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;tr(s,function(t){t.r+=h}),tr(s,Tr),tr(s,function(t){t.r-=h})}return Mr(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),o}var e,n=eo.layout.hierarchy().sort(mr),i=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},Zi(t,n)},eo.layout.tree=function(){function t(t,r){var c=o.call(this,t,r),h=c[0],p=e(h);if(tr(p,n),p.parent.m=-p.z,Qi(p,i),u)Qi(h,a);else{var d=h,f=h,g=h;Qi(h,function(t){t.x<d.x&&(d=t),t.x>f.x&&(f=t),t.depth>g.depth&&(g=t)});var m=s(d,f)/2-d.x,y=l[0]/(f.x+s(f,d)/2+m),v=l[1]/(g.depth||1);Qi(h,function(t){t.x=(t.x+m)*y,t.y=t.depth*v})}return c}function e(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,a=e.children,o=0,s=a.length;o<s;++o)i.push((a[o]=r={_:a[o],parent:e,children:(r=a[o].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=r);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){$r(t);var a=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+s(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+s(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function i(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var i,r=t,a=t,o=e,l=r.parent.children[0],u=r.m,c=a.m,h=o.m,p=l.m;o=kr(o),r=Cr(r),o&&r;)l=Cr(l),a=kr(a),a.a=t,i=o.z+h-r.z-u+s(o._,r._),i>0&&(Dr(Pr(o,t,n),t,i),u+=i,c+=i),h+=o.m,u+=r.m,p+=l.m,c+=a.m;o&&!kr(a)&&(a.t=o,a.m+=h-c),r&&!Cr(l)&&(l.t=r,l.m+=u-p,n=t)}return n}function a(t){t.x*=l[0],t.y=t.depth*l[1]}var o=eo.layout.hierarchy().sort(null).value(null),s=Ar,l=[1,1],u=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(u=null==(l=e)?a:null,t):u?null:l},t.nodeSize=function(e){return arguments.length?(u=null==(l=e)?null:a,t):u?l:null},Zi(t,o)},eo.layout.cluster=function(){function t(t,a){var o,s=e.call(this,t,a),l=s[0],u=0;tr(l,function(t){var e=t.children;e&&e.length?(t.x=Or(e),t.y=Er(e)):(t.x=o?u+=n(t,o):0,t.y=0,o=t)});var c=_r(l),h=Lr(l),p=c.x-n(c,h)/2,d=h.x+n(h,c)/2;return tr(l,r?function(t){t.x=(t.x-l.x)*i[0],t.y=(l.y-t.y)*i[1]}:function(t){t.x=(t.x-p)/(d-p)*i[0],t.y=(1-(l.y?t.y/l.y:1))*i[1]}),s}var e=eo.layout.hierarchy().sort(null).value(null),n=Ar,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},Zi(t,e)},eo.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,a=t.length;++r<a;)i=(n=t[r]).value*(e<0?0:e),n.area=isNaN(i)||i<=0?0:i}function e(n){var a=n.children;if(a&&a.length){var o,s,l,u=h(n),c=[],p=a.slice(),f=1/0,g="slice"===d?u.dx:"dice"===d?u.dy:"slice-dice"===d?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(p,u.dx*u.dy/n.value),c.area=0;(l=p.length)>0;)c.push(o=p[l-1]),c.area+=o.area,"squarify"!==d||(s=i(c,g))<=f?(p.pop(),f=s):(c.area-=c.pop().area,r(c,g,u,!1),g=Math.min(u.dx,u.dy),c.length=c.area=0,f=1/0);c.length&&(r(c,g,u,!0),c.length=c.area=0),a.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var a,o=h(e),s=i.slice(),l=[];for(t(s,o.dx*o.dy/e.value),l.area=0;a=s.pop();)l.push(a),l.area+=a.area,null!=a.z&&(r(l,a.z?o.dx:o.dy,o,!s.length),l.length=l.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,a=1/0,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(n<a&&(a=n),n>r&&(r=n));return i*=i,e*=e,i?Math.max(e*r*f/i,i/(e*a*f)):1/0}function r(t,e,n,i){var r,a=-1,o=t.length,s=n.x,u=n.y,c=e?l(t.area/e):0;if(e==n.dx){for((i||c>n.dy)&&(c=n.dy);++a<o;)r=t[a],r.x=s,r.y=u,r.dy=c,s+=r.dx=Math.min(n.x+n.dx-s,c?l(r.area/c):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++a<o;)r=t[a],r.x=s,r.y=u,r.dx=c,u+=r.dy=Math.min(n.y+n.dy-u,c?l(r.area/c):0);r.z=!1,r.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function a(i){var r=o||s(i),a=r[0];return a.x=0,a.y=0,a.dx=u[0],a.dy=u[1],o&&s.revalue(a),t([a],a.dx*a.dy/a.value),(o?n:e)(a),p&&(o=r),r}var o,s=eo.layout.hierarchy(),l=Math.round,u=[1,1],c=null,h=Nr,p=!1,d="squarify",f=.5*(1+Math.sqrt(5));return a.size=function(t){return arguments.length?(u=t,a):u},a.padding=function(t){function e(e){var n=t.call(a,e,e.depth);return null==n?Nr(e):Xr(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Xr(e,t)}if(!arguments.length)return c;var i;return h=null==(c=t)?Nr:"function"==(i=typeof t)?e:"number"===i?(t=[t,t,t,t],n):n,a},a.round=function(t){return arguments.length?(l=t?Math.round:Number,a):l!=Number},a.sticky=function(t){return arguments.length?(p=t,o=null,a):p},a.ratio=function(t){return arguments.length?(f=t,a):f},a.mode=function(t){return arguments.length?(d=t+"",a):d},Zi(a,s)},eo.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=eo.random.normal.apply(eo,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=eo.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},eo.scale={};var ml={floor:v,ceil:v};eo.scale.linear=function(){return Wr([0,1],[0,1],vi,!1)};var yl={s:1,g:1,p:1,r:1,e:1};eo.scale.log=function(){return Kr(eo.scale.linear().domain([0,1]),10,!0,[1,10])};var vl=eo.format(".0e"),Sl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};eo.scale.pow=function(){return Zr(eo.scale.linear(),1,[0,1])},eo.scale.sqrt=function(){return eo.scale.pow().exponent(.5)},eo.scale.ordinal=function(){return ta([],{t:"range",a:[[]]})},eo.scale.category10=function(){return eo.scale.ordinal().range(Tl)},eo.scale.category20=function(){return eo.scale.ordinal().range(bl)},eo.scale.category20b=function(){return eo.scale.ordinal().range(xl)},eo.scale.category20c=function(){return eo.scale.ordinal().range(Ml)};var Tl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(St),bl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(St),xl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(St),Ml=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(St);eo.scale.quantile=function(){return ea([],[])},eo.scale.quantize=function(){return na(0,1,[0,1])},eo.scale.threshold=function(){return ia([.5],[0,1])},eo.scale.identity=function(){return ra([0,1])},eo.svg={},eo.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+i.apply(this,arguments)),c=o.apply(this,arguments)-_o,h=s.apply(this,arguments)-_o,p=Math.abs(h-c),d=c>h?0:1;if(u<t&&(f=u,u=t,t=f),p>=Oo)return e(u,d)+(t?e(t,1-d):"")+"Z";var f,g,m,y,v,S,T,b,x,M,w,A,C=0,k=0,D=[];if((y=(+l.apply(this,arguments)||0)/2)&&(m=a===wl?Math.sqrt(t*t+u*u):+a.apply(this,arguments),d||(k*=-1),u&&(k=et(m/u*Math.sin(y))),t&&(C=et(m/t*Math.sin(y)))),u){v=u*Math.cos(c+k),S=u*Math.sin(c+k),T=u*Math.cos(h-k),b=u*Math.sin(h-k);var $=Math.abs(h-c-2*k)<=Po?0:1;if(k&&ha(v,S,T,b)===d^$){var P=(c+h)/2;v=u*Math.cos(P),S=u*Math.sin(P),T=b=null}}else v=S=0;if(t){x=t*Math.cos(h-C),M=t*Math.sin(h-C),w=t*Math.cos(c+C),A=t*Math.sin(c+C);var E=Math.abs(c-h+2*C)<=Po?0:1;if(C&&ha(x,M,w,A)===1-d^E){var O=(c+h)/2;x=t*Math.cos(O),M=t*Math.sin(O),w=A=null}}else x=M=0;if((f=Math.min(Math.abs(u-t)/2,+r.apply(this,arguments)))>.001){g=t<u^d?0:1;var _=null==w?[x,M]:null==T?[v,S]:_n([v,S],[w,A],[T,b],[x,M]),L=v-_[0],N=S-_[1],X=T-_[0],F=b-_[1],I=1/Math.sin(Math.acos((L*X+N*F)/(Math.sqrt(L*L+N*N)*Math.sqrt(X*X+F*F)))/2),R=Math.sqrt(_[0]*_[0]+_[1]*_[1]);if(null!=T){var H=Math.min(f,(u-R)/(I+1)),z=pa(null==w?[x,M]:[w,A],[v,S],u,H,d),B=pa([T,b],[x,M],u,H,d);f===H?D.push("M",z[0],"A",H,",",H," 0 0,",g," ",z[1],"A",u,",",u," 0 ",1-d^ha(z[1][0],z[1][1],B[1][0],B[1][1]),",",d," ",B[1],"A",H,",",H," 0 0,",g," ",B[0]):D.push("M",z[0],"A",H,",",H," 0 1,",g," ",B[0])}else D.push("M",v,",",S);if(null!=w){var W=Math.min(f,(t-R)/(I-1)),Y=pa([v,S],[w,A],t,-W,d),U=pa([x,M],null==T?[v,S]:[T,b],t,-W,d);f===W?D.push("L",U[0],"A",W,",",W," 0 0,",g," ",U[1],"A",t,",",t," 0 ",d^ha(U[1][0],U[1][1],Y[1][0],Y[1][1]),",",1-d," ",Y[1],"A",W,",",W," 0 0,",g," ",Y[0]):D.push("L",U[0],"A",W,",",W," 0 0,",g," ",Y[0]);
}else D.push("L",x,",",M)}else D.push("M",v,",",S),null!=T&&D.push("A",u,",",u," 0 ",$,",",d," ",T,",",b),D.push("L",x,",",M),null!=w&&D.push("A",t,",",t," 0 ",E,",",1-d," ",w,",",A);return D.push("Z"),D.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=oa,i=sa,r=aa,a=wl,o=la,s=ua,l=ca;return t.innerRadius=function(e){return arguments.length?(n=Ct(e),t):n},t.outerRadius=function(e){return arguments.length?(i=Ct(e),t):i},t.cornerRadius=function(e){return arguments.length?(r=Ct(e),t):r},t.padRadius=function(e){return arguments.length?(a=e==wl?wl:Ct(e),t):a},t.startAngle=function(e){return arguments.length?(o=Ct(e),t):o},t.endAngle=function(e){return arguments.length?(s=Ct(e),t):s},t.padAngle=function(e){return arguments.length?(l=Ct(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,e=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-_o;return[Math.cos(e)*t,Math.sin(e)*t]},t};var wl="auto";eo.svg.line=function(){return da(v)};var Al=eo.map({linear:fa,"linear-closed":ga,step:ma,"step-before":ya,"step-after":va,basis:wa,"basis-open":Aa,"basis-closed":Ca,bundle:ka,cardinal:ba,"cardinal-open":Sa,"cardinal-closed":Ta,monotone:_a});Al.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Cl=[0,2/3,1/3,0],kl=[0,1/3,2/3,0],Dl=[0,1/6,2/3,1/6];eo.svg.line.radial=function(){var t=da(La);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},ya.reverse=va,va.reverse=ya,eo.svg.area=function(){return Na(v)},eo.svg.area.radial=function(){var t=Na(La);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},eo.svg.chord=function(){function t(t,s){var l=e(this,a,t,s),u=e(this,o,t,s);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(n(l,u)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,u.r,u.p0)+i(u.r,u.p1,u.a1-u.a0)+r(u.r,u.p1,l.r,l.p0))+"Z"}function e(t,e,n,i){var r=e.call(t,n,i),a=s.call(t,r,i),o=l.call(t,r,i)-_o,c=u.call(t,r,i)-_o;return{r:a,a0:o,a1:c,p0:[a*Math.cos(o),a*Math.sin(o)],p1:[a*Math.cos(c),a*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Po)+",1 "+e}function r(t,e,n,i){return"Q 0,0 "+i}var a=vn,o=Sn,s=Xa,l=la,u=ua;return t.radius=function(e){return arguments.length?(s=Ct(e),t):s},t.source=function(e){return arguments.length?(a=Ct(e),t):a},t.target=function(e){return arguments.length?(o=Ct(e),t):o},t.startAngle=function(e){return arguments.length?(l=Ct(e),t):l},t.endAngle=function(e){return arguments.length?(u=Ct(e),t):u},t},eo.svg.diagonal=function(){function t(t,r){var a=e.call(this,t,r),o=n.call(this,t,r),s=(a.y+o.y)/2,l=[a,{x:a.x,y:s},{x:o.x,y:s},o];return l=l.map(i),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=vn,n=Sn,i=Fa;return t.source=function(n){return arguments.length?(e=Ct(n),t):e},t.target=function(e){return arguments.length?(n=Ct(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},eo.svg.diagonal.radial=function(){var t=eo.svg.diagonal(),e=Fa,n=t.projection;return t.projection=function(t){return arguments.length?n(Ia(e=t)):e},t},eo.svg.symbol=function(){function t(t,i){return($l.get(e.call(this,t,i))||za)(n.call(this,t,i))}var e=Ha,n=Ra;return t.type=function(n){return arguments.length?(e=Ct(n),t):e},t.size=function(e){return arguments.length?(n=Ct(e),t):n},t};var $l=eo.map({circle:za,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*El)),n=e*El;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Pl),n=e*Pl/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Pl),n=e*Pl/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});eo.svg.symbolTypes=$l.keys();var Pl=Math.sqrt(3),El=Math.tan(30*Lo);bo.transition=function(t){for(var e,n,i=Ol||++Xl,r=Va(t),a=[],o=_l||{time:Date.now(),ease:Ai,delay:0,duration:250},s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,h=u.length;++c<h;)(n=u[c])&&ja(n,c,r,i,o),e.push(n)}return Wa(a,r,i)},bo.interrupt=function(t){return this.each(null==t?Ll:Ba(Va(t)))};var Ol,_l,Ll=Ba(Va()),Nl=[],Xl=0;Nl.call=bo.call,Nl.empty=bo.empty,Nl.node=bo.node,Nl.size=bo.size,eo.transition=function(t,e){return t&&t.transition?Ol?t.transition(e):t:eo.selection().transition(t)},eo.transition.prototype=Nl,Nl.select=function(t){var e,n,i,r=this.id,a=this.namespace,o=[];t=D(t);for(var s=-1,l=this.length;++s<l;){o.push(e=[]);for(var u=this[s],c=-1,h=u.length;++c<h;)(i=u[c])&&(n=t.call(i,i.__data__,c,s))?("__data__"in i&&(n.__data__=i.__data__),ja(n,c,a,r,i[a][r]),e.push(n)):e.push(null)}return Wa(o,a,r)},Nl.selectAll=function(t){var e,n,i,r,a,o=this.id,s=this.namespace,l=[];t=$(t);for(var u=-1,c=this.length;++u<c;)for(var h=this[u],p=-1,d=h.length;++p<d;)if(i=h[p]){a=i[s][o],n=t.call(i,i.__data__,p,u),l.push(e=[]);for(var f=-1,g=n.length;++f<g;)(r=n[f])&&ja(r,f,s,o,a),e.push(r)}return Wa(l,s,o)},Nl.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=z(t));for(var a=0,o=this.length;a<o;a++){r.push(e=[]);for(var n=this[a],s=0,l=n.length;s<l;s++)(i=n[s])&&t.call(i,i.__data__,s,a)&&e.push(i)}return Wa(r,this.namespace,this.id)},Nl.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):W(this,null==e?function(e){e[i][n].tween.remove(t)}:function(r){r[i][n].tween.set(t,e)})},Nl.attr=function(t,e){function n(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function r(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=o(n,t),function(t){this.setAttribute(s,e(t))})})}function a(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=o(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var o="transform"==t?zi:vi,s=eo.ns.qualify(t);return Ya(this,"attr."+t,e,s.local?a:r)},Nl.attrTween=function(t,e){function n(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}}function i(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}var r=eo.ns.qualify(t);return this.tween("attr."+t,r.local?i:n)},Nl.style=function(t,n,i){function r(){this.style.removeProperty(t)}function a(n){return null==n?r:(n+="",function(){var r,a=e(this).getComputedStyle(this,null).getPropertyValue(t);return a!==n&&(r=vi(a,n),function(e){this.style.setProperty(t,r(e),i)})})}var o=arguments.length;if(o<3){if("string"!=typeof t){o<2&&(n="");for(i in t)this.style(i,t[i],n);return this}i=""}return Ya(this,"style."+t,n,a)},Nl.styleTween=function(t,n,i){function r(r,a){var o=n.call(this,r,a,e(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),i)}}return arguments.length<3&&(i=""),this.tween("style."+t,r)},Nl.text=function(t){return Ya(this,"text",t,Ua)},Nl.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Nl.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=eo.ease.apply(eo,arguments)),W(this,function(i){i[n][e].ease=t}))},Nl.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:W(this,"function"==typeof t?function(i,r,a){i[n][e].delay=+t.call(i,i.__data__,r,a)}:(t=+t,function(i){i[n][e].delay=t}))},Nl.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:W(this,"function"==typeof t?function(i,r,a){i[n][e].duration=Math.max(1,t.call(i,i.__data__,r,a))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},Nl.each=function(t,e){var n=this.id,i=this.namespace;if(arguments.length<2){var r=_l,a=Ol;try{Ol=n,W(this,function(e,r,a){_l=e[i][n],t.call(e,e.__data__,r,a)})}finally{_l=r,Ol=a}}else W(this,function(r){var a=r[i][n];(a.event||(a.event=eo.dispatch("start","end","interrupt"))).on(t,e)});return this},Nl.transition=function(){for(var t,e,n,i,r=this.id,a=++Xl,o=this.namespace,s=[],l=0,u=this.length;l<u;l++){s.push(t=[]);for(var e=this[l],c=0,h=e.length;c<h;c++)(n=e[c])&&(i=n[o][r],ja(n,c,o,a,{time:i.time,ease:i.ease,delay:i.delay+i.duration,duration:i.duration})),t.push(n)}return Wa(s,o,a)},eo.svg.axis=function(){function t(t){t.each(function(){var t,u=eo.select(this),c=this.__chart__||n,h=this.__chart__=n.copy(),p=null==l?h.ticks?h.ticks.apply(h,s):h.domain():l,d=null==e?h.tickFormat?h.tickFormat.apply(h,s):v:e,f=u.selectAll(".tick").data(p,h),g=f.enter().insert("g",".domain").attr("class","tick").style("opacity",Do),m=eo.transition(f.exit()).style("opacity",Do).remove(),y=eo.transition(f.order()).style("opacity",1),S=Math.max(r,0)+o,T=Ir(h),b=u.selectAll(".domain").data([0]),x=(b.enter().append("path").attr("class","domain"),eo.transition(b));g.append("line"),g.append("text");var M,w,A,C,k=g.select("line"),D=y.select("line"),$=f.select("text").text(d),P=g.select("text"),E=y.select("text"),O="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(t=qa,M="x",A="y",w="x2",C="y2",$.attr("dy",O<0?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+T[0]+","+O*a+"V0H"+T[1]+"V"+O*a)):(t=Ga,M="y",A="x",w="y2",C="x2",$.attr("dy",".32em").style("text-anchor",O<0?"end":"start"),x.attr("d","M"+O*a+","+T[0]+"H0V"+T[1]+"H"+O*a)),k.attr(C,O*r),P.attr(A,O*S),D.attr(w,0).attr(C,O*r),E.attr(M,0).attr(A,O*S),h.rangeBand){var _=h,L=_.rangeBand()/2;c=h=function(t){return _(t)+L}}else c.rangeBand?c=h:m.call(t,h,c);g.call(t,c,h),y.call(t,h,h)})}var e,n=eo.scale.linear(),i=Fl,r=6,a=6,o=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in Il?e+"":Fl,t):i},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(r=+e,a=+arguments[n-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(a=+e,t):a},t.tickPadding=function(e){return arguments.length?(o=+e,t):o},t.tickSubdivide=function(){return arguments.length&&t},t};var Fl="bottom",Il={top:1,right:1,bottom:1,left:1};eo.svg.brush=function(){function t(e){e.each(function(){var e=eo.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),o=e.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=e.selectAll(".resize").data(g,v);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Rl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var l,h=eo.transition(e),p=eo.transition(o);u&&(l=Ir(u),p.attr("x",l[0]).attr("width",l[1]-l[0]),i(h)),c&&(l=Ir(c),p.attr("y",l[0]).attr("height",l[1]-l[0]),r(h)),n(h)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)]+","+p[+/^s/.test(t)]+")"})}function i(t){t.select(".extent").attr("x",h[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function r(t){t.select(".extent").attr("y",p[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",p[1]-p[0])}function a(){function a(){32==eo.event.keyCode&&($||(S=null,E[0]-=h[1],E[1]-=p[1],$=2),w())}function g(){32==eo.event.keyCode&&2==$&&(E[0]+=h[1],E[1]+=p[1],$=0,w())}function m(){var t=eo.mouse(b),e=!1;T&&(t[0]+=T[0],t[1]+=T[1]),$||(eo.event.altKey?(S||(S=[(h[0]+h[1])/2,(p[0]+p[1])/2]),E[0]=h[+(t[0]<S[0])],E[1]=p[+(t[1]<S[1])]):S=null),k&&y(t,u,0)&&(i(A),e=!0),D&&y(t,c,1)&&(r(A),e=!0),e&&(n(A),M({type:"brush",mode:$?"move":"resize"}))}function y(t,e,n){var i,r,a=Ir(e),l=a[0],u=a[1],c=E[n],g=n?p:h,m=g[1]-g[0];if($&&(l-=c,u-=m+c),i=(n?f:d)?Math.max(l,Math.min(u,t[n])):t[n],$?r=(i+=c)+m:(S&&(c=Math.max(l,Math.min(u,2*S[n]-i))),c<i?(r=i,i=c):r=c),g[0]!=i||g[1]!=r)return n?s=null:o=null,g[0]=i,g[1]=r,!0}function v(){m(),A.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),eo.select("body").style("cursor",null),O.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),P(),M({type:"brushend"})}var S,T,b=this,x=eo.select(eo.event.target),M=l.of(b,arguments),A=eo.select(b),C=x.datum(),k=!/^(n|s)$/.test(C)&&u,D=!/^(e|w)$/.test(C)&&c,$=x.classed("extent"),P=G(b),E=eo.mouse(b),O=eo.select(e(b)).on("keydown.brush",a).on("keyup.brush",g);if(eo.event.changedTouches?O.on("touchmove.brush",m).on("touchend.brush",v):O.on("mousemove.brush",m).on("mouseup.brush",v),A.interrupt().selectAll("*").interrupt(),$)E[0]=h[0]-E[0],E[1]=p[0]-E[1];else if(C){var _=+/w$/.test(C),L=+/^n/.test(C);T=[h[1-_]-E[0],p[1-L]-E[1]],E[0]=h[_],E[1]=p[L]}else eo.event.altKey&&(S=E.slice());A.style("pointer-events","none").selectAll(".resize").style("display",null),eo.select("body").style("cursor",x.style("cursor")),M({type:"brushstart"}),m()}var o,s,l=C(t,"brushstart","brush","brushend"),u=null,c=null,h=[0,0],p=[0,0],d=!0,f=!0,g=Hl[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:h,y:p,i:o,j:s},n=this.__chart__||e;this.__chart__=e,Ol?eo.select(this).transition().each("start.brush",function(){o=n.i,s=n.j,h=n.x,p=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=Si(h,e.x),i=Si(p,e.y);return o=s=null,function(r){h=e.x=n(r),p=e.y=i(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,g=Hl[!u<<1|!c],t):u},t.y=function(e){return arguments.length?(c=e,g=Hl[!u<<1|!c],t):c},t.clamp=function(e){return arguments.length?(u&&c?(d=!!e[0],f=!!e[1]):u?d=!!e:c&&(f=!!e),t):u&&c?[d,f]:u?d:c?f:null},t.extent=function(e){var n,i,r,a,l;return arguments.length?(u&&(n=e[0],i=e[1],c&&(n=n[0],i=i[0]),o=[n,i],u.invert&&(n=u(n),i=u(i)),i<n&&(l=n,n=i,i=l),n==h[0]&&i==h[1]||(h=[n,i])),c&&(r=e[0],a=e[1],u&&(r=r[1],a=a[1]),s=[r,a],c.invert&&(r=c(r),a=c(a)),a<r&&(l=r,r=a,a=l),r==p[0]&&a==p[1]||(p=[r,a])),t):(u&&(o?(n=o[0],i=o[1]):(n=h[0],i=h[1],u.invert&&(n=u.invert(n),i=u.invert(i)),i<n&&(l=n,n=i,i=l))),c&&(s?(r=s[0],a=s[1]):(r=p[0],a=p[1],c.invert&&(r=c.invert(r),a=c.invert(a)),a<r&&(l=r,r=a,a=l))),u&&c?[[n,r],[i,a]]:u?[n,i]:c&&[r,a])},t.clear=function(){return t.empty()||(h=[0,0],p=[0,0],o=s=null),t},t.empty=function(){return!!u&&h[0]==h[1]||!!c&&p[0]==p[1]},eo.rebind(t,l,"on")};var Rl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Hl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],zl=os.format=ps.timeFormat,Bl=zl.utc,Wl=Bl("%Y-%m-%dT%H:%M:%S.%LZ");zl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ja:Wl,Ja.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Ja.toString=Wl.toString,os.second=Rt(function(t){return new ss(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),os.seconds=os.second.range,os.seconds.utc=os.second.utc.range,os.minute=Rt(function(t){return new ss(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),os.minutes=os.minute.range,os.minutes.utc=os.minute.utc.range,os.hour=Rt(function(t){var e=t.getTimezoneOffset()/60;return new ss(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),os.hours=os.hour.range,os.hours.utc=os.hour.utc.range,os.month=Rt(function(t){return t=os.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),os.months=os.month.range,os.months.utc=os.month.utc.range;var Yl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ul=[[os.second,1],[os.second,5],[os.second,15],[os.second,30],[os.minute,1],[os.minute,5],[os.minute,15],[os.minute,30],[os.hour,1],[os.hour,3],[os.hour,6],[os.hour,12],[os.day,1],[os.day,2],[os.week,1],[os.month,1],[os.month,3],[os.year,1]],Vl=zl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",De]]),jl={range:function(t,e,n){return eo.range(Math.ceil(t/n)*n,+e,n).map(Za)},floor:v,ceil:v};Ul.year=os.year,os.scale=function(){return Ka(eo.scale.linear(),Ul,Vl)};var ql=Ul.map(function(t){return[t[0].utc,t[1]]}),Gl=Bl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",De]]);ql.year=os.year.utc,os.scale.utc=function(){return Ka(eo.scale.linear(),ql,Gl)},eo.text=kt(function(t){return t.responseText}),eo.json=function(t,e){return Dt(t,"application/json",Qa,e)},eo.html=function(t,e){return Dt(t,"text/html",to,e)},eo.xml=kt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(eo):"object"==typeof module&&module.exports&&(module.exports=eo),this.d3=eo}(),function(t,e){"use strict";angular.module("toaster",[]).constant("toasterConfig",{limit:0,"tap-to-dismiss":!0,"close-button":!1,"close-html":'<button class="toast-close-button" type="button">&times;</button>',"newest-on-top":!0,"time-out":5e3,"icon-classes":{error:"toast-error",info:"toast-info",wait:"toast-wait",success:"toast-success",warning:"toast-warning"},"body-output-type":"","body-template":"toasterBodyTmpl.html","icon-class":"toast-info","position-class":"toast-top-right","title-class":"toast-title","message-class":"toast-message","prevent-duplicates":!1,"mouseover-timer-stop":!0}).run(["$templateCache",function(t){t.put("angularjs-toaster/toast.html",'<div id="toast-container" ng-class="[config.position, config.animation]"><div ng-repeat="toaster in toasters" class="toast" ng-class="toaster.type" ng-click="click($event, toaster)" ng-mouseover="stopTimer(toaster)" ng-mouseout="restartTimer(toaster)"><div ng-if="toaster.showCloseButton" ng-click="click($event, toaster, true)" ng-bind-html="toaster.closeHtml"></div><div ng-class="config.title">{{toaster.title}}</div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"></div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="templateWithData"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="directive"><div directive-template directive-name="{{toaster.html}}" directive-data="{{toaster.directiveData}}"></div></div><div ng-switch-default >{{toaster.body}}</div></div></div></div>')}]).service("toaster",["$rootScope","toasterConfig",function(t,e){function n(t){return function(e,n,i,r,a,o,s,l,u){return angular.isString(e)?this.pop(t,e,n,i,r,a,o,s,l,u):this.pop(angular.extend(e,{type:t}))}}var i=function(){var t={};return t.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)})},t}();this.pop=function(e,n,r,a,o,s,l,u,c,h){if(angular.isObject(e)){var p=e;this.toast={type:p.type,title:p.title,body:p.body,timeout:p.timeout,bodyOutputType:p.bodyOutputType,clickHandler:p.clickHandler,showCloseButton:p.showCloseButton,closeHtml:p.closeHtml,toastId:p.toastId,onShowCallback:p.onShowCallback,onHideCallback:p.onHideCallback,directiveData:p.directiveData,tapToDismiss:p.tapToDismiss},l=p.toasterId}else this.toast={type:e,title:n,body:r,timeout:a,bodyOutputType:o,clickHandler:s,showCloseButton:u,toastId:c,onHideCallback:h};return this.toast.toastId&&this.toast.toastId.length||(this.toast.toastId=i.newGuid()),t.$emit("toaster-newToast",l,this.toast.toastId),{toasterId:l,toastId:this.toast.toastId}},this.clear=function(e,n){angular.isObject(e)?t.$emit("toaster-clearToasts",e.toasterId,e.toastId):t.$emit("toaster-clearToasts",e,n)};for(var r in e["icon-classes"])this[r]=n(r)}]).factory("toasterEventRegistry",["$rootScope",function(t){var e,n=null,i=null,r=[],a=[];return e={setup:function(){n||(n=t.$on("toaster-newToast",function(t,e,n){for(var i=0,a=r.length;i<a;i++)r[i](t,e,n)})),i||(i=t.$on("toaster-clearToasts",function(t,e,n){for(var i=0,r=a.length;i<r;i++)a[i](t,e,n)}))},subscribeToNewToastEvent:function(t){r.push(t)},subscribeToClearToastsEvent:function(t){a.push(t)},unsubscribeToNewToastEvent:function(t){var e=r.indexOf(t);e>=0&&r.splice(e,1),0===r.length&&(n(),n=null)},unsubscribeToClearToastsEvent:function(t){var e=a.indexOf(t);e>=0&&a.splice(e,1),0===a.length&&(i(),i=null)}},{setup:e.setup,subscribeToNewToastEvent:e.subscribeToNewToastEvent,subscribeToClearToastsEvent:e.subscribeToClearToastsEvent,unsubscribeToNewToastEvent:e.unsubscribeToNewToastEvent,unsubscribeToClearToastsEvent:e.unsubscribeToClearToastsEvent}}]).directive("directiveTemplate",["$compile","$injector",function(t,e){return{restrict:"A",scope:{directiveName:"@directiveName",directiveData:"@directiveData"},replace:!0,link:function(n,i,r){n.$watch("directiveName",function(a){if(angular.isUndefined(a)||a.length<=0)throw new Error("A valid directive name must be provided via the toast body argument when using bodyOutputType: directive");var o;try{o=e.get(r.$normalize(a)+"Directive")}catch(t){throw new Error(a+" could not be found. The name should appear as it exists in the markup, not camelCased as it would appear in the directive declaration, e.g. directive-name not directiveName.")}var s=o[0];if(s.scope!==!0&&s.scope)throw new Error("Cannot use a directive with an isolated scope. The scope must be either true or falsy (e.g. false/null/undefined). Occurred for directive "+a+".");if(s.restrict.indexOf("A")<0)throw new Error('Directives must be usable as attributes. Add "A" to the restrict option (or remove the option entirely). Occurred for directive '+a+".");n.directiveData&&(n.directiveData=angular.fromJson(n.directiveData));var l=t("<div "+a+"></div>")(n);i.append(l)})}}}]).directive("toasterContainer",["$parse","$rootScope","$interval","$sce","toasterConfig","toaster","toasterEventRegistry",function(t,e,n,i,r,a,o){return{replace:!0,restrict:"EA",scope:!0,link:function(e,s,l){function u(t,i){t.timeoutPromise=n(function(){e.removeToast(t.toastId)},i,1)}function c(n,r){if(n.type=f["icon-classes"][n.type],n.type||(n.type=f["icon-class"]),f["prevent-duplicates"]===!0&&e.toasters.length){if(e.toasters[e.toasters.length-1].body===n.body)return;var a,o,s=!1;for(a=0,o=e.toasters.length;a<o;a++)if(e.toasters[a].toastId===r){s=!0;break}if(s)return}var l=f["close-button"];if("boolean"==typeof n.showCloseButton);else if("boolean"==typeof l)n.showCloseButton=l;else if("object"==typeof l){var u=l[n.type];"undefined"!=typeof u&&null!==u&&(n.showCloseButton=u)}else n.showCloseButton=!1;switch(n.showCloseButton&&(n.closeHtml=i.trustAsHtml(n.closeHtml||e.config.closeHtml)),n.bodyOutputType=n.bodyOutputType||f["body-output-type"],n.bodyOutputType){case"trustedHtml":n.html=i.trustAsHtml(n.body);break;case"template":n.bodyTemplate=n.body||f["body-template"];break;case"templateWithData":var c=t(n.body||f["body-template"]),h=c(e);n.bodyTemplate=h.template,n.data=h.data;break;case"directive":n.html=n.body}e.configureTimer(n),f["newest-on-top"]===!0?(e.toasters.unshift(n),f.limit>0&&e.toasters.length>f.limit&&e.toasters.pop()):(e.toasters.push(n),f.limit>0&&e.toasters.length>f.limit&&e.toasters.shift()),angular.isFunction(n.onShowCallback)&&n.onShowCallback()}function h(t){var i=e.toasters[t];i.timeoutPromise&&n.cancel(i.timeoutPromise),e.toasters.splice(t,1),angular.isFunction(i.onHideCallback)&&i.onHideCallback()}function p(t){for(var n=e.toasters.length-1;n>=0;n--)d(t)?h(n):e.toasters[n].toastId==t&&h(n)}function d(t){return angular.isUndefined(t)||null===t}var f;f=angular.extend({},r,e.$eval(l.toasterOptions)),e.config={toasterId:f["toaster-id"],position:f["position-class"],title:f["title-class"],message:f["message-class"],tap:f["tap-to-dismiss"],closeButton:f["close-button"],closeHtml:f["close-html"],animation:f["animation-class"],mouseoverTimer:f["mouseover-timer-stop"]},e.$on("$destroy",function(){o.unsubscribeToNewToastEvent(e._onNewToast),o.unsubscribeToClearToastsEvent(e._onClearToasts)}),e.configureTimer=function(t){var e=angular.isNumber(t.timeout)?t.timeout:f["time-out"];"object"==typeof e&&(e=e[t.type]),e>0&&u(t,e)},e.removeToast=function(t){var n,i;for(n=0,i=e.toasters.length;n<i;n++)if(e.toasters[n].toastId===t){h(n);break}},e.toasters=[],e._onNewToast=function(t,n,i){(d(e.config.toasterId)&&d(n)||!d(e.config.toasterId)&&!d(n)&&e.config.toasterId==n)&&c(a.toast,i)},e._onClearToasts=function(t,n,i){("*"==n||d(e.config.toasterId)&&d(n)||!d(e.config.toasterId)&&!d(n)&&e.config.toasterId==n)&&p(i)},o.setup(),o.subscribeToNewToastEvent(e._onNewToast),o.subscribeToClearToastsEvent(e._onClearToasts)},controller:["$scope","$element","$attrs",function(t,e,i){t.stopTimer=function(e){t.config.mouseoverTimer===!0&&e.timeoutPromise&&(n.cancel(e.timeoutPromise),e.timeoutPromise=null)},t.restartTimer=function(e){t.config.mouseoverTimer===!0?e.timeoutPromise||t.configureTimer(e):null===e.timeoutPromise&&t.removeToast(e.toastId)},t.click=function(e,n,i){e.stopPropagation();var r="boolean"==typeof n.tapToDismiss?n.tapToDismiss:t.config.tap;if(r===!0||n.showCloseButton===!0&&i===!0){var a=!0;n.clickHandler&&(angular.isFunction(n.clickHandler)?a=n.clickHandler(n,i):angular.isFunction(t.$parent.$eval(n.clickHandler))?a=t.$parent.$eval(n.clickHandler)(n,i):console.log("TOAST-NOTE: Your click handler is not inside a parent scope of toaster-container.")),a&&t.removeToast(n.toastId)}}}],templateUrl:"angularjs-toaster/toast.html"}}])}(window,document);var Opentip,firstAdapter,i,mouseMoved,mousePosition,mousePositionObservers,position,vendors,_i,_len,_ref,__slice=[].slice,__indexOf=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},__hasProp={}.hasOwnProperty;for(Opentip=function(){function t(e,n,i,r){var a,o,s,l,u,c,h,p,d,f,g,m,y,v,S=this;if(this.id=++t.lastId,this.debug("Creating Opentip."),t.tips.push(this),this.adapter=t.adapter,a=this.adapter.data(e,"opentips")||[],a.push(this),this.adapter.data(e,"opentips",a),this.triggerElement=this.adapter.wrap(e),this.triggerElement.length>1)throw new Error("You can't call Opentip on multiple elements.");if(this.triggerElement.length<1)throw new Error("Invalid element.");for(this.loaded=!1,this.loading=!1,this.visible=!1,this.waitingToShow=!1,this.waitingToHide=!1,this.currentPosition={left:0,top:0},this.dimensions={width:100,height:50},this.content="",this.redraw=!0,this.currentObservers={showing:!1,visible:!1,hiding:!1,hidden:!1},r=this.adapter.clone(r),"object"==typeof n?(r=n,n=i=void 0):"object"==typeof i&&(r=i,i=void 0),null!=i&&(r.title=i),null!=n&&this.setContent(n),null==r.extends&&(null!=r.style?r.extends=r.style:r.extends=t.defaultStyle),l=[r],v=r;v.extends;){if(c=v.extends,v=t.styles[c],null==v)throw new Error("Invalid style: "+c);l.unshift(v),null==v.extends&&"standard"!==c&&(v.extends="standard")}for(r=(g=this.adapter).extend.apply(g,[{}].concat(__slice.call(l))),r.hideTriggers=function(){var t,e,n,i;for(n=r.hideTriggers,i=[],t=0,e=n.length;t<e;t++)o=n[t],i.push(o);return i}(),r.hideTrigger&&0===r.hideTriggers.length&&r.hideTriggers.push(r.hideTrigger),m=["tipJoint","targetJoint","stem"],h=0,d=m.length;h<d;h++)u=m[h],r[u]&&"string"==typeof r[u]&&(r[u]=new t.Joint(r[u]));for(!r.ajax||r.ajax!==!0&&r.ajax||("A"===this.adapter.tagName(this.triggerElement)?r.ajax=this.adapter.attr(this.triggerElement,"href"):r.ajax=!1),"click"===r.showOn&&"A"===this.adapter.tagName(this.triggerElement)&&this.adapter.observe(this.triggerElement,"click",function(t){return t.preventDefault(),t.stopPropagation(),t.stopped=!0}),r.target&&(r.fixed=!0),r.stem===!0&&(r.stem=new t.Joint(r.tipJoint)),r.target===!0?r.target=this.triggerElement:r.target&&(r.target=this.adapter.wrap(r.target)),this.currentStem=r.stem,null==r.delay&&(r.delay="mouseover"===r.showOn?.2:0),null==r.targetJoint&&(r.targetJoint=new t.Joint(r.tipJoint).flip()),this.showTriggers=[],this.showTriggersWhenVisible=[],this.hideTriggers=[],r.showOn&&"creation"!==r.showOn&&this.showTriggers.push({element:this.triggerElement,event:r.showOn}),null!=r.ajaxCache&&(r.cache=r.ajaxCache,delete r.ajaxCache),this.options=r,this.bound={},y=["prepareToShow","prepareToHide","show","hide","reposition"],p=0,f=y.length;p<f;p++)s=y[p],this.bound[s]=function(t){return function(){return S[t].apply(S,arguments)}}(s);this.adapter.domReady(function(){if(S.activate(),"creation"===S.options.showOn)return S.prepareToShow()})}return t.prototype.STICKS_OUT_TOP=1,t.prototype.STICKS_OUT_BOTTOM=2,t.prototype.STICKS_OUT_LEFT=1,t.prototype.STICKS_OUT_RIGHT=2,t.prototype.class={container:"opentip-container",opentip:"opentip",header:"ot-header",content:"ot-content",loadingIndicator:"ot-loading-indicator",close:"ot-close",goingToHide:"ot-going-to-hide",hidden:"ot-hidden",hiding:"ot-hiding",goingToShow:"ot-going-to-show",showing:"ot-showing",visible:"ot-visible",loading:"ot-loading",ajaxError:"ot-ajax-error",fixed:"ot-fixed",showEffectPrefix:"ot-show-effect-",hideEffectPrefix:"ot-hide-effect-",stylePrefix:"style-"},t.prototype._setup=function(){var t,e,n,i,r,a,o,s,l,u,c;for(this.debug("Setting up the tooltip."),this._buildContainer(),this.hideTriggers=[],l=this.options.hideTriggers,i=r=0,o=l.length;r<o;i=++r){if(e=l[i],n=null,t=this.options.hideOn instanceof Array?this.options.hideOn[i]:this.options.hideOn,"string"==typeof e)switch(e){case"trigger":t=t||"mouseout",n=this.triggerElement;break;case"tip":t=t||"mouseover",n=this.container;break;case"target":t=t||"mouseover",n=this.options.target;break;case"closeButton":break;default:throw new Error("Unknown hide trigger: "+e+".")}else t=t||"mouseover",n=this.adapter.wrap(e);n&&this.hideTriggers.push({element:n,event:t,original:e})}for(u=this.hideTriggers,c=[],a=0,s=u.length;a<s;a++)e=u[a],c.push(this.showTriggersWhenVisible.push({element:e.element,event:"mouseover"}));return c},t.prototype._buildContainer=function(){if(this.container=this.adapter.create('<div id="opentip-'+this.id+'" class="'+this.class.container+" "+this.class.hidden+" "+this.class.stylePrefix+this.options.className+'"></div>'),this.adapter.css(this.container,{position:"absolute"}),this.options.ajax&&this.adapter.addClass(this.container,this.class.loading),this.options.fixed&&this.adapter.addClass(this.container,this.class.fixed),this.options.showEffect&&this.adapter.addClass(this.container,""+this.class.showEffectPrefix+this.options.showEffect),this.options.hideEffect)return this.adapter.addClass(this.container,""+this.class.hideEffectPrefix+this.options.hideEffect);
},t.prototype._buildElements=function(){var t,e;return this.tooltipElement=this.adapter.create('<div class="'+this.class.opentip+'"><div class="'+this.class.header+'"></div><div class="'+this.class.content+'"></div></div>'),this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas")),this.adapter.css(this.backgroundCanvas,{position:"absolute"}),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas)),t=this.adapter.find(this.tooltipElement,"."+this.class.header),this.options.title&&(e=this.adapter.create("<h1></h1>"),this.adapter.update(e,this.options.title,this.options.escapeTitle),this.adapter.append(t,e)),this.options.ajax&&!this.loaded&&this.adapter.append(this.tooltipElement,this.adapter.create('<div class="'+this.class.loadingIndicator+'"><span></span></div>')),__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(this.closeButtonElement=this.adapter.create('<a href="javascript:undefined;" class="'+this.class.close+'"><span>Close</span></a>'),this.adapter.append(t,this.closeButtonElement)),this.adapter.append(this.container,this.backgroundCanvas),this.adapter.append(this.container,this.tooltipElement),this.adapter.append(document.body,this.container),this._newContent=!0,this.redraw=!0},t.prototype.setContent=function(t){if(this.content=t,this._newContent=!0,"function"==typeof this.content?(this._contentFunction=this.content,this.content=""):this._contentFunction=null,this.visible)return this._updateElementContent()},t.prototype._updateElementContent=function(){var t;return(this._newContent||!this.options.cache&&this._contentFunction)&&(t=this.adapter.find(this.container,"."+this.class.content),null!=t&&(this._contentFunction&&(this.debug("Executing content function."),this.content=this._contentFunction(this)),this.adapter.update(t,this.content,this.options.escapeContent)),this._newContent=!1),this._storeAndLockDimensions(),this.reposition()},t.prototype._storeAndLockDimensions=function(){var t;if(this.container)return t=this.dimensions,this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"}),this.dimensions=this.adapter.dimensions(this.container),this.dimensions.width+=1,this.adapter.css(this.container,{width:""+this.dimensions.width+"px",top:""+this.currentPosition.top+"px",left:""+this.currentPosition.left+"px"}),this._dimensionsEqual(this.dimensions,t)?void 0:(this.redraw=!0,this._draw())},t.prototype.activate=function(){return this._setupObservers("hidden","hiding")},t.prototype.deactivate=function(){return this.debug("Deactivating tooltip."),this.hide(),this._setupObservers("-showing","-visible","-hidden","-hiding")},t.prototype._setupObservers=function(){var t,e,n,i,r,a,o,s,l,u,c,h,p,d,f,g,m=this;for(i=1<=arguments.length?__slice.call(arguments,0):[],a=0,u=i.length;a<u;a++)if(n=i[a],e=!1,"-"===n.charAt(0)&&(e=!0,n=n.substr(1)),this.currentObservers[n]!==!e)switch(this.currentObservers[n]=!e,t=function(){var t,n,i;return t=1<=arguments.length?__slice.call(arguments,0):[],e?(n=m.adapter).stopObserving.apply(n,t):(i=m.adapter).observe.apply(i,t)},n){case"showing":for(d=this.hideTriggers,o=0,c=d.length;o<c;o++)r=d[o],t(r.element,r.event,this.bound.prepareToHide);t(null!=document.onresize?document:window,"resize",this.bound.reposition),t(window,"scroll",this.bound.reposition);break;case"visible":for(f=this.showTriggersWhenVisible,s=0,h=f.length;s<h;s++)r=f[s],t(r.element,r.event,this.bound.prepareToShow);break;case"hiding":for(g=this.showTriggers,l=0,p=g.length;l<p;l++)r=g[l],t(r.element,r.event,this.bound.prepareToShow);break;case"hidden":break;default:throw new Error("Unknown state: "+n)}return null},t.prototype.prepareToShow=function(){if(this._abortHiding(),this._abortShowing(),!this.visible)return this.debug("Showing in "+this.options.delay+"s."),null==this.container&&this._setup(),this.options.group&&t._abortShowingGroup(this.options.group,this),this.preparingToShow=!0,this._setupObservers("-hidden","-hiding","showing"),this._followMousePosition(),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0)},t.prototype.show=function(){var e=this;if(this._abortHiding(),!this.visible)return this._clearTimeouts(),this._triggerElementExists()?(this.debug("Showing now."),null==this.container&&this._setup(),this.options.group&&t._hideGroup(this.options.group,this),this.visible=!0,this.preparingToShow=!1,null==this.tooltipElement&&this._buildElements(),this._updateElementContent(),!this.options.ajax||this.loaded&&this.options.cache||this._loadAjax(),this._searchAndActivateCloseButtons(),this._startEnsureTriggerElement(),this.adapter.css(this.container,{zIndex:t.lastZIndex++}),this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible"),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this.adapter.removeClass(this.container,this.class.hiding),this.adapter.removeClass(this.container,this.class.hidden),this.adapter.addClass(this.container,this.class.goingToShow),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var t;if(e.visible&&!e.preparingToHide)return e.adapter.removeClass(e.container,e.class.goingToShow),e.adapter.addClass(e.container,e.class.showing),t=0,e.options.showEffect&&e.options.showEffectDuration&&(t=e.options.showEffectDuration),e.setCss3Style(e.container,{transitionDuration:""+t+"s"}),e._visibilityStateTimeoutId=e.setTimeout(function(){return e.adapter.removeClass(e.container,e.class.showing),e.adapter.addClass(e.container,e.class.visible)},t),e._activateFirstInput()}),this._draw()):this.deactivate()},t.prototype._abortShowing=function(){if(this.preparingToShow)return this.debug("Aborting showing."),this._clearTimeouts(),this._stopFollowingMousePosition(),this.preparingToShow=!1,this._setupObservers("-showing","-visible","hiding","hidden")},t.prototype.prepareToHide=function(){if(this._abortShowing(),this._abortHiding(),this.visible)return this.debug("Hiding in "+this.options.hideDelay+"s"),this.preparingToHide=!0,this._setupObservers("-showing","visible","-hidden","hiding"),this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay)},t.prototype.hide=function(){var t=this;if(this._abortShowing(),this.visible&&(this._clearTimeouts(),this.debug("Hiding!"),this.visible=!1,this.preparingToHide=!1,this._stopEnsureTriggerElement(),this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden"),this.options.fixed||this._stopFollowingMousePosition(),this.container))return this.adapter.removeClass(this.container,this.class.visible),this.adapter.removeClass(this.container,this.class.showing),this.adapter.addClass(this.container,this.class.goingToHide),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var e;return t.adapter.removeClass(t.container,t.class.goingToHide),t.adapter.addClass(t.container,t.class.hiding),e=0,t.options.hideEffect&&t.options.hideEffectDuration&&(e=t.options.hideEffectDuration),t.setCss3Style(t.container,{transitionDuration:""+e+"s"}),t._visibilityStateTimeoutId=t.setTimeout(function(){if(t.adapter.removeClass(t.container,t.class.hiding),t.adapter.addClass(t.container,t.class.hidden),t.setCss3Style(t.container,{transitionDuration:"0s"}),t.options.removeElementsOnHide)return t.debug("Removing HTML elements."),t.adapter.remove(t.container),delete t.container,delete t.tooltipElement},e)})},t.prototype._abortHiding=function(){if(this.preparingToHide)return this.debug("Aborting hiding."),this._clearTimeouts(),this.preparingToHide=!1,this._setupObservers("-hiding","showing","visible")},t.prototype.reposition=function(){var t,e,n,i=this;if(t=this.getPosition(),null!=t&&(e=this.options.stem,this.options.containInViewport&&(n=this._ensureViewportContainment(t),t=n.position,e=n.stem),!this._positionsEqual(t,this.currentPosition)))return this.options.stem&&!e.eql(this.currentStem)&&(this.redraw=!0),this.currentPosition=t,this.currentStem=e,this._draw(),this.adapter.css(this.container,{left:""+t.left+"px",top:""+t.top+"px"}),this.defer(function(){var t,e;return t=i.adapter.unwrap(i.container),t.style.visibility="hidden",e=t.offsetHeight,t.style.visibility="visible"})},t.prototype.getPosition=function(t,e,n){var i,r,a,o,s,l,u,c,h;if(this.container)return null==t&&(t=this.options.tipJoint),null==e&&(e=this.options.targetJoint),o={},this.options.target?(u=this.adapter.offset(this.options.target),l=this.adapter.dimensions(this.options.target),o=u,e.right?(c=this.adapter.unwrap(this.options.target),null!=c.getBoundingClientRect?o.left=c.getBoundingClientRect().right+(null!=(h=window.pageXOffset)?h:document.body.scrollLeft):o.left+=l.width):e.center&&(o.left+=Math.round(l.width/2)),e.bottom?o.top+=l.height:e.middle&&(o.top+=Math.round(l.height/2)),this.options.borderWidth&&(this.options.tipJoint.left&&(o.left+=this.options.borderWidth),this.options.tipJoint.right&&(o.left-=this.options.borderWidth),this.options.tipJoint.top?o.top+=this.options.borderWidth:this.options.tipJoint.bottom&&(o.top-=this.options.borderWidth))):o=this.initialMousePosition?{top:this.initialMousePosition.y,left:this.initialMousePosition.x}:{top:mousePosition.y,left:mousePosition.x},this.options.autoOffset&&(s=this.options.stem?this.options.stemLength:0,a=s&&this.options.fixed?2:10,i=t.middle&&!this.options.fixed?15:0,r=t.center&&!this.options.fixed?15:0,t.right?o.left-=a+i:t.left&&(o.left+=a+i),t.bottom?o.top-=a+r:t.top&&(o.top+=a+r),s&&(null==n&&(n=this.options.stem),n.right?o.left-=s:n.left&&(o.left+=s),n.bottom?o.top-=s:n.top&&(o.top+=s))),o.left+=this.options.offset[0],o.top+=this.options.offset[1],t.right?o.left-=this.dimensions.width:t.center&&(o.left-=Math.round(this.dimensions.width/2)),t.bottom?o.top-=this.dimensions.height:t.middle&&(o.top-=Math.round(this.dimensions.height/2)),o},t.prototype._ensureViewportContainment=function(e){var n,i,r,a,o,s,l,u,c,h,p,d;if(l=this.options.stem,r={position:e,stem:l},!this.visible||!e)return r;if(u=this._sticksOut(e),!u[0]&&!u[1])return r;if(h=new t.Joint(this.options.tipJoint),this.options.targetJoint&&(c=new t.Joint(this.options.targetJoint)),s=this.adapter.scrollOffset(),p=this.adapter.viewportDimensions(),d=[e.left-s[0],e.top-s[1]],n=!1,p.width>=this.dimensions.width&&u[0])switch(n=!0,u[0]){case this.STICKS_OUT_LEFT:h.setHorizontal("left"),this.options.targetJoint&&c.setHorizontal("right");break;case this.STICKS_OUT_RIGHT:h.setHorizontal("right"),this.options.targetJoint&&c.setHorizontal("left")}if(p.height>=this.dimensions.height&&u[1])switch(n=!0,u[1]){case this.STICKS_OUT_TOP:h.setVertical("top"),this.options.targetJoint&&c.setVertical("bottom");break;case this.STICKS_OUT_BOTTOM:h.setVertical("bottom"),this.options.targetJoint&&c.setVertical("top")}return n?(this.options.stem&&(l=h),e=this.getPosition(h,c,l),i=this._sticksOut(e),a=!1,o=!1,i[0]&&i[0]!==u[0]&&(a=!0,h.setHorizontal(this.options.tipJoint.horizontal),this.options.targetJoint&&c.setHorizontal(this.options.targetJoint.horizontal)),i[1]&&i[1]!==u[1]&&(o=!0,h.setVertical(this.options.tipJoint.vertical),this.options.targetJoint&&c.setVertical(this.options.targetJoint.vertical)),a&&o?r:((a||o)&&(this.options.stem&&(l=h),e=this.getPosition(h,c,l)),{position:e,stem:l})):r},t.prototype._sticksOut=function(t){var e,n,i,r;return n=this.adapter.scrollOffset(),r=this.adapter.viewportDimensions(),e=[t.left-n[0],t.top-n[1]],i=[!1,!1],e[0]<0?i[0]=this.STICKS_OUT_LEFT:e[0]+this.dimensions.width>r.width&&(i[0]=this.STICKS_OUT_RIGHT),e[1]<0?i[1]=this.STICKS_OUT_TOP:e[1]+this.dimensions.height>r.height&&(i[1]=this.STICKS_OUT_BOTTOM),i},t.prototype._draw=function(){var e,n,i,r,a,o,s,l,u,c,h,p,d,f,g,m,y,v,S,T=this,b=["topRight","bottomRight","bottomLeft","topLeft"];if(this.backgroundCanvas&&this.redraw){if(this.debug("Drawing background."),this.redraw=!1,this.currentStem){for(y=["top","right","bottom","left"],g=0,m=y.length;g<m;g++)p=y[g],this.adapter.removeClass(this.container,"stem-"+p);this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal),this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical)}return o=[0,0],s=[0,0],__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(a=new t.Joint("top right"===(null!=(v=this.currentStem)?v.toString():void 0)?"top left":"top right"),o=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]],s=[this.options.closeButtonRadius-this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]]),i=this.adapter.clone(this.dimensions),r=[0,0],this.options.borderWidth&&(i.width+=2*this.options.borderWidth,i.height+=2*this.options.borderWidth,r[0]-=this.options.borderWidth,r[1]-=this.options.borderWidth),this.options.shadow&&(i.width+=2*this.options.shadowBlur,i.width+=Math.max(0,this.options.shadowOffset[0]-2*this.options.shadowBlur),i.height+=2*this.options.shadowBlur,i.height+=Math.max(0,this.options.shadowOffset[1]-2*this.options.shadowBlur),r[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]),r[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1])),n={left:0,right:0,top:0,bottom:0},this.currentStem&&(this.currentStem.left?n.left=this.options.stemLength:this.currentStem.right&&(n.right=this.options.stemLength),this.currentStem.top?n.top=this.options.stemLength:this.currentStem.bottom&&(n.bottom=this.options.stemLength)),a&&(a.left?n.left=Math.max(n.left,s[0]):a.right&&(n.right=Math.max(n.right,s[0])),a.top?n.top=Math.max(n.top,s[1]):a.bottom&&(n.bottom=Math.max(n.bottom,s[1]))),i.width+=n.left+n.right,i.height+=n.top+n.bottom,r[0]-=n.left,r[1]-=n.top,this.currentStem&&this.options.borderWidth&&(S=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),f=S.stemLength,d=S.stemBase),e=this.adapter.unwrap(this.backgroundCanvas),e.width=i.width,e.height=i.height,this.adapter.css(this.backgroundCanvas,{width:""+e.width+"px",height:""+e.height+"px",left:""+r[0]+"px",top:""+r[1]+"px"}),l=e.getContext("2d"),l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,e.width,e.height),l.beginPath(),l.fillStyle=this._getColor(l,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal),l.lineJoin="miter",l.miterLimit=500,h=this.options.borderWidth/2,this.options.borderWidth?(l.strokeStyle=this.options.borderColor,l.lineWidth=this.options.borderWidth):(f=this.options.stemLength,d=this.options.stemBase),null==d&&(d=0),c=function(t,e,n){if(n&&l.moveTo(Math.max(d,T.options.borderRadius,o[0])+1-h,-h),e)return l.lineTo(t/2-d/2,-h),l.lineTo(t/2,-f-h),l.lineTo(t/2+d/2,-h)},u=function(t,e,n){var i,r,a,s;return t?(l.lineTo(-d+h,0-h),l.lineTo(f+h,-f-h),l.lineTo(h,d-h)):e?(s=T.options.closeButtonOffset,a=o[0],n%2!==0&&(s=[s[1],s[0]],a=o[1]),i=Math.acos(s[1]/T.options.closeButtonRadius),r=Math.acos(s[0]/T.options.closeButtonRadius),l.lineTo(-a+h,-h),l.arc(h-s[0],-h+s[1],T.options.closeButtonRadius,-(Math.PI/2+i),r,!1)):void(Array.isArray(T.options.straightenedCorners)&&T.options.straightenedCorners.indexOf(b[n])>-1?l.lineTo(h,-h):(l.lineTo(-T.options.borderRadius+h,-h),l.quadraticCurveTo(h,-h,h,T.options.borderRadius-h)))},l.translate(-r[0],-r[1]),l.save(),function(){var e,n,i,r,o,s,h,p,d,f,g;for(g=[],n=d=0,f=t.positions.length/2;0<=f?d<f:d>f;n=0<=f?++d:--d)o=2*n,s=0===n||3===n?0:T.dimensions.width,h=n<2?0:T.dimensions.height,p=Math.PI/2*n,i=n%2===0?T.dimensions.width:T.dimensions.height,r=new t.Joint(t.positions[o]),e=new t.Joint(t.positions[o+1]),l.save(),l.translate(s,h),l.rotate(p),c(i,r.eql(T.currentStem),0===n),l.translate(i,0),u(e.eql(T.currentStem),e.eql(a),n),g.push(l.restore());return g}(),l.closePath(),l.save(),this.options.shadow&&(l.shadowColor=this.options.shadowColor,l.shadowBlur=this.options.shadowBlur,l.shadowOffsetX=this.options.shadowOffset[0],l.shadowOffsetY=this.options.shadowOffset[1]),l.fill(),l.restore(),this.options.borderWidth&&l.stroke(),l.restore(),a?function(){var t,e,n,i,r;return n=e=2*T.options.closeButtonRadius,"top right"===a.toString()?(r=[T.dimensions.width-T.options.closeButtonOffset[0],T.options.closeButtonOffset[1]],t=[r[0]+h,r[1]-h]):(r=[T.options.closeButtonOffset[0],T.options.closeButtonOffset[1]],t=[r[0]-h,r[1]-h]),l.translate(t[0],t[1]),i=T.options.closeButtonCrossSize/2,l.save(),l.beginPath(),l.strokeStyle=T.options.closeButtonCrossColor,l.lineWidth=T.options.closeButtonCrossLineWidth,l.lineCap="round",l.moveTo(-i,-i),l.lineTo(i,i),l.stroke(),l.beginPath(),l.moveTo(i,-i),l.lineTo(-i,i),l.stroke(),l.restore(),T.adapter.css(T.closeButtonElement,{left:""+(r[0]-i-T.options.closeButtonLinkOverscan)+"px",top:""+(r[1]-i-T.options.closeButtonLinkOverscan)+"px",width:""+(T.options.closeButtonCrossSize+2*T.options.closeButtonLinkOverscan)+"px",height:""+(T.options.closeButtonCrossSize+2*T.options.closeButtonLinkOverscan)+"px"})}():void 0}},t.prototype._getPathStemMeasures=function(t,e,n){var i,r,a,o,s,l,u;if(o=n/2,a=Math.atan(t/2/e),i=2*a,s=o/Math.sin(i),r=2*s*Math.cos(a),u=o+e-r,u<0)throw new Error("Sorry but your stemLength / stemBase ratio is strange.");return l=Math.tan(a)*u*2,{stemLength:u,stemBase:l}},t.prototype._getColor=function(t,e,n,i){var r,a,o,s,l;if(null==i&&(i=!1),"string"==typeof n)return n;for(a=i?t.createLinearGradient(0,0,e.width,0):t.createLinearGradient(0,0,0,e.height),o=s=0,l=n.length;s<l;o=++s)r=n[o],a.addColorStop(r[0],r[1]);return a},t.prototype._searchAndActivateCloseButtons=function(){var t,e,n,i;for(i=this.adapter.findAll(this.container,"."+this.class.close),e=0,n=i.length;e<n;e++)t=i[e],this.hideTriggers.push({element:this.adapter.wrap(t),event:"click"});if(this.currentObservers.showing&&this._setupObservers("-showing","showing"),this.currentObservers.visible)return this._setupObservers("-visible","visible")},t.prototype._activateFirstInput=function(){var t;return t=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea")),null!=t&&"function"==typeof t.focus?t.focus():void 0},t.prototype._followMousePosition=function(){if(!this.options.fixed)return t._observeMousePosition(this.bound.reposition)},t.prototype._stopFollowingMousePosition=function(){if(!this.options.fixed)return t._stopObservingMousePosition(this.bound.reposition)},t.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId)},t.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId)},t.prototype._clearTimeouts=function(){return clearTimeout(this._visibilityStateTimeoutId),this._clearShowTimeout(),this._clearHideTimeout()},t.prototype._triggerElementExists=function(){var t;for(t=this.adapter.unwrap(this.triggerElement);t.parentNode;){if("BODY"===t.parentNode.tagName)return!0;t=t.parentNode}return!1},t.prototype._loadAjax=function(){var t=this;if(!this.loading)return this.loaded=!1,this.loading=!0,this.adapter.addClass(this.container,this.class.loading),this.setContent(""),this.debug("Loading content from "+this.options.ajax),this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(e){return t.debug("Loading successful."),t.adapter.removeClass(t.container,t.class.loading),t.setContent(e)},onError:function(e){var n;return n=t.options.ajaxErrorMessage,t.debug(n,e),t.setContent(n),t.adapter.addClass(t.container,t.class.ajaxError)},onComplete:function(){return t.adapter.removeClass(t.container,t.class.loading),t.loading=!1,t.loaded=!0,t._searchAndActivateCloseButtons(),t._activateFirstInput(),t.reposition()}})},t.prototype._ensureTriggerElement=function(){if(!this._triggerElementExists())return this.deactivate(),this._stopEnsureTriggerElement()},t.prototype._ensureTriggerElementInterval=1e3,t.prototype._startEnsureTriggerElement=function(){var t=this;return this._ensureTriggerElementTimeoutId=setInterval(function(){return t._ensureTriggerElement()},this._ensureTriggerElementInterval)},t.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId)},t}(),vendors=["khtml","ms","o","moz","webkit"],Opentip.prototype.setCss3Style=function(t,e){var n,i,r,a,o;t=this.adapter.unwrap(t),o=[];for(n in e)__hasProp.call(e,n)&&(i=e[n],null!=t.style[n]?o.push(t.style[n]=i):o.push(function(){var e,o,s;for(s=[],e=0,o=vendors.length;e<o;e++)r=vendors[e],a=""+this.ucfirst(r)+this.ucfirst(n),null!=t.style[a]?s.push(t.style[a]=i):s.push(void 0);return s}.call(this)));return o},Opentip.prototype.defer=function(t){return setTimeout(t,0)},Opentip.prototype.setTimeout=function(t,e){return setTimeout(t,e?1e3*e:0)},Opentip.prototype.ucfirst=function(t){return null==t?"":t.charAt(0).toUpperCase()+t.slice(1)},Opentip.prototype.dasherize=function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},mousePositionObservers=[],mousePosition={x:0,y:0},mouseMoved=function(t){var e,n,i,r;for(mousePosition=Opentip.adapter.mousePosition(t),r=[],n=0,i=mousePositionObservers.length;n<i;n++)e=mousePositionObservers[n],r.push(e());return r},Opentip.followMousePosition=function(){return Opentip.adapter.observe(document.body,"mousemove",mouseMoved)},Opentip._observeMousePosition=function(t){return mousePositionObservers.push(t)},Opentip._stopObservingMousePosition=function(t){var e;return mousePositionObservers=function(){var n,i,r;for(r=[],n=0,i=mousePositionObservers.length;n<i;n++)e=mousePositionObservers[n],e!==t&&r.push(e);return r}()},Opentip.Joint=function(){function t(t){null!=t&&(t instanceof Opentip.Joint&&(t=t.toString()),this.set(t))}return t.prototype.set=function(t){return t=t.toLowerCase(),this.setHorizontal(t),this.setVertical(t),this},t.prototype.setHorizontal=function(t){var e,n,i,r,a,o,s;for(n=["left","center","right"],i=0,a=n.length;i<a;i++)e=n[i],~t.indexOf(e)&&(this.horizontal=e.toLowerCase());for(null==this.horizontal&&(this.horizontal="center"),s=[],r=0,o=n.length;r<o;r++)e=n[r],s.push(this[e]=this.horizontal===e?e:void 0);return s},t.prototype.setVertical=function(t){var e,n,i,r,a,o,s;for(n=["top","middle","bottom"],i=0,a=n.length;i<a;i++)e=n[i],~t.indexOf(e)&&(this.vertical=e.toLowerCase());for(null==this.vertical&&(this.vertical="middle"),s=[],r=0,o=n.length;r<o;r++)e=n[r],s.push(this[e]=this.vertical===e?e:void 0);return s},t.prototype.eql=function(t){return null!=t&&this.horizontal===t.horizontal&&this.vertical===t.vertical},t.prototype.flip=function(){var t,e;return e=Opentip.position[this.toString(!0)],t=(e+4)%8,this.set(Opentip.positions[t]),this},t.prototype.toString=function(t){var e,n;return null==t&&(t=!1),n="middle"===this.vertical?"":this.vertical,e="center"===this.horizontal?"":this.horizontal,n&&e&&(e=t?Opentip.prototype.ucfirst(e):" "+e),""+n+e},t}(),Opentip.prototype._positionsEqual=function(t,e){return null!=t&&null!=e&&t.left===e.left&&t.top===e.top},Opentip.prototype._dimensionsEqual=function(t,e){return null!=t&&null!=e&&t.width===e.width&&t.height===e.height},Opentip.prototype.debug=function(){var t;if(t=1<=arguments.length?__slice.call(arguments,0):[],Opentip.debug&&null!=("undefined"!=typeof console&&null!==console?console.debug:void 0))return t.unshift("#"+this.id+" |"),console.debug.apply(console,t)},Opentip.findElements=function(){var t,e,n,i,r,a,o,s,l,u;for(t=Opentip.adapter,l=t.findAll(document.body,"[data-ot]"),u=[],o=0,s=l.length;o<s;o++){n=l[o],a={},e=t.data(n,"ot"),""!==e&&"true"!==e&&"yes"!==e||(e=t.attr(n,"title"),t.attr(n,"title","")),e=e||"";for(i in Opentip.styles.standard)r=t.data(n,"ot"+Opentip.prototype.ucfirst(i)),null!=r&&("yes"===r||"true"===r||"on"===r?r=!0:"no"!==r&&"false"!==r&&"off"!==r||(r=!1),a[i]=r);u.push(new Opentip(n,e,a))}return u},Opentip.version="2.4.6",Opentip.debug=!1,Opentip.lastId=0,Opentip.lastZIndex=100,Opentip.tips=[],Opentip._abortShowingGroup=function(t,e){var n,i,r,a,o;for(a=Opentip.tips,o=[],i=0,r=a.length;i<r;i++)n=a[i],n!==e&&n.options.group===t?o.push(n._abortShowing()):o.push(void 0);return o},Opentip._hideGroup=function(t,e){var n,i,r,a,o;for(a=Opentip.tips,o=[],i=0,r=a.length;i<r;i++)n=a[i],n!==e&&n.options.group===t?o.push(n.hide()):o.push(void 0);return o},Opentip.adapters={},Opentip.adapter=null,firstAdapter=!0,Opentip.addAdapter=function(t){if(Opentip.adapters[t.name]=t,firstAdapter)return Opentip.adapter=t,t.domReady(Opentip.findElements),t.domReady(Opentip.followMousePosition),firstAdapter=!1},Opentip.positions=["top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"],Opentip.position={},_ref=Opentip.positions,i=_i=0,_len=_ref.length;_i<_len;i=++_i)position=_ref[i],Opentip.position[position]=i;Opentip.styles={standard:{extends:null,title:void 0,escapeTitle:!0,escapeContent:!1,className:"standard",stem:!0,delay:null,hideDelay:.1,fixed:!1,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,removeElementsOnHide:!1,offset:[0,0],containInViewport:!0,autoOffset:!0,showEffect:"appear",hideEffect:"fade",showEffectDuration:.3,hideEffectDuration:.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,cache:!0,ajax:!1,ajaxMethod:"GET",ajaxErrorMessage:"There was a problem downloading the content.",group:null,style:null,background:"#fff18f",backgroundGradientHorizontal:!1,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:5,borderWidth:1,borderColor:"#f2e37b",shadow:!0,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)",straightenedCorners:[]},glass:{extends:"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[.5,"rgba(255, 255, 255, 0.8)"],[.5,"rgba(250, 250, 250, 0.9)"],[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{extends:"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[.5,"rgba(30, 30, 30, 0.8)"],[.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{extends:"standard",className:"alert",borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[.5,"rgba(203, 15, 19, 0.8)"],[.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}},Opentip.defaultStyle="standard","undefined"!=typeof module&&null!==module?module.exports=Opentip:window.Opentip=Opentip;var __slice=[].slice;!function(t){var e;return t.fn.opentip=function(t,e,n){return new Opentip(this,t,e,n)},e=function(){function e(){}return e.prototype.name="jquery",e.prototype.domReady=function(e){return t(e)},e.prototype.create=function(e){return t(e)},e.prototype.wrap=function(e){if(e=t(e),e.length>1)throw new Error("Multiple elements provided.");return e},e.prototype.unwrap=function(e){return t(e)[0]},e.prototype.tagName=function(t){return this.unwrap(t).tagName},e.prototype.attr=function(){var e,n,i;return n=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],(i=t(n)).attr.apply(i,e)},e.prototype.data=function(){var e,n,i;return n=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],(i=t(n)).data.apply(i,e)},e.prototype.find=function(e,n){return t(e).find(n).get(0)},e.prototype.findAll=function(e,n){return t(e).find(n)},e.prototype.update=function(e,n,i){return e=t(e),i?e.text(n):e.html(n)},e.prototype.append=function(e,n){return t(e).append(n)},e.prototype.remove=function(e){return t(e).remove()},e.prototype.addClass=function(e,n){return t(e).addClass(n)},e.prototype.removeClass=function(e,n){return t(e).removeClass(n)},e.prototype.css=function(e,n){return t(e).css(n)},e.prototype.dimensions=function(e){return{width:t(e).outerWidth(),height:t(e).outerHeight()}},e.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop]},e.prototype.viewportDimensions=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},e.prototype.mousePosition=function(t){return null==t?null:{x:t.pageX,y:t.pageY}},e.prototype.offset=function(e){var n;return n=t(e).offset(),{left:n.left,top:n.top}},e.prototype.observe=function(e,n,i){return t(e).bind(n,i)},e.prototype.stopObserving=function(e,n,i){return t(e).unbind(n,i)},e.prototype.ajax=function(e){var n,i;if(null==e.url)throw new Error("No url provided");return t.ajax({url:e.url,type:null!=(n=null!=(i=e.method)?i.toUpperCase():void 0)?n:"GET"}).done(function(t){return"function"==typeof e.onSuccess?e.onSuccess(t):void 0}).fail(function(t){return"function"==typeof e.onError?e.onError("Server responded with status "+t.status):void 0}).always(function(){return"function"==typeof e.onComplete?e.onComplete():void 0})},e.prototype.clone=function(e){return t.extend({},e)},e.prototype.extend=function(){var e,n;return n=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],t.extend.apply(t,[n].concat(__slice.call(e)))},e}(),Opentip.addAdapter(new e)}(jQuery),function(){function t(t){function e(t,e,n){function i(n){var i=t[n],r=t[n+1],a=t[n+2],o=t[n+3],s=t[n+4],l=t[n+5];if(isNaN(i)||isNaN(a)||isNaN(s)||isNaN(r)||isNaN(o)||isNaN(l))return null;var u=Math.sqrt(Math.pow(a-i,2)+Math.pow(o-r,2)),c=Math.sqrt(Math.pow(s-a,2)+Math.pow(l-o,2)),h=e*u/(u+c),p=e-h,d=a+h*(i-s),f=o+h*(r-l),g=a-p*(i-s),m=o-p*(r-l);return[d,f,g,m]}for(var r=[],a=t.length,o=0;o<a-4;o+=2)r=r.concat(i(o));if(null!=r){n.quadraticCurveTo(r[0],r[1],t[2],t[3]);for(var o=2;o<t.length-5;o+=2)n.bezierCurveTo(r[2*o-2],r[2*o-1],r[2*o],r[2*o+1],t[o+2],t[o+3]);n.quadraticCurveTo(r[2*a-10],r[2*a-9],t[a-4],t[a-3])}}function n(t,e,n){function i(n){var i=t[n],r=t[n+1],a=t[n+2],o=t[n+3],s=t[n+4],l=t[n+5];if(isNaN(i)||isNaN(a)||isNaN(s)||isNaN(r)||isNaN(o)||isNaN(l))return null;var u=Math.sqrt(Math.pow(a-i,2)+Math.pow(o-r,2)),c=Math.sqrt(Math.pow(s-a,2)+Math.pow(l-o,2)),h=e*u/(u+c),p=e-h,d=a+h*(i-s),f=o+h*(r-l),g=a-p*(i-s),m=o-p*(r-l);return[d,f,g,m]}for(var r=[],a=t.length,o=0;o<a-4;o+=2)r=r.concat(i(o));if(null!=r){n.save();for(var o=2;o<t.length-5;o+=2)n.beginPath(),n.moveTo(t[o],t[o+1]),n.bezierCurveTo(r[2*o-2],r[2*o-1],r[2*o],r[2*o+1],t[o+2],t[o+3]),n.stroke(),n.closePath();n.beginPath(),n.moveTo(t[0],t[1]),n.quadraticCurveTo(r[0],r[1],t[2],t[3]),n.stroke(),n.closePath(),n.beginPath(),n.moveTo(t[a-2],t[a-1]),n.quadraticCurveTo(r[2*a-10],r[2*a-9],t[a-4],t[a-3]),n.stroke(),n.closePath(),n.restore()}}function i(){if(window.getSelection){var t=window.getSelection();if(t.getRangeAt&&t.rangeCount){for(var e=[],n=0,i=t.rangeCount;n<i;++n)e.push(t.getRangeAt(n));return e}}else if(document.selection&&document.selection.createRange)return document.selection.createRange();return null}function r(t){if(t)if(window.getSelection){var e=window.getSelection();e.removeAllRanges();for(var n=0,i=t.length;n<i;++n)e.addRange(t[n])}else document.selection&&t.select&&t.select()}return window.innerHeight||!function(t,e){var n=e.documentElement,i=e.body,r=function(t,e,n){"undefined"==typeof t[e]&&Object.defineProperty(t,e,{get:n})};return r(t,"innerWidth",function(){return n.clientWidth}),r(t,"innerHeight",function(){return n.clientHeight}),r(t,"scrollX",function(){return t.pageXOffset||n.scrollLeft}),r(t,"scrollY",function(){return t.pageYOffset||n.scrollTop}),r(e,"width",function(){return Math.max(i.scrollWidth,n.scrollWidth,i.offsetWidth,n.offsetWidth,i.clientWidth,n.clientWidth)}),r(e,"height",function(){return Math.max(i.scrollHeight,n.scrollHeight,i.offsetHeight,n.offsetHeight,i.clientHeight,n.clientHeight)}),r}(window,document),Object.create||(Object.defineProperty=!window.isIE8&&Object.defineProperty||function(t,e,n){n.get&&t.__defineGetter__?t.__defineGetter__(e,n.get):(n.value||n.get)&&(t[e]=n.value||n.get);
},Object.create=function(t,e){function n(){}var i;n.prototype=t,i=new n;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&Object.defineProperty(i,r,e[r]);return i}),window.addEventListener||!function(t,e,n,i,r,a,o){t[i]=e[i]=n[i]=function(t,e){var n=this;o.unshift([n,t,e,function(t){t.currentTarget=n,t.preventDefault=function(){t.returnValue=!1},t.stopPropagation=function(){t.cancelBubble=!0},t.target=t.srcElement||n,"function"==typeof e?e.call(n,t):"object"==typeof e&&"function"==typeof e.handleEvent&&e.handleEvent.call(e,t)}]),this.attachEvent("on"+t,o[0][3])},t[r]=e[r]=n[r]=function(t,e){for(var n=0,i=o[n];i;i=o[++n])if(i[0]==this&&i[1]==t&&i[2]==e)return this.detachEvent("on"+t,o.splice(n,1)[0][3])},t[a]=e[a]=n[a]=function(t){return this.fireEvent("on"+t.type,t)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),"undefined"!=typeof window&&(window.OldIntl=window.Intl),window.Intl=window.Intl||function(t){"use strict";function e(t){return!!I.test(t)&&(!H.test(t)&&!z.test(t))}function n(t){var e,n;t=t.toLowerCase(),n=t.split("-");for(var i=1,r=n.length;i<r;i++)if(2===n[i].length)n[i]=n[i].toUpperCase();else if(4===n[i].length)n[i]=n[i].charAt(0).toUpperCase()+n[i].slice(1);else if(1===n[i].length&&"x"!=n[i])break;t=G.call(n,"-"),(e=t.match(R))&&e.length>1&&(e.sort(),t=t.replace(RegExp("(?:"+R.source+")+","i"),G.call(e,""))),B.call(ot.tags,t)&&(t=ot.tags[t]),n=t.split("-");for(var i=1,r=n.length;i<r;i++)B.call(ot.subtags,n[i])?n[i]=ot.subtags[n[i]]:B.call(ot.extLang,n[i])&&(n[i]=ot.extLang[n[i]][0],1===i&&ot.extLang[n[1]][1]===n[0]&&(n=V.call(n,i++),r-=1));return G.call(n,"-")}function i(){return F}function r(t){var e=String(t),n=L(e);return rt.test(n)!==!1}function a(t){if(void 0===t)return new O;for(var i=new O,t="string"==typeof t?[t]:t,r=N(t),a=r.length,o=0;o<a;){var s=String(o),l=s in r;if(l){var u=r[s];if(null==u||"string"!=typeof u&&"object"!=typeof u)throw new TypeError("String or Object type expected");var c=String(u);if(!e(c))throw new RangeError("'"+c+"' is not a structurally valid language tag");c=n(c),Y.call(i,c)===-1&&q.call(i,c)}o++}return i}function o(t,e){for(var n=e;;){if(Y.call(t,n)>-1)return n;var i=n.lastIndexOf("-");if(i<0)return;i>=2&&"-"==n.charAt(i-2)&&(i-=2),n=n.substring(0,i)}}function s(t,e){for(var n,r=0,a=e.length;r<a&&!n;){var s=e[r],l=String(s).replace(at,""),n=o(t,l);r++}var u=new E;if(void 0!==n){if(u["[[locale]]"]=n,String(s)!==String(l)){var c=s.match(at)[0],h=s.indexOf("-u-");u["[[extension]]"]=c,u["[[extensionIndex]]"]=h}}else u["[[locale]]"]=i();return u}function l(t,e){return s(t,e)}function u(t,e,n,i,r){if(0===t.length)throw new ReferenceError("No locale data has been provided for this object yet.");var a=n["[[localeMatcher]]"];if("lookup"===a)var o=s(t,e);else var o=l(t,e);var u=o["[[locale]]"];if(B.call(o,"[[extension]]"))var c=o["[[extension]]"],h=o["[[extensionIndex]]"],p=String.prototype.split,d=p.call(c,"-"),f=d.length;var g=new E;g["[[dataLocale]]"]=u;for(var m="-u",y=0,v=i.length;y<v;){var S=i[y],T=r[u],b=T[S],x=b[0],M="",w=Y;if(void 0!==d){var A=w.call(d,S);if(A!==-1)if(A+1<f&&d[A+1].length>2){var C=d[A+1],k=w.call(b,C);if(k!==-1)var x=C,M="-"+S+"-"+x}else{var k=w(b,"true");if(k!==-1)var x="true"}}if(B.call(n,"[["+S+"]]")){var D=n["[["+S+"]]"];w.call(b,D)!==-1&&D!==x&&(x=D,M="")}g["[["+S+"]]"]=x,m+=M,y++}if(m.length>2)var $=u.substring(0,h),P=u.substring(h),u=$+m+P;return g["[[locale]]"]=u,g}function c(t,e){for(var n=e.length,i=new O,r=0;r<n;){var a=e[r],s=String(a).replace(at,""),l=o(t,s);void 0!==l&&q.call(i,a),r++}var u=V.call(i);return u}function h(t,e){return c(t,e)}function p(t,e,n){if(void 0!==n){var n=new E(N(n)),i=n.localeMatcher;if(void 0!==i&&(i=String(i),"lookup"!==i&&"best fit"!==i))throw new RangeError('matcher should be "lookup" or "best fit"')}if(void 0===i||"best fit"===i)var r=h(t,e);else var r=c(t,e);for(var a in r)B.call(r,a)&&W(r,a,{writable:!1,configurable:!1,value:r[a]});return W(r,"length",{writable:!1}),r}function d(t,e,n,i,r){var a=t[e];if(void 0!==a){if(a="boolean"===n?Boolean(a):"string"===n?String(a):a,void 0!==i&&Y.call(i,a)===-1)throw new RangeError("'"+a+"' is not an allowed value for `"+e+"`");return a}return r}function f(t,e,n,i,r){var a=t[e];if(void 0!==a){if(a=Number(a),isNaN(a)||a<n||a>i)throw new RangeError("Value is not a number or outside accepted range");return Math.floor(a)}return r}function g(){var e=arguments[0],n=arguments[1];return this&&this!==t?m(N(this),e,n):new t.NumberFormat(e,n)}function m(t,e,n){var i=X(t),o=_();if(i["[[initializedIntlObject]]"]===!0)throw new TypeError("`this` object has already been initialized as an Intl object");W(t,"__getInternalProperties",{value:function(){if(arguments[0]===Q)return i}}),i["[[initializedIntlObject]]"]=!0;var s=a(e);n=void 0===n?{}:N(n);var l=new E,c=d(n,"localeMatcher","string",new O("lookup","best fit"),"best fit");l["[[localeMatcher]]"]=c;var h=Z.NumberFormat["[[localeData]]"],p=u(Z.NumberFormat["[[availableLocales]]"],s,l,Z.NumberFormat["[[relevantExtensionKeys]]"],h);i["[[locale]]"]=p["[[locale]]"],i["[[numberingSystem]]"]=p["[[nu]]"],i["[[dataLocale]]"]=p["[[dataLocale]]"];var g=p["[[dataLocale]]"],m=d(n,"style","string",new O("decimal","percent","currency"),"decimal");i["[[style]]"]=m;var v=d(n,"currency","string");if(void 0!==v&&!r(v))throw new RangeError("'"+v+"' is not a valid currency code");if("currency"===m&&void 0===v)throw new TypeError("Currency code is required when style is currency");if("currency"===m){v=v.toUpperCase(),i["[[currency]]"]=v;var S=y(v)}var T=d(n,"currencyDisplay","string",new O("code","symbol","name"),"symbol");"currency"===m&&(i["[[currencyDisplay]]"]=T);var b=f(n,"minimumIntegerDigits",1,21,1);i["[[minimumIntegerDigits]]"]=b;var x="currency"===m?S:0,M=f(n,"minimumFractionDigits",0,20,x);i["[[minimumFractionDigits]]"]=M;var w="currency"===m?Math.max(M,S):"percent"===m?Math.max(M,0):Math.max(M,3),A=f(n,"maximumFractionDigits",M,20,w);i["[[maximumFractionDigits]]"]=A;var C=n.minimumSignificantDigits,k=n.maximumSignificantDigits;void 0===C&&void 0===k||(C=f(n,"minimumSignificantDigits",1,21,1),k=f(n,"maximumSignificantDigits",C,21,21),i["[[minimumSignificantDigits]]"]=C,i["[[maximumSignificantDigits]]"]=k);var D=d(n,"useGrouping","boolean",void 0,!0);i["[[useGrouping]]"]=D;var $=h[g],P=$.patterns,L=P[m];return i["[[positivePattern]]"]=L.positivePattern,i["[[negativePattern]]"]=L.negativePattern,i["[[boundFormat]]"]=void 0,i["[[initializedNumberFormat]]"]=!0,o.exp.test(o.input),t}function y(t){return void 0!==st[t]?st[t]:2}function v(t,e){var n,i=_(),r=X(t),a=r["[[dataLocale]]"],o=r["[[numberingSystem]]"],s=Z.NumberFormat["[[localeData]]"][a],l=s.symbols[o]||s.symbols.latn,u=!1;if(isFinite(e)===!1)isNaN(e)?n=l.nan:(n=l.infinity,e<0&&(u=!0));else{if(e<0&&(u=!0,e=-e),"percent"===r["[[style]]"]&&(e*=100),n=B.call(r,"[[minimumSignificantDigits]]")&&B.call(r,"[[maximumSignificantDigits]]")?S(e,r["[[minimumSignificantDigits]]"],r["[[maximumSignificantDigits]]"]):T(e,r["[[minimumIntegerDigits]]"],r["[[minimumFractionDigits]]"],r["[[maximumFractionDigits]]"]),lt[o]){var c=lt[r["[[numberingSystem]]"]];n=String(n).replace(/\d/g,function(t){return c[t]})}else n=String(n);if(n=n.replace(/\./g,l.decimal),r["[[useGrouping]]"]===!0){var h=n.split(l.decimal);h[0]=h[0].replace(it,l.group),n=G.call(h,l.decimal)}}var p=r[u===!0?"[[negativePattern]]":"[[positivePattern]]"];if(p=p.replace("{number}",n),"currency"===r["[[style]]"]){var d,f=r["[[currency]]"],g=s.currencies[f];"code"===r["[[currencyDisplay]]"]?d=f:"symbol"===r["[[currencyDisplay]]"]?d=g||f:"name"===r["[[currencyDisplay]]"]&&(d=g?g["displayName-count-one"]:f),p=p.replace("{currency}",d)}return i.exp.test(i.input),p}function S(t,e,n){var i=n;if(0===t)var r=G.call(Array(i+1),"0"),a=0;else{var o,s=t%1,l=s?Math.pow(10,n):1,r=Number.prototype.toPrecision.call(t*l,n),a=(o=r.indexOf("e"))>-1?Number(r.slice(o+1)):(o=r.indexOf("."))>-1?o-1:r.length-1;s&&(a-=n),r=r.slice(0,r.indexOf("e")>-1?o:r.length).replace(".","")}if(a>=i)return r+G.call(Array(a-i+1+1),"0");if(a===i-1)return r;if(a>=0?r=r.slice(0,a+1)+"."+r.slice(a+1):a<0&&(r="0."+G.call(Array(-(a+1)+1),"0")+r),r.indexOf(".")>=0&&n>e){for(var u=n-e;u>0&&"0"===r.charAt(r.length-1);)r=r.slice(0,-1),u--;"."===r.charAt(r.length-1)&&(r=r.slice(0,-1))}return r}function T(t,e,n,i){var r,a=Number.prototype.toFixed.call(t,i),o=a.split(".")[0].length,s=i-n,l=(r=a.indexOf("e"))>-1?a.slice(r+1):0;for(l&&(a=a.slice(0,r).replace(".",""),a+=G.call(Array(l-(a.length-1)+1),"0")+"."+G.call(Array(i+1),"0"),o=a.length);s>0&&"0"===a.slice(-1);)a=a.slice(0,-1),s--;if("."===a.slice(-1)&&(a=a.slice(0,-1)),o<e)var u=G.call(Array(e-o+1),"0");return(u?u:"")+a}function b(){var e=arguments[0],n=arguments[1];return this&&this!==t?x(N(this),e,n):new t.DateTimeFormat(e,n)}function x(t,e,n){var i=X(t),r=_();if(i["[[initializedIntlObject]]"]===!0)throw new TypeError("`this` object has already been initialized as an Intl object");W(t,"__getInternalProperties",{value:function(){if(arguments[0]===Q)return i}}),i["[[initializedIntlObject]]"]=!0;var o=a(e),n=M(n,"any","date"),s=new E,l=d(n,"localeMatcher","string",new O("lookup","best fit"),"best fit");s["[[localeMatcher]]"]=l;var c=Z.DateTimeFormat,h=c["[[localeData]]"],p=u(c["[[availableLocales]]"],o,s,c["[[relevantExtensionKeys]]"],h);i["[[locale]]"]=p["[[locale]]"],i["[[calendar]]"]=p["[[ca]]"],i["[[numberingSystem]]"]=p["[[nu]]"],i["[[dataLocale]]"]=p["[[dataLocale]]"];var f=p["[[dataLocale]]"],g=n.timeZone;if(void 0!==g&&(g=L(g),"UTC"!==g))throw new RangeError("timeZone is not supported.");i["[[timeZone]]"]=g,s=new E;for(var m in ut)if(B.call(ut,m)){var y=d(n,m,"string",ut[m]);s["[["+m+"]]"]=y}var v,S=h[f],T=S.formats,l=d(n,"formatMatcher","string",new O("basic","best fit"),"best fit");v="basic"===l?w(s,T):A(s,T);for(var m in ut)if(B.call(ut,m)&&B.call(v,m)){var b=v[m];i["[["+m+"]]"]=b}var x,C=d(n,"hour12","boolean");if(i["[[hour]]"])if(C=void 0===C?S.hour12:C,i["[[hour12]]"]=C,C===!0){var k=S.hourNo0;i["[[hourNo0]]"]=k,x=v.pattern12}else x=v.pattern;else x=v.pattern;return i["[[pattern]]"]=x,i["[[boundFormat]]"]=void 0,i["[[initializedDateTimeFormat]]"]=!0,r.exp.test(r.input),t}function M(t,e,n){t=void 0===t?null:new E(N(t));var i=U,t=i(t),r=!0;return"date"!==e&&"any"!==e||void 0===t.weekday&&void 0===t.year&&void 0===t.month&&void 0===t.day||(r=!1),"time"!==e&&"any"!==e||void 0===t.hour&&void 0===t.minute&&void 0===t.second||(r=!1),!r||"date"!==n&&"all"!==n||(t.year=t.month=t.day="numeric"),!r||"time"!==n&&"all"!==n||(t.hour=t.minute=t.second="numeric"),t}function w(t,e){for(var n,i=120,r=20,a=8,o=6,s=6,l=3,u=-(1/0),c=0,h=e.length;c<h;){var p=e[c],d=0;for(var f in ut)if(B.call(ut,f)){var g=t["[["+f+"]]"],m=B.call(p,f)?p[f]:void 0;if(void 0===g&&void 0!==m)d-=r;else if(void 0!==g&&void 0===m)d-=i;else{var y=["2-digit","numeric","narrow","short","long"],v=Y.call(y,g),S=Y.call(y,m),T=Math.max(Math.min(S-v,2),-2);2===T?d-=o:1===T?d-=l:T===-1?d-=s:T===-2&&(d-=a)}}d>u&&(u=d,n=p),c++}return n}function A(t,e){return w(t,e)}function C(e,n){if(!isFinite(n))throw new RangeError("Invalid valid date passed to format");var i=e.__getInternalProperties(Q),r=_(),a=i["[[locale]]"],o=new t.NumberFormat([a],{useGrouping:!1}),s=new t.NumberFormat([a],{minimumIntegerDigits:2,useGrouping:!1}),l=k(n,i["[[calendar]]"],i["[[timeZone]]"]),u=i["[[pattern]]"],c=i["[[dataLocale]]"],h=Z.DateTimeFormat["[[localeData]]"][c].calendars,p=i["[[calendar]]"];for(var d in ut)if(B.call(i,"[["+d+"]]")){var f,g,m=i["[["+d+"]]"],y=l["[["+d+"]]"];if("year"===d&&y<=0?y=1-y:"month"===d?y++:"hour"===d&&i["[[hour12]]"]===!0&&(y%=12,f=y!==l["[["+d+"]]"],0===y&&i["[[hourNo0]]"]===!0&&(y=12)),"numeric"===m)g=v(o,y);else if("2-digit"===m)g=v(s,y),g.length>2&&(g=g.slice(-2));else if(m in tt)switch(d){case"month":g=P(h,p,"months",m,l["[["+d+"]]"]);break;case"weekday":try{g=P(h,p,"days",m,l["[["+d+"]]"])}catch(t){throw new Error("Could not find weekday data for locale "+a)}break;case"timeZoneName":g="";break;default:g=l["[["+d+"]]"]}u=u.replace("{"+d+"}",g)}return i["[[hour12]]"]===!0&&(g=P(h,p,"dayPeriods",f?"pm":"am"),u=u.replace("{ampm}",g)),r.exp.test(r.input),u}function k(t,e,n){var i=new Date(t);return new E({"[[weekday]]":i.getDay(),"[[era]]":+(i.getFullYear>=0),"[[year]]":i.getFullYear(),"[[month]]":i.getMonth(),"[[day]]":i.getDate(),"[[hour]]":i.getHours(),"[[minute]]":i.getMinutes(),"[[second]]":i.getSeconds(),"[[inDST]]":!1})}function D(n){if(!e(n.locale))throw new Error("Object passed doesn't identify itself with a valid language tag");if(!n.number)throw new Error("Object passed doesn't contain locale data for Intl.NumberFormat");var i,r=[n.locale],a=n.locale.split("-");for(a.length>2&&4==a[1].length&&q.call(r,a[0]+"-"+a[2]);i=J.call(r);)q.call(Z.NumberFormat["[[availableLocales]]"],i),Z.NumberFormat["[[localeData]]"][i]=n.number,n.date&&(n.date.nu=n.number.nu,q.call(Z.DateTimeFormat["[[availableLocales]]"],i),Z.DateTimeFormat["[[localeData]]"][i]=n.date);void 0===F&&(F=n.locale),et||(m(t.NumberFormat.prototype),et=!0),n.date&&!nt&&(x(t.DateTimeFormat.prototype),nt=!0)}function $(t){if(!B.call(this,"[[availableLocales]]"))throw new TypeError("supportedLocalesOf() is not a constructor");var e=_(),n=arguments[1],i=this["[[availableLocales]]"],r=a(t);return e.exp.test(e.input),p(i,r,n)}function P(t,e,n,i,r){var a=t[e]&&t[e][n]?t[e][n]:t.gregory[n],o={narrow:["short","long"],short:["long","narrow"],long:["short","narrow"]},s=B.call(a,i)?a[i]:B.call(a,o[i][0])?a[o[i][0]]:a[o[i][1]];return null!=r?s[r]:s}function E(t){for(var e in t)(t instanceof E||B.call(t,e))&&W(this,e,{value:t[e],enumerable:!0,writable:!0,configurable:!0})}function O(){W(this,"length",{writable:!0,value:0}),arguments.length&&q.apply(this,V.call(arguments))}function _(){var t=RegExp.lastMatch,e={input:RegExp.input},n=/[.?*+^$[\]\\(){}|-]/g,i=new O,r={};")"==t&&(t="\\)");for(var a=1;a<=9;a++)r["$"+a]=RegExp["$"+a];for(var a=1;a<=9;a++){var o=r["$"+a];t=o?t.replace(o,"("+o.replace(n,"\\$0")+")"):"()"+t,q.call(i,t.slice(0,t.indexOf("(")+1)),t=t.slice(t.indexOf("(")+1)}return e.exp=new RegExp(G.call(i,"")+t,RegExp.multiline?"m":""),e}function L(t){for(var e=t.length;e--;){var n=t.charAt(e);n>="a"&&n<="z"&&(t=t.slice(0,e)+n.toUpperCase()+t.slice(e+1))}return t}function N(t){if(null==t)throw new TypeError("Cannot convert null or undefined to object");return Object(t)}function X(t){return B.call(t,"__getInternalProperties")?t.__getInternalProperties(Q):U(null)}var F,I,R,H,z,B=Object.prototype.hasOwnProperty,W=!window.isIE8&&Object.defineProperty||function(t,e,n){n.get&&t.__defineGetter__?t.__defineGetter__(e,n.get):(n.value||n.get)&&(t[e]=n.value||n.get)},Y=Array.prototype.indexOf||function(t){var e=this;if(!e.length)return-1;for(var n=arguments[1]||0,i=e.length;n<i;n++)if(e[n]===t)return n},U=Object.create||function(t,e){function n(){}var i;n.prototype=t,i=new n;for(var r in e)B.call(e,r)&&W(i,r,e[r]);return i},V=Array.prototype.slice,j=Array.prototype.concat,q=Array.prototype.push,G=Array.prototype.join,J=Array.prototype.shift,K=Function.prototype.bind||function(t){var e=this,n=V.call(arguments,1);return function(){e.apply(t,j.call(n,V.call(arguments)))}},Z=U(null),Q=Math.random(),tt=U(null,{narrow:{},short:{},long:{}}),et=!1,nt=!1,it=/(?=(?!^)(?:\d{3})+(?!\d))/g,rt=/^[A-Z]{3}$/,at=/-u(?:-[0-9a-z]{2,8})+/gi,ot={tags:{"art-lojban":"jbo","i-ami":"ami","i-bnn":"bnn","i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","no-bok":"nb","no-nyn":"nn","sgn-BE-FR":"sfb","sgn-BE-NL":"vgt","sgn-CH-DE":"sgg","zh-guoyu":"cmn","zh-hakka":"hak","zh-min-nan":"nan","zh-xiang":"hsn","sgn-BR":"bzs","sgn-CO":"csn","sgn-DE":"gsg","sgn-DK":"dsl","sgn-ES":"ssp","sgn-FR":"fsl","sgn-GB":"bfi","sgn-GR":"gss","sgn-IE":"isg","sgn-IT":"ise","sgn-JP":"jsl","sgn-MX":"mfs","sgn-NI":"ncs","sgn-NL":"dse","sgn-NO":"nsl","sgn-PT":"psr","sgn-SE":"swl","sgn-US":"ase","sgn-ZA":"sfs","zh-cmn":"cmn","zh-cmn-Hans":"cmn-Hans","zh-cmn-Hant":"cmn-Hant","zh-gan":"gan","zh-wuu":"wuu","zh-yue":"yue"},subtags:{BU:"MM",DD:"DE",FX:"FR",TP:"TL",YD:"YE",ZR:"CD",heploc:"alalc97",in:"id",iw:"he",ji:"yi",jw:"jv",mo:"ro",ayx:"nun",bjd:"drl",ccq:"rki",cjr:"mom",cka:"cmr",cmk:"xch",drh:"khk",drw:"prs",gav:"dev",hrr:"jal",ibi:"opa",kgh:"kml",lcq:"ppr",mst:"mry",myt:"mry",sca:"hle",tie:"ras",tkk:"twm",tlw:"weo",tnf:"prs",ybd:"rki",yma:"lrr"},extLang:{aao:["aao","ar"],abh:["abh","ar"],abv:["abv","ar"],acm:["acm","ar"],acq:["acq","ar"],acw:["acw","ar"],acx:["acx","ar"],acy:["acy","ar"],adf:["adf","ar"],ads:["ads","sgn"],aeb:["aeb","ar"],aec:["aec","ar"],aed:["aed","sgn"],aen:["aen","sgn"],afb:["afb","ar"],afg:["afg","sgn"],ajp:["ajp","ar"],apc:["apc","ar"],apd:["apd","ar"],arb:["arb","ar"],arq:["arq","ar"],ars:["ars","ar"],ary:["ary","ar"],arz:["arz","ar"],ase:["ase","sgn"],asf:["asf","sgn"],asp:["asp","sgn"],asq:["asq","sgn"],asw:["asw","sgn"],auz:["auz","ar"],avl:["avl","ar"],ayh:["ayh","ar"],ayl:["ayl","ar"],ayn:["ayn","ar"],ayp:["ayp","ar"],bbz:["bbz","ar"],bfi:["bfi","sgn"],bfk:["bfk","sgn"],bjn:["bjn","ms"],bog:["bog","sgn"],bqn:["bqn","sgn"],bqy:["bqy","sgn"],btj:["btj","ms"],bve:["bve","ms"],bvl:["bvl","sgn"],bvu:["bvu","ms"],bzs:["bzs","sgn"],cdo:["cdo","zh"],cds:["cds","sgn"],cjy:["cjy","zh"],cmn:["cmn","zh"],coa:["coa","ms"],cpx:["cpx","zh"],csc:["csc","sgn"],csd:["csd","sgn"],cse:["cse","sgn"],csf:["csf","sgn"],csg:["csg","sgn"],csl:["csl","sgn"],csn:["csn","sgn"],csq:["csq","sgn"],csr:["csr","sgn"],czh:["czh","zh"],czo:["czo","zh"],doq:["doq","sgn"],dse:["dse","sgn"],dsl:["dsl","sgn"],dup:["dup","ms"],ecs:["ecs","sgn"],esl:["esl","sgn"],esn:["esn","sgn"],eso:["eso","sgn"],eth:["eth","sgn"],fcs:["fcs","sgn"],fse:["fse","sgn"],fsl:["fsl","sgn"],fss:["fss","sgn"],gan:["gan","zh"],gds:["gds","sgn"],gom:["gom","kok"],gse:["gse","sgn"],gsg:["gsg","sgn"],gsm:["gsm","sgn"],gss:["gss","sgn"],gus:["gus","sgn"],hab:["hab","sgn"],haf:["haf","sgn"],hak:["hak","zh"],hds:["hds","sgn"],hji:["hji","ms"],hks:["hks","sgn"],hos:["hos","sgn"],hps:["hps","sgn"],hsh:["hsh","sgn"],hsl:["hsl","sgn"],hsn:["hsn","zh"],icl:["icl","sgn"],ils:["ils","sgn"],inl:["inl","sgn"],ins:["ins","sgn"],ise:["ise","sgn"],isg:["isg","sgn"],isr:["isr","sgn"],jak:["jak","ms"],jax:["jax","ms"],jcs:["jcs","sgn"],jhs:["jhs","sgn"],jls:["jls","sgn"],jos:["jos","sgn"],jsl:["jsl","sgn"],jus:["jus","sgn"],kgi:["kgi","sgn"],knn:["knn","kok"],kvb:["kvb","ms"],kvk:["kvk","sgn"],kvr:["kvr","ms"],kxd:["kxd","ms"],lbs:["lbs","sgn"],lce:["lce","ms"],lcf:["lcf","ms"],liw:["liw","ms"],lls:["lls","sgn"],lsg:["lsg","sgn"],lsl:["lsl","sgn"],lso:["lso","sgn"],lsp:["lsp","sgn"],lst:["lst","sgn"],lsy:["lsy","sgn"],ltg:["ltg","lv"],lvs:["lvs","lv"],lzh:["lzh","zh"],max:["max","ms"],mdl:["mdl","sgn"],meo:["meo","ms"],mfa:["mfa","ms"],mfb:["mfb","ms"],mfs:["mfs","sgn"],min:["min","ms"],mnp:["mnp","zh"],mqg:["mqg","ms"],mre:["mre","sgn"],msd:["msd","sgn"],msi:["msi","ms"],msr:["msr","sgn"],mui:["mui","ms"],mzc:["mzc","sgn"],mzg:["mzg","sgn"],mzy:["mzy","sgn"],nan:["nan","zh"],nbs:["nbs","sgn"],ncs:["ncs","sgn"],nsi:["nsi","sgn"],nsl:["nsl","sgn"],nsp:["nsp","sgn"],nsr:["nsr","sgn"],nzs:["nzs","sgn"],okl:["okl","sgn"],orn:["orn","ms"],ors:["ors","ms"],pel:["pel","ms"],pga:["pga","ar"],pks:["pks","sgn"],prl:["prl","sgn"],prz:["prz","sgn"],psc:["psc","sgn"],psd:["psd","sgn"],pse:["pse","ms"],psg:["psg","sgn"],psl:["psl","sgn"],pso:["pso","sgn"],psp:["psp","sgn"],psr:["psr","sgn"],pys:["pys","sgn"],rms:["rms","sgn"],rsi:["rsi","sgn"],rsl:["rsl","sgn"],sdl:["sdl","sgn"],sfb:["sfb","sgn"],sfs:["sfs","sgn"],sgg:["sgg","sgn"],sgx:["sgx","sgn"],shu:["shu","ar"],slf:["slf","sgn"],sls:["sls","sgn"],sqk:["sqk","sgn"],sqs:["sqs","sgn"],ssh:["ssh","ar"],ssp:["ssp","sgn"],ssr:["ssr","sgn"],svk:["svk","sgn"],swc:["swc","sw"],swh:["swh","sw"],swl:["swl","sgn"],syy:["syy","sgn"],tmw:["tmw","ms"],tse:["tse","sgn"],tsm:["tsm","sgn"],tsq:["tsq","sgn"],tss:["tss","sgn"],tsy:["tsy","sgn"],tza:["tza","sgn"],ugn:["ugn","sgn"],ugy:["ugy","sgn"],ukl:["ukl","sgn"],uks:["uks","sgn"],urk:["urk","ms"],uzn:["uzn","uz"],uzs:["uzs","uz"],vgt:["vgt","sgn"],vkk:["vkk","ms"],vkt:["vkt","ms"],vsi:["vsi","sgn"],vsl:["vsl","sgn"],vsv:["vsv","sgn"],wuu:["wuu","zh"],xki:["xki","sgn"],xml:["xml","sgn"],xmm:["xmm","ms"],xms:["xms","sgn"],yds:["yds","sgn"],ysl:["ysl","sgn"],yue:["yue","zh"],zib:["zib","sgn"],zlm:["zlm","ms"],zmi:["zmi","ms"],zsl:["zsl","sgn"],zsm:["zsm","ms"]}},st={BHD:3,BYR:0,XOF:0,BIF:0,XAF:0,CLF:0,CLP:0,KMF:0,DJF:0,XPF:0,GNF:0,ISK:0,IQD:3,JPY:0,JOD:3,KRW:0,KWD:3,LYD:3,OMR:3,PYG:0,RWF:0,TND:3,UGX:0,UYI:0,VUV:0,VND:0};!function(){var t="[a-z]{3}(?:-[a-z]{3}){0,2}",e="(?:[a-z]{2,3}(?:-"+t+")?|[a-z]{4}|[a-z]{5,8})",n="[a-z]{4}",i="(?:[a-z]{2}|\\d{3})",r="(?:[a-z0-9]{5,8}|\\d[a-z0-9]{3})",a="[0-9a-wy-z]",o=a+"(?:-[a-z0-9]{2,8})+",s="x(?:-[a-z0-9]{1,8})+",l="(?:en-GB-oed|i-(?:ami|bnn|default|enochian|hak|klingon|lux|mingo|navajo|pwn|tao|tay|tsu)|sgn-(?:BE-FR|BE-NL|CH-DE))",u="(?:art-lojban|cel-gaulish|no-bok|no-nyn|zh-(?:guoyu|hakka|min|min-nan|xiang))",c="(?:"+l+"|"+u+")",h=e+"(?:-"+n+")?(?:-"+i+")?(?:-"+r+")*(?:-"+o+")*(?:-"+s+")?";I=RegExp("^(?:"+h+"|"+s+"|"+c+")$","i"),H=RegExp("^(?!x).*?-("+r+")-(?:\\w{4,8}-(?!x-))*\\1\\b","i"),z=RegExp("^(?!x).*?-("+a+")-(?:\\w+-(?!x-))*\\1\\b","i"),R=RegExp("-"+o,"ig")}(),W(t,"NumberFormat",{configurable:!0,writable:!0,value:g}),W(t.NumberFormat,"prototype",{writable:!1}),Z.NumberFormat={"[[availableLocales]]":[],"[[relevantExtensionKeys]]":["nu"],"[[localeData]]":{}},W(t.NumberFormat,"supportedLocalesOf",{configurable:!0,writable:!0,value:K.call($,Z.NumberFormat)}),W(t.NumberFormat.prototype,"format",{configurable:!0,get:function(){var t=null!=this&&"object"==typeof this&&X(this);if(!t||!t["[[initializedNumberFormat]]"])throw new TypeError("`this` value for format() is not an initialized Intl.NumberFormat object.");if(void 0===t["[[boundFormat]]"]){var e=function(t){return v(this,Number(t))},n=K.call(e,this);t["[[boundFormat]]"]=n}return t["[[boundFormat]]"]}});var lt={arab:["","","","","","","","","",""],arabext:["","","","","","","","","",""],bali:["","","","","","","","","",""],beng:["","","","","","","","","",""],deva:["","","","","","","","","",""],fullwide:["","","","","","","","","",""],gujr:["","","","","","","","","",""],guru:["","","","","","","","","",""],hanidec:["","","","","","","","","",""],khmr:["","","","","","","","","",""],knda:["","","","","","","","","",""],laoo:["","","","","","","","","",""],latn:["0","1","2","3","4","5","6","7","8","9"],limb:["","","","","","","","","",""],mlym:["","","","","","","","","",""],mong:["","","","","","","","","",""],mymr:["","","","","","","","","",""],orya:["","","","","","","","","",""],tamldec:["","","","","","","","","",""],telu:["","","","","","","","","",""],thai:["","","","","","","","","",""],tibt:["","","","","","","","","",""]};W(t.NumberFormat.prototype,"resolvedOptions",{configurable:!0,writable:!0,value:function(){var t,e=new E,n=["locale","numberingSystem","style","currency","currencyDisplay","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","useGrouping"],i=null!=this&&"object"==typeof this&&X(this);if(!i||!i["[[initializedNumberFormat]]"])throw new TypeError("`this` value for resolvedOptions() is not an initialized Intl.NumberFormat object.");for(var r=0,a=n.length;r<a;r++)B.call(i,t="[["+n[r]+"]]")&&(e[n[r]]={value:i[t],writable:!0,configurable:!0,enumerable:!0});return U({},e)}}),W(t,"DateTimeFormat",{configurable:!0,writable:!0,value:b}),W(b,"prototype",{writable:!1});var ut={weekday:["narrow","short","long"],era:["narrow","short","long"],year:["2-digit","numeric"],month:["2-digit","numeric","narrow","short","long"],day:["2-digit","numeric"],hour:["2-digit","numeric"],minute:["2-digit","numeric"],second:["2-digit","numeric"],timeZoneName:["short","long"]};return Z.DateTimeFormat={"[[availableLocales]]":[],"[[relevantExtensionKeys]]":["ca","nu"],"[[localeData]]":{}},W(t.DateTimeFormat,"supportedLocalesOf",{configurable:!0,writable:!0,value:K.call($,Z.DateTimeFormat)}),W(t.DateTimeFormat.prototype,"format",{configurable:!0,get:function(){var t=null!=this&&"object"==typeof this&&X(this);if(!t||!t["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for format() is not an initialized Intl.DateTimeFormat object.");if(void 0===t["[[boundFormat]]"]){var e=function(){var t=Number(0===arguments.length?Date.now():arguments[0]);return C(this,t)},n=K.call(e,this);t["[[boundFormat]]"]=n}return t["[[boundFormat]]"]}}),W(t.DateTimeFormat.prototype,"resolvedOptions",{writable:!0,configurable:!0,value:function(){var t,e=new E,n=["locale","calendar","numberingSystem","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","pattern"],i=null!=this&&"object"==typeof this&&X(this);if(!i||!i["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for resolvedOptions() is not an initialized Intl.DateTimeFormat object.");for(var r=0,a=n.length;r<a;r++)B.call(i,t="[["+n[r]+"]]")&&(e[n[r]]={value:i[t],writable:!0,configurable:!0,enumerable:!0});return U({},e)}}),W(Number.prototype,"toLocaleStringIntl",{writable:!0,configurable:!0,value:function(){if("[object Number]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a number for Number.prototype.toLocaleStringIntl()");return v(new g(arguments[0],arguments[1]),this)}}),W(Date.prototype,"toLocaleStringIntl",{writable:!0,configurable:!0,value:function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleStringIntl()");var t=+this;if(isNaN(t))return"Invalid Date";var e=arguments[0],n=arguments[1],n=M(n,"any","all"),i=new b(e,n);return C(i,t)}}),W(Date.prototype,"toLocaleDateString",{writable:!0,configurable:!0,value:function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleDateString()");var t=+this;if(isNaN(t))return"Invalid Date";var e=arguments[0],n=arguments[1],n=M(n,"date","date"),i=new b(e,n);return C(i,t)}}),W(Date.prototype,"toLocaleTimeString",{writable:!0,configurable:!0,value:function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleTimeString()");var t=+this;if(isNaN(t))return"Invalid Date";var e=arguments[0],n=arguments[1],n=M(n,"time","time"),i=new b(e,n);return C(i,t)}}),W(t,"__addLocaleData",{value:D}),"undefined"!=typeof window&&(window.IntlLocaleData=Z),E.prototype=U(null),O.prototype=U(null),t}({}),function(){"use strict";function e(){function t(t){throw new Error('Timezone "'+t+'" is either incorrect, or not loaded in the timezone registry.')}function e(t,e){var n=g.zoneFileBasePath+"/"+t;return e&&e.async?g.transport({async:!0,url:n,success:function(t){return g.parseZones(t)&&"function"==typeof e.callback&&e.callback()},error:function(){throw new Error('Error retrieving "'+n+'" zoneinfo files')}}):g.parseZones(g.transport({url:n,async:!1}))}function i(e){var n,r,a=y[e];if(a)return a;if(n=e.split("/")[0],r=m[n])return r;var o=g.zones[e];return"string"==typeof o?i(o):g.loadedZones.backward?void t(e):(g.loadZoneFile("backward"),i(e))}function r(t){var e=/(\d+)(?::0*(\d*))?(?::0*(\d*))?([wsugz])?$/,n=t.match(e);return n[1]=parseInt(n[1],10),n[2]=n[2]?parseInt(n[2],10):0,n[3]=n[3]?parseInt(n[3],10):0,n.slice(1,5)}function a(t){if(t[3]){var e=parseInt(t[3],10),n=11,i=31;t[4]&&(n=s[t[4].substr(0,3)],i=parseInt(t[5],10)||1);var a=t[6]?r(t[6]):[0,0,0];return[e,n,i,a[0],a[1],a[2]]}}function o(e,n){for(var i="number"==typeof e?e:new Date(e).getTime(),r=n,a=g.zones[r];"string"==typeof a;)r=a,a=g.zones[r];if(!a){if(!g.loadedZones.backward)return g.loadZoneFile("backward"),o(e,n);t(r)}if(0===a.length)throw new Error('No Zone found for "'+n+'" on '+e);for(var s=a.length-1;s>=0;s--){var l=a[s];if(l[3]&&i>l[3])break}return a[s+1]}function c(t){var e=r(t),n="-"===t.charAt(0)?-1:1;return e=n*(1e3*(60*(60*e[0]+e[1])+e[2])),e/60/1e3}function h(t,e){return-Math.ceil(e-t)}function d(t,e,i,r){var a="number"==typeof t?new Date(t):t,o=e[1],c=e[0],p=o.match(/^([0-9]):([0-9][0-9])$/);if(p)return[-1e6,"max","-","Jan",1,[0,0,0],60*parseInt(p[1],10)+parseInt(p[2],10),"-"];var d=function(t,e,n){var i=0;if("u"===e||"g"===e||"z"===e)i=0;else if("s"===e)i=c;else{if("w"!==e&&e)throw new Error("unknown type "+e);i=h(c,n[6])}return i*=6e4,new Date(t.getTime()+i)},f=function(t,e){var n,i=t[0],r=t[1],a=r[5];if(u[i]||(u[i]={}),u[i][r])n=u[i][r];else{if(isNaN(r[4])){var o,c;"last"===r[4].substr(0,4)?(n=new Date(Date.UTC(i,s[r[3]]+1,1,a[0]-24,a[1],a[2],0)),o=l[r[4].substr(4,3)],c="<="):(n=new Date(Date.UTC(i,s[r[3]],r[4].substr(5),a[0],a[1],a[2],0)),o=l[r[4].substr(0,3)],c=r[4].substr(3,2));var h=n.getUTCDay();">="===c?n.setUTCDate(n.getUTCDate()+(o-h+(o<h?7:0))):n.setUTCDate(n.getUTCDate()+(o-h-(o>h?7:0)))}else n=new Date(Date.UTC(i,s[r[3]],r[4],a[0],a[1],a[2],0));u[i][r]=n}return e&&(n=d(n,a[3],e)),n},m=function(t,e){for(var n=[],i=0;e&&i<e.length;i++)e[i][0]<=t&&(e[i][1]>=t||e[i][0]===t&&"only"===e[i][1]||"max"===e[i][1])&&n.push([t,e[i]]);return n},y=function(t,e,n){var r,a,o;return t instanceof Date?n&&!i&&(t=d(t,i?"u":"w",n)):(r=t[0],a=t[1],o=t[2],t=!n&&u[r]&&u[r][a]?u[r][a]:o?o:f(t,n)),e instanceof Date?n&&!i&&(e=d(e,i?"u":"w",n)):(r=e[0],a=e[1],o=e[2],e=!n&&u[r]&&u[r][a]?u[r][a]:o?o:f(e,n)),t=Number(t),e=Number(e),t-e},v=a.getUTCFullYear(),S=n.ruleCache[r];S||(S=n.ruleCache[r]={});var T=S[v];if(T||(T=m(v-1,g.rules[o]),T=T.concat(m(v,g.rules[o])),T.sort(y),S[v]=T),!T||!T.length)return null;for(var b,x=T.length-1;x>=0;x--){b=x>0?T[x-1][1]:null;var M=T[x];if(M[2]||(M[2]=f(M,b)),y(a,M,b)>=0)return M[1]}return null}function f(t,e){var n=t[2];if(n.indexOf("%s")>-1){var i;return i=e?"-"===e[7]?"":e[7]:"S",n.replace("%s",i)}return n.indexOf("/")>-1?n.split("/",2)[e[6]?1:0]:n}var g=this,m={Etc:"etcetera",EST:"northamerica",MST:"northamerica",HST:"northamerica",EST5EDT:"northamerica",CST6CDT:"northamerica",MST7MDT:"northamerica",PST8PDT:"northamerica",America:"northamerica",Pacific:"australasia",Atlantic:"europe",Africa:"africa",Indian:"africa",Antarctica:"antarctica",Asia:"asia",Australia:"australasia",Europe:"europe",WET:"europe",CET:"europe",MET:"europe",EET:"europe"},y={"Pacific/Honolulu":"northamerica","Atlantic/Bermuda":"northamerica","Atlantic/Cape_Verde":"africa","Atlantic/St_Helena":"africa","Indian/Kerguelen":"antarctica","Indian/Chagos":"asia","Indian/Maldives":"asia","Indian/Christmas":"australasia","Indian/Cocos":"australasia","America/Danmarkshavn":"europe","America/Scoresbysund":"europe","America/Godthab":"europe","America/Thule":"europe","Asia/Istanbul":"europe","Asia/Yekaterinburg":"europe","Asia/Omsk":"europe","Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":"europe","Asia/Irkutsk":"europe","Asia/Yakutsk":"europe","Asia/Vladivostok":"europe","Asia/Sakhalin":"europe","Asia/Magadan":"europe","Asia/Kamchatka":"europe","Asia/Anadyr":"europe","Africa/Ceuta":"europe","America/Argentina/Buenos_Aires":"southamerica","America/Argentina/San_Luis":"southamerica","America/Argentina/Cordoba":"southamerica","America/Argentina/Tucuman":"southamerica","America/Argentina/La_Rioja":"southamerica","America/Argentina/San_Juan":"southamerica",
"America/Argentina/Jujuy":"southamerica","America/Argentina/Catamarca":"southamerica","America/Argentina/Mendoza":"southamerica","America/Argentina/Rio_Gallegos":"southamerica","America/Argentina/Ushuaia":"southamerica","America/Aruba":"southamerica","America/La_Paz":"southamerica","America/Noronha":"southamerica","America/Belem":"southamerica","America/Fortaleza":"southamerica","America/Recife":"southamerica","America/Araguaina":"southamerica","America/Maceio":"southamerica","America/Bahia":"southamerica","America/Sao_Paulo":"southamerica","America/Campo_Grande":"southamerica","America/Cuiaba":"southamerica","America/Porto_Velho":"southamerica","America/Boa_Vista":"southamerica","America/Manaus":"southamerica","America/Eirunepe":"southamerica","America/Rio_Branco":"southamerica","America/Santiago":"southamerica","Pacific/Easter":"southamerica","America/Bogota":"southamerica","America/Curacao":"southamerica","America/Guayaquil":"southamerica","Pacific/Galapagos":"southamerica","Atlantic/Stanley":"southamerica","America/Cayenne":"southamerica","America/Guyana":"southamerica","America/Asuncion":"southamerica","America/Lima":"southamerica","Atlantic/South_Georgia":"southamerica","America/Paramaribo":"southamerica","America/Port_of_Spain":"southamerica","America/Montevideo":"southamerica","America/Caracas":"southamerica",GMT:"etcetera","Europe/Nicosia":"asia"};this.zoneFileBasePath=null,this.zoneFiles=["africa","antarctica","asia","australasia","backward","etcetera","europe","northamerica","pacificnew","southamerica"],this.loadingSchemes={PRELOAD_ALL:"preloadAll",LAZY_LOAD:"lazyLoad",MANUAL_LOAD:"manualLoad"},this.getRegionForTimezone=i,this.loadingScheme=this.loadingSchemes.LAZY_LOAD,this.loadedZones={},this.zones={},this.rules={},this.init=function(t){var e,n={async:!0},i=this.loadingScheme===this.loadingSchemes.PRELOAD_ALL?this.zoneFiles:this.defaultZoneFile||"northamerica",r=0;for(var a in t)n[a]=t[a];if("string"==typeof i)return this.loadZoneFile(i,n);e=n.callback,n.callback=function(){r++,r===i.length&&"function"==typeof e&&e()};for(var o=0;o<i.length;o++)this.loadZoneFile(i[o],n)},this.loadZoneFile=function(t,n){if("undefined"==typeof this.zoneFileBasePath)throw new Error("Please define a base path to your zone file directory -- timezoneJS.timezone.zoneFileBasePath.");if(!this.loadedZones[t])return this.loadedZones[t]=!0,e(t,n)},this.loadZoneJSONData=function(t,e){var n=function(t){t=JSON.parse(t);for(var e in t.zones)g.zones[e]=t.zones[e];for(var n in t.rules)g.rules[n]=t.rules[n]};return e?n(g.transport({url:t,async:!1})):g.transport({url:t,success:n})},this.loadZoneDataFromObject=function(t){if(t){for(var e in t.zones)g.zones[e]=t.zones[e];for(var n in t.rules)g.rules[n]=t.rules[n]}},this.getAllZones=function(){var t=[];for(var e in this.zones)t.push(e);return t.sort()},this.parseZones=function(t){for(var e,n=t.split("\n"),i=[],o="",s=null,l=null,u=0;u<n.length;u++)if(e=n[u],e.match(/^\s/)&&(e="Zone "+s+e),e=e.split("#")[0],e.length>3)switch(i=e.split(/\s+/),o=i.shift()){case"Zone":if(s=i.shift(),g.zones[s]||(g.zones[s]=[]),i.length<3)break;i.splice(3,i.length,a(i)),i[3]&&(i[3]=Date.UTC.apply(null,i[3])),i[0]=-c(i[0]),g.zones[s].push(i);break;case"Rule":l=i.shift(),g.rules[l]||(g.rules[l]=[]),i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||i[1],i[5]=r(i[5]),i[6]=c(i[6]),g.rules[l].push(i);break;case"Link":if(g.zones[i[1]])throw new Error("Error with Link "+i[1]+". Cannot create link of a preexisted zone.");g.zones[i[1]]=i[0]}return!0},this.transport=p,this.getTzInfo=function(t,e,n){if(this.loadingScheme===this.loadingSchemes.LAZY_LOAD){var r=i(e);if(!r)throw new Error("Not a valid timezone ID.");this.loadedZones[r]||this.loadZoneFile(r)}var a=o(t,e),s=a[0],l=d(t,a,n,e);l&&(s=h(s,l[6]));var u=f(a,l);return{tzOffset:s,tzAbbr:u}}}var n,i=this;n="undefined"!=typeof exports?exports:{},t.timezoneJS=n,n.VERSION="0.4.4";for(var r=(i.$||i.jQuery||i.Zepto,i.fleegix),a=n.Days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=n.Months=["January","February","March","April","May","June","July","August","September","October","November","December"],s={},l={},u={},c=0;c<o.length;c++)s[o[c].substr(0,3)]=c;for(c=0;c<a.length;c++)l[a[c].substr(0,3)]=c;var h=(Array.prototype.indexOf||function(t){if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>1&&(i=Number(arguments[1]),i!=i?i=0:0!==i&&i!==1/0&&i!==-(1/0)&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);r<n;r++)if(r in e&&e[r]===t)return r;return-1},function(t,e){if("number"!=typeof t)throw"not a number: "+t;var n=t.toString();if(t.length>e)return t.substr(t.length-e,t.length);for(;n.length<e;)n="0"+n;return n}),p=function(t){if(!(r&&"undefined"!=typeof r.xhr||jQuery&&"undefined"!=typeof jQuery.ajax))throw new Error("Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or define your own transport mechanism for downloading zone files.");if(t){if(!t.url)throw new Error("URL must be specified");return"async"in t||(t.async=!0),t.async?r&&r.xhr?r.xhr.send({url:t.url,method:"get",handleSuccess:t.success,handleErr:t.error}):jQuery.ajax({url:t.url,dataType:"text",method:"GET",error:t.error,success:t.success}):r&&r.xhr?r.xhr.doReq({url:t.url,async:!1}):jQuery.ajax({url:t.url,async:!1,dataType:"text"}).responseText}};n.ruleCache={},n.Date=function(){var t=Array.prototype.slice.apply(arguments),e=null,n=null,i=[];"[object Array]"===Object.prototype.toString.call(t[0])&&(t=t[0]),"string"==typeof t[t.length-1]&&(n=t.pop());var r=!1;switch(t.length){case 0:e=new Date;break;case 1:e=new Date(t[0]),"string"==typeof t[0]&&t[0].search(/[+-][0-9]{4}/)==-1&&t[0].search(/Z/)==-1&&t[0].search(/T/)==-1&&(r=!0);break;default:for(var a=0;a<7;a++)i[a]=t[a]||0;e=new Date(i[0],i[1],i[2],i[3],i[4],i[5],i[6]),r=!0}this._useCache=!1,this._tzInfo={},this._day=0,this.year=0,this.month=0,this.date=0,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0,this.timezone=n||null,r?this.setFromDateObjProxy(e):this.setFromTimeProxy(e.getTime(),n)},n.Date.prototype={getDate:function(){return this.date},getDay:function(){return this._day},getFullYear:function(){return this.year},getMonth:function(){return this.month},getYear:function(){return this.year-1900},getHours:function(){return this.hours},getMilliseconds:function(){return this.milliseconds},getMinutes:function(){return this.minutes},getSeconds:function(){return this.seconds},getUTCDate:function(){return this.getUTCDateProxy().getUTCDate()},getUTCDay:function(){return this.getUTCDateProxy().getUTCDay()},getUTCFullYear:function(){return this.getUTCDateProxy().getUTCFullYear()},getUTCHours:function(){return this.getUTCDateProxy().getUTCHours()},getUTCMilliseconds:function(){return this.getUTCDateProxy().getUTCMilliseconds()},getUTCMinutes:function(){return this.getUTCDateProxy().getUTCMinutes()},getUTCMonth:function(){return this.getUTCDateProxy().getUTCMonth()},getUTCSeconds:function(){return this.getUTCDateProxy().getUTCSeconds()},getTime:function(){return this._timeProxy+60*this.getTimezoneOffset()*1e3},getTimezone:function(){return this.timezone},getTimezoneOffset:function(){return this.getTimezoneInfo().tzOffset},getTimezoneAbbreviation:function(){return this.getTimezoneInfo().tzAbbr},getTimezoneInfo:function(){if(this._useCache)return this._tzInfo;var t;return t=this.timezone?"Etc/UTC"===this.timezone||"Etc/GMT"===this.timezone?{tzOffset:0,tzAbbr:"UTC"}:n.timezone.getTzInfo(this._timeProxy,this.timezone):{tzOffset:this.getLocalOffset(),tzAbbr:null},this._tzInfo=t,this._useCache=!0,t},getUTCDateProxy:function(){var t=new Date(this._timeProxy);return t.setUTCMinutes(t.getUTCMinutes()+this.getTimezoneOffset()),t},setDate:function(t){return this.setAttribute("date",t),this.getTime()},setFullYear:function(t,e,n){return void 0!==n&&this.setAttribute("date",1),this.setAttribute("year",t),void 0!==e&&this.setAttribute("month",e),void 0!==n&&this.setAttribute("date",n),this.getTime()},setMonth:function(t,e){return this.setAttribute("month",t),void 0!==e&&this.setAttribute("date",e),this.getTime()},setYear:function(t){return t=Number(t),0<=t&&t<=99&&(t+=1900),this.setUTCAttribute("year",t),this.getTime()},setHours:function(t,e,n,i){return this.setAttribute("hours",t),void 0!==e&&this.setAttribute("minutes",e),void 0!==n&&this.setAttribute("seconds",n),void 0!==i&&this.setAttribute("milliseconds",i),this.getTime()},setMinutes:function(t,e,n){return this.setAttribute("minutes",t),void 0!==e&&this.setAttribute("seconds",e),void 0!==n&&this.setAttribute("milliseconds",n),this.getTime()},setSeconds:function(t,e){return this.setAttribute("seconds",t),void 0!==e&&this.setAttribute("milliseconds",e),this.getTime()},setMilliseconds:function(t){return this.setAttribute("milliseconds",t),this.getTime()},setTime:function(t){if(isNaN(t))throw new Error("Units must be a number.");return this.setFromTimeProxy(t,this.timezone),this.getTime()},setUTCFullYear:function(t,e,n){return void 0!==n&&this.setUTCAttribute("date",1),this.setUTCAttribute("year",t),void 0!==e&&this.setUTCAttribute("month",e),void 0!==n&&this.setUTCAttribute("date",n),this.getTime()},setUTCMonth:function(t,e){return this.setUTCAttribute("month",t),void 0!==e&&this.setUTCAttribute("date",e),this.getTime()},setUTCDate:function(t){return this.setUTCAttribute("date",t),this.getTime()},setUTCHours:function(t,e,n,i){return this.setUTCAttribute("hours",t),void 0!==e&&this.setUTCAttribute("minutes",e),void 0!==n&&this.setUTCAttribute("seconds",n),void 0!==i&&this.setUTCAttribute("milliseconds",i),this.getTime()},setUTCMinutes:function(t,e,n){return this.setUTCAttribute("minutes",t),void 0!==e&&this.setUTCAttribute("seconds",e),void 0!==n&&this.setUTCAttribute("milliseconds",n),this.getTime()},setUTCSeconds:function(t,e){return this.setUTCAttribute("seconds",t),void 0!==e&&this.setUTCAttribute("milliseconds",e),this.getTime()},setUTCMilliseconds:function(t){return this.setUTCAttribute("milliseconds",t),this.getTime()},setFromDateObjProxy:function(t){this.year=t.getFullYear(),this.month=t.getMonth(),this.date=t.getDate(),this.hours=t.getHours(),this.minutes=t.getMinutes(),this.seconds=t.getSeconds(),this.milliseconds=t.getMilliseconds(),this._day=t.getDay(),this._dateProxy=t,this._timeProxy=Date.UTC(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.milliseconds),this._useCache=!1},setFromTimeProxy:function(t,e){var i=new Date(t),r=e?n.timezone.getTzInfo(t,e,!0).tzOffset:i.getTimezoneOffset();i.setTime(t+6e4*(i.getTimezoneOffset()-r)),this.setFromDateObjProxy(i)},setAttribute:function(t,e){if(isNaN(e))throw new Error("Units must be a number.");var n=this._dateProxy,i="year"===t?"FullYear":t.substr(0,1).toUpperCase()+t.substr(1);n["set"+i](e),this.setFromDateObjProxy(n)},setUTCAttribute:function(t,e){if(isNaN(e))throw new Error("Units must be a number.");var n="year"===t?"FullYear":t.substr(0,1).toUpperCase()+t.substr(1),i=this.getUTCDateProxy();i["setUTC"+n](e),i.setUTCMinutes(i.getUTCMinutes()-this.getTimezoneOffset()),this.setFromTimeProxy(i.getTime()+6e4*this.getTimezoneOffset(),this.timezone)},setTimezone:function(t){var e=this.getTimezoneInfo().tzOffset;this.timezone=t,this._useCache=!1,this.setUTCMinutes(this.getUTCMinutes()-this.getTimezoneInfo().tzOffset+e)},removeTimezone:function(){this.timezone=null,this._useCache=!1},valueOf:function(){return this.getTime()},clone:function(){return this.timezone?new n.Date(this.getTime(),this.timezone):new n.Date(this.getTime())},toGMTString:function(){return this.toString("EEE, dd MMM yyyy HH:mm:ss Z","Etc/GMT")},toLocaleStringIntl:function(){},toLocaleDateString:function(){},toLocaleTimeString:function(){},toSource:function(){},toISOString:function(){return this.toString("yyyy-MM-ddTHH:mm:ss.SSS","Etc/UTC")+"Z"},toJSON:function(){return this.toISOString()},toString:function(t,e){t||(t="yyyy-MM-dd HH:mm:ss");var i=t,r=e?n.timezone.getTzInfo(this.getTime(),e):this.getTimezoneInfo(),o=this;e&&(o=this.clone(),o.setTimezone(e));var s=o.getHours();return i.replace(/a+/g,function(){return"k"}).replace(/y+/g,function(t){return h(o.getFullYear(),t.length)}).replace(/d+/g,function(t){return h(o.getDate(),t.length)}).replace(/m+/g,function(t){return h(o.getMinutes(),t.length)}).replace(/s+/g,function(t){return h(o.getSeconds(),t.length)}).replace(/S+/g,function(t){return h(o.getMilliseconds(),t.length)}).replace(/h+/g,function(t){return h(s%12===0?12:s%12,t.length)}).replace(/M+/g,function(t){var e=o.getMonth(),i=t.length;return i>3?n.Months[e]:i>2?n.Months[e].substring(0,i):h(e+1,i)}).replace(/k+/g,function(){return s>=12?(s>12&&(s-=12),"PM"):"AM"}).replace(/H+/g,function(t){return h(s,t.length)}).replace(/E+/g,function(t){return a[o.getDay()].substring(0,t.length)}).replace(/Z+/gi,function(){return r.tzAbbr})},toUTCString:function(){return this.toGMTString()},civilToJulianDayNumber:function(t,e,n){var i;e++,e>12&&(i=parseInt(e/12,10),e%=12,t+=i),e<=2&&(t-=1,e+=12),i=Math.floor(t/100);var r=2-i+Math.floor(i/4),a=Math.floor(365.25*(t+4716))+Math.floor(30.6001*(e+1))+n+r-1524;return a},getLocalOffset:function(){return this._dateProxy.getTimezoneOffset()}},n.timezone=new e}.call(this),t.timezoneJS.timezone.loadingScheme=t.timezoneJS.timezone.loadingSchemes.MANUAL_LOAD,t.timezoneJS.timezone.loadZoneDataFromObject({zones:{"US/Eastern":"America/New_York",UTC:"Etc/UTC","Etc/UTC":[[0,"-","UTC",null]],"America/New_York":[[296.0333333333333,"-","LMT",-2717668562e3],[300,"US","E%sT",-15463872e5],[300,"NYC","E%sT",-8521632e5],[300,"US","E%sT",-7259328e5],[300,"NYC","E%sT",-632448e5],[300,"US","E%sT",null]]},rules:{US:[[1918,1919,"-","Mar","lastSun",[2,0,0,null],60,"D"],[1918,1919,"-","Oct","lastSun",[2,0,0,null],0,"S"],[1942,"only","-","Feb","9",[2,0,0,null],60,"W",""],[1945,"only","-","Aug","14",[23,0,0,"u"],60,"P",""],[1945,"only","-","Sep","30",[2,0,0,null],0,"S"],[1967,2006,"-","Oct","lastSun",[2,0,0,null],0,"S"],[1967,1973,"-","Apr","lastSun",[2,0,0,null],60,"D"],[1974,"only","-","Jan","6",[2,0,0,null],60,"D"],[1975,"only","-","Feb","23",[2,0,0,null],60,"D"],[1976,1986,"-","Apr","lastSun",[2,0,0,null],60,"D"],[1987,2006,"-","Apr","Sun>=1",[2,0,0,null],60,"D"],[2007,"max","-","Mar","Sun>=8",[2,0,0,null],60,"D"],[2007,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],NYC:[[1920,"only","-","Mar","lastSun",[2,0,0,null],60,"D"],[1920,"only","-","Oct","lastSun",[2,0,0,null],0,"S"],[1921,1966,"-","Apr","lastSun",[2,0,0,null],60,"D"],[1921,1954,"-","Sep","lastSun",[2,0,0,null],0,"S"],[1955,1966,"-","Oct","lastSun",[2,0,0,null],0,"S"]]}}),function(e,n){function i(t){return""===o?t:(t=t.charAt(0).toUpperCase()+t.substr(1),o+t)}var r=Math,a=n.createElement("div").style,o=function(){for(var t,e="t,webkitT,MozT,msT,OT".split(","),n=0,i=e.length;n<i;n++)if(t=e[n]+"ransform",t in a)return e[n].substr(0,e[n].length-1);return!1}(),s=o?"-"+o.toLowerCase()+"-":"",l=i("transform"),u=i("transitionProperty"),c=i("transitionDuration"),h=i("transformOrigin"),p=i("transitionTimingFunction"),d=i("transitionDelay"),f=/android/gi.test(navigator.appVersion),g=/iphone|ipad/gi.test(navigator.appVersion),m=(/hp-tablet/gi.test(navigator.appVersion),navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1),y=navigator.pointerEnabled,v=m||y,S=i("perspective")in a,T=o!==!1,b=i("transition")in a,x=v?400:300,M="onorientationchange"in e?"orientationchange":"resize",w=function(){if(o===!1)return!1;var t={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return t[o]}(),A=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){return setTimeout(t,1)}}(),C=function(){return e.cancelAnimationFrame||e.cancelRequestAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.mozCancelRequestAnimationFrame||e.oCancelRequestAnimationFrame||e.msCancelRequestAnimationFrame||clearTimeout}(),k=S?" translateZ(0)":"",D=function(t,i){var r,a=this;if(a.wrapper="object"==typeof t?t:n.getElementById(t),null!=a.wrapper){a.wrapper.style.overflow="hidden",a.scroller=i.scroller?i.scroller:a.wrapper.children[0],a.touches=[],a.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceBottom:!0,bounceTop:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:f,hideScrollbar:g,fadeScrollbar:g&&S,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",wheelMultiplier:6,snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(t){"SELECT"!=t.target.tagName&&"INPUT"!=t.target.tagName&&"TEXTAREA"!=t.tagName&&"BUTTON"!=t.tagName&&(t.target.getAttribute("noiscroll")||t.preventDefault())},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(r in i)a.options[r]=i[r];a.x=a.options.x,a.y=a.options.y,a.options.useTransform=T&&a.options.useTransform,a.options.hScrollbar=a.options.hScroll&&a.options.hScrollbar,a.options.vScrollbar=a.options.vScroll&&a.options.vScrollbar,a.options.zoom=a.options.useTransform&&a.options.zoom,a.options.useTransition=b&&a.options.useTransition,a.options.zoom&&f&&(k=""),a.scroller.style[u]=a.options.useTransform?s+"transform":"top left",a.scroller.style[c]="0",a.scroller.style[h]="0 0",a.options.useTransition&&(a.scroller.style[p]="cubic-bezier(0.33,0.66,0.66,1)"),a.options.useTransform?a.scroller.style[l]="translate("+a.x+"px,"+a.y+"px)"+k:a.scroller.style.cssText+=";position:absolute;top:"+a.y+"px;left:"+a.x+"px",a.options.useTransition&&(a.options.fixedScrollbar=!0),a.refresh(),a._bind(M,e),y&&a._bind("pointerdown"),m&&!y&&a._bind("MSPointerDown"),a._bind("touchstart"),v||g||a._bind("mousedown"),"none"!=a.options.wheelAction&&(a._bind("DOMMouseScroll"),a._bind("mousewheel"),a._bind("wheel")),a.options.checkDOMChanges&&(a.checkDOMTime=setInterval(function(){a._checkDOMChanges()},500))}};D.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(t){var e=this;switch(t.type){case"pointerdown":case"MSPointerDown":case"touchstart":e.hasTouch=!0,e._start(t);break;case"mousedown":e.hasTouch=!1,e._start(t);break;case"pointermove":case"MSPointerMove":case"touchmove":case"mousemove":e._move(t);break;case"pointercancel":case"touchcancel":case"MSPointerCancel":case"MSPointerUp":case"pointerup":case"touchend":case"mouseup":e._end(t);break;case M:e._resize();break;case"DOMMouseScroll":case"mousewheel":case"wheel":e._wheel(t);break;case w:e._transitionEnd(t)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(t){var e,i=this;return i[t+"Scrollbar"]?(i[t+"ScrollbarWrapper"]||(e=n.createElement("div"),i.options.scrollbarClass?e.className=i.options.scrollbarClass+t.toUpperCase():e.style.cssText="position:absolute;z-index:100;"+("h"==t?"height:7px;bottom:1px;left:2px;right:"+(i.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(i.hScrollbar?"7":"2")+"px;top:2px;right:1px"),e.style.cssText+=";pointer-events:none;"+s+"transition-property:opacity;"+s+"transition-duration:"+(i.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(i.options.hideScrollbar?"0":"1"),i.wrapper.appendChild(e),i[t+"ScrollbarWrapper"]=e,e=n.createElement("div"),i.options.scrollbarClass||(e.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+s+"background-clip:padding-box;"+s+"box-sizing:border-box;"+("h"==t?"height:100%":"width:100%")+";"+s+"border-radius:3px;border-radius:3px"),e.style.cssText+=";pointer-events:none;"+s+"transition-property:"+s+"transform;"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+s+"transition-duration:0;"+s+"transform: translate(0,0)"+k,i.options.useTransition&&(e.style.cssText+=";"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),i[t+"ScrollbarWrapper"].appendChild(e),i[t+"ScrollbarIndicator"]=e),"h"==t?(i.hScrollbarSize=i.hScrollbarWrapper.clientWidth,i.hScrollbarIndicatorSize=r.max(r.round(i.hScrollbarSize*i.hScrollbarSize/i.scrollerW),8),i.hScrollbarIndicator.style.width=i.hScrollbarIndicatorSize+"px",i.hScrollbarMaxScroll=i.hScrollbarSize-i.hScrollbarIndicatorSize,i.hScrollbarProp=i.hScrollbarMaxScroll/i.maxScrollX):(i.vScrollbarSize=i.vScrollbarWrapper.clientHeight,i.vScrollbarIndicatorSize=r.max(r.round(i.vScrollbarSize*i.vScrollbarSize/i.scrollerH),8),i.vScrollbarIndicator.style.height=i.vScrollbarIndicatorSize+"px",i.vScrollbarMaxScroll=i.vScrollbarSize-i.vScrollbarIndicatorSize,i.vScrollbarProp=i.vScrollbarMaxScroll/i.maxScrollY),void i._scrollbarPos(t,!0)):void(i[t+"ScrollbarWrapper"]&&(T&&(i[t+"ScrollbarIndicator"].style[l]=""),i[t+"ScrollbarWrapper"].parentNode.removeChild(i[t+"ScrollbarWrapper"]),i[t+"ScrollbarWrapper"]=null,i[t+"ScrollbarIndicator"]=null))},_resize:function(){var t=this;setTimeout(function(){t.refresh()},f?200:0)},_pos:function(t,e){this.zoomed||(t=this.hScroll?t:0,e=this.vScroll?e:0,this.options.useTransform?this.scroller.style[l]="translate("+t+"px,"+e+"px) scale("+this.scale+")"+k:(t=r.round(t),e=r.round(e),this.scroller.style.left=t+"px",this.scroller.style.top=e+"px"),this.x=t,this.y=e,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(t,e){var n,i=this,a="h"==t?i.x:i.y;i[t+"Scrollbar"]&&(a=i[t+"ScrollbarProp"]*a,a<0?(i.options.fixedScrollbar||(n=i[t+"ScrollbarIndicatorSize"]+r.round(3*a),n<8&&(n=8),i[t+"ScrollbarIndicator"].style["h"==t?"width":"height"]=n+"px"),a=0):a>i[t+"ScrollbarMaxScroll"]&&(i.options.fixedScrollbar?a=i[t+"ScrollbarMaxScroll"]:(n=i[t+"ScrollbarIndicatorSize"]-r.round(3*(a-i[t+"ScrollbarMaxScroll"])),n<8&&(n=8),i[t+"ScrollbarIndicator"].style["h"==t?"width":"height"]=n+"px",a=i[t+"ScrollbarMaxScroll"]+(i[t+"ScrollbarIndicatorSize"]-n))),i[t+"ScrollbarWrapper"].style[d]="0",i[t+"ScrollbarWrapper"].style.opacity=e&&i.options.hideScrollbar?"0":"1",i[t+"ScrollbarIndicator"].style[l]="translate("+("h"==t?a+"px,0)":"0,"+a+"px)")+k)},_start:function(t){v&&(this.touches[this.touches.length]={pointerId:t.pointerId,pageX:t.screenX,pageY:t.screenY},t.touches=this.touches);var n,i,a,o,s,u=this,c=this.hasTouch?t.touches&&t.touches[0]:t;u.enabled&&(u.options.onBeforeScrollStart&&u.options.onBeforeScrollStart.call(u,t),(u.options.useTransition||u.options.zoom)&&u._transitionTime(0),u.moved=!1,u.animating=!1,u.zoomed=!1,u.distX=0,u.distY=0,u.absDistX=0,u.absDistY=0,u.dirX=0,u.dirY=0,u.options.zoom&&this.hasTouch&&t.touches.length>1&&(o=r.abs(t.touches[0].pageX-t.touches[1].pageX),s=r.abs(t.touches[0].pageY-t.touches[1].pageY),u.touchesDistStart=r.sqrt(o*o+s*s),u.originX=r.abs(t.touches[0].pageX+t.touches[1].pageX-2*u.wrapperOffsetLeft)/2-u.x,u.originY=r.abs(t.touches[0].pageY+t.touches[1].pageY-2*u.wrapperOffsetTop)/2-u.y,u.options.onZoomStart&&u.options.onZoomStart.call(u,t)),u.options.momentum&&(u.options.useTransform?(n=getComputedStyle(u.scroller,null)[l].replace(/[^0-9\-.,]/g,"").split(","),i=+(n[12]||n[4]),a=+(n[13]||n[5])):(i=+getComputedStyle(u.scroller,null).left.replace(/[^0-9-]/g,""),a=+getComputedStyle(u.scroller,null).top.replace(/[^0-9-]/g,"")),i==u.x&&a==u.y||(u.options.useTransition?u._unbind(w):C(u.aniTime),u.steps=[],u._pos(i,a),u.options.onScrollEnd&&u.options.onScrollEnd.call(u))),u.absStartX=u.x,u.absStartY=u.y,u.startX=u.x,u.startY=u.y,u.pointX=c.pageX,u.pointY=c.pageY,u.startTime=t.timeStamp||Date.now(),u.options.onScrollStart&&u.options.onScrollStart.call(u,t),y&&u._bind("pointermove",e),m&&!y&&u._bind("MSPointerMove",e),u._bind("touchmove",e),v||g||u._bind("mousemove",e),y&&u._bind("pointerup",e),m&&!y&&u._bind("MSPointerUp",e),u._bind("touchend",e),v||g||u._bind("mouseup",e),y&&u._bind("pointercancel",e),m&&!y&&u._bind("MSPointerCancel",e),u._bind("touchcancel",e))},_move:function(t){if(v){for(var e=0;e<this.touches.length;e++){if(this.touches[e].pageX==t.screenX&&this.touches[e].pageY==t.screenY)return;this.touches[e].pageX=t.screenX,this.touches[e].pageY=t.screenY;break}t.touches=this.touches}var n,i,a,o=this,s=this.hasTouch?t.touches[0]:t,u=s.pageX-o.pointX,c=s.pageY-o.pointY,h=o.x+u,p=o.y+c,d=t.timeStamp||Date.now();return o.options.onBeforeScrollMove&&o.options.onBeforeScrollMove.call(o,t),o.options.zoom&&this.hasTouch&&t.touches.length>1?(n=r.abs(t.touches[0].pageX-t.touches[1].pageX),i=r.abs(t.touches[0].pageY-t.touches[1].pageY),o.touchesDist=r.sqrt(n*n+i*i),o.zoomed=!0,a=1/o.touchesDistStart*o.touchesDist*this.scale,a<o.options.zoomMin?a=.5*o.options.zoomMin*Math.pow(2,a/o.options.zoomMin):a>o.options.zoomMax&&(a=2*o.options.zoomMax*Math.pow(.5,o.options.zoomMax/a)),o.lastScale=a/this.scale,h=this.originX-this.originX*o.lastScale+this.x,p=this.originY-this.originY*o.lastScale+this.y,this.scroller.style[l]="translate("+h+"px,"+p+"px) scale("+a+")"+k,void(o.options.onZoom&&o.options.onZoom.call(o,t))):(o.pointX=s.pageX,o.pointY=s.pageY,(h>0||h<o.maxScrollX)&&(h=o.options.bounce?o.x+u/2:h>=0||o.maxScrollX>=0?0:o.maxScrollX),p<o.maxScrollY?p=o.options.bounce||o.options.bounceBottom?o.y+c/2:p>=o.minScrollY||o.maxScrollY>=0?o.minScrollY:o.maxScrollY:p>o.minScrollY&&(p=o.options.bounce||o.options.bounceTop?o.y+c/2:p>=o.minScrollY||o.maxScrollY>=0?o.minScrollY:o.maxScrollY),o.distX+=u,o.distY+=c,o.absDistX=r.abs(o.distX),o.absDistY=r.abs(o.distY),void(o.absDistX<6&&o.absDistY<6||(o.options.lockDirection&&(o.absDistX>o.absDistY+5?(p=o.y,c=0):o.absDistY>o.absDistX+5&&(h=o.x,u=0)),o.moved=!0,o._pos(h,p),o.dirX=u>0?-1:u<0?1:0,o.dirY=c>0?-1:c<0?1:0,d-o.startTime>x&&(o.startTime=d,o.startX=o.x,o.startY=o.y),o.options.onScrollMove&&o.options.onScrollMove.call(o,t))))},_end:function(t){if(v){for(var i=0;i<this.touches.length;i++)if(this.touches[i].pointerId==t.pointerId){this.touches.splice(i,1);break}t.touches=this.touches}if(!this.hasTouch||0===t.touches.length){var a,o,s,u,h,p,d,f=this,g=v?t:this.hasTouch?t.changedTouches[0]:t,m={dist:0,time:0},y={dist:0,time:0},S=(t.timeStamp||Date.now())-f.startTime,T=f.x,b=f.y;if(f._unbind("pointermove",e),f._unbind("MSPointerMove",e),f._unbind("touchmove",e),f._unbind("mousemove",e),f._unbind("pointerup",e),f._unbind("MSPointerUp",e),f._unbind("touchend",e),f._unbind("mouseup",e),f._unbind("pointercancel",e),f._unbind("MSPointerCancel",e),f._unbind("touchcancel",e),f.options.onBeforeScrollEnd&&f.options.onBeforeScrollEnd.call(f,t),f.zoomed)return d=f.scale*f.lastScale,d=Math.max(f.options.zoomMin,d),d=Math.min(f.options.zoomMax,d),f.lastScale=d/f.scale,f.scale=d,f.x=f.originX-f.originX*f.lastScale+f.x,f.y=f.originY-f.originY*f.lastScale+f.y,f.scroller.style[c]="200ms",f.scroller.style[l]="translate("+f.x+"px,"+f.y+"px) scale("+f.scale+")"+k,f.zoomed=!1,f.refresh(),void(f.options.onZoomEnd&&f.options.onZoomEnd.call(f,t));if(!f.moved)return this.hasTouch&&(f.doubleTapTimer&&f.options.zoom?(clearTimeout(f.doubleTapTimer),f.doubleTapTimer=null,f.options.onZoomStart&&f.options.onZoomStart.call(f,t),f.zoom(f.pointX,f.pointY,1==f.scale?f.options.doubleTapZoom:1),f.options.onZoomEnd&&setTimeout(function(){f.options.onZoomEnd.call(f,t)},200)):this.options.handleClick&&!v&&(f.doubleTapTimer=setTimeout(function(){for(f.doubleTapTimer=null,a=g.target;1!=a.nodeType;)a=a.parentNode;"SELECT"!=a.tagName&&"INPUT"!=a.tagName&&"TEXTAREA"!=a.tagName&&(o=n.createEvent("MouseEvents"),o.initMouseEvent("click",!0,!0,t.view,1,g.screenX,g.screenY,g.clientX,g.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),o._fake=!0,a.dispatchEvent(o))},f.options.zoom?250:0))),f._resetPos(400),void(f.options.onTouchEnd&&f.options.onTouchEnd.call(f,t));if(S<x&&f.options.momentum){m=T?f._momentum(T-f.startX,S,-f.x,f.scrollerW-f.wrapperW+f.x,f.options.bounce?f.wrapperW:0):m;var M=f.options.bounce;f.options.bounceBottom&&b-f.startY<0&&(M=!0),f.options.bounceTop&&b-f.startY>0&&(M=!0),y=b?f._momentum(b-f.startY,S,-f.y,f.maxScrollY<0?f.scrollerH-f.wrapperH+f.y-f.minScrollY:0,M?f.wrapperH:0):y,T=f.x+m.dist,b=f.y+y.dist,(f.x>0&&T>0||f.x<f.maxScrollX&&T<f.maxScrollX)&&(m={dist:0,time:0}),(f.y>f.minScrollY&&b>f.minScrollY||f.y<f.maxScrollY&&b<f.maxScrollY)&&(y={dist:0,time:0})}if(m.dist||y.dist)return h=r.max(r.max(m.time,y.time),10),f.options.snap&&(s=T-f.absStartX,u=b-f.absStartY,r.abs(s)<f.options.snapThreshold&&r.abs(u)<f.options.snapThreshold?f.scrollTo(f.absStartX,f.absStartY,200):(p=f._snap(T,b),T=p.x,b=p.y,h=r.max(p.time,h))),f.scrollTo(r.round(T),r.round(b),h),void(f.options.onTouchEnd&&f.options.onTouchEnd.call(f,t));if(f.options.snap)return s=T-f.absStartX,u=b-f.absStartY,r.abs(s)<f.options.snapThreshold&&r.abs(u)<f.options.snapThreshold?f.scrollTo(f.absStartX,f.absStartY,200):(p=f._snap(f.x,f.y),p.x==f.x&&p.y==f.y||f.scrollTo(p.x,p.y,p.time)),void(f.options.onTouchEnd&&f.options.onTouchEnd.call(f,t));f._resetPos(200),f.options.onTouchEnd&&f.options.onTouchEnd.call(f,t)}},_resetPos:function(t){var e=this,n=e.x>=0?0:e.x<e.maxScrollX?e.maxScrollX:e.x,i=e.y>=e.minScrollY||e.maxScrollY>0?e.minScrollY:e.y<e.maxScrollY?e.maxScrollY:e.y;return n==e.x&&i==e.y?(e.moved&&(e.moved=!1,e.options.onScrollEnd&&e.options.onScrollEnd.call(e)),e.hScrollbar&&e.options.hideScrollbar&&("webkit"==o&&(e.hScrollbarWrapper.style[d]="300ms"),e.hScrollbarWrapper.style.opacity="0"),void(e.vScrollbar&&e.options.hideScrollbar&&("webkit"==o&&(e.vScrollbarWrapper.style[d]="300ms"),e.vScrollbarWrapper.style.opacity="0"))):void e.scrollTo(n,i,t||0)},_wheel:function(t){var e,n,i,r,a,o=this;if("wheelDeltaX"in t)e=t.wheelDeltaX/12,n=t.wheelDeltaY/12;else if("wheelDelta"in t)e=0,n=t.wheelDelta/12;else{if(!("detail"in t))return;e=n=0,t.axis?1==t.axis?e=-t.detail*o.options.wheelMultiplier:2==t.axis&&(n=-t.detail*o.options.wheelMultiplier):e=n=-t.detail*o.options.wheelMultiplier}return o.options.onBeforeScrollMove&&o.options.onBeforeScrollMove.call(o,t),"zoom"==o.options.wheelAction?(a=o.scale*Math.pow(2,1/3*(n?n/Math.abs(n):0)),a<o.options.zoomMin&&(a=o.options.zoomMin),a>o.options.zoomMax&&(a=o.options.zoomMax),void(a!=o.scale&&(!o.wheelZoomCount&&o.options.onZoomStart&&o.options.onZoomStart.call(o,t),o.wheelZoomCount++,o.zoom(t.pageX,t.pageY,a,400),setTimeout(function(){o.wheelZoomCount--,!o.wheelZoomCount&&o.options.onZoomEnd&&o.options.onZoomEnd.call(o,t)},400)))):(i=o.x+e,r=o.y+n,i>0?i=0:i<o.maxScrollX&&(i=o.maxScrollX),r>o.minScrollY?r=o.minScrollY:r<o.maxScrollY&&(r=o.maxScrollY),o.maxScrollY<0&&o.scrollTo(i,r,0),void(o.options.onScrollMove&&o.options.onScrollMove.call(o,t)))},_transitionEnd:function(t){var e=this;t.target==e.scroller&&(e._unbind(w),e._startAni())},_startAni:function(){var t,e,n,i=this,a=i.x,o=i.y,s=Date.now();if(!i.animating){if(!i.steps.length)return void i._resetPos(400);if(t=i.steps.shift(),t.x==a&&t.y==o&&(t.time=0),i.animating=!0,i.moved=!0,i.options.useTransition)return i._transitionTime(t.time),i._pos(t.x,t.y),i.animating=!1,void(t.time?i._bind(w):i._resetPos(0));n=function(){var l,u,c=Date.now();return c>=s+t.time?(i._pos(t.x,t.y),i.animating=!1,i.options.onAnimationEnd&&i.options.onAnimationEnd.call(i),void i._startAni()):(c=(c-s)/t.time-1,e=r.sqrt(1-c*c),l=(t.x-a)*e+a,u=(t.y-o)*e+o,i._pos(l,u),void(i.animating&&(i.aniTime=A(n))))},n()}},_transitionTime:function(t){t+="ms",this.scroller.style[c]=t,this.hScrollbar&&(this.hScrollbarIndicator.style[c]=t),this.vScrollbar&&(this.vScrollbarIndicator.style[c]=t)},_momentum:function(t,e,n,i,a){var o=6e-4,s=r.abs(t)/e,l=s*s/(2*o),u=0,c=0;return t>0&&l>n?(c=a/(6/(l/s*o)),n+=c,s=s*n/l,l=n):t<0&&l>i&&(c=a/(6/(l/s*o)),i+=c,s=s*i/l,l=i),l*=t<0?-1:1,u=s/o,{dist:l,time:r.round(u)}},_offset:function(t){for(var e=-t.offsetLeft,n=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,n-=t.offsetTop;return t!=this.wrapper&&(e*=this.scale,n*=this.scale),
{left:e,top:n}},_snap:function(t,e){var n,i,a,o,s,l,u=this;for(a=u.pagesX.length-1,n=0,i=u.pagesX.length;n<i;n++)if(t>=u.pagesX[n]){a=n;break}for(a==u.currPageX&&a>0&&u.dirX<0&&a--,t=u.pagesX[a],s=r.abs(t-u.pagesX[u.currPageX]),s=s?r.abs(u.x-t)/s*500:0,u.currPageX=a,a=u.pagesY.length-1,n=0;n<a;n++)if(e>=u.pagesY[n]){a=n;break}return a==u.currPageY&&a>0&&u.dirY<0&&a--,e=u.pagesY[a],l=r.abs(e-u.pagesY[u.currPageY]),l=l?r.abs(u.y-e)/l*500:0,u.currPageY=a,o=r.round(r.max(s,l))||200,{x:t,y:e,time:o}},_bind:function(t,e,n){(e||this.scroller).addEventListener(t,this,!!n)},_unbind:function(t,e,n){(e||this.scroller).removeEventListener(t,this,!!n)},destroy:function(){var t=this;t.scroller.style[l]="",t.hScrollbar=!1,t.vScrollbar=!1,t._scrollbar("h"),t._scrollbar("v"),t._unbind("pointerdown"),t._unbind("MSPointerDown"),t._unbind("touchstart"),t._unbind("mousedown"),t._unbind("pointermove",e),t._unbind("MSPointerMove",e),t._unbind("touchmove",e),t._unbind("mousemove",e),t._unbind("pointerup",e),t._unbind("MSPointerUp",e),t._unbind("touchend",e),t._unbind("mouseup",e),t._unbind("pointercancel",e),t._unbind("MSPointerCancel",e),t._unbind("touchcancel",e),t._unbind(M,e),t._unbind("DOMMouseScroll"),t._unbind("mousewheel"),t._unbind("wheel"),t.options.useTransition&&t._unbind(w),t.options.checkDOMChanges&&clearInterval(t.checkDOMTime),t.options.onDestroy&&t.options.onDestroy.call(t)},fixScrollElementWidth:function(){var t=this.scroller;t.style.width="4000px";this.wrapper;if(!e.isIE8){var n=[].reduce.call(t.children[0].children,function(t,e){return t+e.offsetWidth},0);n+=1,t.style.width=n+"px"}},refresh:function(){var t,e,n,i,a=this,o=0,s=0;if(a.scale<a.options.zoomMin&&(a.scale=a.options.zoomMin),a.wrapperW=a.wrapper.clientWidth||1,a.wrapperH=a.wrapper.clientHeight||1,a.options.hScroll&&a.fixScrollElementWidth(),a.minScrollY=-a.options.topOffset||0,a.scrollerW=r.round(a.scroller.offsetWidth*a.scale),a.scrollerH=r.round((a.scroller.offsetHeight+a.minScrollY)*a.scale),a.maxScrollX=a.wrapperW-a.scrollerW,a.maxScrollY=a.wrapperH-a.scrollerH+a.minScrollY,a.dirX=0,a.dirY=0,a.options.onRefresh&&a.options.onRefresh.call(a),a.hScroll=a.options.hScroll&&a.maxScrollX<0,a.vScroll=a.options.vScroll&&(!a.options.bounceLock&&!a.hScroll||a.scrollerH>a.wrapperH),a.hScrollbar=a.hScroll&&a.options.hScrollbar,a.vScrollbar=a.vScroll&&a.options.vScrollbar&&a.scrollerH>a.wrapperH,t=a._offset(a.wrapper),a.wrapperOffsetLeft=-t.left,a.wrapperOffsetTop=-t.top,"string"==typeof a.options.snap)for(a.pagesX=[],a.pagesY=[],i=a.scroller.querySelectorAll(a.options.snap),e=0,n=i.length;e<n;e++)o=a._offset(i[e]),o.left+=a.wrapperOffsetLeft,o.top+=a.wrapperOffsetTop,a.pagesX[e]=o.left<a.maxScrollX?a.maxScrollX:o.left*a.scale,a.pagesY[e]=o.top<a.maxScrollY?a.maxScrollY:o.top*a.scale;else if(a.options.snap){for(a.pagesX=[];o>=a.maxScrollX;)a.pagesX[s]=o,o-=a.wrapperW,s++;for(a.maxScrollX%a.wrapperW&&(a.pagesX[a.pagesX.length]=a.maxScrollX-a.pagesX[a.pagesX.length-1]+a.pagesX[a.pagesX.length-1]),o=0,s=0,a.pagesY=[];o>=a.maxScrollY;)a.pagesY[s]=o,o-=a.wrapperH,s++;a.maxScrollY%a.wrapperH&&(a.pagesY[a.pagesY.length]=a.maxScrollY-a.pagesY[a.pagesY.length-1]+a.pagesY[a.pagesY.length-1])}a._scrollbar("h"),a._scrollbar("v"),a.zoomed||(a.scroller.style[c]="0",a._resetPos(400))},scrollTo:function(t,e,n,i){var r,a,o=this,s=t;for(o.stop(),s.length||(s=[{x:t,y:e,time:n,relative:i}]),r=0,a=s.length;r<a;r++)s[r].relative&&(s[r].x=o.x-s[r].x,s[r].y=o.y-s[r].y),o.steps.push({x:s[r].x,y:s[r].y,time:s[r].time||0});o._startAni()},scrollToElement:function(t,e){var n,i=this;t=t.nodeType?t:i.scroller.querySelector(t),t&&(n=i._offset(t),n.left+=i.wrapperOffsetLeft,n.top+=i.wrapperOffsetTop,n.left=n.left>0?0:n.left<i.maxScrollX?i.maxScrollX:n.left,e=void 0===e?r.max(2*r.abs(n.left),2*r.abs(n.top)):e,0!==n.top&&n.top<i.maxScrollY&&(n.top=i.maxScrollY),n.top>0||i.scrollTo(n.left,n.top,e))},scrollToPage:function(t,e,n){var i,r,a=this;n=void 0===n?400:n,a.options.onScrollStart&&a.options.onScrollStart.call(a),a.options.snap?(t="next"==t?a.currPageX+1:"prev"==t?a.currPageX-1:t,e="next"==e?a.currPageY+1:"prev"==e?a.currPageY-1:e,t=t<0?0:t>a.pagesX.length-1?a.pagesX.length-1:t,e=e<0?0:e>a.pagesY.length-1?a.pagesY.length-1:e,a.currPageX=t,a.currPageY=e,i=a.pagesX[t],r=a.pagesY[e]):(i=-a.wrapperW*t,r=-a.wrapperH*e,i<a.maxScrollX&&(i=a.maxScrollX),r<a.maxScrollY&&(r=a.maxScrollY)),a.scrollTo(i,r,n)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind("pointermove",e),this._unbind("MSPointerMove",e),this._unbind("touchmove",e),this._unbind("mousemove",e),this._unbind("pointerup",e),this._unbind("MSPointerUp",e),this._unbind("touchend",e),this._unbind("mouseup",e),this._unbind("pointercancel",e),this._unbind("MSPointerCancel",e),this._unbind("touchcancel",e)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(w):C(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(t,e,n,i){var r=this,a=n/r.scale;r.options.useTransform&&(r.zoomed=!0,i=void 0===i?200:i,t=t-r.wrapperOffsetLeft-r.x,e=e-r.wrapperOffsetTop-r.y,r.x=t-t*a+r.x,r.y=e-e*a+r.y,r.scale=n,r.refresh(),r.x=r.x>0?0:r.x<r.maxScrollX?r.maxScrollX:r.x,r.y=r.y>r.minScrollY?r.minScrollY:r.y<r.maxScrollY?r.maxScrollY:r.y,r.scroller.style[c]=i+"ms",r.scroller.style[l]="translate("+r.x+"px,"+r.y+"px) scale("+n+")"+k,r.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},a=null,t.iScroll=D}(window,document),function(e,n,i){function r(t,e){this.wrapper="string"==typeof t?n.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var i in e)this.options[i]=e[i];this.translateZ=this.options.HWCompositing&&l.hasPerspective?" translateZ(0)":"",this.options.useTransition=l.hasTransition&&this.options.useTransition,this.options.useTransform=l.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?l.ease[this.options.bounceEasing]||l.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function a(t,e,i){var r=n.createElement("div"),a=n.createElement("div");return i===!0&&(r.style.cssText="position:absolute;z-index:9999"),a.className="iScrollIndicator","h"==t?(i===!0&&(r.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",a.style.height="100%"),r.className="iScrollHorizontalScrollbar"):(i===!0&&(r.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",a.style.width="100%"),r.className="iScrollVerticalScrollbar"),r.style.cssText+=";overflow:hidden",e||(r.style.pointerEvents="none"),r.appendChild(a),r}function o(t,i){this.wrapper="string"==typeof i.el?n.querySelector(i.el):i.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var r in i)this.options[r]=i[r];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(l.addEvent(this.indicator,"touchstart",this),l.addEvent(e,"touchend",this)),this.options.disablePointer||(l.addEvent(this.indicator,l.prefixPointerEvent("pointerdown"),this),l.addEvent(e,l.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(l.addEvent(this.indicator,"mousedown",this),l.addEvent(e,"mouseup",this))),this.options.fade&&(this.wrapperStyle[l.style.transform]=this.scroller.translateZ,this.wrapperStyle[l.style.transitionDuration]=l.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var s=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},l=function(){function t(t){return o!==!1&&(""===o?t:o+t.charAt(0).toUpperCase()+t.substr(1))}var r={},a=n.createElement("div").style,o=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],n=0,i=e.length;n<i;n++)if(t=e[n]+"ransform",t in a)return e[n].substr(0,e[n].length-1);return!1}();r.getTime=Date.now||function(){return(new Date).getTime()},r.extend=function(t,e){for(var n in e)t[n]=e[n]},r.addEvent=function(t,e,n,i){t.addEventListener(e,n,!!i)},r.removeEvent=function(t,e,n,i){t.removeEventListener(e,n,!!i)},r.prefixPointerEvent=function(t){return e.MSPointerEvent?"MSPointer"+t.charAt(9).toUpperCase()+t.substr(10):t},r.momentum=function(t,e,n,r,a,o){var s,l,u=t-e,c=i.abs(u)/n;return o=void 0===o?6e-4:o,s=t+c*c/(2*o)*(u<0?-1:1),l=c/o,s<r?(s=a?r-a/2.5*(c/8):r,u=i.abs(s-t),l=u/c):s>0&&(s=a?a/2.5*(c/8):0,u=i.abs(t)+s,l=u/c),{destination:i.round(s),duration:l}};var s=t("transform");return r.extend(r,{hasTransform:s!==!1,hasPerspective:t("perspective")in a,hasTouch:"ontouchstart"in e,hasPointer:e.PointerEvent||e.MSPointerEvent,hasTransition:t("transition")in a}),r.isBadAndroid=/Android /.test(e.navigator.appVersion)&&!/Chrome\/\d/.test(e.navigator.appVersion),r.extend(r.style={},{transform:s,transitionTimingFunction:t("transitionTimingFunction"),transitionDuration:t("transitionDuration"),transitionDelay:t("transitionDelay"),transformOrigin:t("transformOrigin")}),r.hasClass=function(t,e){var n=new RegExp("(^|\\s)"+e+"(\\s|$)");return n.test(t.className)},r.addClass=function(t,e){if(!r.hasClass(t,e)){var n=t.className.split(" ");n.push(e),t.className=n.join(" ")}},r.removeClass=function(t,e){if(r.hasClass(t,e)){var n=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(n," ")}},r.offset=function(t){for(var e=-t.offsetLeft,n=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,n-=t.offsetTop;return{left:e,top:n}},r.preventDefaultException=function(t,e){for(var n in e)if(e[n].test(t[n]))return!0;return!1},r.extend(r.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),r.extend(r.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return i.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,n=.4;return 0===t?0:1==t?1:n*i.pow(2,-10*t)*i.sin((t-e/4)*(2*i.PI)/e)+1}}}),r.tap=function(t,e){var i=n.createEvent("Event");i.initEvent(e,!0,!0),i.pageX=t.pageX,i.pageY=t.pageY,t.target.dispatchEvent(i)},r.click=function(t){var e,i=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(i.tagName)||(e=n.createEvent("MouseEvents"),e.initMouseEvent("click",!0,!0,t.view,1,i.screenX,i.screenY,i.clientX,i.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),e._constructed=!0,i.dispatchEvent(e))},r}();r.prototype={version:"5.1.3",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel=!0,this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if((1==l.eventType[t.type]||0===t.button)&&this.enabled&&(!this.initiated||l.eventType[t.type]===this.initiated)){!this.options.preventDefault||l.isBadAndroid||l.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,n=t.touches?t.touches[0]:t;this.initiated=l.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=l.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&l.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,n,r,a,o=t.touches?t.touches[0]:t,s=o.pageX-this.pointX,u=o.pageY-this.pointY,c=l.getTime();if(this.pointX=o.pageX,this.pointY=o.pageY,this.distX+=s,this.distY+=u,r=i.abs(this.distX),a=i.abs(this.distY),!(c-this.endTime>300&&r<10&&a<10)){if(this.directionLocked||this.options.freeScroll||(r>a+this.options.directionLockThreshold?this.directionLocked="h":a>=r+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);u=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);s=0}s=this.hasHorizontalScroll?s:0,u=this.hasVerticalScroll?u:0,e=this.x+s,n=this.y+u,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+s/3:e>0?0:this.maxScrollX),(n>0||n<this.maxScrollY)&&(n=this.options.bounce?this.y+u/3:n>0?0:this.maxScrollY),this.directionX=s>0?-1:s<0?1:0,this.directionY=u>0?-1:u<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,n),c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},_end:function(t){if(this.enabled&&l.eventType[t.type]===this.initiated){this.options.preventDefault&&!l.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,n,r=(t.changedTouches?t.changedTouches[0]:t,l.getTime()-this.startTime),a=i.round(this.x),o=i.round(this.y),s=i.abs(a-this.startX),u=i.abs(o-this.startY),c=0,h="";if(this.isInTransition=0,this.initiated=0,this.endTime=l.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(a,o),!this.moved)return this.options.tap&&l.tap(t,this.options.tap),this.options.click&&l.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&r<200&&s<100&&u<100)return void this._execEvent("flick");if(this.options.momentum&&r<300&&(e=this.hasHorizontalScroll?l.momentum(this.x,this.startX,r,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:a,duration:0},n=this.hasVerticalScroll?l.momentum(this.y,this.startY,r,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:o,duration:0},a=e.destination,o=n.destination,c=i.max(e.duration,n.duration),this.isInTransition=1),this.options.snap){var p=this._nearestSnap(a,o);this.currentPage=p,c=this.options.snapSpeed||i.max(i.max(i.min(i.abs(a-p.x),1e3),i.min(i.abs(o-p.y),1e3)),300),a=p.x,o=p.y,this.directionX=0,this.directionY=0,h=this.options.bounceEasing}return a!=this.x||o!=this.y?((a>0||a<this.maxScrollX||o>0||o<this.maxScrollY)&&(h=l.ease.quadratic),void this.scrollTo(a,o,c,h)):void this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,n=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),(e!=this.x||n!=this.y)&&(this.scrollTo(e,n,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=l.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var n=this._events[t].indexOf(e);n>-1&&this._events[t].splice(n,1)}},_execEvent:function(t){if(this._events[t]){var e=0,n=this._events[t].length;if(n)for(;e<n;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,n,i){t=this.x+t,e=this.y+e,n=n||0,this.scrollTo(t,e,n,i)},scrollTo:function(t,e,n,i){i=i||l.ease.circular,this.isInTransition=this.options.useTransition&&n>0,!n||this.options.useTransition&&i.style?(this._transitionTimingFunction(i.style),this._transitionTime(n),this._translate(t,e)):this._animate(t,e,n,i.fn)},scrollToElement:function(t,e,n,r,a){if(t=t.nodeType?t:this.scroller.querySelector(t)){var o=l.offset(t);o.left-=this.wrapperOffset.left,o.top-=this.wrapperOffset.top,n===!0&&(n=i.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),r===!0&&(r=i.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),o.left-=n||0,o.top-=r||0,o.left=o.left>0?0:o.left<this.maxScrollX?this.maxScrollX:o.left,o.top=o.top>0?0:o.top<this.maxScrollY?this.maxScrollY:o.top,e=void 0===e||null===e||"auto"===e?i.max(i.abs(this.x-o.left),i.abs(this.y-o.top)):e,this.scrollTo(o.left,o.top,e,a)}},_transitionTime:function(t){if(t=t||0,this.scrollerStyle[l.style.transitionDuration]=t+"ms",!t&&l.isBadAndroid&&(this.scrollerStyle[l.style.transitionDuration]="0.001s"),this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[l.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[l.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=i.round(t),e=i.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition()},_initEvents:function(t){var n=t?l.removeEvent:l.addEvent,i=this.options.bindToWrapper?this.wrapper:e;n(e,"orientationchange",this),n(e,"resize",this),this.options.click&&n(this.wrapper,"click",this,!0),this.options.disableMouse||(n(this.wrapper,"mousedown",this),n(i,"mousemove",this),n(i,"mousecancel",this),n(i,"mouseup",this)),l.hasPointer&&!this.options.disablePointer&&(n(this.wrapper,l.prefixPointerEvent("pointerdown"),this),n(i,l.prefixPointerEvent("pointermove"),this),n(i,l.prefixPointerEvent("pointercancel"),this),n(i,l.prefixPointerEvent("pointerup"),this)),l.hasTouch&&!this.options.disableTouch&&(n(this.wrapper,"touchstart",this),n(i,"touchmove",this),n(i,"touchcancel",this),n(i,"touchend",this)),n(this.scroller,"transitionend",this),n(this.scroller,"webkitTransitionEnd",this),n(this.scroller,"oTransitionEnd",this),n(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,n,i=e.getComputedStyle(this.scroller,null);return this.options.useTransform?(i=i[l.style.transform].split(")")[0].split(", "),t=+(i[12]||i[4]),n=+(i[13]||i[5])):(t=+i.left.replace(/[^-\d.]/g,""),n=+i.top.replace(/[^-\d.]/g,"")),{x:t,y:n}},_initIndicators:function(){function t(t){for(var e=s.indicators.length;e--;)t.call(s.indicators[e])}var e,n=this.options.interactiveScrollbars,i="string"!=typeof this.options.scrollbars,r=[],s=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:a("v",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),r.push(e)),this.options.scrollX&&(e={el:a("h",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),r.push(e))),this.options.indicators&&(r=r.concat(this.options.indicators));for(var l=r.length;l--;)this.indicators.push(new o(this,r[l]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){l.addEvent(this.wrapper,"wheel",this),l.addEvent(this.wrapper,"mousewheel",this),l.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){l.removeEvent(this.wrapper,"wheel",this),l.removeEvent(this.wrapper,"mousewheel",this),l.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault(),t.stopPropagation();var e,n,r,a,o=this;if(void 0===this.wheelTimeout&&o._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){o._execEvent("scrollEnd"),o.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,n=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,n=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,n=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=n=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=n=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,n*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=n,n=0),this.options.snap)return r=this.currentPage.pageX,a=this.currentPage.pageY,e>0?r--:e<0&&r++,n>0?a--:n<0&&a++,void this.goToPage(r,a);r=this.x+i.round(this.hasHorizontalScroll?e:0),a=this.y+i.round(this.hasVerticalScroll?n:0),r>0?r=0:r<this.maxScrollX&&(r=this.maxScrollX),a>0?a=0:a<this.maxScrollY&&(a=this.maxScrollY),this.scrollTo(r,a,0),this.options.probeType>1&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,n,r,a,o,s=0,l=0,u=0,c=this.options.snapStepX||this.wrapperWidth,h=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(n=i.round(c/2),r=i.round(h/2);u>-this.scrollerWidth;){for(this.pages[s]=[],t=0,a=0;a>-this.scrollerHeight;)this.pages[s][t]={x:i.max(u,this.maxScrollX),y:i.max(a,this.maxScrollY),width:c,height:h,cx:u-n,cy:a-r},a-=h,t++;u-=c,s++}else for(o=this.options.snap,t=o.length,e=-1;s<t;s++)(0===s||o[s].offsetLeft<=o[s-1].offsetLeft)&&(l=0,e++),this.pages[l]||(this.pages[l]=[]),u=i.max(-o[s].offsetLeft,this.maxScrollX),a=i.max(-o[s].offsetTop,this.maxScrollY),n=u-i.round(o[s].offsetWidth/2),r=a-i.round(o[s].offsetHeight/2),this.pages[l][e]={x:u,y:a,width:o[s].offsetWidth,height:o[s].offsetHeight,cx:n,cy:r},u>this.maxScrollX&&l++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0,r=this.pages.length,a=0;if(i.abs(t-this.absStartX)<this.snapThresholdX&&i.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);n<r;n++)if(t>=this.pages[n][0].cx){t=this.pages[n][0].x;break}for(r=this.pages[n].length;a<r;a++)if(e>=this.pages[0][a].cy){e=this.pages[0][a].y;break}return n==this.currentPage.pageX&&(n+=this.directionX,n<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),t=this.pages[n][0].x),a==this.currentPage.pageY&&(a+=this.directionY,a<0?a=0:a>=this.pages[0].length&&(a=this.pages[0].length-1),e=this.pages[0][a].y),{x:t,y:e,pageX:n,pageY:a}},goToPage:function(t,e,n,r){r=r||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var a=this.pages[t][e].x,o=this.pages[t][e].y;n=void 0===n?this.options.snapSpeed||i.max(i.max(i.min(i.abs(a-this.x),1e3),i.min(i.abs(o-this.y),1e3)),300):n,this.currentPage={x:a,y:o,pageX:t,pageY:e},this.scrollTo(a,o,n,r)},next:function(t,e){var n=this.currentPage.pageX,i=this.currentPage.pageY;n++,n>=this.pages.length&&this.hasVerticalScroll&&(n=0,i++),this.goToPage(n,i,t,e)},prev:function(t,e){var n=this.currentPage.pageX,i=this.currentPage.pageY;n--,n<0&&this.hasVerticalScroll&&(n=0,i--),this.goToPage(n,i,t,e)},_initKeys:function(t){var n,i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(n in this.options.keyBindings)"string"==typeof this.options.keyBindings[n]&&(this.options.keyBindings[n]=this.options.keyBindings[n].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(n in i)this.options.keyBindings[n]=this.options.keyBindings[n]||i[n];l.addEvent(e,"keydown",this),this.on("destroy",function(){l.removeEvent(e,"keydown",this)})},_key:function(t){if(this.enabled){var e,n=this.options.snap,r=n?this.currentPage.pageX:this.x,a=n?this.currentPage.pageY:this.y,o=l.getTime(),s=this.keyTime||0,u=.25;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1),this.keyAcceleration=o-s<200?i.min(this.keyAcceleration+u,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?r+=n?1:this.wrapperWidth:a+=n?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?r-=n?1:this.wrapperWidth:a-=n?1:this.wrapperHeight;break;case this.options.keyBindings.end:r=n?this.pages.length-1:this.maxScrollX,a=n?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:r=0,a=0;break;case this.options.keyBindings.left:r+=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:a+=n?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:r-=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:a-=n?1:5+this.keyAcceleration>>0;break;default:return}if(n)return void this.goToPage(r,a);r>0?(r=0,this.keyAcceleration=0):r<this.maxScrollX&&(r=this.maxScrollX,this.keyAcceleration=0),a>0?(a=0,this.keyAcceleration=0):a<this.maxScrollY&&(a=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(r,a,0),this.keyTime=o}},_animate:function(t,e,n,i){function r(){var p,d,f,g=l.getTime();return g>=h?(a.isAnimating=!1,a._translate(t,e),void(a.resetPosition(a.options.bounceTime)||a._execEvent("scrollEnd"))):(g=(g-c)/n,f=i(g),p=(t-o)*f+o,d=(e-u)*f+u,a._translate(p,d),a.isAnimating&&s(r),void(3==a.options.probeType&&a._execEvent("scroll")))}var a=this,o=this.x,u=this.y,c=l.getTime(),h=c+n;this.isAnimating=!0,r()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},o.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.interactive&&(l.removeEvent(this.indicator,"touchstart",this),l.removeEvent(this.indicator,l.prefixPointerEvent("pointerdown"),this),l.removeEvent(this.indicator,"mousedown",this),l.removeEvent(e,"touchmove",this),l.removeEvent(e,l.prefixPointerEvent("pointermove"),this),l.removeEvent(e,"mousemove",this),l.removeEvent(e,"touchend",this),l.removeEvent(e,l.prefixPointerEvent("pointerup"),this),l.removeEvent(e,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var n=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=n.pageX,this.lastPointY=n.pageY,this.startTime=l.getTime(),this.options.disableTouch||l.addEvent(e,"touchmove",this),this.options.disablePointer||l.addEvent(e,l.prefixPointerEvent("pointermove"),this),this.options.disableMouse||l.addEvent(e,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,n,i,r,a=t.touches?t.touches[0]:t,o=l.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=a.pageX-this.lastPointX,
this.lastPointX=a.pageX,n=a.pageY-this.lastPointY,this.lastPointY=a.pageY,i=this.x+e,r=this.y+n,this._pos(i,r),1==this.scroller.options.probeType&&o-this.startTime>300?(this.startTime=o,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),t.preventDefault(),t.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),l.removeEvent(e,"touchmove",this),l.removeEvent(e,l.prefixPointerEvent("pointermove"),this),l.removeEvent(e,"mousemove",this),this.scroller.options.snap){var n=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),r=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-n.x),1e3),i.min(i.abs(this.scroller.y-n.y),1e3)),300);this.scroller.x==n.x&&this.scroller.y==n.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=n,this.scroller.scrollTo(n.x,n.y,r,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0,this.indicatorStyle[l.style.transitionDuration]=t+"ms",!t&&l.isBadAndroid&&(this.indicatorStyle[l.style.transitionDuration]="0.001s")},transitionTimingFunction:function(t){this.indicatorStyle[l.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(l.addClass(this.wrapper,"iScrollBothScrollbars"),l.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(l.removeClass(this.wrapper,"iScrollBothScrollbars"),l.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&i.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=i.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=i.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=i.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=i.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[l.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?i.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?i.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var n=t?250:500,i=t?0:300;t=t?"1":"0",this.wrapperStyle[l.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),i)}}},r.utils=l,"undefined"!=typeof module&&module.exports?module.exports=r:t.IScroll5=r}(window,document,Math),t.plotSplinePrimitive=e,t.plotSpline=n,t.saveSelection=i,t.restoreSelection=r,function(t){"use strict";t.console=t.console||{};for(var e,n,i=t.console,r={},a=function(){},o="memory".split(","),s="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");e=o.pop();)i[e]||(i[e]=r);for(;n=s.pop();)i[n]||(i[n]=a)}("undefined"==typeof window?this:window),Math.easeInOutQuad=function(t,e,n,i){return t/=i/2,t<1?n/2*t*t+e:(t--,-n/2*(t*(t-2)-1)+e)},Math.easeInOutCubic=function(t,e,n,i){return t/=i/2,t<1?n/2*t*t*t+e:(t-=2,n/2*(t*t*t+2)+e)},t}var e={};"undefined"!=typeof exports&&(e=exports),"function"==typeof define&&define.amd?define(function(){return t(e)}):window.STXThirdParty=t(e)}(),function(){function _stx_js(_exports,_stxThirdParty){function STX(){}function $$(t,e){if(!e)return document.getElementById(t);if(e.id==t)return e;if(!e.hasChildNodes)return null;for(var n=0;n<e.childNodes.length;n++){var i=$$(t,e.childNodes[n]);if(i)return i}return null}function $$$(t,e){return e||(e=document),e.querySelectorAll(t)[0]}function STXChart(t){if(t||(t={container:null}),t.constructor==HTMLDivElement){var e={container:t};t=e}this.markers={},this.panels={},this.overlays={},this.charts={},this.eventListeners=[],this.controls={},this.goneVertical=!1,this.pinchingScreen=!1,this.grabbingScreen=!1,this.grabStartX=0,this.grabStartY=0,this.grabStartScrollX=0,this.grabStartScrollY=0,this.yTolerance=100,this.grabStartCandleWidth=0,this.grabStartZoom=0,this.grabOverrideClick=!1,this.grabMode="",this.vectorsShowing=!1,this.mouseMode=!0,this.reverseMouseWheel=!1,this.mouseWheelAcceleration=!0,this.minimumCandleWidth=1,this.allowZoom=!0,this.allowScroll=!0,this.anyHighlighted=!1,this.accessoryTimer=null,this.lastAccessoryUpdate=(new Date).getTime(),this.displayCrosshairs=!0,this.hrPanel=null,this.editingAnnotation=!1,this.openDialog="",this.displayIconsUpDown=!0,this.displayIconsSolo=!0,this.displayIconsClose=!0,this.displayPanelResize=!0,this.markerDelay=25,this.manageTouchAndMouse=!0,this.touches=[],this.changedTouched=[],this.crosshairTick=null,this.crosshairValue=null,this.yaxisLabelStyle="roundRectArrow",this.axisBorders=null,this.pt={x1:-1,x2:-1,y1:-1,y2:-1},this.moveA=-1,this.moveB=-1,this.touchStartTime=-1,this.cancelSwipe=!1,this.momentumDistance=0,this.momentumTime=0,this.gestureStartDistance=-1,this.grabStartPeriodicity=1,this.grabEndPeriodicity=-1,this.scrollEvent=null,this.cmd=!1,this.ctrl=!1,this.shift=!1,this.userPointerDown=!1,this.crosshairXOffset=-40,this.crosshairYOffset=-40,this.displayInitialized=!1,this.extendLastTick=!1,this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1},this.cancelTouchSingleClick=!1,this.layout={interval:"day",periodicity:1,timeUnit:null,candleWidth:8,volumeUnderlay:!1,adj:!0,crosshair:!1,chartType:"candle",extended:!1,aggregationType:"ohlc",chartScale:"linear",studies:{},panels:{}},this.preferences={magnet:!1,labels:!0,whitespace:50,zoomInSpeed:null,zoomOutSpeed:null},this.streamParameters={count:0,maxWait:1e3,maxTicks:100,timeout:-1},this.translationCallback=null,this.locale=null,this.dataZone=null,this.displayZone=null,this.timeZoneOffset=0,this.changeCallback=null,this.masterData=null,this.transformDataSetPre=null,this.transformDataSetPost=null,this.dataCallback=null,this.dontRoll=!1,this.drawingObjects=[],this.undoStamps=[],this.dataSetContainsGaps=!0,this.cleanupGaps=!1,this.calendarAxis=!1,this.maxDataSetSize=2e4,this.resizeDetectMS=1e3,this.chart=new STXChart.Chart,this.chart.name="chart",this.chart.canvas=null,this.chart.tempCanvas=null,this.chart.container=t.container,this.chart.allowScrollPast=!0,this.chart.hideDrawings=!1,this.candleWidthPercent=.65,this.noWicksOnCandles={rangebars:1,renko:1,linebreak:1},this.fetchMaximumBars={rangebars:1,kagi:1,renko:1,linebreak:1,pandf:1},this.hasNTBAxis={rangebars:1,kagi:1,renko:1,linebreak:1,pandf:1},this.charts.chart=this.chart,this.styles={},this.currentVectorParameters=STX.clone(STXChart.currentVectorParameters),"undefined"==typeof t.animate&&(this.animate=new STX.Animate(this)),STX.extend(this,t),t.container&&(this.registerHTMLElements(),this.chart.width=this.chart.container.clientWidth-this.chart.yAxis.width,this.setCandleWidth(this.layout.candleWidth,this.chart),this.chart.canvasHeight=this.chart.container.clientHeight,STX.FireFoxWheelWorkaround||(STX.isIE?document.body.addEventListener("wheel",function(t){if(STXChart.insideChart){t.preventDefault();for(var e=0;e<STXChart.registeredContainers.length;e++){var n=STXChart.registeredContainers[e].stx;STXChart.crosshairX>=n.left&&STXChart.crosshairX<=n.right&&STXChart.crosshairY>=n.top&&STXChart.crosshairY<=n.bottom&&n.mouseWheel(t,"onmousewheel")}}}):document.body.addEventListener("wheel",function(t){STXChart.insideChart&&t.preventDefault()}),STX.FireFoxWheelWorkaround=!0)),this.construct()}var iScroll=_stxThirdParty.iScroll,iScroll5=_stxThirdParty.IScroll5,timezoneJS=_stxThirdParty.timezoneJS,debugDoc=null;_exports.STX=STX,window.console||(window.console=function(){}),Date.now=Date.now||function(){return new Date},STX.ipad=navigator.userAgent.indexOf("iPad")!=-1,STX.iphone=navigator.userAgent.indexOf("iPhone")!=-1,STX.isSurface=navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,STX.touchDevice="undefined"!=typeof document.ontouchstart||STX.isSurface,STX.is_chrome=navigator.userAgent.toLowerCase().indexOf("chrome")>-1,STX.isAndroid=navigator.userAgent.toLowerCase().indexOf("android")>-1,STX.isIE=navigator.userAgent.toLowerCase().indexOf("msie")>-1||navigator.userAgent.indexOf("Trident")>-1,STX.isIE9=navigator.userAgent.indexOf("Trident/5")>-1||navigator.userAgent.indexOf("MSIE 9.0")>-1,STX.isIE8=window.isIE8||navigator.userAgent.indexOf("MSIE 8.0")>-1,STX.isIOS7=navigator.userAgent.match(/(iPad|iPhone);.*CPU.*OS 7_\d/i),STX.isIOS8=navigator.userAgent.match(/(iPad|iPhone);.*CPU.*OS 8_\d/i),STX.isIOS9=navigator.userAgent.match(/(iPad|iPhone);.*CPU.*OS 9_\d/i),STX.isIOS10=navigator.userAgent.match(/(iPad|iPhone);.*CPU.*OS 10_\d/i),STX.isIOS7or8=STX.isIOS7||STX.isIOS8||STX.isIOS9||STX.isIOS10,STX.isSurfaceApp=window.MSApp,STX.noKeyboard=STX.ipad||STX.iphone||STX.isAndroid||STX.isSurfaceApp,STX.openDebugger=function(){var t=window.open("","Debug","width=500, height=400, scrollbars=1");debugDoc=t.document},STX.debug=function(t){debugDoc&&debugDoc.writeln(t)},STX.inspectProperties=function(t){var e="";for(var n in t)if("outerText"!=n&&"innerText"!=n&&"outerHTML"!=n&&"innerHTML"!=n)if("function"==typeof t[n])e+=n+"()<br>",console.log(n+"()");else try{console.log(n+"="+t[n]),e+=n+" = "+t[n]+"<br>"}catch(t){}e+="<P>",STX.debug(e)},STX.colorToHex=function(t){function e(t){var e=$$("color_converter");e||(e=document.createElement("textarea"),e.id="color_converter",e.style.display="none",document.body.appendChild(e)),e.style.color="#000000",e.style.color=t;var i;return STX.isIE8?(i=e.createTextRange().queryCommandValue("ForeColor"),i=(255&i)<<16|65280&i|(16711680&i)>>>16,i=i.toString(16),"#000000".slice(0,7-i.length)+i):(i=getComputedStyle(e).getPropertyValue("color"),n=/(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(i),n?STX.colorToHex(i):"#"===i.substr(0,1)?i:t)}if("#"===t.substr(0,1))return t;var n=/(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(t);if(n||(n=/(.*?)rgba\((\d+), (\d+), (\d+),.*\)/.exec(t)),!n)return e(t);var i=parseFloat(n[2]),r=parseFloat(n[3]),a=parseFloat(n[4]),o=a|r<<8|i<<16,s=n[1]+"#"+o.toString(16);return s.toUpperCase()},STX.hexToRgba=function(t,e){return"rgba"===t.substr(0,4)?t:("rgb"===t.substr(0,3)&&(t=STX.colorToHex(t)),t=t.replace("#",""),r=parseInt(t.substring(0,2),16),g=parseInt(t.substring(2,4),16),b=parseInt(t.substring(4,6),16),result="rgba("+r+","+g+","+b+","+e/100+")",result)},STX.isTransparent=function(t){if(!t)return!1;if("transparent"==t)return!0;var e=/(.*?)rgba\((\d+), (\d+), (\d+), (.*)\)/.exec(t);return null!==e&&0===parseFloat(e[5])},STX.hsv=function(t){var e=STX.colorToHex(t);"#"===e.substr(0,1)&&(e=e.slice(1));for(var n=e.length;n<6;n++)e="0"+e;var i=parseInt(e.slice(0,2),16),r=parseInt(e.slice(2,4),16),a=parseInt(e.slice(4,6),16),o=0,s=0,l=0;if(i=parseInt((""+i).replace(/\s/g,""),10),r=parseInt((""+r).replace(/\s/g,""),10),a=parseInt((""+a).replace(/\s/g,""),10),null===i||null===r||null===a||isNaN(i)||isNaN(r)||isNaN(a))return null;if(i<0||r<0||a<0||i>255||r>255||a>255)return null;i/=255,r/=255,a/=255;var u=Math.min(i,Math.min(r,a)),c=Math.max(i,Math.max(r,a));if(u==c)return l=u,[0,0,l];var h=i==u?r-a:a==u?i-r:a-i,p=i==u?3:a==u?1:5;return o=60*(p-h/(c-u)),s=(c-u)/c,l=c,[o,s,l]},STX.dayOfYear=function(t){var e=new Date(t);return e.setMonth(0,0),Math.round((t-e)/864e5)},STX.chooseForegroundColor=function(t){var e=STX.hsv(t),n=e[2];return n>.85?"#000000":"#FFFFFF"},_exports.$$=$$,_exports.$$$=$$$,STX.getEventDOM=function(t){return t?t.target:window.event.srcElement},STX.getHostName=function(t){try{return t.match(/:\/\/(.[^\/]+)/)[1]}catch(t){return""}},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},STX.extend=function(t,e,n){for(var i in e){var r=e[i];r?r.constructor==Object?(t[i]||(t[i]={}),n?t[i]=e[i]:STX.extend(t[i],e[i])):r.constructor==Array?t[i]=r.slice():t[i]=r:t[i]=r}return t},STX.deleteRHS=function(t,e){var n=!1;for(var i in t)t[i]==e&&(delete t[i],n=!0);return n},STX.dataBindSafeAssignment=function(t,e){for(var n in e)t[n]=e[n];for(n in t)"undefined"==typeof e[n]&&delete t[n]},STX.clone=function(t,e){if(null===t||"object"!=typeof t)return t;if(t.constructor==Date||t.constructor==RegExp||t.constructor==Function||t.constructor==String||t.constructor==Number||t.constructor==Boolean)return new t.constructor(t);e=e||new t.constructor;for(var n in t)e[n]="undefined"==typeof e[n]?STX.clone(t[n],null):e[n];return e},STX.shallowClone=function(t){var e;if(t.constructor==Array){e=new Array(t.length);for(var n=0;n<t.length;n++)e[n]=t[n];return e}e={};for(var i in t)e[i]=t[i];return e},STX.cloneUIComponent=function(t){for(var e=t.cloneNode(!0),n=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1),i=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),r=n.nextNode(),a=i.nextNode();r&&a;)a.originalData=r.originalData,r=n.nextNode(),a=i.nextNode();return e},STX.uniqueID=function(){var t=new Date,e=t.getTime().toString(36);return e+=Math.floor(Math.random()*Math.pow(36,2)).toString(36),e.toUpperCase()},STX.clearNode=function(t){if(t.hasChildNodes())for(;t.childNodes.length>=1;)t.removeChild(t.firstChild)},STX.monthLetters=["J","F","M","A","M","J","J","A","S","O","N","D"],STX.monthAbv=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STX.monthAsDisplay=function(t,e,n){return e?n&&n.monthLetters?n.monthLetters[t]:STX.monthLetters[t]:n&&n.monthAbv?n.monthAbv[t]:STX.monthAbv[t]},STX.timeAsDisplay=function(t,e,n){if(e&&e.internationalizer)return n==STX.SECOND?e.internationalizer.hourMinuteSecond.format(t):n==STX.MILLISECOND?e.internationalizer.hourMinuteSecond.format(t)+"."+t.getMilliseconds():e.internationalizer.hourMinute.format(t);var i=t.getMinutes();i<10&&(i="0"+i);var r=t.getHours()+":"+i,a="";if(n<=STX.SECOND&&(a=t.getSeconds(),a<10&&(a="0"+a),r+=":"+a),n==STX.MILLISECOND){var o=t.getMilliseconds();o<10?o="00"+o:o<100&&(o="0"+o),r+="."+o}return r},STX.createMonthArrays=function(t,e,n){t.monthAbv=[],t.monthLetters=[];var i=new Date,r=!0;STX.I18N.longMonths&&STX.I18N.longMonths[n]&&(r=!1);for(var a=0;a<12;a++){i.setDate(1),i.setMonth(a);var o=e.format(i);if(r){for(var s="",l=0;l<o.length;l++){var u=o.charAt(l),c=u.charCodeAt(0);c<65||(s+=u)}t.monthAbv[a]=s,t.monthLetters[a]=s[0]}else t.monthAbv[a]=o,t.monthLetters[a]=o}},STX.fixPrice=function(t){if(!t&&0!==t)return null;for(var e=t.toFixed(10),n=e.length-1;n>1&&"0"==e.charAt(n);n--);return e=e.substring(0,n+1),parseFloat(e)},STX.condenseInt=function(t){return null===t||"undefined"==typeof t?"":t=t>0?t>1e12?Math.round(t/1e11)/10+"t":t>1e11?Math.round(t/1e9)+"b":t>1e10?(Math.round(t/1e8)/10).toFixed(1)+"b":t>1e9?(Math.round(t/1e7)/100).toFixed(2)+"b":t>1e8?Math.round(t/1e6)+"m":t>1e7?(Math.round(t/1e5)/10).toFixed(1)+"m":t>1e6?(Math.round(t/1e4)/100).toFixed(2)+"m":t>1e5?Math.round(t/1e3)+"k":t>1e4?(Math.round(t/100)/10).toFixed(1)+"k":t>1e3?(Math.round(t/10)/100).toFixed(2)+"k":t.toFixed(0):t<-1e12?Math.round(t/1e11)/10+"t":t<-1e9?Math.round(t/1e8)/10+"b":t<-1e6?Math.round(t/1e5)/10+"m":t<-1e3?Math.round(t/100)/10+"k":t.toFixed(0)},STX.boxIntersects=function(t,e,n,i,r,a,o,s,l){return!!STX.linesIntersect(t,n,e,e,r,o,a,s,l)||(!!STX.linesIntersect(t,n,i,i,r,o,a,s,l)||(!!STX.linesIntersect(t,t,e,i,r,o,a,s,l)||!!STX.linesIntersect(n,n,e,i,r,o,a,s,l)))},STX.linesIntersect=function(t,e,n,i,r,a,o,s,l){var u=(s-o)*(e-t)-(a-r)*(i-n),c=(a-r)*(n-o)-(s-o)*(t-r),h=(e-t)*(n-o)-(i-n)*(t-r);if(0===u)return 0===c&&0===h;var p=c/u,d=h/u;if("segment"==l||"zig zag"==l){if(p>=0&&p<=1&&d>=0&&d<=1)return!0}else if("line"==l||"horizontal"==l||"vertical"==l){if(p>=0&&p<=1)return!0}else if("ray"==l&&p>=0&&p<=1&&d>=0)return!0;return!1},STX.yIntersection=function(t,e){var n=t.x0,i=t.x1,r=e,a=e,o=t.y0,s=t.y1,l=0,u=1e4,c=(u-l)*(i-n)-(a-r)*(s-o),h=(a-r)*(o-l)-(u-l)*(n-r);if(0===c)return null;var p=h/c,d=o+p*(s-o);return d},STX.xIntersection=function(t,e){var n=t.x0,i=t.x1,r=0,a=1e4,o=t.y0,s=t.y1,l=e,u=e,c=(u-l)*(i-n)-(a-r)*(s-o),h=(a-r)*(o-l)-(u-l)*(n-r);if(0===c)return null;var p=h/c,d=n+p*(i-n);return d},STX.stripPX=function(t){return parseInt(t.substr(0,t.indexOf("p")))},STX.pageHeight=function(){var t=window.innerHeight;if(top!=self)try{t>parent.innerHeight&&(t=parent.innerHeight)}catch(t){}return t},STX.pageWidth=function(){var t=window.innerWidth;if(top!=self)try{t>parent.innerWidth&&(t=parent.innerWidth)}catch(t){}return t},STX.scrub=function(t,e){for(var n in t)"undefined"==typeof t[n]&&delete t[n],e&&null===t[n]&&delete t[n]},STX.yyyymmddhhmmssmmmrx=new RegExp("\\d{17}"),STX.strToDateTime=function(t){if(!t||t.getFullYear)return t;var e,n,i,r,a,o,s,l=[];if(12==t.length)return e=parseFloat(t.substring(0,4)),n=parseFloat(t.substring(4,6))-1,i=parseFloat(t.substring(6,8)),r=parseFloat(t.substring(8,10)),a=parseFloat(t.substring(10,12)),new Date(e,n,i,r,a,0,0);if(STX.yyyymmddhhmmssmmmrx.test(t))return e=parseFloat(t.substring(0,4)),n=parseFloat(t.substring(4,6))-1,i=parseFloat(t.substring(6,8)),r=parseFloat(t.substring(8,10)),a=parseFloat(t.substring(10,12)),o=parseFloat(t.substring(12,14)),s=parseFloat(t.substring(14,17)),new Date(e,n,i,r,a,o,s);var u=[t],c=t.indexOf("T");if(c!=-1){var h=t.substring(c);if(!STX.isIE8&&(h.indexOf("Z")!=-1||h.indexOf("-")!=-1||h.indexOf("+")!=-1))return new Date(t);u=t.split("T")}else t.indexOf(" ")!=-1&&(u=t.split(" "));if(u[0].indexOf("/")!=-1)l=u[0].split("/");else{if(u[0].indexOf("-")==-1)return STX.strToDate(t);l=u[0].split("-")}var p=parseFloat(l[2],10);if(l[0]&&4==l[0].length&&(p=parseFloat(l[0],10),l[0]=l[1],l[1]=l[2]),u.length>1){var d=u[2];u=u[1].split(":"),d&&("12"==u[0]&&"AM"==d.toUpperCase()?u[0]=0:"12"!=u[0]&&"PM"==d.toUpperCase()&&(u[0]=parseInt(u[0],10)+12));var f=0,g=0;if(3==u.length)if(u[2].indexOf(".")==-1)f=parseInt(u[2],10);else{if(f=u[2].split("."),3!=f[1].length){g=f[1].substr(0,3);var m=parseInt(f[1].substr(3),10);f=f[0];var y=new Date(p,l[0]-1,l[1],u[0],u[1],f,g);return y.setMinutes(y.getMinutes()-y.getTimezoneOffset()-m%100-60*Math.round(m/100)),y}g=f[1],f=f[0]}return new Date(p,l[0]-1,l[1],u[0],u[1],f,g)}return new Date(p,l[0]-1,l[1],0,0,0,0)},STX.strToDate=function(t){var e;if(t.indexOf("/")!=-1)e=t.split("/");else{if(t.indexOf("-")==-1)return t.length>=8?new Date(parseFloat(t.substring(0,4)),parseFloat(t.substring(4,6))-1,parseFloat(t.substring(6,8))):new Date;e=t.split("-")}if(e.length<3)return new Date;e[2].indexOf(" ")!=-1?e[2]=e[2].substring(0,e[2].indexOf(" ")):e[2].indexOf("T")!=-1&&(e[2]=e[2].substring(0,e[2].indexOf("T")));var n=parseFloat(e[2],10);return n<20&&(n+=2e3),4==e[0].length&&(n=parseFloat(e[0],10),e[0]=e[1],e[1]=e[2]),new Date(n,e[0]-1,e[1])},STX.mmddyyyy=function(t){var e=STX.strToDate(t),n=e.getMonth()+1;return n<10&&(n="0"+n),t=e.getDate(),t<10&&(t="0"+t),n+"/"+t+"/"+e.getFullYear()},STX.yyyymmdd=function(t){var e=t.getMonth()+1;e<10&&(e="0"+e);var n=t.getDate();return n<10&&(n="0"+n),t.getFullYear()+"-"+e+"-"+n},STX.yyyymmddhhmm=function(t){var e=t.getMonth()+1;e<10&&(e="0"+e);var n=t.getDate();n<10&&(n="0"+n);var i=t.getHours();i<10&&(i="0"+i);var r=t.getMinutes();return r<10&&(r="0"+r),""+t.getFullYear()+e+n+i+r},STX.yyyymmddhhmmssmmm=function(t){var e=t.getMonth()+1;e<10&&(e="0"+e);var n=t.getDate();n<10&&(n="0"+n);var i=t.getHours();i<10&&(i="0"+i);var r=t.getMinutes();r<10&&(r="0"+r);var a=t.getSeconds();a<10&&(a="0"+a);var o=t.getMilliseconds();return o<10?o="00"+o:o<100&&(o="0"+o),""+t.getFullYear()+e+n+i+r+a+o},STX.friendlyDate=function(t){var e=t.getMonth()+1;e<10&&(e="0"+e);var n=t.getDate();n<10&&(n="0"+n);var i=t.getHours();i<10&&(i="0"+i);var r=t.getMinutes();return r<10&&(r="0"+r),""+t.getFullYear()+"/"+e+"/"+n+" "+i+":"+r},STX.standardUTCDate=function(t){var e=t.getUTCMonth()+1;e<10&&(e="0"+e);var n=t.getUTCDate();n<10&&(n="0"+n);var i=t.getUTCHours();i<10&&(i="0"+i);var r=t.getUTCMinutes();r<10&&(r="0"+r);var a=t.getUTCSeconds();return a<10&&(a="0"+a),""+t.getUTCFullYear()+"-"+e+"-"+n+"T"+i+":"+r+":"+a+"Z"},STX.mmddhhmm=function(t){var e=STX.strToDateTime(t),n=e.getMonth()+1;n<10&&(n="0"+n);var i=e.getDate();i<10&&(i="0"+i);var r=e.getHours();r<10&&(r="0"+r);var a=e.getMinutes();return a<10&&(a="0"+a),"00"==r&&"00"==a?n+"-"+i+"-"+e.getFullYear():n+"-"+i+" "+r+":"+a},STX.getETDateTime=function(){var t=new Date;return STX.convertTimeZone(new Date(t.getTime()+6e4*t.getTimezoneOffset()),"UTC","America/New_York")},STX.fromET=function(t){var e=new Date,n=4;(e.getMonth()<2||2==e.getMonth()&&e.getDate()<11||e.getMonth()>10||10==e.getMonth()&&e.getDate()>=4)&&(n=5);var i=t.getTime()+36e5*n,r=new Date(i);return r},STX.convertFutureMonth=function(t){var e=t.toString();if(1!=e.length)return"";switch(e){case"1":return"F";case"2":return"G";case"3":return"H";case"4":return"J";case"5":return"K";case"6":return"M";case"7":return"N";case"8":return"Q";case"9":return"U";case"10":return"V";case"11":return"X";case"12":return"Z";case"F":return"1";case"G":return"2";case"H":return"3";case"J":return"4";case"K":return"5";case"M":return"6";case"N":return"7";case"Q":return"8";case"U":return"9";case"V":return"10";case"X":return"11";case"Z":return"12"}return e},STX.getYearDay=function(t){var e=t;e||(e=new Date),e.setHours(0,0,0,0);var n=new Date(e.getFullYear(),0,0),i=e-n,r=864e5,a=Math.round(i/r);return a},STX.isDST=function(t){t||(t=new Date);var e=new Date(t.getFullYear(),0,1),n=new Date(t.getFullYear(),6,1),i=Math.max(e.getTimezoneOffset(),n.getTimezoneOffset());return t.getTimezoneOffset()!=i},STX.money=function(t,e,n){return n||(n="$"),3==n.length&&(n+=" "),e||0===e||(e=2),n+STX.commas((Math.round(1e4*t)/1e4).toFixed(e))},STX.convertCurrencyCode=function(t){return"USD"==t?"$":"CAD"==t?"$":"AUD"==t?"$":"NZD"==t?"$":"HKD"==t?"$":"SGD"==t?"$":"MXN"==t?"$":"EUR"==t?"":"GBP"==t?"":"JPY"==t?"":"CNY"==t?"":"ZAR"==t?"R":"BRL"==t?"R$":"TWD"==t?"NT$":"SEK"==t?"kr":"NOK"==t?"kr":"DKK"==t?"kr":"KRW"==t?"":"INR"==t?"":"RUB"==t?"":"CZK"==t?"K":"HUF"==t?"Ft":"PLN"==t?"z":"SAR"==t?"":"THB"==t?"":"TRY"==t?"":"ILS"==t?"":t},STXChart.isDailyInterval=function(t){return"day"==t||("week"==t||"month"==t)},STXChart.chartShowsHighs=function(t){return"line"!=t&&("mountain"!=t&&("colored_line"!=t&&"baseline_delta"!=t))},STX.commas=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},STX.getAjaxServer=function(t){var e=!1,n=!0;if((STX.isIE9||STX.isIE8)&&t&&(""===STX.getHostName(t)&&(n=!1),STX.getHostName(t)==STX.getHostName(window.location.href)&&(n=!1)),(STX.isIE9||STX.isIE8)&&n)return e=new XDomainRequest;try{e=new XMLHttpRequest}catch(t){alert("ajax not supported in browser")}return e},STX.qs=function(t){var e=[];t||(t=window.location.search.substring(1));for(var n=t.split("&"),i=0;i<n.length;i++){var r,a=n[i].indexOf("=");a>0?(r=n[i].substring(0,a),e[r]=n[i].substring(a+1)):(r=n[i],e[r]=null)}return e},STX.convertClickToTouchEnd=function(t){var e=$$(t),n=e.getAttribute("onClick");n&&(e.removeAttribute("onClick"),e.setAttribute("onTouchEnd",n))},STX.getPos=function(t){for(var e=0,n=0;t;e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent);return{x:e,y:n}},STX.withinElement=function(t,e,n){var i=STX.getPos(t);return!(e<=i.x)&&(!(n<=i.y)&&(!(e>=i.x+t.offsetWidth)&&!(n>=i.y+t.offsetHeight)))},STX.safeMouseOut=function(t,e){function n(t,e){return function(n){"undefined"==typeof n.pageX&&(n.pageX=n.clientX,n.pageY=n.clientY),STX.withinElement(t,n.pageX,n.pageY)||(t.stxMouseOver=!1,e(n))}}t.addEventListener("mouseout",n(t,e))},STX.safeMouseOver=function(t,e){function n(t,e){return function(n){if("undefined"==typeof n.pageX&&(n.pageX=n.clientX,n.pageY=n.clientY),STX.withinElement(t,n.pageX,n.pageY)){if(t.stxMouseOver)return;t.stxMouseOver=!0,e(n)}}}t.addEventListener("mouseover",n(t,e))},STX.fixScreen=function(){window.scrollTo(0,0)},STX.setCaretPosition=function(t,e){if(t.style.zIndex=5e3,t.setSelectionRange){STX.focus(t);try{t.setSelectionRange(e,e)}catch(t){}}else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}},STX.setValueIfNotActive=function(t,e){document.activeElement!=t&&(t.value=e)},STX.appendClassName=function(t,e){if(t.className!=e){for(var n=t.className.split(" "),i=0;i<n.length;i++)if(n[i]==e)return;t.className?t.className+=" "+e:t.className=e}},STX.unappendClassName=function(t,e){if(t&&t.className.indexOf(e)!=-1)if(t.className==e)t.className="";else{for(var n=t.className.split(" "),i="",r=0;r<n.length;r++)n[r]!=e&&(""!==i&&(i+=" "),i+=n[r]);t.className=i}},STX.swapClassName=function(t,e,n){STX.unappendClassName(t,n),STX.appendClassName(t,e)},STX.hasClassName=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1},STX.toggleClassName=function(t,e){STX.hasClassName(t,e)?STX.unappendClassName(t,e):STX.appendClassName(t,e)};var blocks=[];STX.createDIVBlock=function(t,e,n,i){var r=document.createElement("div");return r.style.position="fixed",r.style.left=t+"px",r.style.width=e+"px",r.style.top=n+"px",r.style.height=i+"px",document.body.appendChild(r),blocks[blocks.length]=r,r},STX.tickedRect=function(t,e,n,i,r,a,o,s){"undefined"==typeof s&&(s=!0),"undefined"==typeof a&&(a=5),t.beginPath(),t.moveTo(e,n),t.lineTo(e+i,n),t.lineTo(e+i,n+r),t.lineTo(e-2,n+r),t.lineTo(e-2,n),t.closePath(),s&&t.stroke(),o&&t.fill();var l=Math.round(n+r/2)+.5;t.beginPath(),t.moveTo(e-2,l),t.lineTo(e,l),t.strokeStyle="#FFFFFF",t.stroke()},STX.roundRect=function(t,e,n,i,r,a,o,s){"undefined"==typeof s&&(s=!0),"undefined"==typeof a&&(a=5,i<0&&(a=-5));var l=i<0?a*-1:a;e-=1,t.beginPath(),t.moveTo(e+a,n),t.lineTo(e+i-a,n),t.quadraticCurveTo(e+i,n,e+i,n+l),t.lineTo(e+i,n+r-l),t.quadraticCurveTo(e+i,n+r,e+i-a,n+r),t.lineTo(e+a,n+r),t.quadraticCurveTo(e,n+r,e,n+r-l),t.lineTo(e,n+l),t.quadraticCurveTo(e,n,e+a,n),t.closePath(),s&&t.stroke(),o&&t.fill()},STX.roundRectArrow=function(t,e,n,i,r,a,o,s){"undefined"==typeof s&&(s=!0),"undefined"==typeof a&&(a=5,i<0&&(a=-5));var l=i<0?a*-1:a;t.beginPath(),t.moveTo(e+a,n),t.lineTo(e+i-a,n),t.quadraticCurveTo(e+i,n,e+i,n+l),t.lineTo(e+i,n+r-l),t.quadraticCurveTo(e+i,n+r,e+i-a,n+r),t.lineTo(e+a,n+r),t.quadraticCurveTo(e,n+r,e-a,n+r-l),i<0?t.lineTo(e+r/2,n+r/2):t.lineTo(e-r/2,n+r/2),t.lineTo(e-a,n+l),t.quadraticCurveTo(e,n,e+a,n),t.closePath(),s&&t.stroke(),o&&t.fill()},STX.semiRoundRect=function(t,e,n,i,r,a,o,s){"undefined"==typeof s&&(s=!0),"undefined"==typeof a&&(a=5,i<0&&(a=-5));var l=i<0?a*-1:a;t.beginPath(),t.moveTo(e,n),t.lineTo(e+i-a,n),t.quadraticCurveTo(e+i,n,e+i,n+l),t.lineTo(e+i,n+r-l),t.quadraticCurveTo(e+i,n+r,e+i-a,n+r),t.lineTo(e,n+r),t.lineTo(e,n),t.closePath(),s&&t.stroke(),o&&t.fill()},STX.rect=function(t,e,n,i,r,a,o,s){t.beginPath(),t.moveTo(e,n),t.lineTo(e+i,n),t.lineTo(e+i,n+r),t.lineTo(e,n+r),t.lineTo(e,n),t.closePath(),s&&t.stroke(),o&&t.fill()},STX.noop=function(t,e,n,i,r,a,o,s){},STX.getLines=function(t,e,n){for(var i=e.split(" "),r=[],a="",o=0,s=!1,l=0;l<i.length;l++){var u=i[l];if(o=t.measureText(a+u).width,o<n?(s&&(a+=" "),s=!0,a+=u):(r.push(a),a=u),l===i.length-1){r.push(a);break}}return r},STX.clearCanvas=function(t,e){if(t.isDirty=!1,t.context.clearRect(0,0,t.width,t.height),STX.isAndroid&&!STX.is_chrome){STXChart.useOldAndroidClear&&e&&(t.context.fillStyle=e.containerColor,t.context.fillRect(0,0,t.width,t.height),t.context.clearRect(0,0,t.width,t.height));var n=t.width;t.width=1,t.width=n}},STX.alert=function(t){alert(t)},STX.horizontalIntersect=function(t,e,n){return e<Math.max(t.x0,t.x1)&&e>Math.min(t.x0,t.x1)},STX.twoPointIntersect=function(t,e,n,i){return STX.boxIntersects(e-i,n-i,e+i,n+i,t.x0,t.y0,t.x1,t.y1,"segment")},STX.boxedIntersect=function(t,e,n){return!(e>Math.max(t.x0,t.x1)||e<Math.min(t.x0,t.x1))&&!(n>Math.max(t.y0,t.y1)||n<Math.min(t.y0,t.y1))},STX.isInElement=function(t,e,n){return!(e<t.offsetLeft)&&(!(e>t.offsetLeft+t.clientWidth)&&(!(n<t.offsetTop)&&!(n>t.offsetTop+t.clientHeight)))},STX.privateBrowsingAlert=!1,STX.localStorage=localStorage,STX.localStorageSetItem=function(t,e){try{STX.localStorage.setItem(t,e)}catch(t){STX.privateBrowsingAlert||(STX.alert("Your browser is in Private Browsing mode. Chart annotations will not be saved."),STX.privateBrowsingAlert=!0)}},STX.attachColorPicker=function(t,e,n){var i=function(t,e,n){return function(i){e.colorPickerDiv&&(e.colorPickerDiv.style.display="none"),t.style.backgroundColor="#"+i,n&&n(i)}};t.onclick=function(t,e){return function(){e.colorPickerDiv||(e.colorPickerDiv=document.createElement("DIV"),e.colorPickerDiv.className="ciqColorPicker",document.body.appendChild(e.colorPickerDiv)),STX.createColorPicker(e.colorPickerDiv,t),e.colorPickerDiv.style.display="block";var n=STX.getPos(this),i=n.x+this.clientWidth;i+e.colorPickerDiv.offsetWidth>STX.pageWidth()&&(i-=i+e.colorPickerDiv.offsetWidth-STX.pageWidth()+20),e.colorPickerDiv.style.left=i+"px";var r=n.y;r+e.colorPickerDiv.clientHeight>STX.pageHeight()&&(r-=r+e.colorPickerDiv.clientHeight-STX.pageHeight()),e.colorPickerDiv.style.top=r+"px"}}(i(t,e,n),e)},STX.createColorPicker=function(t,e){
function n(t){return function(){return e(t),!1}}var i=["ffffff","ffd0cf","ffd9bb","fff56c","eaeba3","d3e8ae","adf3ec","ccdcfa","d9c3eb","efefef","eb8b87","ffb679","ffe252","e2e485","c5e093","9de3df","b1c9f8","c5a6e1","cccccc","e36460","ff9250","ffcd2b","dcdf67","b3d987","66cac4","97b8f7","b387d7","9b9b9b","dd3e39","ff6a23","faaf3a","c9d641","8bc176","33b9b0","7da6f5","9f6ace","656565","b82c0b","be501b","e99b54","97a030","699158","00a99d","5f7cb8","784f9a","343434","892008","803512","ab611f","646c20","46603a","007e76","3e527a","503567","000000","5c1506","401a08","714114","333610","222f1d","00544f","1f2a3c","281a33"];STX.clearNode(t);var r=document.createElement("ul");t.appendChild(r);for(var a=0;a<i.length;a++){var o=i[a],s=document.createElement("li"),l=document.createElement("a");s.appendChild(l),l.href="#",l.title=o,l.style.background="#"+o,l.innerHTML=o,r.appendChild(s),l.onclick=n(o)}},STX.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},STX.first=function(t){for(var e in t)return e;return null},STX.last=function(t){var e=null;for(var n in t)e=n;return e},STX.objLength=function(t){var e=0;for(var n in t)e++;return e},STX.deriveFromObjectChain=function(t,e){var n=e.split(".");if(1===n.length)return{obj:t,member:e};for(var i=0;i<n.length-1;i++)t[n[i]]||(t[n[i]]={}),t=t[n[i]];return{obj:t,member:n[i]}},STX.Plotter=function(){this.seriesArray=[],this.seriesMap={}},STX.Plotter.prototype={Series:function(t,e,n,i,r){this.name=t,this.strokeOrFill=e,this.color=n,this.opacity=i,this.width=r,this.moves=[],this.text=[],(!i||i>1||i<0)&&(this.opacity=1),(!r||r>25||r<1)&&(this.width=1)},newSeries:function(t,e,n,i,r){var a;a=n.constructor==String?new this.Series(t,e,n,i,r):new this.Series(t,e,n.color,n.opacity,r),this.seriesArray.push(a),this.seriesMap[t]=a},moveTo:function(t,e,n){var i=this.seriesMap[t];i.moves.push({action:"moveTo",x:e,y:n})},lineTo:function(t,e,n){var i=this.seriesMap[t];i.moves.push({action:"lineTo",x:e,y:n})},dashedLineTo:function(t,e,n,i){var r=this.seriesMap[t];r.moves.push({action:"dashedLineTo",x:e,y:n,pattern:i})},quadraticCurveTo:function(t,e,n,i,r){var a=this.seriesMap[t];a.moves.push({action:"quadraticCurveTo",x0:e,y0:n,x:i,y:r})},addText:function(t,e,n,i,r,a,o){var s=this.seriesMap[t];s.text.push({text:e,x:n,y:i,bg:r})},drawText:function(t,e){for(var n=0;n<e.text.length;n++){var i=e.text[n];if(i.bg){var r=i.width?i.width:t.measureText(i.text).width,a=i.height?i.height:12,o=t.fillStyle;t.fillStyle=i.bg,"right"==t.textAlign?t.fillRect(i.x,i.y+a/2,-r,-a):t.fillRect(i.x,i.y+a/2,r,a),t.fillStyle=o}t.fillText(i.text,i.x,i.y)}},draw:function(t,e){for(var n=t.lineWidth,i=t.fillStyle,r=t.strokeStyle,a=t.globalAlpha,o=0;o<this.seriesArray.length;o++){var s=this.seriesArray[o];if(!e||s.name==e){t.beginPath(),t.lineWidth=s.width,t.globalAlpha=s.opacity,t.fillStyle=s.color,t.strokeStyle=s.color;for(var l=0;l<s.moves.length;l++){var u=s.moves[l];"quadraticCurveTo"==u.action?t[u.action](u.x0,u.y0,u.x,u.y):"dashedLineTo"==u.action?t[u.action](s.moves[l-1].x,s.moves[l-1].y,u.x,u.y,u.pattern):t[u.action](u.x,u.y)}"fill"==s.strokeOrFill?t.fill():t.stroke(),t.closePath(),this.drawText(t,s),t.lineWidth=1}}t.lineWidth=n,t.fillStyle=i,t.strokeStyle=r,t.globalAlpha=a}},STX.innerHTML=function(t,e){window.MSApp?MSApp.execUnsafeLocalFunction(function(){t.innerHTML=e}):t.innerHTML=e},STX.loadUI=function(t,e){var n=document.createElement("iframe");n.src=t+"?"+STX.uniqueID(),n.hidden=!0,n.addEventListener("load",function(t){return function(){var n=null;try{n=t.contentDocument||t.contentWindow.document}catch(t){console.log(t),e(t)}if(n&&!n.title){var i=n.body.innerHTML;document.body.removeChild(t);var r=document.createElement("div");STX.innerHTML(r,i);for(var a=0;a<r.children.length;a++){var o=r.children[a].cloneNode(!0);document.body.appendChild(o)}e()}}}(n),!1),document.body.appendChild(n)},CanvasRenderingContext2D.prototype.dashedLineTo=function(t,e,n,i,r){var a=function(t,e){return t-e<=1e-8},o=function(t,e){return t-e>=-1e-8},s=function(t,e){return Math.min(t,e)},l=function(t,e){return Math.max(t,e)},u={thereYet:o,cap:s},c={thereYet:o,cap:s};e-i>0&&(c.thereYet=a,c.cap=l),t-n>0&&(u.thereYet=a,u.cap=l),this.moveTo(t,e);for(var h=t,p=e,d=0,f=!0;!u.thereYet(h,n)||!c.thereYet(p,i);){var g=Math.atan2(i-e,n-t),m=r[d];h=u.cap(n,h+Math.cos(g)*m),p=c.cap(i,p+Math.sin(g)*m),f?this.lineTo(h,p):this.moveTo(h,p),d=(d+1)%r.length,f=!f}},CanvasRenderingContext2D.prototype.stxLine=function(t,e,n,i,r,a,o,s){this.beginPath(),this.lineWidth=o,this.strokeStyle=r,this.globalAlpha=a,s?this.dashedLineTo(t,e,n,i,s):(this.moveTo(t,e),this.lineTo(n,i)),this.stroke(),this.closePath(),this.lineWidth=1},CanvasRenderingContext2D.prototype.stxCircle=function(t,e,n,i){this.beginPath(),this.arc(t,e,n,0,2*Math.PI,!1),i&&this.fill(),this.stroke(),this.closePath()},STX.textLabel=function(t,e,n,i,r){i.canvasFont(r);var a,o=i.getCanvasFontSize(r),s=i.canvasStyle(r),l=i.chart.context,u=n.split("\n"),c=0;for(a=0;a<u.length;a++){var h=i.chart.context.measureText(u[a]);h.width>c&&(c=h.width)}var p=u.length*o;l.textBaseline="alphabetic",l.strokeStyle=s["border-left-color"],l.fillStyle=s["background-color"],l.beginPath(),l.moveTo(t,e),l.lineTo(t+c+10,e),l.lineTo(t+c+10,e+p+2),l.lineTo(t,e+p+2),l.lineTo(t,e),l.stroke(),l.fill(),l.closePath(),l.strokeStyle=s.color,l.fillStyle=s.color,l.textBaseline="top";var d=0;for(a in u)l.fillText(u[a],t+5,e+d+1),d+=o},STX.focus=function(t,e){if(STX.isSurface||e){var n=0;isNaN(e)||(n=e),setTimeout(function(){t.focus()},e)}else t.focus()},STX.blur=function(t){t||(t=document.activeElement),t&&t.blur(),window.focus()},STX.findNodesByText=function(t,e){if(t.innerHTML==e)return[t];for(var n=[],i=0;i<t.childNodes.length;i++){var r=STX.findNodesByText(t.childNodes[i],e);r&&(n=n.concat(r))}return n.length?n:null},STX.hideByText=function(t,e){for(var n=STX.findNodesByText(t,e),i=0;i<n.length;i++)n[i].style.display="none"},STX.intersectLineLineX=function(t,e,n,i,r,a,o,s){var l=(a-r)*(n-o)-(s-o)*(t-r),u=(s-o)*(e-t)-(a-r)*(i-n),c=l/u;return t+c*(e-t)},STX.intersectLineLineY=function(t,e,n,i,r,a,o,s){var l=(a-r)*(n-o)-(s-o)*(t-r),u=(s-o)*(e-t)-(a-r)*(i-n),c=l/u;return n+c*(i-n)},STX.outerWidth=function(t){var e=t.offsetWidth;return e+=STX.stripPX(getComputedStyle(t).marginLeft),e+=STX.stripPX(getComputedStyle(t).marginRight)},STX.fillTransparentCanvas=function(t,e,n,i){var r=t.globalCompositeOperation;t.globalCompositeOperation="destination-over",t.fillStyle=e,t.fillRect(0,0,n,i),t.globalCompositeOperation=r},STX.readablePeriodicity=function(t){var e=t.layout.periodicity,n=t.layout.interval;return t.isDailyInterval(n)||("minute"!=t.layout.interval&&(e=t.layout.interval*t.layout.periodicity),n="min"),e%60===0&&(e/=60,n="hour"),e+" "+t.translateIf(n.capitalize())},STX.postAjax=function(t,e,n,i,r,a){function o(e){var n={};if(t.responseHeaders){for(var i=e.getAllResponseHeaders(),r=i.split("\n"),a=0;a<r.length;a++){for(var o=r[a].split(":");o[1]&&" "==o[1].charAt(0);)o[1]=o[1].substring(1);""!==o[0]&&(n[o.shift()]=o.join(":"))}return n}}"string"==typeof t&&(t={url:t,payload:e,cb:n,contentType:i,noEpoch:r,asynchronous:a,method:null,responseHeaders:!1}),null!==t.asynchronous&&"undefined"!=typeof t.asynchronous||(t.asynchronous=!0);var s=STX.getAjaxServer(t.url);if(!s)return!1;var l=new Date;t.noEpoch||(t.url.indexOf("?")==-1?t.url+="?"+l.getTime():t.url+="&"+l.getTime());var u=t.method;if(u||(u=t.payload?"POST":"GET"),!STX.isIE9&&!STX.isIE8||s.constructor==XMLHttpRequest){if(s.open(u,t.url,t.asynchronous),t.contentType||(t.contentType="application/x-www-form-urlencoded"),t.payload&&s.setRequestHeader("Content-Type",t.contentType),t.headers)for(var c in t.headers)s.setRequestHeader(c,t.headers[c])}else t.url=t.url.replace("https:",window.location.protocol),s.open(u,t.url,t.asynchronous),s.onload=function(){t.cb(200,s.responseText,o(s))},s.onerror=function(){t.cb(0,null,{})},s.onprogress=function(){};s.onreadystatechange=function(){4==s.readyState&&(200!=s.status?t.cb(s.status,s.responseText,o(s)):t.cb(200,s.responseText,o(s)))};try{s.send(t.payload)}catch(e){t.cb(0,e,{})}return!0},STX.log10=function(t){return Math.log(t)/Math.LN10},window.getComputedStyle||(window.getComputedStyle=function(t,e){var n={};for(var i in t.currentStyle)"undefined"!=typeof t.currentStyle[i]&&"outline"!=i&&"outlineWidth"!=i&&(n[i]=t.currentStyle[i]);return n.getPropertyValue=function(t){var e=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),e.test(t)&&(t=t.replace(e,function(){return arguments[2].toUpperCase()})),this[t]?this[t]:null},n}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){for(var n=e||0,i=this.length;n<i;n++)if(this[n]===t)return n;return-1}),STX.newChild=function(t,e,n,i){var r=document.createElement(e);return n&&(r.className=n),t.appendChild(r),i&&(r.innerHTML=i),r},STX.androidDoubleTouch=null,STX.clickTouch=function(t,e){function n(t,e){return function(t){if(STX.androidDoubleTouch){if((new Date).getTime()-STX.androidDoubleTouch<500)return;STX.androidDoubleTouch=(new Date).getTime()}else STX.androidDoubleTouch=(new Date).getTime();e(t)}}STX.ipad||STX.iphone?t.ontouchend=e:STX.isAndroid?t.onclick=n(t,e):t.onclick=e},STX.installTapEvent=function(t,e){var n=function(t){var n=document.createEvent("Event");n.initEvent("stxtap",!0,!0),"undefined"==typeof t.pageX&&(t.pageX=t.clientX,t.pageY=t.clientY),n.pageX=t.pageX,n.pageY=t.pageY,t.target.dispatchEvent(n),e&&e.stopPropagation&&t.stopPropagation()};STX.safeClickTouch(t,n,e)},STX.safeClickTouch=function(t,e,n){function i(t,n){return function(i){if(!(n.safety&&n.safety.recentlyDragged||(i||(i=event),i.which&&i.which>=2||i.button&&i.button>=2))){var r=Date.now();r-STX.safeClickTimer<750&&t!=STX.safeClickLastWhich||(STX.safeClickLastWhich=t,e(i),STX.safeClickTimer=r)}}}n||(n={}),STX.safeClickTimer||(STX.safeClickTimer=0),n.allowMultiple||STX.clearSafeClickTouches(t),n.registeredClick=!1,t.safeClickTouchEvents||(t.safeClickTouchEvents=[]);var r=i("mouseup",n),a=i("touchend",n),o=i("pointerup",n);if(STX.safeClickTouchEvent){var s=i(STX.safeClickTouchEvent,n);t.addEventListener(STX.safeClickTouchEvent,s);var l={};l[STX.safeClickTouchEvent]=s,t.safeClickTouchEvents.push(l)}else"onpointerup"in document?(t.addEventListener("pointerup",o),t.safeClickTouchEvents.push({pointerup:o})):("onmouseup"in document&&t.addEventListener("mouseup",r),"ontouchend"in document&&t.addEventListener("touchend",a),t.safeClickTouchEvents.push({mouseup:r,touchend:a}))},STX.clearSafeClickTouches=function(t){if(t.safeClickTouchEvents){for(var e=0;e<t.safeClickTouchEvents.length;e++){var n=t.safeClickTouchEvents[e];for(var i in n){var r=n[i];t.removeEventListener(i,r)}}t.safeClickTouchEvents=null}},STX.safeDrag=function(t,e,n,i){function r(t){function r(t){if(t.touches){if(t.touches.length>=1)return t.touches[0].pageX;if(t.changedTouches&&t.changedTouches.length>=1)return t.changedTouches[0].pageX}return"undefined"==typeof t.pageX?t.clientX:t.pageX}function c(t){if(t.touches){if(t.touches.length>=1)return t.touches[0].pageY;if(t.changedTouches&&t.changedTouches.length>=1)return t.changedTouches[0].pageY}return"undefined"==typeof t.pageY?t.clientY:t.pageY}var h={mousedown:{move:"mousemove",up:"mouseup"},pointerdown:{move:"pointermove",up:"pointerup"},touchstart:{move:"touchmove",up:"touchend"}};return function(p){if(!o){o=!0,STXChart.ignoreTouch=!0;var d=function(t){t&&t.preventDefault&&t.preventDefault(),u.recentlyDragged=!0,t.displacementX=r(t)-s,t.displacementY=c(t)-l,n(t)};n&&document.body.addEventListener(h[t].move,d),document.body.addEventListener(h[t].up,function(e){STXChart.ignoreTouch=!1,n&&document.body.removeEventListener(h[t].move,d),document.body.removeEventListener(h[t].up,arguments.callee),e.displacementX=r(e)-s,e.displacementY=c(e)-l,i&&i(e),setTimeout(function(t){return function(){t.recentlyDragged=!1}}(u),50)}),setTimeout(function(){o=!1},a),s=r(p),l=c(p),e&&e(p)}}}var a=100,o=!1,s=0,l=0,u={recentlyDragged:!1};return t.addEventListener("mousedown",r("mousedown")),t.addEventListener("pointerdown",r("pointerdown")),t.addEventListener("touchstart",r("touchstart")),u},STX.hideKeyboard=function(t){var e=document.activeElement;"INPUT"!=e.tagName&&"TEXTAREA"!=e.tagName||(e.blur(),window.focus(),t&&(t===document.body||document.body.contains(t))&&t.focus())},STX.loadScript=function(t,e){if(STX.loadedScripts||(STX.loadedScripts={}),STX.loadedScripts[t])return void(e&&e());var n=document.createElement("SCRIPT");n.async=!0,n.onload=function(){STX.loadedScripts[t]=!0,e&&e()},"undefined"!=typeof isIE8&&(n.onreadystatechange=function(){"loaded"==n.readyState&&(STX.loadedScripts[t]=!0,e&&setTimeout(e,0))});var i=t;i=i.indexOf("?")==-1?i+"?"+Date.now():i+"&"+Date.now(),n.src=i;var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r.nextSibling)},STX.loadWidget=function(t,e){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.media="screen",n.href=t+".css?"+Date.now(),n.onload=function(){STX.loadUI(t+".html",function(n){n?e(n):STX.loadScript(t+".js",e)})};var i=document.getElementsByTagName("link"),r=i[i.length-1];r.parentNode.insertBefore(n,r.nextSibling)},STX.minMax=function(t,e){for(var n=Number.MAX_VALUE,i=Number.MAX_VALUE*-1,r=0;r<t.length;r++){var a=t[r];if(a){var o=a[e];(o||0===o)&&(isNaN(o)||(n=Math.min(n,o),i=Math.max(i,o)))}}return[n,i]},STX.replaceFields=function(t,e){if(!t)return t;var n={};for(var i in t){var r=t[i],a=e[i];if(a||(a=i),r&&"object"==typeof r)if(r.constructor==Array)for(var o=n[a]=new Array(r.length),s=0;s<o.length;s++){var l=r[s];"object"==typeof l?o[s]=STX.replaceFields(l,e):o[s]=l}else n[a]=STX.replaceFields(r,e);else n[a]=r}return n},STX.removeNullValues=function(t){var e=STX.clone(t);for(var n in e)e[n]||delete e[n];return e},STX.reverseObject=function(t){var e={};for(var n in t)e[t[n]]=n;return e},STX.inputKeyEvents=function(t,e){t.addEventListener("keyup",function(n){var i=window.event?event.keyCode:n.keyCode;switch(i){case 13:e();break;case 27:t.value=""}},!1)},STX.drawLegendItem=function(t,e,n,i,r){r||(r=1);var a=e[0],o=e[1],s=10,l=10,u=t.chart.context;return u.globalAlpha=r,u.fillStyle=i,u.fillRect(a,o,s,l),u.globalAlpha=1,a+=s+2,u.fillStyle=t.defaultColor,u.fillText(n,a,o),a+=u.measureText(n).width+6,[a,o]},STX.drawLegend=function(t,e){var n=e.coordinates,i=t.chart.context;i.textBaseline="top";var r=i.font;t.canvasFont("stx-legend",i),n||(n=e.chart.legend);var a=[n.x,n.y],o=t.defaultColor,s=t.layout.chartType;if(t.chart.customChart&&t.chart.customChart.chartType&&(s=t.chart.customChart.chartType),!e.noBase){var l;if(t.chart.baseLegendColors instanceof Array){var u=t.chart.baseLegendColors;if(u.length>1){var c=i.createLinearGradient(a[0],a[1],a[0]+10,a[1]);for(l=0;l<u.length;l++)c.addColorStop(l/(u.length-1),u[l]);o=c}else o=u.length>0?u[0]:t.getCanvasColor("stx_line_chart")}else if("mountain"==s){l=t.canvasStyle("stx_mountain_chart");var h=l.borderTopColor;h&&"transparent"!=h&&(o=h)}else o=null;o&&(e.chart.symbolDisplay?symbol=e.chart.symbolDisplay:symbol=e.chart.symbol,a=STX.drawLegendItem(t,a,symbol,o))}for(var p in e.legendColorMap){var d=p;e.legendColorMap[p].display&&(d=e.legendColorMap[p].display),a=STX.drawLegendItem(t,a,d,e.legendColorMap[p].color,e.legendColorMap[p].opacity)}i.font=r},STX.I18N=function(){},STX.I18N.hereDoc=function(t){return t.toString().replace(/^[^\/]+\/\*!?/,"").replace(/\*\/[^\/]+$/,"")},STX.I18N.language="en",STX.I18N.longMonths={zh:!0,ja:!0},STX.I18N.findAllTextNodes=function(){if(!$$("stashedTextNodes")){stashedTextNodes=document.createElement("div"),stashedTextNodes.id="stashedTextNodes",stashedTextNodes.style.display="none",document.body.appendChild(stashedTextNodes);for(var t=document.querySelectorAll("#chart-view input,textarea,.editable_content"),e=0;e<t.length;e++){var n=t[e].getAttribute("placeholder");if(n){var i=stashedTextNodes.appendChild(document.createTextNode(n));i.originalData=i.data,i.placeholderFor=t[e]}}}for(var r=document.createTreeWalker(document.getElementById("chart-view"),NodeFilter.SHOW_TEXT,null,!1),a=r.nextNode(),o=new RegExp("^\\s*$"),s={};a;){if(!o.test(a.nodeValue)&&"SCRIPT"!=a.parentNode.tagName){var l=a.originalData||a.nodeValue;s[l]||(s[l]=[]),s[l].push(a)}a=r.nextNode()}if(STX.Studies.studyLibrary)for(var u in STX.Studies.studyLibrary){null===s[u]&&(s[u]=[]);var c=STX.Studies.studyLibrary[u];if(c.inputs)for(var h in c.inputs)s[h]||(s[h]=[]);if(c.outputs)for(var p in c.outputs)s[p]||(s[p]=[])}return s},STX.I18N.missingWordList=function(t){t||(t=STX.I18N.language);var e=STX.I18N.findAllTextNodes(),n={},i=STX.I18N.wordLists[t];i||(i={});for(var r in e)"undefined"==typeof i[r]&&(n[r]="");return n},STX.I18N.printableMissingWordList=function(t){var e=JSON.stringify(STX.I18N.missingWordList(t));return e=e.replace(/\",\"/g,'",\n"')},STX.I18N.translateUI=function(t){t||(t=STX.I18N.language);var e=STX.I18N.findAllTextNodes(),n=STX.I18N.wordLists[t];if(n)for(var i in e)for(var r=n[i],a=e[i],o=0;o<a.length;o++)a[o].originalData||(a[o].originalData=a[o].data),a[o].placeholderFor?r?a[o].placeholderFor.setAttribute("placeholder",r):a[o].placeholderFor.setAttribute("placeholder",a[o].originalData):r?a[o].data=r:a[o].data=a[o].originalData},STX.I18N.translate=function(t,e){e||(e=STX.I18N.language);var n=STX.I18N.wordLists[e];if(!n)return t;var i=n[t];return i?i:t},STX.I18N.convertCSV=function(t){t||(t=STX.I18N.csv);for(var e=t.split("\n"),n=e[0],i=n.split(","),r=0;r<i.length;r++){var a=i[r];STX.I18N.wordLists[a]||(STX.I18N.wordLists[a]={})}for(var o=1;o<e.length;o++)for(var s=e[o].split(","),l=s[0],u=1;u<s.length;u++)STX.I18N.wordLists[i[u]][l]=s[u]},STX.I18N.setLanguage=function(t,e,n,i){STX.I18N.convertCSV(i),STX.I18N.language=e,STX.I18N.translateUI(),n||(n=STX.I18N.translate),t.translationCallback=n},STX.I18N.setLocale=function(t,e,n){if(window.OldIntl)return t.setLocale(e),void(n&&n(null));var i="locale-data/jsonp/"+e+".js",r=document.createElement("SCRIPT");r.async=!0,r.src=i;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(r,a.nextSibling),r.onload=function(){t.setLocale(e),n&&n(null)},r.onerror=function(){n&&n("cannot load script")}},STX.calculateTradingDecimalPlaces=function(t){var e=t.chart,n=2,i=50;if(e.masterData&&e.masterData.length>i)for(var r=1;r<i;r++){var a=e.masterData.length-r;if(a<0)break;var o=e.masterData[a];if(o.Close&&"number"==typeof o.Close){var s=o.Close.toString(),l=s.indexOf(".");if(l!=-1){var u=s.length-l-1;u>n&&(n=u)}}}return n>e.yAxis.maxDecimalPlaces&&(n=e.yAxis.maxDecimalPlaces),n},STX.Market=function(t,e){if(this.market_def={},this.name="",this.rules=[],this.normalHours=[],this.extraHours=[],this.data_feed_adjusted_secs=0,this.class_name="Market",this.UDEF="undefined","string"==typeof t){var n=STX.Market[t];n!=this.UDEF&&(t=n())}typeof t!=this.UDEF&&(this.market_def=t,t.name&&(this.name=t.name),typeof t.rules!=this.UDEF&&t.rules instanceof Array&&(this.rules=t.rules),this._initialize(e))},STX.Market.MINUTE="minute",STX.Market.HOUR="hour",STX.Market.DAY="day",STX.Market.WEEK="week",STX.Market.MONTH="month",STX.Market.UDEF="undefined",STX.Market.prototype._initialize=function(t){var e=STX.Market._tz[this.market_def.market_tz],n=STX.Market._tz[this.market_def.data_feed_tz];e&&n&&(this.data_feed_adjusted_secs=STX.Market._calculate_adjusted_seconds(e,n)),this._create_time_segments(this)},STX.Market._tz={},STX.Market._tz.Zulu="+00:00",STX.Market._tz.Africa_Algiers="+01:00",STX.Market._tz.Africa_Blantyre="+02:00",STX.Market._tz.Africa_Addis_Ababa="+03:00",STX.Market._tz.Asia_Dubai="+04:00",STX.Market._tz.Asia_Kabul="+04:30",STX.Market._tz.Indian_Maldives="+05:00",STX.Market._tz.Asia_Calcutta="+05:30",STX.Market._tz.Asia_Bishkek="+06:00",STX.Market._tz.Asia_Rangoon="+06:30",STX.Market._tz.Asia_Bangkok="+07:00",STX.Market._tz.Asia_Hong_Kong="+08:00",STX.Market._tz.Asia_Pyongyang="+08:30",STX.Market._tz.Asia_Seoul="+09:00",STX.Market._tz.Australia_Adelaide="+09:30",STX.Market._tz.Australia_Melbourne="+10:00",STX.Market._tz.Australia_LHI="+10:30",STX.Market._tz.Pacific_Guadalcanal="+11:00",STX.Market._tz.Pacific_Norfolk="+11:30",STX.Market._tz.Antarctica_South_Pole="+12:00",STX.Market._tz.Pacific_Chatham="+12:45",STX.Market._tz.Pacific_Midway="-11:00",STX.Market._tz.Pacific_Honolulu="-10:00",STX.Market._tz.America_Anchorage="-09:00",STX.Market._tz.America_Dawson="-08:00",STX.Market._tz.America_Denver="-07:00",STX.Market._tz.America_Chicago="-06:00",STX.Market._tz.America_New_York="-05:00",STX.Market._tz.America_Barbados="-04:00",STX.Market._tz.America_St_Johns="-03:30",STX.Market._tz.America_Araguaina="-03:00",STX.Market._tz.America_Noronha="-02:00",STX.Market._tz.America_Scoresbysund="-01:00",STX.Market.NYSE=function(){return{name:"NYSE",market_tz:"America_New_York",data_feed_tz:"America_New_York",rules:[{dayofweek:1,open:"09:30",close:"16:00"},{dayofweek:2,open:"09:30",close:"16:00"},{dayofweek:3,open:"09:30",close:"16:00"},{dayofweek:4,open:"09:30",close:"16:00"},{dayofweek:5,open:"09:30",close:"16:00"},{date:"*-12-25",open:"00:00",close:"00:00"},{date:"*-07-04",open:"00:00",close:"00:00"},{date:"*-01-01",open:"00:00",close:"00:00"},{date:"01/02/2012",open:"00:00",close:"00:00"},{date:"2017-01-02"},{date:"2016-01-18"},{date:"2016-02-15"},{date:"2016-03-25"},{date:"2016-05-30"},{date:"2016-09-05"},{date:"2016-11-24"},{date:"2016-11-25",open:"9:30",close:"13:00"},{date:"2016-12-26"},{date:"2015-01-19"},{date:"2015-02-16"},{date:"2015-04-03"},{date:"2015-05-25"},{date:"2015-07-03"},{date:"2015-09-07"},{date:"2015-11-26"},{date:"2015-11-27",open:"9:30",close:"13:00"},{date:"2015-12-24",open:"9:30",close:"13:00"},{date:"2014-01-20"},{date:"2014-02-17"},{date:"2014-04-18"},{date:"2014-05-26"},{date:"2014-09-01"},{date:"2014-11-27"},{date:"2014-07-03",open:"9:30",close:"13:00"},{date:"2014-11-28",open:"9:30",close:"13:00"},{date:"2014-12-24",open:"9:30",close:"13:00"},{date:"2013-01-21"},{date:"2013-02-18"},{date:"2013-03-29"},{date:"2013-05-27"},{date:"2013-09-02"},{date:"2013-11-28"},{date:"2013-07-03",open:"9:30",close:"13:00"},{date:"2013-11-29",open:"9:30",close:"13:00"},{date:"2013-12-24",open:"9:30",close:"13:00"},{date:"2012-01-16"},{date:"2012-02-20"},{date:"2012-04-06"},{date:"2012-05-28"},{date:"2012-09-03"},{date:"2012-10-29"},{date:"2012-10-30"},{date:"2012-11-22"},{date:"2012-07-03",open:"9:30",close:"13:00"},{date:"2012-11-23",open:"9:30",close:"13:00"},{date:"2012-12-24",open:"9:30",close:"13:00"}]}},STX.Market.prototype.newIterator=function(t,e,n){return n||(n=1),new STX.Market.Iterator(this,t,e,n)},STX.Market.prototype.wasOpenDaily=function(t){return this.wasOpen(t,!1)},STX.Market.prototype.wasOpenIntraDay=function(t){return this.wasOpen(t,!0)},STX.Market.prototype.wasOpen=function(t,e){var n,i=!1,r=!1,a=t.getFullYear(),o=t.getMonth()+1,s=t.getDay(),l=t.getDate(),u=t.getHours(),c=t.getMinutes(),h=t.getSeconds(),p=60*u*60+60*c+h;this.zopen_hour=0,this.zopen_minute=0,this.zclose_hour=0,this.zclose_minute=0,this.zmatch_open=!1,typeof e===STX.Market.UDEF&&(e=!0);var d;for(d=0;d<this.normalHours.length;d++)if(n=this.normalHours[d],i=n.dayofweek===s,i&&e&&(i=p>=n.open&&p<n.close),i){this.zopen_hour=n.open_parts.hours,this.zopen_minute=n.open_parts.minutes,this.zclose_hour=n.close_parts.hours,this.zclose_minute=n.close_parts.minutes,this.zmatch_open=p===n.open,this.zseg_match=n;break}for(d=0;d<this.extraHours.length;d++)if(n=this.extraHours[d],("*"===n.year||a===n.year)&&o===n.month&&l===n.day&&(r=p>=n.open&&p<=n.close,!r&&i&&(i=!1),r)){this.zopen_hour=n.open_parts.hours,this.zopen_minute=n.open_parts.minutes,this.zclose_hour=n.close_parts.hours,this.zclose_minute=n.close_parts.minutes,this.zmatch_open=p===n.open,this.zseg_match=n;break}return i||r},STX.Market.prototype._wasClosed=function(t){return!this.wasOpen(t,!0)},STX.Market.prototype._wasOpen=function(t){return this.wasOpen(t,!0)},STX.Market.prototype._isOpen=function(){return!1},STX.Market._split_timezone_offset=/^(.\d\d):(\d\d)$/,STX.Market.prototype._create_time_segments=function(t){for(var e=0;e<t.rules.length;e++){var n=JSON.parse(JSON.stringify(t.rules[e]));typeof n.open===STX.Market.UDEF&&typeof n.close===STX.Market.UDEF&&(n.open="00:00",n.close="00:00");try{typeof n.dayofweek!==STX.Market.UDEF?(n.year="*",STX.Market._timeSegment._create_day_of_week_segment(t,n)):typeof n.date!==STX.Market.UDEF?(n.isDayOfWeek=!1,n.dayofweek=-1,STX.Market._timeSegment._create_date_time_segment(t,n)):console.log("Error, unknown rule type "+n)}catch(t){console.log("Error, creating market rules "+t)}}},STX.Market._calculate_adjusted_seconds=function(t,e){var n=STX.Market._split_timezone_offset.exec(t),i=STX.Market._split_timezone_offset.exec(e),r=0,a=0;if(n&&i){var o=parseInt(n[1],10),s=parseInt(n[2],10),l=parseInt(i[1],10),u=parseInt(i[2],10),c=Math.abs(o)+Math.abs(l);a=s-u,r=o-l,o<0&&l<0?o!==l&&(r=Math.abs(o)-Math.abs(l)):o>0&&l>0?(o!==l&&(r*=-1),a*=-1):0===o&&l<0?r*=-1:0===o&&l>0?(r*=-1,a*=-1):o<0&&0===l?r*=-1:o>0&&0===l?(r*=-1,a*=-1):o>0&&l<0?(r=c,r*=-1):o<0&&l>0&&(r=c,a*=-1)}return r=60*r*60,a=60*a,r+a},STX.Market._timeSegment={},STX.Market._timeSegment.wild_card_iso=/^(\*)-(\d\d)-(\d\d)$/,STX.Market._timeSegment.regular_iso=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,STX.Market._timeSegment.split_hours_minutes=/^(\d\d):(\d\d)$/,STX.Market._timeSegment.split_hour_minutes=/^(\d):(\d\d)$/,STX.Market._timeSegment._hash_code=function(t){var e,n,i,r=0;if(0===t.length)return r;for(e=0,i=t.length;e<i;e++)n=t.charCodeAt(e),r=(r<<5)-r+n,r|=0;return r},STX.Market._timeSegment._split_hours_minutes=function(t){var e=STX.Market._timeSegment.split_hour_minutes.exec(t),n={hours:NaN,minutes:NaN};return null===e&&(e=STX.Market._timeSegment.split_hours_minutes.exec(t),null===e)?n:(n.hours=parseInt(e[1],10),n.minutes=parseInt(e[2],10),n)},STX.Market._timeSegment._create_day_of_week_segment=function(t,e){var n={isDayOfWeek:!0,dayofweek:e.dayofweek,date_str:"*",open_parts:STX.Market._timeSegment._split_hours_minutes(e.open),close_parts:STX.Market._timeSegment._split_hours_minutes(e.close),open:STX.Market._timeSegment._sec_since_midnight(t,e.open),close:STX.Market._timeSegment._sec_since_midnight(t,e.close)};n.hash_code=this._hash_code(n.open+n.close),t.normalHours.push(n)},STX.Market._timeSegment._create_date_time_segment=function(t,e){var n,i=this.regular_iso.exec(e.date);if(null===i){if(i=this.wild_card_iso.exec(e.date),null===i)return;n="*"}else n=parseInt(i[1],10);var r={isDayOfWeek:!1,dayofweek:-1,year:n,month:parseInt(i[2],10),day:parseInt(i[3],10),date_str:e.date,open_parts:STX.Market._timeSegment._split_hours_minutes(e.open),close_parts:STX.Market._timeSegment._split_hours_minutes(e.close),open:STX.Market._timeSegment._sec_since_midnight(t,e.open),close:STX.Market._timeSegment._sec_since_midnight(t,e.close)};r.hash_key=this._hash_code(r.date_str+r.open+r.close),t.extraHours.push(r)},STX.Market._timeSegment._sec_since_midnight=function(t,e){var n=e.split(":"),i=parseInt(n[0],10),r=parseInt(n[1],10),a=60*i*60+60*r;return a+t.data_feed_adjusted_secs},STX.Market.Iterator=function(t,e,n,i){this.market=t,this.begin=e,this.interval=n,this.multiple=isNaN(parseInt(i,10))?1:i,this.clock=new STX.Market.Iterator._Clock(t,n,this.multiple)},STX.Market.Iterator.prototype.next=function(t){return t?this.begin=this.clock.find_next(this.begin,t):this.begin=this.clock.find_next(this.begin,1),this.begin},STX.Market.Iterator.prototype.previous=function(t){return t?this.begin=this.clock.find_prev(this.begin,t):this.begin=this.clock.find_prev(this.begin,1),this.begin},STX.Market.Iterator.prototype.reset=function(t){this.begin=t},STX.Market.Iterator._Clock=function(t,e,n){this.market=t,this.interval=e,this.multiple=n,this.month_days={0:31,1:28,2:31,3:30,4:31,5:30,6:31,7:31,8:30,9:31,10:30,11:31},this.intervals=[],this.max_iters=10080,e===STX.Market.MINUTE||"minutes"===e?(this.find_next=this._f_next_minute,this.find_prev=this._f_prev_minute):e===STX.Market.HOUR||"hours"===e?(this.find_next=this._f_next_hour,this.find_prev=this._f_prev_hour):e===STX.Market.DAY||"days"===e?(this.find_next=this._f_next_day,this.find_prev=this._f_prev_day):e===STX.Market.WEEK||"weeks"===e?(this.find_next=this._f_next_week,this.find_prev=this._f_prev_week):e!==STX.Market.MONTH&&"months"!==e||(this.find_next=this._f_next_month,this.find_prev=this._f_prev_month)},STX.Market.Iterator._Clock.prototype._date=function(){return new Date(this.year,this.month,this.date,this.hour,this.minutes,this.seconds)},STX.Market.Iterator._Clock.prototype._set_leap_year=function(){this.year%4===0?this.month_days[1]=29:this.month_days[1]=28},STX.Market.Iterator._Clock.prototype._reset_days=function(){this.date>this.month_days[this.month]&&(this.date=this.month_days[this.month]);var t=new Date(this.year,this.month,this.date,this.hour,this.minutes,this.seconds);this.day=t.getDay()},STX.Market.Iterator._Clock.prototype._set_start=function(t){this.year=t.getFullYear(),this.month=t.getMonth(),this.date=t.getDate(),this.day=t.getDay(),this.hour=t.getHours(),this.minutes=t.getMinutes(),this.seconds=t.getSeconds(),this._set_leap_year()},STX.Market.Iterator._Clock.prototype._tick_month=function(){this.month+=1,this.month>11&&(this.month=0,this.year+=1,this._set_leap_year()),this._reset_days()},STX.Market.Iterator._Clock.prototype._tick_day=function(){this.day+=1,this.date+=1,this.day>6&&(this.day=0),this.date>this.month_days[this.month]&&(this.date=1,this._tick_month())},STX.Market.Iterator._Clock.prototype._tick_week=function(){for(var t=0;t<7;)this._tick_day(),t++},STX.Market.Iterator._Clock.prototype._tick_hour=function(){this.hour+=1,this.hour>23&&(this.hour=0,this._tick_day())},STX.Market.Iterator._Clock.prototype._tick_minute=function(){this.minutes+=this.multiple,this.minutes>59&&(this.minutes=this.minutes-60,this._tick_hour())},STX.Market.Iterator._Clock.prototype._utick_month=function(){this.month-=1,this.month<0&&(this.month=11,this.year-=1,this._set_leap_year()),this.date<1&&(this.date=this.month_days[this.month]),this._reset_days()},STX.Market.Iterator._Clock.prototype._utick_week=function(){for(var t=0;t<7;)this._utick_day(),t++},STX.Market.Iterator._Clock.prototype._utick_day=function(){this.day-=1,this.date-=1,this.day<0&&(this.day=6),this.date<1&&(this._utick_month(),this.date=this.month_days[this.month])},STX.Market.Iterator._Clock.prototype._utick_hour=function(){this.hour-=1,this.hour<0&&(this.hour=23,this._utick_day())},STX.Market.Iterator._Clock.prototype._utick_minute=function(){this.minutes-=this.multiple,this.minutes<0&&(this.minutes=this.minutes+60,this._utick_hour())},STX.Market.Iterator._Clock.prototype._wind_multiple=function(t,e){for(var n=0;n<t;)e.call(this),n++},STX.Market.Iterator._Clock.NOOP=function(){},STX.Market.Iterator._Clock.prototype._align_hmins_secs=function(){this.hour=this.market.zopen_hour,this._align_mins_secs()},STX.Market.Iterator._Clock.prototype._align_mins_secs=function(){this.minutes=this.market.zopen_minute,this.seconds=0},STX.Market.Iterator._Clock.prototype._base_impl=function(t,e,n,i,r,a,o){this._set_start(t),r.call(this),this._wind_multiple(e,n);for(var s=this._date(),l=0;!a.call(this.market,s);)if(i.call(this),s=this._date(),l++,l>this.max_iters){var u="Warning! max iterations ("+this.max_iters;return u+=") reached with no rule match.",console.log(u),s}return o.call(this),this._date()},STX.Market.Iterator._Clock.prototype._minute_impl=function(t,e,n,i){var r=this._base_impl(t,e,n,i,STX.Market.Iterator._Clock.NOOP,this.market.wasOpenIntraDay,STX.Market.Iterator._Clock.NOOP);if(1===this.multiple)return r;var a=this.market.zseg_match.hash_code;if(!this.intervals[a]){var o={};this.intervals[a]=o;for(var s=this.market.zopen_hour,l=this.market.zopen_minute;s<=this.market.zclose_hour&&(l>59&&(l-=60,s++),o[String(s)+l]=!0,l+=this.multiple,!(s===this.market.zclose_hour&&l>=this.market.zclose_minute)););}for(;!this.intervals[a][String(this.hour)+this.minutes];)n.call(this);return this._date()},STX.Market.Iterator._Clock.prototype._hour_impl=function(t,e,n,i){for(var r=0,a=t;r<this.multiple;)r++,
a=this._base_impl(a,e,n,i,STX.Market.Iterator._Clock.NOOP,this.market.wasOpenIntraDay,this._align_mins_secs);return a},STX.Market.Iterator._Clock.prototype._day_impl=function(t,e,n,i){for(var r=0,a=t;r<this.multiple;)r++,a=this._base_impl(a,e,n,i,STX.Market.Iterator._Clock.NOOP,this.market.wasOpenDaily,this._align_hmins_secs);return a},STX.Market.Iterator._Clock.prototype._week_seek_start=function(){for(;0!==this.day;)this._utick_day()},STX.Market.Iterator._Clock.prototype._week_impl=function(t,e,n,i){for(var r=0,a=t;r<this.multiple;)r++,a=this._base_impl(a,e,n,i,this._week_seek_start,this.market.wasOpenDaily,this._align_hmins_secs);return a},STX.Market.Iterator._Clock.prototype._month_seek_start=function(){1!==this.date&&(this.date=1,this._set_start(this._date()))},STX.Market.Iterator._Clock.prototype._month_impl=function(t,e,n,i){for(var r=0,a=t;r<this.multiple;)r++,a=this._base_impl(a,e,n,i,this._month_seek_start,this.market.wasOpenDaily,this._align_hmins_secs);return a},STX.Market.Iterator._Clock.prototype._f_next_minute=function(t,e){return this._minute_impl(t,e,this._tick_minute,this._tick_minute)},STX.Market.Iterator._Clock.prototype._f_prev_minute=function(t,e){return this._minute_impl(t,e,this._utick_minute,this._utick_minute)},STX.Market.Iterator._Clock.prototype._f_next_hour=function(t,e){return this._hour_impl(t,e,this._tick_hour,this._tick_minute)},STX.Market.Iterator._Clock.prototype._f_prev_hour=function(t,e){return this._hour_impl(t,e,this._utick_hour,this._utick_minute)},STX.Market.Iterator._Clock.prototype._f_next_day=function(t,e){return this._day_impl(t,e,this._tick_day,this._tick_minute)},STX.Market.Iterator._Clock.prototype._f_prev_day=function(t,e){return this._day_impl(t,e,this._utick_day,this._utick_minute)},STX.Market.Iterator._Clock.prototype._f_next_week=function(t,e){return this._week_impl(t,e,this._tick_week,this._tick_day)},STX.Market.Iterator._Clock.prototype._f_prev_week=function(t,e){return this._week_impl(t,e,this._utick_week,this._tick_day)},STX.Market.Iterator._Clock.prototype._f_next_month=function(t,e){return this._month_impl(t,e,this._tick_month,this._tick_day)},STX.Market.Iterator._Clock.prototype._f_prev_month=function(t,e){return this._month_impl(t,e,this._utick_month,this._tick_day)},STX.Market.Iterator._Clock.prototype.find_next=null,STX.Market.Iterator._Clock.prototype.find_prev=null,STX.convertTimeZone=function(t,e,n){var i=new timezoneJS.Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds(),e);return i.setTimezone(n),i},STX.convertToLocalTime=function(t,e){var n=t.getSeconds(),i=t.getMilliseconds(),r=new timezoneJS.Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),e);return new Date(r.getTime()+1e3*n+i)},STX.Market.NYSE_CLOSINGS=[{date:"01/02/2012"},{date:"01/16/2012"},{date:"02/20/2012"},{date:"04/06/2012"},{date:"05/28/2012"},{date:"07/04/2012"},{date:"09/03/2012"},{date:"10/29/2012"},{date:"10/30/2012"},{date:"11/22/2012"},{date:"12/25/2012"},{date:"01/01/2013"},{date:"01/21/2013"},{date:"02/18/2013"},{date:"03/29/2013"},{date:"05/27/2013"},{date:"07/04/2013"},{date:"09/02/2013"},{date:"11/28/2013"},{date:"12/25/2013"},{date:"01/01/2014"},{date:"01/20/2014"},{date:"02/17/2014"},{date:"04/18/2014"},{date:"05/26/2014"},{date:"07/04/2014"},{date:"09/01/2014"},{date:"11/27/2014"},{date:"12/25/2014"},{date:"01/01/2015"},{date:"01/19/2015"},{date:"02/16/2015"},{date:"04/03/2015"},{date:"05/25/2015"},{date:"07/03/2015"},{date:"09/07/2015"},{date:"11/26/2015"},{date:"12/25/2015"},{date:"01/01/2016"},{date:"01/18/2016"},{date:"02/15/2016"},{date:"03/25/2016"},{date:"05/30/2016"},{date:"07/04/2016"},{date:"09/05/2016"},{date:"11/24/2016"},{date:"12/26/2016"},{date:"01/02/2017"},{date:"07/03/2012",sessions:[{close:"13:00"}]},{date:"11/23/2012",sessions:[{close:"13:00"}]},{date:"12/24/2012",sessions:[{close:"13:00"}]},{date:"07/03/2013",sessions:[{close:"13:00"}]},{date:"11/29/2013",sessions:[{close:"13:00"}]},{date:"12/24/2013",sessions:[{close:"13:00"}]},{date:"07/03/2014",sessions:[{close:"13:00"}]},{date:"11/28/2014",sessions:[{close:"13:00"}]},{date:"12/24/2014",sessions:[{close:"13:00"}]},{date:"11/27/2015",sessions:[{close:"13:00"}]},{date:"12/24/2015",sessions:[{close:"13:00"}]},{date:"11/25/2016",sessions:[{close:"13:00"}]}],STX.Market.NYSE={sessions:{0:[],6:[],"*":[{open:"09:30",close:"16:00"}]},closings:STX.Market.NYSE_CLOSINGS,timezone:"America/New_York"},STX.Market.GLOBEX={sessions:{0:[{open:"15:00"}],5:[{close:"18:00"}],6:[],"*":[{}]},closings:STX.Market.NYSE_CLOSINGS,timezone:"America/New_York"},STX.Market.SHANGHAI={sessions:{0:[],6:[],"*":[{open:"09:30",close:"11:30"},{open:"13:00",close:"15:00"}]},closings:[{date:"01/01/2014"},{date:"01/31/2014"},{date:"02/03/2014"},{date:"02/04/2014"},{date:"02/05/2014"},{date:"02/06/2014"},{date:"04/07/2014"},{date:"05/01/2014"},{date:"05/02/2014"},{date:"06/02/2014"},{date:"09/08/2014"},{date:"10/01/2014"},{date:"10/02/2014"},{date:"10/03/2014"},{date:"10/06/2014"},{date:"01/01/2015"},{date:"01/02/2015"},{date:"02/19/2015"},{date:"02/20/2015"},{date:"02/23/2015"},{date:"02/24/2015"},{date:"02/25/2015"},{date:"04/06/2015"},{date:"05/01/2015"},{date:"06/22/2015"},{date:"09/28/2015"},{date:"10/01/2015"},{date:"10/02/2015"},{date:"10/05/2015"},{date:"10/06/2015"},{date:"10/07/2015"},{date:"01/01/2016"},{date:"02/08/2016"},{date:"02/09/2016"},{date:"02/10/2016"},{date:"02/11/2016"},{date:"02/12/2016"},{date:"04/04/2016"},{date:"05/02/2016"},{date:"06/10/2016"},{date:"09/16/2016"},{date:"10/03/2016"},{date:"10/04/2016"},{date:"10/05/2016"},{date:"10/06/2016"},{date:"10/07/2016"},{date:"01/02/2017"}],timezone:"Asia/Hong_Kong"},STX.LegacyMarket=function(){},STX.LegacyMarket.isForeignSymbol=function(t){return!!t&&t.indexOf(".")!=-1},STX.LegacyMarket.isFuturesSymbol=function(t){return!!t&&(0===t.indexOf("/")&&"/"!=t)},STX.LegacyMarket.isForexSymbol=function(t){return!!t&&(!STX.LegacyMarket.isForeignSymbol(t)&&(!STX.LegacyMarket.isFuturesSymbol(t)&&(!(t.length<6||t.length>7)&&((6!=t.length||"X"!=t[5])&&!!/\^?[A-Za-z]{6}/.test(t)))))},STX.LegacyMarket.isForexMetal=function(t,e){return!!t&&(!!STX.LegacyMarket.isForexSymbol(t)&&("^"!=t.charAt(0)&&(t="^"+t),",XAU,XPD,XPT,XAG,".indexOf(","+t.substr(4,3)+",")!=-1||!e&&",XAU,XPD,XPT,XAG,".indexOf(","+t.substr(1,3)+",")!=-1))},STX.LegacyMarket.isForexFuturesSymbol=function(t){return!!STX.LegacyMarket.isForexSymbol(t)||!!STX.LegacyMarket.isFuturesSymbol(t)},STX.LegacyMarket.isMarketDay=function(t,e){if(e||(e=STX.getETDateTime()),STX.LegacyMarket.isForexFuturesSymbol(t)){if(6==e.getDay())return!1;if(STX.LegacyMarket.isFuturesSymbol(t)&&STX.LegacyMarket.isHoliday(e,t))return!1}else{if(0===e.getDay())return!1;if(6==e.getDay())return!1;if(STX.LegacyMarket.isHoliday(e,t))return!1}return!0},STX.LegacyMarket.isMarketOpen=function(t,e){if(!STX.LegacyMarket.isMarketDay(t))return!1;var n=STX.getETDateTime();return!STX.LegacyMarket.isForeignSymbol(t)&&STX.LegacyMarket.isHalfDay(n)&&(endHour=13),(n.getHours()>e.chart.beginHour||n.getHours()==e.chart.beginHour&&n.getMinutes()>e.chart.beginMinute)&&(n.getHours()<e.chart.endHour||n.getHours()==e.chart.endHour&&n.getMinutes()<e.chart.endMinute+5)},STX.LegacyMarket.isAfterMarket=function(t){if(!STX.LegacyMarket.isMarketDay(t))return!1;var e=STX.getETDateTime();return e.getHours()>16||16==e.getHours()&&e.getMinutes()>0},STX.LegacyMarket.isAfterDelayed=function(t){if(!STX.LegacyMarket.isMarketDay(t))return!1;var e=STX.getETDateTime();return e.getHours()>16||16==e.getHours()&&e.getMinutes()>20},STX.LegacyMarket.isForexOpen=function(t,e){var n=STX.LegacyMarket.isForexMetal(e),i=new Date;if(t&&(i=STX.convertTimeZone(t,null,"America/New_York")),6==i.getDay())return!1;if(n&&17==i.getHours()&&i.getMinutes()>=15)return!1;if(5==i.getDay()&&i.getHours()>=17&&(!n||i.getHours()>17))return!1;if(0===i.getDay()&&n&&i.getHours()<=17)return!1;if(i.getDay()>=1&&i.getDay()<5)return!0;var r=STX.convertTimeZone(i,"America/New_York","Pacific/Auckland");return 0!==r.getDay()&&!(1==r.getDay()&&r.getHours()<8)},STX.LegacyMarket.getNextOpen=function(t,e,n,i){var r=STX.convertTimeZone(t,n,"America/New_York");if(!e)return r;var a,o;if(STX.LegacyMarket.isForexMetal(e))a=18,o=0;else if(STX.LegacyMarket.isForexSymbol(e)){var s=STX.convertTimeZone(t,n,"Australia/Sydney");s.setHours(7),s=STX.convertTimeZone(s,"Australia/Sydney","America/New_York"),a=s.getHours(),o=0}else STX.LegacyMarket.isForeignSymbol(e)?(a=0,o=0):(a=i.chart.beginHour,o=i.chart.beginMinute);var l=r.getHours()<a||r.getHours()==a&&r.getMinutes()<o;if(r.setHours(a),r.setMinutes(o),r.setSeconds(0),r.setMilliseconds(0),l&&(r=STX.LegacyMarket.decDate(r)),r=STX.LegacyMarket.incDate(r),STX.LegacyMarket.isForexFuturesSymbol(e)&&!STX.LegacyMarket.isForexMetal(e))for(;0!==r.getDay();)r=STX.LegacyMarket.incDate(r);for(;!STX.LegacyMarket.isMarketDay(e,r);)r=STX.LegacyMarket.incDate(r);return r=STX.convertTimeZone(r,"America/New_York",n),new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())},STX.LegacyMarket.getPreviousClose=function(t,e,n,i){var r=STX.convertTimeZone(t,n,"America/New_York");if(!e)return r;var a,o;STX.LegacyMarket.isForexMetal(e)?(a=17,o=15):STX.LegacyMarket.isForexSymbol(e)?(a=17,o=0):STX.LegacyMarket.isForeignSymbol(e)?(a=23,o=59):(a=i.chart.endHour,o=i.chart.endMinute,STX.LegacyMarket.isHalfDay(t)&&(a=13));var s=r.getHours()>a||r.getHours()==a&&r.getMinutes()>o;if(r.setHours(a),r.setMinutes(o),r.setSeconds(0),r.setMilliseconds(0),s&&(r=STX.LegacyMarket.incDate(r)),r=STX.LegacyMarket.decDate(r),STX.LegacyMarket.isForexFuturesSymbol(e)&&!STX.LegacyMarket.isForexMetal(e))for(;5!=r.getDay();)r=STX.LegacyMarket.decDate(r);for(;!STX.LegacyMarket.isMarketDay(e,r);)r=STX.LegacyMarket.decDate(r);return r=STX.convertTimeZone(r,"America/New_York",n),new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())};STX.LegacyMarket.getMarketOffset=function(t,e,n,i){n||(n=t.chart.symbol);var r=STX.LegacyMarket.isForexSymbol(n),a=n.indexOf(".")>-1&&n.split(".").pop(),o=null;r?(o="America/New_York",i&&(o=i)):a&&(o=t.quoteDriver?t.quoteDriver.quoteFeed.exchangeZones[a]:CIQ&&CIQ.realTimeDataSource?(new STX.QuoteFeed[CIQ.realTimeDataSource]).exchangeZones[a]:STX.QuoteFeed.Xignite.Utility.timeZone[a]),o||(o="America/New_York");var s=new Date(e.getTime()+6e4*e.getTimezoneOffset());return o&&o.indexOf("UTC")!=-1||(s=STX.convertTimeZone(s,"UTC",o)),new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()).getTime()-e.getTime()};STX.LegacyMarket.getHours=function(t,e){return t?STX.LegacyMarket.isForexFuturesSymbol(t)?{beginHour:0,beginMinute:0,endHour:23,endMinute:59}:STX.LegacyMarket.isForeignSymbol(t)?{beginHour:0,beginMinute:0,endHour:23,endMinute:59}:e?{beginHour:8,beginMinute:0,endHour:20,endMinute:0}:{beginHour:9,beginMinute:30,endHour:16,endMinute:0}:{beginHour:9,beginMinute:30,endHour:16,endMinute:0}},STX.LegacyMarket.holidayArray=[],STX.LegacyMarket.halfDayArray=[],STX.LegacyMarket.holidayHash={},STX.LegacyMarket.halfDayHash={},STX.LegacyMarket.initializeHolidays=function(){STX.LegacyMarket.hashOffset=0,STX.LegacyMarket.holidayArray.push(new Date("01/02/2012").getTime()),STX.LegacyMarket.holidayArray.push(new Date("01/16/2012").getTime()),STX.LegacyMarket.holidayArray.push(new Date("02/20/2012").getTime()),STX.LegacyMarket.holidayArray.push(new Date("04/06/2012").getTime()),STX.LegacyMarket.holidayArray.push(new Date("05/28/2012").getTime()),STX.LegacyMarket.holidayArray.push(new Date("07/04/2012").getTime()),STX.LegacyMarket.holidayArray.push(new Date("09/03/2012").getTime()),STX.LegacyMarket.holidayArray.push(new Date("10/29/2012").getTime()),STX.LegacyMarket.holidayArray.push(new Date("10/30/2012").getTime()),STX.LegacyMarket.holidayArray.push(new Date("11/22/2012").getTime()),STX.LegacyMarket.holidayArray.push(new Date("12/25/2012").getTime()),STX.LegacyMarket.holidayArray.push(new Date("01/01/2013").getTime()),STX.LegacyMarket.holidayArray.push(new Date("01/21/2013").getTime()),STX.LegacyMarket.holidayArray.push(new Date("02/18/2013").getTime()),STX.LegacyMarket.holidayArray.push(new Date("03/29/2013").getTime()),STX.LegacyMarket.holidayArray.push(new Date("05/27/2013").getTime()),STX.LegacyMarket.holidayArray.push(new Date("07/04/2013").getTime()),STX.LegacyMarket.holidayArray.push(new Date("09/02/2013").getTime()),STX.LegacyMarket.holidayArray.push(new Date("11/28/2013").getTime()),STX.LegacyMarket.holidayArray.push(new Date("12/25/2013").getTime()),STX.LegacyMarket.holidayArray.push(new Date("01/01/2014").getTime()),STX.LegacyMarket.holidayArray.push(new Date("01/20/2014").getTime()),STX.LegacyMarket.holidayArray.push(new Date("02/17/2014").getTime()),STX.LegacyMarket.holidayArray.push(new Date("04/18/2014").getTime()),STX.LegacyMarket.holidayArray.push(new Date("05/26/2014").getTime()),STX.LegacyMarket.holidayArray.push(new Date("07/04/2014").getTime()),STX.LegacyMarket.holidayArray.push(new Date("09/01/2014").getTime()),STX.LegacyMarket.holidayArray.push(new Date("11/27/2014").getTime()),STX.LegacyMarket.holidayArray.push(new Date("12/25/2014").getTime()),STX.LegacyMarket.holidayArray.push(new Date("01/01/2015").getTime()),STX.LegacyMarket.holidayArray.push(new Date("01/19/2015").getTime()),STX.LegacyMarket.holidayArray.push(new Date("02/16/2015").getTime()),STX.LegacyMarket.holidayArray.push(new Date("04/03/2015").getTime()),STX.LegacyMarket.holidayArray.push(new Date("05/25/2015").getTime()),STX.LegacyMarket.holidayArray.push(new Date("07/03/2015").getTime()),STX.LegacyMarket.holidayArray.push(new Date("09/07/2015").getTime()),STX.LegacyMarket.holidayArray.push(new Date("11/26/2015").getTime()),STX.LegacyMarket.holidayArray.push(new Date("12/25/2015").getTime()),STX.LegacyMarket.holidayArray.push(new Date("01/01/2016").getTime()),STX.LegacyMarket.holidayArray.push(new Date("01/18/2016").getTime()),STX.LegacyMarket.holidayArray.push(new Date("02/15/2016").getTime()),STX.LegacyMarket.holidayArray.push(new Date("03/25/2016").getTime()),STX.LegacyMarket.holidayArray.push(new Date("05/30/2016").getTime()),STX.LegacyMarket.holidayArray.push(new Date("07/04/2016").getTime()),STX.LegacyMarket.holidayArray.push(new Date("09/05/2016").getTime()),STX.LegacyMarket.holidayArray.push(new Date("11/24/2016").getTime()),STX.LegacyMarket.holidayArray.push(new Date("12/26/2016").getTime()),STX.LegacyMarket.holidayArray.push(new Date("01/02/2017").getTime()),STX.LegacyMarket.halfDayArray.push(new Date("07/03/2012").getTime()),STX.LegacyMarket.halfDayArray.push(new Date("11/23/2012").getTime()),STX.LegacyMarket.halfDayArray.push(new Date("12/24/2012").getTime()),STX.LegacyMarket.halfDayArray.push(new Date("07/03/2013").getTime()),STX.LegacyMarket.halfDayArray.push(new Date("11/29/2013").getTime()),STX.LegacyMarket.halfDayArray.push(new Date("12/24/2013").getTime()),STX.LegacyMarket.halfDayArray.push(new Date("07/03/2014").getTime()),STX.LegacyMarket.halfDayArray.push(new Date("11/28/2014").getTime()),STX.LegacyMarket.halfDayArray.push(new Date("12/24/2014").getTime()),STX.LegacyMarket.halfDayArray.push(new Date("11/27/2015").getTime()),STX.LegacyMarket.halfDayArray.push(new Date("12/24/2015").getTime()),STX.LegacyMarket.halfDayArray.push(new Date("11/25/2016").getTime());var t,e,n;for(e=0;e<STX.LegacyMarket.holidayArray.length;e++)t=STX.LegacyMarket.holidayArray[e],n=t-t%864e5,STX.LegacyMarket.holidayHash[n]=!0;for(e=0;e<STX.LegacyMarket.halfDayArray.length;e++)t=STX.LegacyMarket.halfDayArray[e],n=t-t%864e5,STX.LegacyMarket.halfDayHash[n]=!0},timezoneJS&&STX.LegacyMarket.initializeHolidays(),STX.LegacyMarket.isHoliday=function(t,e){var n=t.getTime()+STX.LegacyMarket.hashOffset;return n-=n%864e5,!!STX.LegacyMarket.holidayHash[n]},STX.LegacyMarket.isHalfDay=function(t,e){var n=t.getTime()+STX.LegacyMarket.hashOffset;return n-=n%864e5,!!STX.LegacyMarket.halfDayHash[n]},STX.LegacyMarket.incDate=function(t,e){return e||(e=1),t.setDate(t.getDate()+e),t},STX.LegacyMarket.decDate=function(t,e){return e||(e=1),t.setDate(t.getDate()-e),t},STX.LegacyMarket.nextDay=function(t,e,n){e||(e=1);for(var i=new Date(t.getTime()),r=0;r<e;r++)if(i=STX.LegacyMarket.incDate(i),!n.calendarAxis)for(;!STX.LegacyMarket.isMarketDay(n.chart.symbol,i);)i=STX.LegacyMarket.incDate(i);return i},STX.LegacyMarket.prevDay=function(t,e,n){e||(e=1);for(var i=new Date(t.getTime()),r=0;r<e;r++)if(i=STX.LegacyMarket.decDate(i),!n.calendarAxis)for(;!STX.LegacyMarket.isMarketDay(n.chart.symbol,i);)i=STX.LegacyMarket.decDate(i);return i},STX.LegacyMarket.nextPeriod=function(t,e,n,i,r,a){if(STXChart.isDailyInterval(e))return t;r||(r=i.chart.symbol);var o=t.getTime(),s=e;"minute"==e&&(s=1),"tick"==e&&(s=i.chart.xAxis.futureTicksInterval),o+=n*s*60*1e3;var l=new Date(o);if(!i.calendarAxis)if(STX.LegacyMarket.isForexFuturesSymbol(r))STX.LegacyMarket.isForexOpen(l,r)||(l=new Date(STX.LegacyMarket.getNextOpen(l,r,a,i)));else{nyDate=STX.convertTimeZone(l,a,"America/New_York");var u=i.chart.endHour;if(!STX.LegacyMarket.isForeignSymbol(r)&&STX.LegacyMarket.isHalfDay(nyDate)&&(u=13),!STX.LegacyMarket.isMarketDay(r,nyDate)||nyDate.getHours()>u||nyDate.getHours()==u&&nyDate.getMinutes()>i.chart.endMinute||nyDate.getHours()<i.chart.beginHour||nyDate.getHours()==i.chart.beginHour&&nyDate.getMinutes()<i.chart.beginMinute)return new Date(STX.LegacyMarket.getNextOpen(l,r,a,i))}return l.setMilliseconds(0),l},STX.LegacyMarket.prevPeriod=function(t,e,n,i,r,a){if(STXChart.isDailyInterval(e))return t;r||(r=i.chart.symbol);var o=e;"minute"==e&&(o=1),"tick"==e&&(o=i.chart.xAxis.futureTicksInterval);var s=t.getTime();s-=n*o*60*1e3;var l=new Date(s);if(!i.calendarAxis)if(STX.LegacyMarket.isForexFuturesSymbol(r))STX.LegacyMarket.isForexOpen(l,r)||(l=new Date(STX.LegacyMarket.getPreviousClose(l,r,a,i)));else{nyDate=STX.convertTimeZone(l,a,"America/New_York");var u=i.chart.endHour;if(!STX.LegacyMarket.isForeignSymbol(r)&&STX.LegacyMarket.isHalfDay(nyDate)&&(u=13),!STX.LegacyMarket.isMarketDay(r,nyDate)||nyDate.getHours()>u||nyDate.getHours()==u&&nyDate.getMinutes()>i.chart.endMinute||nyDate.getHours()<i.chart.beginHour||nyDate.getHours()==i.chart.beginHour&&nyDate.getMinutes()<i.chart.beginMinute)return new Date(STX.LegacyMarket.getPreviousClose(l,r,a,i))}return l.setMilliseconds(0),l},STX.LegacyMarket.nextWeek=function(t,e,n){var i=new Date(t.getTime());if(0===i.getDay())return new Date(i.setDate(i.getDate()+7));e||(e=1);for(var r=0;r<e;r++){for(var a=0;a<14&&(t=STX.LegacyMarket.nextDay(t,1,n),!(t.getDay()<=i.getDay()));a++);14==a&&console.log("nextWeek function skipped 14 days. Probably infinite loop. Check dates in dataSet. Sent in: "+STX.yyyymmddhhmm(i)+" New Date : "+STX.yyyymmddhhmm(t)),i=new Date(t.getTime())}return t},STX.LegacyMarket.prevWeek=function(t,e,n){var i=new Date(t.getTime());e||(e=1);for(var r=0;r<e;r++){if(0===i.getDay())t=i,t.setDate(t.getDate()-7);else for(;;)if(t=STX.LegacyMarket.prevDay(t,1,n),t.getDay()<=i.getDay())break;i=new Date(t.getTime())}return t},STX.LegacyMarket.nextMonth=function(t,e,n){e||(e=1);for(var i=0;i<e;i++)for(var r=new Date(t.getTime());;)if(t=STX.LegacyMarket.nextDay(t,1,n),t.getMonth()!=r.getMonth())break;return t},STX.LegacyMarket.prevMonth=function(t,e,n){e||(e=1);for(var i=0;i<e;i++)for(var r=new Date(t.getTime());;)if(t=STX.LegacyMarket.prevDay(t,1,n),t.getMonth()!=r.getMonth())break;return t},STX.LegacyMarket.beginDay=function(t,e){return 0!==e.chart.beginHour?60*e.chart.beginHour+e.chart.beginMinute:0===t.getDay()?900:60*e.chart.beginHour+e.chart.beginMinute},STX.LegacyMarket.endDay=function(t,e){return 0!==e.chart.endHour?60*e.chart.endHour+e.chart.endMinute:5==t.getDay()?1080:60*e.chart.endHour+e.chart.endMinute},STX.LegacyMarket.getDailyCycleStartTime=function(t,e){var n=null,i=STX.convertTimeZone(t,null,"America/New_York");STX.LegacyMarket.isForexMetal(e.symbol)?i.setHours(18,0,0,0):STX.LegacyMarket.isForexFuturesSymbol(e.symbol)?i.setHours(17,0,0,0):n=e.dataSet[e.dataSet.length-1].displayDate.getTime()-e.dataSet[e.dataSet.length-1].DT.getTime(),null===n&&5==i.getDay()&&i.setDate(i.getDate()-1);var r=STX.convertTimeZone(i,"America/New_York");if(null===n)return r;var a=new Date(r.getTime()+n);return a.setHours(0,0,0,0),new Date(a.getTime()-n)},STX.LegacyMarket.isQuarterEnd=function(t){return 2==t.getMonth()?31==t.getDate()||5==t.getDay()&&(30==t.getDate()||29==t.getDate()):5==t.getMonth()?30==t.getDate()||5==t.getDay()&&(29==t.getDate()||28==t.getDate()):8==t.getMonth()?30==t.getDate()||5==t.getDay()&&(29==t.getDate()||28==t.getDate()):11==t.getMonth()&&(31==t.getDate()||5==t.getDay()&&(29==t.getDate()||30==t.getDate()))},STX.Studies=function(){},STX.Studies.actualOutputs=[],STX.Studies.studyPanelMap={},STX.Studies.colorPickerDiv=null,STX.Studies.StudyDescriptor=function(t,e,n,i,r,a){this.name=t,this.type=e,this.panel=n,this.inputs=i,this.outputs=r,this.libraryEntry=STX.Studies.studyLibrary[e],this.libraryEntry?("undefined"==typeof this.libraryEntry.inputs&&(this.libraryEntry.inputs={Period:14}),"undefined"==typeof this.libraryEntry.outputs&&(this.libraryEntry.outputs={Result:"auto"})):(this.libraryEntry={},("chart"==n||a&&"chart"==a.chartName)&&(this.libraryEntry.overlay=!0)),this.outputMap={},this.min=null,this.max=null,this.parameters=a},STX.Studies.generateID=function(t,e,n){var i=e;if(t&&(i=t.translateIf(i)),STX.isEmpty(n))return i;if(STX.Studies.studyLibrary[e].customRemoval)return e;id=i+" (";var r=!1;for(var a in n)if("Shading"!=a){r?id+=",":r=!0;var o=n[a];id+=o}return id+=")",id},STX.Studies.parseDialog=function(t,e){var n={},i={},r=t.study;e&&(r=e.translateIf(r));var a,o,s=t.querySelectorAll(".inputTemplate");for(a=0;a<s.length;a++)if("none"!=s[a].style.display){o=s[a].querySelectorAll(".stx-heading")[0].fieldName;var l=s[a].querySelectorAll(".stx-data")[0].childNodes[0],u=l.value;"checkbox"==l.getAttribute("type")?n[o]=l.checked:n[o]=u}var c=t.querySelectorAll(".outputTemplate");for(a=0;a<c.length;a++)if("none"!=c[a].style.display&&(o=c[a].querySelectorAll(".stx-heading")[0].fieldName,"undefined"!=typeof o)){var h=c[a].querySelectorAll(".stx-color")[0].style.backgroundColor;h||(h="auto"),i[o]=h}var p={};return STX.Studies.getCustomParameters(t,p),p.replaceID=t.replaceID,{inputs:n,outputs:i,parameters:p}},STX.Studies.go=function(t,e){var n=STX.Studies.parseDialog(t,e);return n=STX.Studies.addStudy(t.stx,t.study,n.inputs,n.outputs,n.parameters)},STX.Studies.getCustomParameters=function(t,e){var n=STX.Studies.studyLibrary[t.study];if(n&&n.parameters&&n.parameters.template&&n.parameters.init){var i=t.querySelectorAll("#"+n.parameters.template)[0];if(i)for(var r in n.parameters.init){var a=i.querySelectorAll("#"+r)[0];a&&("INPUT"==a.tagName?"checkbox"==a.type?e[r]=a.checked:e[r]=a.value:e[r]=a.style.backgroundColor)}}},STX.Studies.prepareStudy=function(t,e,n,i){if("undefined"==typeof e.calculateFN&&(e.useRawValues=!0),"undefined"==typeof e.seriesFN&&(e.seriesFN=STX.Studies.displaySeriesAsLine),i&&i.replaceID&&(STX.Studies.rejiggerDerivedStudies(t,i.replaceID,n.inputs.id,n.panel),delete i.replaceID),STX.isEmpty(n.outputMap))for(var r in n.outputs)e.useRawValues?n.outputMap[r]=r:n.outputMap[r+" "+n.name]=r;(e.overlay||n.inputs.Overlay)&&(t.overlays[n.name]=n),(e.underlay||n.inputs.Underlay)&&(t.overlays[n.name]=n),i&&i.replaceID&&(STX.Studies.rejiggerDerivedStudies(t,i.replaceID,n.inputs.id,n.panel),delete i.replaceID),e.feed?t.attachTagAlongQuoteFeed(e.feed):(n.chart.dataSet&&e.calculateFN&&t.createDataSet(),t.draw())},STX.Studies.rejiggerDerivedStudies=function(t,e,n,i){for(var r in t.layout.studies){var a=t.layout.studies[r],o=a.inputs.id,s=a.inputs.id.replace(e,n);if(a.inputs.Field&&a.inputs.Field.indexOf(e)!=-1){var l=a.name;a.inputs.Field=a.inputs.Field.replace(e,n),a.inputs.id=a.inputs.id.replace(e,n),a.inputs.display=a.inputs.display.replace(e,n),a.name=a.name.replace(e,n),a.outputMap={};for(var u in a.outputs)a.libraryEntry&&a.libraryEntry.useRawValues?a.outputMap[u]=u:a.outputMap[u+" "+a.name]=u;t.overlays[l]&&(delete t.overlays[l],t.overlays[a.name]=a),"chart"!=a.panel&&(a.panel=i),delete t.layout.studies[o],t.layout.studies[s]=a,STX.Studies.rejiggerDerivedStudies(t,o,s,i)}}},STX.Studies.addStudy=function(t,e,n,i,r,a){r||(r={}),r.chartName||(r.chartName="chart");var o=STX.Studies.studyLibrary[e];if(!n&&o&&o.inputs){n=STX.shallowClone(o.inputs);for(var s in n)n[s]instanceof Array&&(n[s]=n[s][0])}n||(n={Period:14}),!i&&o&&o.outputs&&(i=STX.shallowClone(o.outputs)),i||(i={Result:"auto"}),o||(o={},"chart"==a&&(o.overlay=!0)),n.id||(n.id=STX.Studies.generateID(t,e,n));var l=null;if(l=o.initializeFN?o.initializeFN(t,e,n,i,r,a):STX.Studies.initializeFN(t,e,n,i,r,a),l.chart=t.charts[r.chartName],!l)return void console.log("STX.Studies.addStudy: initializeFN() returned null for "+e);t.layout.studies||(t.layout.studies={}),delete t.layout.studies[l.inputs.id],t.layout.studies[l.inputs.id]=l,l.study=o,l.type=e;var u=t.panels[l.panel];STX.Studies.prepareStudy(t,o,l,r),t.changeOccurred("layout");var c=!1,h=!(o.overlay||o.underlay);if(t.editCallback&&(c=!0),t.callbacks.studyOverlayEdit&&!h&&(c=!0),t.callbacks.studyPanelEdit&&h&&(c=!0),c){var p=!1;for(var d in l.inputs)"id"!=d&&"display"!=d&&(p=!0);if(!p)for(var f in l.outputs)p=!0;if(p){var g;l.libraryEntry&&"undefined"!=typeof l.libraryEntry.edit?l.libraryEntry.edit&&(g=function(t,e,n,i){return function(){e.library.edit(e,{inputs:n,outputs:i,parameters:r})}}(t,l,n,i,r),t.setPanelEdit(u,g),l.editFunction=g):!h&&t.callbacks.studyOverlayEdit?(g=function(t,e,n,i,r){return function(){t.callbacks.studyOverlayEdit({stx:t,sd:e,inputs:n,outputs:i,parameters:r})}}(t,l,n,i,r),l.editFunction=g):t.editCallback?(g=function(t,n,i,a){return function(){var o=t.editCallback(t,n);STX.Studies.studyDialog(t,e,o,{inputs:i,outputs:a,parameters:r})}}(t,l,n,i,r),"chart"!=u.name&&t.setPanelEdit(u,g)):(g=function(t,e,n,i,r){return function(){t.callbacks.studyPanelEdit({stx:t,sd:e,inputs:n,outputs:i,parameters:r})}}(t,l,n,i,r),"chart"!=u.name&&(t.setPanelEdit(u,g),l.editFunction=g))}}return l},STX.Studies.quickAddStudy=function(t,e,n,i,r){return STX.Studies.addStudy(t,e,n,i,r)},STX.Studies.removeStudy=function(t,e){if(e.libraryEntry&&(e.libraryEntry.overlay||e.libraryEntry.underlay))t.removeOverlay(e.name),t.draw();else{var n=t.panels[e.panel];n&&t.panelClose(n)}},STX.Studies.studyDialog=function(t,e,n,i){n.study=e,n.stx=t,i&&i.inputs&&i.inputs.id?n.replaceID=i.inputs.id:n.replaceID&&delete n.replaceID;var r,a=t.chart,o=n.querySelectorAll("#inputs")[0],s=o.querySelectorAll(".inputTemplate");for(r=0;r<s.length;r++)"none"!=s[r].style.display&&o.removeChild(s[r]);var l=n.querySelectorAll("#outputs")[0],u=l.querySelectorAll(".outputTemplate");for(r=0;r<u.length;r++)"none"!=u[r].style.display&&l.removeChild(u[r]);var c=STX.Studies.studyLibrary[e];c||(c={}),"undefined"==typeof c.inputs&&(c.inputs={Period:14}),"undefined"==typeof c.outputs&&(c.outputs={Result:"auto"});for(r in c.inputs){var h=s[0].cloneNode(!0);o.appendChild(h),h.style.display="block",h.querySelectorAll(".stx-heading")[0].innerHTML=t.translateIf(r),h.querySelectorAll(".stx-heading")[0].fieldName=r;var p,d=null,f=c.inputs[r],g=i&&i.inputs&&null!==i.inputs[r]&&"undefined"!=typeof i.inputs[r]?i.inputs[r]:f;if(f.constructor==Number)d=document.createElement("input"),d.setAttribute("type","number"),d.value=g;else if(f.constructor==String)if("ma"==f||"ema"==f||"tma"==f||"vma"==f||"wma"==f||"tsma"==f||"smma"==f||"vdma"==f)d=document.createElement("select"),p=document.createElement("OPTION"),p.value="simple",p.text=t.translateIf("Simple"),d.add(p,null),p=document.createElement("OPTION"),p.value="exponential",p.text=t.translateIf("Exponential"),d.add(p,null),p=document.createElement("OPTION"),p.value="time series",p.text=t.translateIf("Time Series"),d.add(p,null),p=document.createElement("OPTION"),p.value="triangular",p.text=t.translateIf("Triangular"),d.add(p,null),p=document.createElement("OPTION"),p.value="variable",p.text=t.translateIf("Variable"),d.add(p,null),p=document.createElement("OPTION"),p.value="vidya",p.text=t.translateIf("VIDYA"),d.add(p,null),p=document.createElement("OPTION"),p.value="weighted",p.text=t.translateIf("Weighted"),d.add(p,null),p=document.createElement("OPTION"),p.value="welles wilder",p.text=t.translateIf("Welles Wilder"),d.add(p,null),d.value=g,"ma"==g&&(d.selectedIndex=0),"ema"==g&&(d.selectedIndex=1),"tsma"==g&&(d.selectedIndex=2),"tma"==g&&(d.selectedIndex=3),"vma"==g&&(d.selectedIndex=4),"vdma"==g&&(d.selectedIndex=5),"wma"==g&&(d.selectedIndex=6),"smma"==g&&(d.selectedIndex=7);else if("field"==f){d=document.createElement("select");var m=0;for(var y in a.dataSet[a.dataSet.length-1]){if(["Open","High","Low","Close","Adj_Close"].indexOf(y)==-1){if(STX.Studies.actualOutputs.indexOf(y)==-1)continue;var v=!1;if(i&&i.sd)for(var S in i.sd.outputs)y==S+" "+i.sd.name&&(v=!0);if(v)continue}p=document.createElement("OPTION"),p.value=y,p.text=t.translateIf(y),d.add(p,null),"Close"==y&&(d.selectedIndex=m),m++}"field"!=g&&(d.value=g)}else d=document.createElement("input"),d.type="text",d.value=g;else if(f.constructor==Boolean)d=document.createElement("input"),d.setAttribute("type","checkbox"),g!==!0&&"true"!=g||(d.checked=!0);else if(f.constructor==Array){d=document.createElement("select");for(var T=0;T<f.length;T++)p=document.createElement("OPTION"),p.value=f[T],p.text=t.translateIf(f[T]),d.add(p,null);g.constructor!=Array&&(d.value=g)}d&&h.querySelectorAll(".stx-data")[0].appendChild(d)}for(r in c.outputs){var b=u[0].cloneNode(!0);l.appendChild(b),b.style.display="block",b.querySelectorAll(".stx-heading")[0].innerHTML=t.translateIf(r),b.querySelectorAll(".stx-heading")[0].fieldName=r;var x=b.querySelectorAll(".stx-color")[0],M=c.outputs[r];i&&i.outputs&&i.outputs[r]&&(M=i.outputs[r]),"auto"!=M?(x.style.backgroundColor=M,STX.unappendClassName(x,"stxColorDarkChart")):"#FFFFFF"==t.defaultColor&&STX.appendClassName(x,"stxColorDarkChart"),STX.attachColorPicker(x,n)}var w=n.querySelectorAll("#parameters")[0];if(w&&(STX.clearNode(w),c.parameters&&c.parameters.template&&c.parameters.init)){if(c.parameters.condition&&!c.parameters.condition(t))return;var A=document.querySelectorAll("#"+c.parameters.template)[0];if(A){A=A.cloneNode(!0),A.style.display="block",w.appendChild(A);for(var C in c.parameters.init){var k=c.parameters.init[C];i&&i.parameters&&(i.parameters[C]||i.parameters[C]===!1)&&(k=i.parameters[C]);var D=A.querySelectorAll("#"+C)[0];D&&("INPUT"==D.tagName?"checkbox"==D.type?D.checked=k===!0||"true"==k:D.value=k:("auto"==k?(k="","#FFFFFF"==t.defaultColor&&STX.appendClassName(D,"stxColorDarkChart")):STX.unappendClassName(D,"stxColorDarkChart"),D.style.backgroundColor=k,STX.attachColorPicker(D,n)))}}}},STX.Studies.displayStudies=function(t,e,n){var i=t.layout.studies;if(i){n&&(STX.Studies.actualOutputs=[]);for(var r in i){var a=i[r],o=a.libraryEntry;if(o){if(n){if(!a.underlay&&!o.underlay)continue}else if(a.underlay||o.underlay)continue;var s=t.panels[a.panel];if(s){if(s.chart==e&&("bypass"!=a.libraryEntry.range&&(s.min=null),!s.hidden)){a.permanent&&(s.closeX?s.closeX.style.display="none":s.close.style.display="none");var l=a.chart.dataSegment;for(var u in a.outputMap)STX.Studies.actualOutputs.push(u);o&&"undefined"!=typeof o.seriesFN?o.seriesFN&&s&&o.seriesFN(t,a,l):STX.Studies.displaySeriesAsLine(t,a,l)}}else delete i[r]}}}},STX.Studies.calculateMinMaxForDataPoint=function(t,e,n){for(var i=Number.MAX_VALUE,r=Number.MAX_VALUE*-1,a=0;a<n.length;a++){var o=n[a][e];null!==o&&"undefined"!=typeof o&&(isNaN(o)||(i=Math.min(o,i),r=Math.max(o,r)))}return{min:i,max:r}},STX.Studies.determineMinMax=function(t,e,n){var i=t.panels[e.panel];if(i){if(!i.min&&0!==i.min)if(e.min||0===e.min)i.min=e.min,i.max=e.max;else{if(e.libraryEntry&&"0 to 100"==e.libraryEntry.range)i.min=0,i.max=100;else if(e.libraryEntry&&"-1 to 1"==e.libraryEntry.range)i.min=-1,i.max=1;else if(!e.libraryEntry||"bypass"!=e.libraryEntry.range){
i.min=Number.MAX_VALUE,i.max=Number.MAX_VALUE*-1;for(var r=0;r<n.length;r++){var a=n[r];if(a){var o;for(var s in e.outputMap)o=a[s],null!==o&&"undefined"!=typeof o&&(isNaN(o)||(i.min=Math.min(o,i.min),i.max=Math.max(o,i.max)));for(var l=0;l<=5;l++)o=a[e.name+"_hist"+(l?l:"")],null!==o&&"undefined"!=typeof o&&(isNaN(o)||(i.min=Math.min(o,i.min),i.max=Math.max(o,i.max)))}}}e.libraryEntry&&"0 to max"==e.libraryEntry.range&&(i.min=0)}(i.highValue||0===i.highValue)&&i.highValue>i.max&&(i.max=i.highValue),(i.lowValue||0===i.lowValue)&&i.lowValue<i.min&&(i.min=i.lowValue),(i.yAxis.max||0===i.yAxis.max)&&(i.max=i.yAxis.max),(i.yAxis.min||0===i.yAxis.min)&&(i.min=i.yAxis.min),i.max==i.min&&(i.max=2*i.max,i.min=0),i.shadow=i.max-i.min,i.max>0&&i.min<0&&(i.shadow=i.max+i.min*-1),i.yAxis.high=i.max,i.yAxis.low=i.min,i.yAxis.shadow=i.yAxis.high-i.yAxis.low}},STX.Studies.createYAxis=function(t,e,n,i){if(!i.axisDrawn){i.height=i.bottom-i.top,STX.Studies.determineMinMax(t,e,n);var r;e.libraryEntry&&(e.libraryEntry.yaxis||e.libraryEntry.yAxisFN)?(r={dontDraw:!0},t.createYAxis(i,r),t.drawYAxis(i,r),e.libraryEntry.yaxis&&e.libraryEntry.yaxis(t,e),e.libraryEntry.yAxisFN&&e.libraryEntry.yAxisFN(t,e)):(r={noDraw:e.parameters&&e.parameters.studyOverZonesEnabled},e.libraryEntry&&("0 to 100"==e.libraryEntry.range?r.range=[0,100]:"-1 to 1"==e.libraryEntry.range&&(r.range=[-1,1]),e.libraryEntry.yAxis&&e.libraryEntry.yAxis.ground&&(r.ground=!0)),t.createYAxis(i,r),t.drawYAxis(i,r)),e.libraryEntry&&e.libraryEntry.centerline?STX.Studies.drawHorizontal(t,e,n,e.libraryEntry.centerline):i.min<0&&i.max>0&&STX.Studies.drawHorizontal(t,e,n,0),i.axisDrawn=!0}},STX.Studies.displaySeriesAsLine=function(t,e,n){if(n.length){var i=t.panels[e.panel];if(i&&!i.hidden){i.name!=e.chart.name&&STX.Studies.createYAxis(t,e,n,i),STX.Studies.drawZones(t,e,n);for(var r in e.outputMap)STX.Studies.displayIndividualSeriesAsLine(t,e,i,r,n)}}},STX.Studies.fillArea=function(t,e,n,i,r){if(e.length){t.chart.context.lineWidth=0;var a=t.chart.context.globalAlpha;i||0===i||(i=.2),t.chart.context.globalAlpha=i,"auto"==n&&(n=t.defaultColor),t.chart.context.fillStyle=n;var o=Number.MAX_VALUE*-1,s=Number.MAX_VALUE,l=t.panels[r];l&&(o=l.yAxis.top,s=l.yAxis.bottom,t.chart.context.save(),t.chart.context.beginPath(),t.chart.context.rect(l.left,o,l.width,s-o),t.chart.context.clip()),t.chart.context.beginPath(),t.chart.context.moveTo(e[0][0],e[0][1]);for(var u=1;u<e.length;u++)t.chart.context.lineTo(e[u][0],e[u][1]);t.chart.context.closePath(),t.chart.context.fill(),l&&t.chart.context.restore(),t.chart.context.lineWidth=1,t.chart.context.globalAlpha=a}},STX.Studies.displayIndividualSeriesAsLine=function(t,e,n,i,r){n.height||(n.height=n.bottom-n.top),STX.Studies.studyPanelMap[i]=e;var a=t.chart.context;a.lineWidth=1,e.highlight&&(a.lineWidth=3);var o=e.outputs[e.outputMap[i]];"auto"==o&&(o=t.defaultColor),a.strokeStyle=o;var s=0;n.yAxis.shadow<1e3&&(s=2),n.yAxis.shadow<5&&(s=4),(!e.libraryEntry||e.libraryEntry.overlay||e.libraryEntry.underlay)&&(s=null),(n.yAxis.decimalPlaces||0===n.yAxis.decimalPlaces)&&(s=n.yAxis.decimalPlaces),t.plotLineChart(n,r,i,{skipTransform:t.panels[e.panel].name!=e.chart.name,label:t.preferences.labels,labelDecimalPlaces:s,noSlopes:e.libraryEntry&&e.libraryEntry.parameters&&e.libraryEntry.parameters.noSlopes}),e.libraryEntry&&e.libraryEntry.appendDisplaySeriesAsLine&&e.libraryEntry.appendDisplaySeriesAsLine(t,e,r,i,n),a.lineWidth=1},STX.Studies.drawHorizontal=function(t,e,n,i){var r=t.panels[e.panel];if(r){var a=t.pixelFromPrice(i,r);t.plotLine(r.left,r.right,a,a,"#DDDDDD","segment",t.chart.context,!1,{})}},STX.Studies.displayHistogramWithSeries=function(t,e,n){var i=t.panels[e.panel];STX.Studies.createYAxis(t,e,n,i),STX.Studies.createHistogram(t,e,n),STX.Studies.displaySeriesAsLine(t,e,n)},STX.Studies.drawZones=function(t,e,n){if(e.parameters&&e.parameters.studyOverZonesEnabled){var i=parseFloat(e.parameters.studyOverSoldValue),r=parseFloat(e.parameters.studyOverBoughtValue),a=e.parameters.studyOverSoldColor,o=e.parameters.studyOverBoughtColor,s=e.zoneOutput;s||(s="Result");var l=e.outputs[s];l&&"auto"!=l&&!STX.isTransparent(l)||(l=t.defaultColor),a||(a=l),o||(o=l);var u=t.panels[e.panel],c=u.yAxis.displayBorder||t.axisBorders,h=Math.round(u.right)+.5,p=c?h-.5:u.right,d=c?3:0,f=t.chart.context.fillStyle;t.chart.context.globalAlpha=.2,t.startClip(u.name,!0),u.yAxis.yAxisPlotter=new STX.Plotter,u.yAxis.yAxisPlotter.newSeries("border","stroke",t.canvasStyle("stx_grid_border")),t.chart.context.beginPath();var g=Math.round(t.pixelFromPrice(r,u))+.5;t.chart.context.strokeStyle=o,t.chart.context.moveTo(u.left,g),t.chart.context.lineTo(p,g),t.chart.context.stroke(),t.chart.context.closePath(),t.chart.context.beginPath();var m=Math.round(t.pixelFromPrice(i,u))+.5;if(t.chart.context.strokeStyle=a,t.chart.context.moveTo(u.left,m),t.chart.context.lineTo(p,m),t.chart.context.stroke(),t.chart.context.closePath(),c&&(u.yAxis.yAxisPlotter.moveTo("border",h-.5,g),u.yAxis.yAxisPlotter.lineTo("border",h+d,g),u.yAxis.yAxisPlotter.moveTo("border",h-.5,m),u.yAxis.yAxisPlotter.lineTo("border",h+d,m)),t.chart.context.fillStyle=f,STX.Studies.preparePeakValleyFill(t,n,{panelName:e.panel,band:s+" "+e.name,threshold:r,direction:1,color:o}),STX.Studies.preparePeakValleyFill(t,n,{panelName:e.panel,band:s+" "+e.name,threshold:i,direction:-1,color:a}),t.chart.context.globalAlpha=1,!e.libraryEntry.yaxis){var y=u.yAxis;if(c){var v=Math.round(y.bottom)+.5;u.yAxis.yAxisPlotter.moveTo("border",h,y.top),u.yAxis.yAxisPlotter.lineTo("border",h,v),u.yAxis.yAxisPlotter.draw(t.chart.context,"border")}t.canvasFont("stx_yaxis"),t.canvasColor("stx_yaxis");var S=(u.height/u.shadow,y.left+d+3);t.chart.context.fillText(r,S,g),t.chart.context.fillText(i,S,m),u.axisDrawn=!0}t.endClip(),t.chart.context.globalAlpha=1}},STX.Studies.prepareChannelFill=function(t,e,n){function i(e,n){var i=t.chart.dataSet.length-t.chart.scroll;if(o||i<=0)return[0,n];if(i>0){var s=t.chart.dataSet[i];r.name==t.chart.panel.name&&s.transform&&(s=s.transform);var u=s[e];if(u=r.yAxis.semiLog?t.pixelFromPrice(u,r):(r.yAxis.high-u)*r.yAxis.multiplier+a,!isNaN(u))return[l,u]}return null}for(var r=t.panels[n.panelName],a=r.yAxis.top,o=(r.yAxis.bottom,n.noSlopes),s=t.layout.candleWidth,l=r.left-(o?1:.5)*s+t.micropixels-1,u=l,c=[],h=[],p=1;p<=e.length;p++){var d=e[p-1];if(!o&&!c.length&&d&&d.candleWidth&&(s=(s+d.candleWidth)/2),u+=s,d&&d.cache){if(s=d.candleWidth?d.candleWidth/2:t.layout.candleWidth/2,p==e.length){o&&(c.push([u+2*s,c[c.length-1][1]]),h.push([u+2*s,h[h.length-1][1]]));break}var f=e[p];s+=o?s:f.candleWidth?f.candleWidth/2:t.layout.candleWidth/2;var g=u+s;if(r.name==t.chart.name&&d.transform&&(d=d.transform),!c.length){var m=d.cache[n.topBand];if(!isNaN(m)){if(1==p){var y=i(n.topBand,m);null!==y&&c.push(y),o&&c.push([u,y[1]])}c.push([u,m])}}if(!h.length){var v=d.cache[n.bottomBand];if(!isNaN(v)){if(1==p){var S=i(n.bottomBand,v);null!==S&&h.push(S),o&&h.push([u,S[1]])}h.push([u,v])}}if(r.name==t.chart.name&&f.transform&&(f=f.transform),c.length||h.length){if(c.length){o&&c.push([g,c[c.length-1][1]]);var T=f.cache[n.topBand];c.push([g,T])}if(h.length){o&&h.push([g,h[h.length-1][1]]);var b=f.cache[n.bottomBand];h.push([g,b])}}}}var x=c.concat(h.reverse()),M=n.opacity;STX.Studies.fillArea(t,x,n.color,M,n.panelName)},STX.Studies.preparePeakValleyFill=function(t,e,n){var i=t.panels[n.panelName],r=i.yAxis.top;i.yAxis.bottom;if(n.threshold||0===n.threshold){var a;a=n.panelName==t.chart.panel.name?t.pixelFromPriceTransform(n.threshold,i):t.pixelFromPrice(n.threshold,i);for(var o=t.layout.candleWidth,s=i.left-.5*o+t.micropixels-1,l=s,u=[],c=1;c<e.length;c++){var h=e[c],p=e[c-1];if(!u.length&&p&&p.candleWidth&&(o=(o+p.candleWidth)/2),s+=o,p){o=p.candleWidth?p.candleWidth/2:t.layout.candleWidth/2;var d,f;if(n.panelName==t.chart.panel.name?(d=h.cache[n.band],f=p.cache[n.band],h.transform&&(d=t.pixelFromPrice(h.transform[n.band],i)),p.transform&&(f=t.pixelFromPrice(p.transform[n.band],i))):h.cache&&p.cache?(d=h.cache[n.band],f=p.cache[n.band],"undefined"!=typeof d&&"undefined"!=typeof f||(d=t.pixelFromPrice(h[n.band],i),f=t.pixelFromPrice(p[n.band],i))):(d=t.pixelFromPrice(h[n.band],i),f=t.pixelFromPrice(p[n.band],i)),!u.length){if(1==c){var g=t.chart.dataSet.length-t.chart.scroll;if(g>0){var m=t.chart.dataSet[g];i.name==t.chart.panel.name&&m.transform&&(m=m.transform);var y=m[n.band];y=i.yAxis.semiLog?t.pixelFromPrice(y,i):(i.yAxis.high-y)*i.yAxis.multiplier+r;var v=y;isNaN(v)||(y>=a&&f>=a?u.push([l,1==n.direction?a:v]):y<=a&&f<=a?u.push([l,n.direction==-1?a:v]):u.push([s-(s-l)*(a-f)/(y-f),a]))}}var S=f;S&&!isNaN(S)&&(p[n.band]>=n.threshold&&1==n.direction||p[n.band]<=n.threshold&&n.direction==-1?u.push([s,S]):u.push([s,a]))}if(u.length){o+=h.candleWidth?h.candleWidth/2:t.layout.candleWidth/2;var T=s+o;t.extendLastTick&&c==e.length-1&&(T+=t.offset);var b=d;h[n.band]>n.threshold&&1==n.direction||h[n.band]<n.threshold&&n.direction==-1?(u[u.length-1][1]==a&&u.push([u[u.length-1][0]+(T-u[u.length-1][0])*(a-f)/(b-f),a]),u.push([T,b])):(u[u.length-1][1]!=a&&u.push([u[u.length-1][0]+(T-u[u.length-1][0])*(a-f)/(b-f),a]),u.push([T,a]))}}}if(u.length){if(n.edgeHighlight){n.edgeParameters.lineWidth>100&&(n.edgeParameters.lineWidth=1);for(var x=0;x<u.length-1;x++)u[x][1]==a&&u[x+1][1]==a||t.plotLine(u[x][0],u[x+1][0],u[x][1],u[x+1][1],n.edgeHighlight,"segment",t.chart.context,!0,n.edgeParameters)}u.push([u[u.length-1][0],a],[u[0][0],a]);var M=n.opacity;M||0===M||(M=.3),STX.Studies.fillArea(t,u,n.color,M,n.panelName)}}},STX.Studies.createHistogram=function(t,e,n,i){var r=t.panels[e.panel];t.startClip(r.name);var a=t.layout.candleWidth-2;a<2&&(a=1);var o=t.pixelFromPrice(0,r);r.min>0&&(o=t.pixelFromPrice(r.min,r)),i&&(o=Math.floor(r.top+r.height/2));var s=t.chart.context,l=e.name+"_hist";t.canvasColor("stx_histogram");for(var u,c,h=0;h<n.length;h++){var p=n[h];if(p){p.candleWidth&&(a=Math.floor(Math.max(1,p.candleWidth-2)));var d=Math.floor(t.pixelFromBar(h,r.chart)-a/2),f=Math.floor(a);u=c,c=Math.floor(t.pixelFromPrice(p[l],r)-o),c>u?s.fillStyle=e.outputs["Decreasing Bar"]:c<u&&(s.fillStyle=e.outputs["Increasing Bar"]),s.fillRect(d,o,f,c)}}s.globalAlpha=1,t.endClip()},STX.Studies.volumeChart=function(t,e,n,i){var r,a,o=Number.MAX_VALUE*-1;for(r in n)for(var s=0;s<n[r].length;s++)a=n[r][s],a&&a>o&&(o=a);var l=t.panels[e.panel],u=Math.floor(l.yAxis.bottom)+.5,c=Math.floor(l.yAxis.top)+.5,h=u-c,p=t.layout.candleWidth,d=(l.height/o,null);e.libraryEntry.parameters.displayBorder||(i=null);var f=0;i||(f=(p-t.chart.tmpWidth)/2);var g=t.chart.context;g.lineWidth=1,t.startClip(e.panel);for(r in n){i&&(d=i[r]),g.fillStyle=r,d&&(g.strokeStyle=d),g.beginPath();for(var m,y=u+.5,v=Math.floor(t.pixelFromBar(0,l.chart)),S=0;S<n[r].length;S++)if(t.chart.dataSegment[S]&&t.chart.dataSegment[S].candleWidth?(p=t.chart.dataSegment[S].candleWidth,i||(f=p/4)):(p=t.layout.candleWidth,i||(f=(p-t.chart.tmpWidth)/2)),0===S&&(v-=p/2,m=v),a=n[r][S]){var T,b,x=a*(h/o),M=Math.min(Math.floor(u-h+(h-x))+.5,u);T=Math.floor(m+f),b=Math.floor(m+p-f),T=Math.max(T,v),g.moveTo(T,u),g.lineTo(b,u),g.lineTo(b,M),g.lineTo(T,M),i?(y>M||0===S)&&g.lineTo(T,y):g.lineTo(T,u),y=M,m+=p}else y=u,m+=p;g.fill(),g.strokeStyle=d,i&&t.layout.candleWidth>=2&&g.stroke(),g.closePath()}t.endClip()},STX.Studies.prettify={Close:"C",Open:"O",High:"H",Low:"L",",simple":"",simple:"",exponential:"ema","time series":"ts",triangular:"tri",variable:"var",VIDYA:"vidya",weighted:"wa","welles wilder":"ww"},STX.Studies.prettyRE=/^.*\((.*?)\).*$/,STX.Studies.prettyDisplay=function(t){var e=STX.Studies.prettyRE.exec(t);if(!e)return t;var n=e[1];if(n){for(var i in STX.Studies.prettify)n=n.replace(i,STX.Studies.prettify[i]);t=t.replace(e[1],n)}return t},STX.Studies.initializeFN=function(t,e,n,i,r,a){function o(t,e){var n=null;if(t.Field){var i=STX.Studies.studyPanelMap[t.Field];i&&(n=i.panel),"Volume"==t.Field&&(n="vchart")}return n||(n=e.chartName),n}n||(n={id:e}),r||(r={}),n.display||(n.display=STX.Studies.prettyDisplay(n.id));var s=new STX.Studies.StudyDescriptor(n.id,e,n.id,n,i,r);n.Period&&(s.days=parseInt(s.inputs.Period));var l=STX.Studies.studyLibrary[e];l&&l.display&&(n.display=l.display),a||(a=n.id);var u=!l||l.overlay||n.Overlay,c=l&&l.underlay||n.Underlay;if(c&&(s.underlay=!0),r.replaceID&&(t.panelExists(r.replaceID)||u||c))if(u||c){var h=t.layout.studies[r.replaceID];s.panel=h.panel,delete t.layout.studies[r.replaceID],delete t.overlays[r.replaceID],STX.deleteRHS(STX.Studies.studyPanelMap,h)}else{s.panel=a;var p={};for(var d in t.panels)if(d!=r.replaceID)p[d]=t.panels[d];else{var f=t.panels[d];f.name=a,f.display=n.display,p[a]=f}t.panels=p,delete t.layout.studies[r.replaceID]}else if(t.panelExists(a))s.panel=a;else if(u||c)s.panel=o(n,r);else{var g=l.panelHeight?l.panelHeight:null;t.createPanel(n.display,n.id,g,r.chartName),l.yAxis||(t.panels[n.id].yAxis.displayGridLines=!1)}var m=t.panels[s.panel];return m&&m.chart.name!=m.name&&(l&&l.yAxis?(STX.extend(m.yAxis,l.yAxis),l.yAxis.ground&&(m.yAxis.initialMarginBottom=0),(l.yAxis.ground||l.yAxis.initialMarginTop||0===l.yAxis.initialMarginTop||l.yAxis.initialMarginBottom||0===l.yAxis.initialMarginBottom)&&t.calculateYAxisMargins(m.yAxis)):l&&l.parameters&&(l.parameters.zoom||0===l.parameters.zoom)?m.yAxis.zoom=l.parameters.zoom:m.yAxis.zoom=10),s},STX.Studies.overZones=function(t,e,n){if(n.length){var i=t.panels[e.panel];if(i&&!i.hidden&&(STX.Studies.displaySeriesAsLine(t,e,n),e.parameters&&e.parameters.studyOverZonesEnabled)){var r=parseFloat(e.parameters.studyOverBoughtValue),a=parseFloat(e.parameters.studyOverSoldValue),o=i.height/i.shadow,s=i.bottom-o*r,l=i.bottom-o*a,u={lineWidth:1};if(t.chart.context.globalAlpha=.2,t.plotLine(i.left,i.right-5,s,s,e.parameters.studyOverBoughtColor,"segment",t.chart.context,!1,u),t.chart.context.globalAlpha=.2,t.plotLine(i.left,i.right-5,l,l,e.parameters.studyOverSoldColor,"segment",t.chart.context,!1,u),!e.libraryEntry.yaxis){var c=t.getCanvasFontSize("stx_yaxis");t.canvasFont("stx_yaxis"),t.canvasColor("stx_yaxis"),t.chart.context.fillText(r,i.yAxis.left,s+c/2),t.chart.context.fillText(a,i.yAxis.left,l+c/2),i.axisDrawn=!0}}}},Function.prototype.stxInheritsFrom||(Function.prototype.stxInheritsFrom=function(t,e){if(e!==!1)this.prototype=new t;else{this.prototype=Object.create(t);for(var n in t.prototype)this.prototype[n]=t.prototype[n]}this.prototype.constructor=this,this.prototype.parent=t.prototype}),STX.derivedFrom=function(t,e){return!!e.isPrototypeOf(t)||t instanceof e},STX.Renderer=function(){},STX.Renderer.prototype.performCalculations=function(){},STX.Renderer.prototype.draw=function(){},STX.Renderer.prototype.construct=function(t){var e=t.params?t.params:{};e.name||(e.name=STX.uniqueID()),e.heightPercentage||(e.heightPercentage=.7),e.opacity||(e.opacity=1),e.type||(e.type="line"),"legacy"!=e.type&&"line"!=e.type&&"mountain"!=e.type||(e.highlightable=!0),e.panel||(e.panel="chart"),this.cb=t.callback,this.params=e,this.seriesParams=[],this.caches={},this.colors={}},STX.Renderer.prototype.attachSeries=function(t,e){if(!this.stx||!this.stx.chart.series[t])return this;var n={field:t,chartType:this.params.type,display:this.stx.chart.series[t].parameters.display,border_color_up:this.params.defaultBorders?"auto":null,fill_color_up:this.stx.chart.series[t].parameters.color,opacity_up:this.params.opacity,border_color_down:this.params.defaultBorders?"auto":null,fill_color_down:this.stx.chart.series[t].parameters.color,opacity_down:this.params.opacity,color:this.stx.chart.series[t].parameters.color};if("string"==typeof e)n.color=n.fill_color_down=n.fill_color_up=e;else if("object"==typeof e){for(var i in e)n[i]=e[i];n.color&&(n.fill_color_up||(n.fill_color_up=n.color),n.fill_color_down||(n.fill_color_down=n.color))}return this.removeSeries(t,!0).seriesParams.push(n),n.fill_color_up!=n.fill_color_down?(this.colors[t+" up"]={color:n.fill_color_up,opacity:n.opacity_up,display:n.display?n.display+" up":t+" up"},this.colors[t+" dn"]={color:n.fill_color_down,opacity:n.opacity_down,display:n.display?n.display+" down":t+" down"}):this.colors[t]={color:n.fill_color_up,opacity:n.opacity_up,display:n.display?n.display:t},this.params.yAxis&&this.stx.addYAxis(this.stx.panels[this.params.panel],this.params.yAxis),this},STX.Renderer.prototype.removeSeries=function(t,e){for(var n=0;n<this.seriesParams.length;n++)if(this.seriesParams[n].field==t){this.seriesParams.splice(n,1);break}if(delete this.colors[t+" up"],delete this.colors[t+" dn"],delete this.colors[t],!(e||this.stx.chart.series[t]&&this.stx.chart.series[t].parameters.permanent)){var i=!1;for(var r in this.stx.chart.seriesRenderers){for(var a=this.stx.chart.seriesRenderers[r],o=0;o<a.seriesParams.length;o++)if(a.seriesParams[o].field==t){i=!0;break}if(i)break}i||(delete this.stx.chart.series[t],STX.Comparison.removeSeries(this.stx,t))}return this.stx.deleteYAxisIfUnused(this.stx.panels[this.params.panel],this.params.yAxis),this},STX.Renderer.prototype.removeAllSeries=function(t){if(t){for(var e=[],n=0;n<this.seriesParams.length;n++)e.push(this.seriesParams[n].field);for(var i=0;i<e.length;i++)this.removeSeries(e[i])}return this.seriesParams=[],this.colors={},this.stx.deleteYAxisIfUnused(this.stx.panels[this.params.panel],this.params.yAxis),this},STX.Renderer.prototype.ready=function(){return this.stx.createDataSet(),this.stx.draw(),this},STX.Drawing=function(){this.chartsOnly=!1,this.penDown=!1},STX.Drawing.prototype.dragToDraw=!1,STX.Drawing.prototype.abort=function(t){},STX.Drawing.prototype.measure=function(){},STX.Drawing.prototype.construct=function(t,e){this.stx=t,this.panelName=e.name},STX.Drawing.prototype.render=function(t){alert("must implement render function!")},STX.Drawing.prototype.click=function(t,e,n){alert("must implement click function!")},STX.Drawing.prototype.move=function(t,e,n){alert("must implement move function!")},STX.Drawing.prototype.reposition=function(t,e,n,i){},STX.Drawing.prototype.intersected=function(t,e,n){alert("must implement intersected function!")},STX.Drawing.prototype.reconstruct=function(t,e){alert("must implement reconstruct function!")},STX.Drawing.prototype.serialize=function(){alert("must implement serialize function!")},STX.Drawing.prototype.adjust=function(){alert("must implement adjust function!")},STX.Drawing.prototype.highlight=function(t){return t&&!this.highlighted?this.highlighted=t:!t&&this.highlighted&&(this.highlighted=t),this.highlighted},STX.Drawing.prototype.littleCircleRadius=function(){var t=6;return t},STX.Drawing.prototype.littleCircle=function(t,e,n,i){var r=this.stx.defaultColor,a=STX.chooseForegroundColor(r);t.beginPath(),t.lineWidth=1,t.arc(e,n,this.littleCircleRadius(),0,2*Math.PI,!1),i?t.fillStyle=r:t.fillStyle=a,t.strokeStyle=r,t.fill(),t.stroke(),t.closePath()},STX.Drawing.prototype.rotator=function(t,e,n,i){var r=this.littleCircleRadius(),a=this.stx.defaultColor;t.beginPath(),t.lineWidth=2,i||(t.globalAlpha=.5);var o=4+r;t.arc(e,n,o,0,3*Math.PI/2,!1),t.moveTo(e+2+o,n+2),t.lineTo(e+o,n),t.lineTo(e-2+o,n+2),t.moveTo(e-2,n+2-o),t.lineTo(e,n-o),t.lineTo(e-2,n-2-o),t.strokeStyle=a,t.stroke(),t.closePath(),t.globalAlpha=1},STX.Drawing.prototype.mover=function(t,e,n,i){var r=this.littleCircleRadius(),a=this.stx.defaultColor,o=5,s=r+1;t.save(),t.lineWidth=2,t.strokeStyle=a,t.translate(e,n),i||(t.globalAlpha=.5);for(var l=0;l<4;l++)t.rotate(Math.PI/2),t.beginPath(),t.moveTo(0,s),t.lineTo(0,s+o),t.moveTo(-2,s+o-2),t.lineTo(0,s+o),t.lineTo(2,s+o-2),t.closePath(),t.stroke();t.globalAlpha=1,t.restore()},STX.Drawing.prototype.resizer=function(t,e,n,i){var r=this.littleCircleRadius(),a=this.stx.defaultColor,o=5*Math.sqrt(2),s=r+1;t.save(),t.lineWidth=2,t.strokeStyle=a,t.translate(e,n),t.rotate(-Math.PI/4),i||(t.globalAlpha=.5);for(var l=0;l<2;l++)t.rotate(Math.PI),t.beginPath(),t.moveTo(0,s),t.lineTo(0,s+o),t.moveTo(-2,s+o-2),t.lineTo(0,s+o),t.lineTo(2,s+o-2),t.closePath(),t.stroke();t.globalAlpha=1,t.restore()},STX.Drawing.prototype.pointIntersection=function(t,e,n){var i=this.stx.panels[this.panelName];return!!i&&(t>=n.x0&&t<=n.x1&&e>=n.y1&&e<=n.y0)},STX.Drawing.prototype.setPoint=function(t,e,n,i){var r=null,a=null;"number"==typeof e?r=e:e.length>=8?a=e:r=Number(e),(n||0===n)&&(this["v"+t]=n);var o;if(null!==r)o=this.stx.dateFromTick(r,i,!0),this["tzo"+t]=o.getTimezoneOffset(),this["d"+t]=STX.yyyymmddhhmmssmmm(o),this["p"+t]=[r,n];else if(null!==a){o=STX.strToDateTime(a),this["tzo"+t]||0===this["tzo"+t]||(this["tzo"+t]=o.getTimezoneOffset()),this["d"+t]=a;var s=this["tzo"+t]-o.getTimezoneOffset();o.setMinutes(o.getMinutes()+s),this["p"+t]=[this.stx.tickFromDate(STX.yyyymmddhhmmssmmm(o),i),n]}},STX.Drawing.BaseTwoPoint=function(){this.p0=null,this.p1=null,this.color=""},STX.Drawing.BaseTwoPoint.stxInheritsFrom(STX.Drawing),STX.Drawing.BaseTwoPoint.prototype.copyConfig=function(){this.color=this.stx.currentVectorParameters.currentColor},STX.Drawing.BaseTwoPoint.prototype.lineIntersection=function(t,e,n,i){return!(!this.p0||!this.p1)&&(this.stx.layout.semiLog||"log"==this.stx.layout.chartScale?STX.boxIntersects(n.x0,STX.log10(n.y0),n.x1,STX.log10(n.y1),this.p0[0],STX.log10(this.p0[1]),this.p1[0],STX.log10(this.p1[1]),i):STX.boxIntersects(n.x0,n.y0,n.x1,n.y1,this.p0[0],this.p0[1],this.p1[0],this.p1[1],i))},STX.Drawing.BaseTwoPoint.prototype.boxIntersection=function(t,e){return!(!this.p0||!this.p1)&&(!(t>Math.max(this.p0[0],this.p1[0])||t<Math.min(this.p0[0],this.p1[0]))&&!(e>Math.max(this.p0[1],this.p1[1])||e<Math.min(this.p0[1],this.p1[1])))},STX.Drawing.BaseTwoPoint.prototype.accidentalClick=function(t,e){var n=this.stx.panels[this.panelName],i=this.stx.pixelFromTick(this.p0[0],n.chart),r=this.stx.pixelFromTick(t,n.chart),a=this.stx.pixelFromValueAdjusted(n,this.p0[0],this.p0[1]),o=this.stx.pixelFromValueAdjusted(n,t,e),s=Math.abs(r-i),l=Math.abs(o-a),u=Math.sqrt(s*s+l*l);if(u<10)return this.penDown=!1,this.dragToDraw&&this.stx.undo(),!0},STX.Drawing.BaseTwoPoint.prototype.click=function(t,e,n){this.copyConfig();var i=this.stx.panels[this.panelName];return this.penDown?this.accidentalClick(e,n)?this.dragToDraw:(this.setPoint(1,e,n,i.chart),this.penDown=!1,!0):(this.setPoint(0,e,n,i.chart),this.penDown=!0,!1)},STX.Drawing.BaseTwoPoint.prototype.adjust=function(){var t=this.stx.panels[this.panelName];t&&(this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart))},STX.Drawing.BaseTwoPoint.prototype.move=function(t,e,n){this.penDown&&(this.copyConfig(),this.p1=[e,n],this.render(t))},STX.Drawing.BaseTwoPoint.prototype.measure=function(){this.stx.setMeasure(this.p0[1],this.p1[1],this.p0[0],this.p1[0],!0)},STX.Drawing.BaseTwoPoint.prototype.reposition=function(t,e,n,i){if(e){var r=this.stx.panels[this.panelName],a=e.tick-n,o=e.value-i;"move"==e.action?(this.setPoint(0,e.p0[0]-a,e.p0[1]-o,r.chart),this.setPoint(1,e.p1[0]-a,e.p1[1]-o,r.chart),this.render(t)):"drag"==e.action&&(this[e.point]=[n,i],this.setPoint(0,this.p0[0],this.p0[1],r.chart),this.setPoint(1,this.p1[0],this.p1[1],r.chart),this.render(t))}};var STXTouchAction="onmouseup";return STX.touchDevice&&(STX.ipad||STX.iphone)&&(STXTouchAction="ontouchend"),STX.DropDownManager=function(){},STX.DropDownManager.dropDowns=[],STX.DropDownManager.callback=null,STX.DropDownManager.listeners={},STX.DropDownManager.newDropDown=function(t){function e(t){return function(e){return"block"==$$$("ul",t).style.display?void($$$("ul",t).style.display="none"):($$$("ul",t).style.display="block",STX.DropDownManager.callback=function(t){return function(e){var n=!1;if(!(e.which&&e.which>=2||e.button&&e.button>=2)){var i=$$$("ul",t);STX.withinElement(t,e.pageX,e.pageY)||STX.withinElement(i,e.pageX,e.pageY)||(i.style.display="none",e.stopPropagation(),e.preventDefault(),n=!0);for(var r in STX.DropDownManager.listeners)document.removeEventListener(r,STX.DropDownManager.listeners[r],!0);return!n&&void 0}}}(t),void setTimeout(function(){"click"==e.type&&(document.addEventListener("click",STX.DropDownManager.callback,!0),STX.DropDownManager.listeners.click=STX.DropDownManager.callback),"pointerup"==e.type&&(document.addEventListener("pointerdown",STX.DropDownManager.callback,!0),STX.DropDownManager.listeners.pointerdown=STX.DropDownManager.callback),"touchend"==e.type&&(document.addEventListener("touchstart",STX.DropDownManager.callback,!0),STX.DropDownManager.listeners.touchstart=STX.DropDownManager.callback)},0))}}$$$("ul",t).style.display="none",STX.safeClickTouch(t,e(t))},STX.DropDownManager.initialize=function(){for(var t=document.querySelectorAll(".stx-dropdown"),e=0;e<t.length;e++){var n=t[e];STX.DropDownManager.newDropDown(n)}},STX.destroy=function(t,e){for(var n=0;n<STXChart.registeredContainers.length;n++)if(STXChart.registeredContainers[n]==t.chart.container){STXChart.registeredContainers.splice(n,1);break}if(t.styles={},t.destroy(),t=null,STX.ThemeManager.destroy(),STX.MenuManager.destroy(),e){for(var i=$$$(".stx-wrapper").childNodes,r=$$$(".stx-wrapper").querySelectorAll(e),a=0;a<r.length;a++)r[a].parentNode==$$$(".stx-wrapper")&&STX.appendClassName(r[a],"stx-passover");for(var o=i.length-1;o>=0;o--)STX.hasClassName(i[o],"stx-passover")?STX.unappendClassName(i[o],"stx-passover"):i[o].parentNode.removeChild(i[o])}else $$$(".stx-wrapper").parentNode.removeChild($$$(".stx-wrapper"))},STX.MenuManager=function(){},STX.MenuManager.registeredCharts=[],STX.MenuManager.openMenu=null,STX.MenuManager.useOverlay=!0,STX.MenuManager.menusDisabled=!1,STX.MenuManager.menusDisabledDialog=!1,STX.MenuManager.onClass=null,STX.MenuManager.offClass=null,STX.MenuManager.menus=[],STX.MenuManager.stack=[],STX.MenuManager.destroy=function(){this.registeredCharts=[],STX.MenuManager.bodyOverlay&&STX.MenuManager.bodyOverlay.parentNode.removeChild(STX.MenuManager.bodyOverlay)},STX.MenuManager.registerChart=function(t){STX.MenuManager.registeredCharts.push(t),STX.MenuManager.bodyOverlay||(STX.MenuManager.bodyOverlay=STX.newChild(document.body,"DIV","stxBodyOverlay"))},STX.MenuManager.useOverlays=function(t){STX.MenuManager.useOverlay=t},STX.MenuManager.cancelSingleClick=function(){for(var t=0;t<STX.MenuManager.registeredCharts.length;t++)STX.MenuManager.registeredCharts[t].cancelTouchSingleClick=!0},STX.MenuManager.menuOn=function(t,e,n){function i(t,e){return function(t){STX.MenuManager.menuOff()}}if(STX.MenuManager.registeredCharts.length){if(STX.MenuManager.openMenu){if(t==STX.MenuManager.openMenu)return;n||STX.MenuManager.menuOff(!0)}STX.MenuManager.openMenu=t,!n&&STX.MenuManager.useOverlay&&(STX.MenuManager.bodyOverlay.style.display="block",STX.MenuManager.bodyOverlay[STXTouchAction]=i(t)),STX.MenuManager.stack.push({closeCurrentMenu:e,cascading:n});for(var r=0;r<STX.MenuManager.registeredCharts.length;r++)STX.MenuManager.registeredCharts[r].openDialog=t}},STX.MenuManager.menuOff=function(t,e){if(STX.MenuManager.stack.length&&STX.MenuManager.registeredCharts.length){for(!e&&document.activeElement&&"BODY"!=document.activeElement.tagName&&document.activeElement.blur&&document.activeElement.blur();STX.MenuManager.stack.length;){var n=STX.MenuManager.stack.pop();if(n.closeCurrentMenu(),!t)break}if(STX.MenuManager.stack.length||(STX.MenuManager.openMenu=null,STX.MenuManager.useOverlay&&(STX.MenuManager.bodyOverlay.style.display="none",STX.MenuManager.bodyOverlay[STXTouchAction]=null)),this.cancelSingleClick(),!STX.DialogManager.stack.length)for(var i=0;i<STX.MenuManager.registeredCharts.length;i++)STX.MenuManager.registeredCharts[i].openDialog=""}},STX.MenuManager.makeMenus=function(){function toggle(t,e){return function(n){function i(t){return function(){t.style.display="none",t.colorPickerDiv&&(t.colorPickerDiv.style.display="none")}}var r=STX.getEventDOM(n);do{if(r.className&&r.className.indexOf("menuOutline")!=-1)return;if(r.className&&r.className.indexOf("stxMenu")!=-1)break;r=r.parentNode}while(r);if("none"==t.style.display){var a=STX.uniqueID();if(STX.MenuManager.menusDisabled&&!e.alwaysOn||STX.MenuManager.menusDisabledDialog)return;STX.MenuManager.menuOn(a,i(t)),t.style.display="block",t.className.indexOf("menuScroll")!=-1&&(this.iscroll?this.iscroll.refresh():this.iscroll=STX.iscroll.newScroller(t,{vScrollbar:!0,hScroll:!1,hideScrollbar:!1}))}else STX.MenuManager.menuOff(),t.style.display="none"}}function activate(menuOutline){STX.MenuManager.menuOff(),menuOutline.style.display="none";var action=this.getAttribute("stxToggle");try{var f=JSON.parse(action),props=f.fn.split(".");f.fn=window;for(var p=0;p<props.length;p++)f.fn=f.fn[props[p]];f.fn.apply(this,f.args)}catch(e){eval(action)}}function menuSafeClick(t,e){return function(n){activate.call(e,t),n.stopPropagation()}}STX.MenuManager.menus=document.querySelectorAll(".stxMenu");for(var i=0;i<STX.MenuManager.menus.length;i++){var menu=STX.MenuManager.menus[i],menuOutline=menu.querySelectorAll(".menuOutline")[0];menu.alwaysOn=menu.className.indexOf("stxAlwaysOn")!=-1,menu[STXTouchAction]=toggle(menuOutline,menu);for(var clickables=menuOutline.querySelectorAll("*[stxToggle]"),j=0;j<clickables.length;j++)STX.safeClickTouch(clickables[j],menuSafeClick(menuOutline,clickables[j]))}},STX.MenuManager.disableMenus=function(){STX.MenuManager.menusDisabled=!0;for(var t=0;t<STX.MenuManager.menus.length;t++){var e=STX.MenuManager.menus[t];STX.MenuManager.onClass&&STX.unappendClassName(e,STX.MenuManager.onClass),STX.MenuManager.offClass&&STX.appendClassName(e,STX.MenuManager.offClass)}},STX.MenuManager.enableMenus=function(){STX.MenuManager.menusDisabled=!1;for(var t=0;t<STX.MenuManager.menus.length;t++){var e=STX.MenuManager.menus[t];STX.MenuManager.offClass&&STX.unappendClassName(e,STX.MenuManager.offClass),STX.MenuManager.onClass&&STX.appendClassName(e,STX.MenuManager.onClass)}},STX.MenuManager.closeThisMenu=function(t){for(;t&&"undefined"!=typeof t.className&&t.className.indexOf("menuOutline")==-1;)t=t.parentNode;t&&t.style&&(t.style.display="none"),STX.MenuManager.menuOff()},STX.MenuManager.attachColorPicker=function(t,e,n,i){function r(t){return function(){t.colorPickerDiv&&(t.colorPickerDiv.style.display="none")}}var a=function(t,e,n){return function(r){e.colorPickerDiv&&(e.colorPickerDiv.style.display="none"),t.style.backgroundColor="#"+r,n&&n(r),i||STX.MenuManager.menuOff()}};t[STXTouchAction]=function(t,e){return function(){i||STX.MenuManager.menuOn("colorPicker",r(e)),e.colorPickerDiv||(e.colorPickerDiv=document.createElement("DIV"),e.colorPickerDiv.className="ciqColorPicker",document.body.appendChild(e.colorPickerDiv)),STX.createColorPicker(e.colorPickerDiv,t),e.colorPickerDiv.style.display="block";var n=STX.getPos(this),a=n.x+this.clientWidth;a+e.colorPickerDiv.offsetWidth>STX.pageWidth()&&(a-=a+e.colorPickerDiv.offsetWidth-STX.pageWidth()+20),e.colorPickerDiv.style.left=a+"px";var o=n.y;o+e.colorPickerDiv.clientHeight>STX.pageHeight()&&(o-=o+e.colorPickerDiv.clientHeight-STX.pageHeight()),e.colorPickerDiv.style.top=o+"px"}}(a(t,e,n),e)},STX.DialogManager=function(){},STX.DialogManager.useOverlay=!1,STX.DialogManager.stack=[],STX.DialogManager.modalBegin=function(){STX.MenuManager.menusDisabledDialog=!0;for(var t=0;t<STXChart.registeredContainers.length;t++){var e=STXChart.registeredContainers[t].stx;e.modalBegin()}},STX.DialogManager.modalEnd=function(){STX.MenuManager.menusDisabledDialog=!1;for(var t=0;t<STXChart.registeredContainers.length;t++){var e=STXChart.registeredContainers[t].stx;e.modalEnd()}},STX.DialogManager.displayDialog=function(t){STX.hideKeyboard(),STX.DialogManager.modalBegin(),STX.DialogManager.useOverlay&&!STX.DialogManager.bodyOverlay&&(STX.DialogManager.bodyOverlay=STX.newChild(document.body,"DIV","stxDialogOverlay")),STX.DialogManager.useOverlay&&(STX.DialogManager.bodyOverlay.style.display="block");var e=t;"string"==typeof t&&(e=$$(t)),e.style.display="block",STX.DialogManager.stack.push(e)},STX.DialogManager.dismissDialog=function(){document.activeElement.blur();var t=STX.DialogManager.stack.pop();t&&(t.style.display="none",t.colorPickerDiv&&(t.colorPickerDiv.style.display="none"),STX.DialogManager.stack.length||(STX.DialogManager.bodyOverlay&&"block"==STX.DialogManager.bodyOverlay.style.display&&(STX.DialogManager.bodyOverlay.style.display="none"),
STX.DialogManager.modalEnd()),STX.fixScreen())},STX.ThemeManager=function(){},STX.ThemeManager.builtInThemes={},STX.ThemeManager.themes={enabledTheme:null,customThemes:{}},STX.ThemeManager.destroy=function(){this.builtInThemes={},this.themes.customThemes={},this.themes.enabledTheme=null},STX.ThemeManager.classMapping={stx_candle_up:{stx_candle_up:!0,stx_bar_up:!0,stx_hollow_candle_up:!0,stx_line_up:!0,stx_baseline_up:!0},stx_candle_down:{stx_candle_down:!0,stx_bar_down:!0,stx_hollow_candle_down:!0,stx_line_down:!0,stx_baseline_down:!0},stx_candle_shadow:{stx_candle_shadow:!0,stx_bar_even:!0,stx_bar_chart:!0,stx_line_chart:!0,stx_hollow_candle_even:!0},stx_candle_shadow_up:{stx_candle_shadow_up:!0},stx_candle_shadow_down:{stx_candle_shadow_down:!0},stx_grid:{stx_grid:!0},stx_grid_dark:{stx_grid_dark:!0},stx_xaxis_dark:{stx_xaxis_dark:!0,stx_xaxis:!0,stx_yaxis:!0,stx_yaxis_dark:!0},stx_mountain:{stx_mountain_chart:!0},backgroundColor:null},STX.ThemeManager.populateDialog=function(t,e){function n(){$$$("#candleBordersOn",$$(t)).checked?(e.styles.stx_candle_up["border-left-color"]=$$(t).querySelectorAll(".stx-border-color.stx_candle_up")[0].style.backgroundColor,e.styles.stx_candle_down["border-left-color"]=$$(t).querySelectorAll(".stx-border-color.stx_candle_down")[0].style.backgroundColor):(e.styles.stx_candle_up["border-left-color"]="transparent",e.styles.stx_candle_down["border-left-color"]="transparent"),e.displayInitialized&&e.draw()}function i(){a&&a.checked?(e.styles.stx_mountain_chart.color=STX.hexToRgba($$(t).querySelectorAll(".stx-border-color.stx_mountain")[0].style.backgroundColor,1),e.styles.stx_mountain_chart.backgroundColor=STX.hexToRgba($$(t).querySelectorAll(".stx-border-color.stx_mountain")[0].style.backgroundColor,50)):(e.styles.stx_mountain_chart.color=$$(t).querySelectorAll(".stx-border-color.stx_mountain")[0].style.backgroundColor,e.styles.stx_mountain_chart.backgroundColor=$$(t).querySelectorAll(".stx-border-color.stx_mountain")[0].style.backgroundColor),e.displayInitialized&&e.draw()}function r(n,i){return function(r){var o=STX.ThemeManager.classMapping[i];if(o)for(var s in o)e.canvasStyle(s),e.styles[s][n]="#"+r,"stx_mountain"==i&&(a&&a.checked?(e.styles[s].color=STX.hexToRgba("#"+r,1),e.styles[s].backgroundColor=STX.hexToRgba("#"+r,50)):(e.styles[s].color="#"+r,e.styles[s].backgroundColor="#"+r),e.styles[s].borderTopColor="#"+r);else e.chart.container.style[i]="#"+r;e.displayInitialized&&e.draw(),"border-left-color"==n&&r&&"transparent"!=r&&($$$("#candleBordersOn",$$(t)).checked=!0)}}var a=$$$("#mountainGradientOn",$$(t));$$$("#candleBordersOn",$$(t)).checked=!1,$$$("#candleBordersOn",$$(t)).onclick=n,a&&(a.checked=!1,a.onclick=i);var o="#FFFFFF";e.chart.container&&(o=getComputedStyle(e.chart.container));for(var s in STX.ThemeManager.classMapping){var l=STX.ThemeManager.classMapping[s],u=null,c=null;if(l){var h=STX.first(l),p=e.canvasStyle(h);u=p.color,c=p["border-left-color"],c&&"transparent"!=c||(c=p.borderLeftColor)}else u=o[s],STX.isTransparent(u)&&"backgroundColor"==s&&(u=e.containerColor);var d=$$(t).querySelectorAll(".stx-color."+s)[0];d&&(d.style.backgroundColor=u,d[STXTouchAction]||STX.MenuManager.attachColorPicker(d,STX.DialogManager,r("color",s))),d=$$(t).querySelectorAll(".stx-border-color."+s)[0],d&&(d.style.backgroundColor=c,d[STXTouchAction]||STX.MenuManager.attachColorPicker(d,STX.DialogManager,r("border-left-color",s)),c&&"transparent"!=c&&($$$("#candleBordersOn",$$(t)).checked=!0),a&&u&&u.indexOf(!1)&&(a.checked=!0))}},STX.ThemeManager.createTheme=function(t){var e={};STX.ThemeManager.baseTheme&&(e.baseTheme=STX.ThemeManager.baseTheme);for(var n in STX.ThemeManager.classMapping){var i=STX.ThemeManager.classMapping[n];if(i){var r=STX.first(i),a=t.canvasStyle(r);e[n]={color:a.color},a.borderTopColor&&(e[n].borderTopColor=a.borderTopColor),a.backgroundColor&&(e[n].backgroundColor=a.backgroundColor),a["border-left-color"]&&"transparent"!=a["border-left-color"]?e[n]["border-left-color"]=a["border-left-color"]:e[n]["border-left-color"]="transparent"}else t.chart.container&&(e[n]=t.chart.container.style[n])}return e},STX.ThemeManager.saveTheme=function(t,e){var n=STX.ThemeManager.createTheme(e);STX.ThemeManager.themes.customThemes[t]=n,STX.ThemeManager.themes.enabledTheme=t,STX.ThemeManager.storageCB&&STX.ThemeManager.storageCB(JSON.stringify(STX.ThemeManager.themes),e),STX.ThemeManager.themesToMenu(STX.ThemeManager.el,STX.ThemeManager.el2,STX.ThemeManager.stx,STX.ThemeManager.storageCB)},STX.ThemeManager.setThemes=function(t,e){t&&(t.customThemes&&(STX.ThemeManager.themes.customThemes=t.customThemes),STX.ThemeManager.themes.enabledTheme=t.enabledTheme,STX.ThemeManager.themes.enabledTheme&&STX.ThemeManager.enableTheme(e,STX.ThemeManager.themes.enabledTheme))},STX.ThemeManager.enableTheme=function(t,e){function n(){var n=STX.ThemeManager.themes.customThemes[e];for(var i in n)if("baseTheme"!=i){var r=STX.ThemeManager.classMapping[i];if(r)for(var a in r)t.canvasStyle(a),t.styles[a].color=n[i].color,n[i]["border-left-color"]&&(t.styles[a]["border-left-color"]=n[i]["border-left-color"]),"stx_mountain"==i&&(t.styles[a].backgroundColor=n[i].backgroundColor,t.styles[a].borderTopColor=n[i].borderTopColor,t.styles[a].backgroundColor||(t.styles[a].backgroundColor=n[i].color),t.styles[a].borderTopColor||(t.styles[a].borderTopColor=n[i].color));else t.chart.container&&(t.chart.container.style[i]=n[i])}t.chart.container&&(t.clearPixelCache(),t.draw())}var i=STX.ThemeManager.themes.customThemes[e];if(i){var r=i.baseTheme;STX.ThemeManager.loadBuiltInTheme(t,r,n),STX.ThemeManager.themes.enabledTheme=e,STX.ThemeManager.storageCB&&STX.ThemeManager.storageCB(JSON.stringify(STX.ThemeManager.themes),t)}else STX.ThemeManager.loadBuiltInTheme(t,e)},STX.ThemeManager.enableBuiltInTheme=function(t,e){STX.ThemeManager.loadBuiltInTheme(t,e),STX.ThemeManager.themes.enabledTheme=e,STX.ThemeManager.storageCB&&STX.ThemeManager.storageCB(JSON.stringify(STX.ThemeManager.themes),t)},STX.ThemeManager.loadBuiltInTheme=function(t,e,n){if(!e)return void(n&&n());var i=STX.ThemeManager.builtInThemes[STX.ThemeManager.baseTheme];"string"!=typeof i&&(i=STX.ThemeManager.baseTheme),STX.unappendClassName($$$("body"),i),i=STX.ThemeManager.builtInThemes[e],"string"!=typeof i&&(i=e),STX.appendClassName($$$("body"),i),t.styles={},t.chart.container.style.backgroundColor="",t.displayInitialized&&(t.headsUpHR(),t.clearPixelCache(),t.updateListeners("theme"),t.draw()),STX.ThemeManager.baseTheme=e,n&&n()},STX.ThemeManager.themesToMenu=function(t,e,n,i){function r(t){return function(){STX.ThemeManager.enableBuiltInTheme(n,t)}}function a(t){return function(){STX.ThemeManager.enableTheme(n,t)}}function o(r){return function(){STX.ThemeManager.enableBuiltInTheme(n,STX.ThemeManager.baseTheme),delete STX.ThemeManager.themes.customThemes[r],STX.ThemeManager.themesToMenu(t,e,n,i),i&&i(JSON.stringify(STX.ThemeManager.themes),n)}}STX.ThemeManager.el=t,STX.ThemeManager.el2=e,STX.ThemeManager.stx=n,STX.ThemeManager.storageCB=i;for(var s=t.querySelectorAll("li"),l=0;l<s.length;l++)"block"==s[l].style.display&&t.removeChild(s[l]);var u,c,h=t.querySelectorAll(".themeSelectorTemplate")[0];for(u in STX.ThemeManager.themes.customThemes){c=h.cloneNode(!0),c.style.display="block";var p=$$$(".stxItem",c);p.innerHTML=u,p[STXTouchAction]=a(u),t.appendChild(c),$$$(".stxClose",c)[STXTouchAction]=o(u)}STX.clearNode(e);for(u in STX.ThemeManager.builtInThemes)c=STX.newChild(e,"li"),c[STXTouchAction]=r(u),c.innerHTML=n.translateIf(u)},STX.iscroll=function(){},STX.iscroll.scrollers=[],STX.iscroll.newScroller=function(t,e){e||(e={tap:!0,scrollbars:!0,interactiveScrollbars:!0,mouseWheel:!0,version:"IScroll5"});var n;return n=e.version?new iScroll5(t,e):new iScroll(t,e),STX.iscroll.scrollers.push(n),n},STX.iscroll.refresh=function(){for(var t=0;t<STX.iscroll.scrollers.length;t++){var e=STX.iscroll.scrollers[t];e.refresh()}},STX.LookupWidget=function(t){this.config=t,this.div=null,this.currentFilter=null,this.filterButtons=[],this.height=480},STX.LookupWidget.prototype.displayResults=function(t){function e(t,e){return function(n){"object"==typeof e?t.config.input.value=e.symbol:t.config.input.value=e,t.config.selectCallback(t,e,t.currentFilter),t.close(),t.config.input.blur()}}if(this.ul&&STX.clearNode(this.ul),!(t.length>0))return void(!this.config.filters&&this.div&&(this.div.style.display="none"));this.display();for(var n=0;n<t.length;n++){var i=t[n],r=STX.newChild(this.ul,"LI"),a=STX.newChild(r,"span");a.innerHTML=i.symbol;var o=STX.newChild(r,"span");null!==i.description&&"undefined"!=typeof i.description||(i.description=i.name),o.innerHTML=i.description;var s=STX.newChild(r,"span");null!==i.exchange&&"undefined"!=typeof i.exchange||(i.exchange=i.exchDisp),i.exchange&&(s.innerHTML=this.config.stx?this.config.stx.translateIf(i.exchange):STX.I18N.translate(i.exchange)),this.config.allowSymbolObject?STX.ScrollManager.attach(r,e(this,i)):STX.ScrollManager.attach(r,e(this,i.symbol))}this.iscroll?(this.iscroll.refresh(),this.iscroll.scrollTo(0,0)):this.iscroll=STX.iscroll.newScroller(this.ul.parentNode)},STX.LookupWidget.prototype.init=function(){function t(t){return function(e){var n=STX.getEventDOM(e),i=window.event?event.keyCode:e.keyCode;switch(i){case 13:if(t.config.mustSelect)break;var r=n.value;t.close(),t.config.selectCallback(t,r,t.currentFilter),n.blur();break;case 27:t.close(),n.blur();break;default:t.config.textCallback(t,n.value,t.currentFilter,!1)}e=e||event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}}function e(t){return function(e){var n=STX.getEventDOM(e);t.config.textCallback(t,n.value,t.currentFilter,!0)}}this.config.input.onkeyup=t(this),this.config.input.onclick=e(this)},STX.LookupWidget.prototype.display=function(){function t(t,e,n){return function(){for(var i=0;i<t.filterButtons.length;i++)STX.unappendClassName(t.filterButtons[i],"on");STX.appendClassName(e,"on"),t.currentFilter=n,t.config.textCallback(t,t.config.input.value,t.currentFilter)}}function e(t){return function(){t.div&&(t.div.style.display="none")}}if(this.div)"none"==this.div.style.display&&(this.config.cascade||STX.MenuManager.menuOff(!0,!0)),this.div.style.display="inline-block";else{this.div=STX.newChild(this.config.input.parentNode,"DIV","menuOutline stxLookupResults");var n,i=STX.newChild(this.div,"UL","stxResults");if(this.config.filters){n=STX.newChild(i,"LI","stxLookupFilter");for(var r=0;r<this.config.filters.length;r++){var a=this.config.filters[r],o=STX.newChild(n,"div","stx-btn");o.innerHTML=this.config.stx?this.config.stx.translateIf(a):STX.I18N.translate(a),o[STXTouchAction]=t(this,o,a),this.filterButtons.push(o)}STX.newChild(i,"LI","divider")}n=STX.newChild(i,"LI"),this.ul=STX.newChild(n,"UL","menuSelect");var s=this.config.className;s||(s="stxLookupSymbols"),STX.appendClassName(this.ul,s),n.style.maxHeight=this.height+"px",this.config.cascade||STX.MenuManager.menuOff(!0,!0)}STX.MenuManager.menuOn("lookup",e(this),this.config.cascade)},STX.LookupWidget.prototype.close=function(){this.div&&(this.div.style.display="none"),STX.MenuManager.menuOff(!0)},STX.ScrollManager=function(){},STX.ScrollManager.x=0,STX.ScrollManager.y=0,STX.ScrollManager.downTime=0,STX.ScrollManager.attach=function(t,e){navigator.pointerEnabled?t.addEventListener("pointerdown",STX.ScrollManager.start):navigator.msMaxTouchPoints>1?t.addEventListener("MSPointerDown",STX.ScrollManager.start):(t.addEventListener("mousedown",STX.ScrollManager.start),t.addEventListener("touchstart",STX.ScrollManager.start)),t.addEventListener("tap",function(e){return function(n){(!t.tapped||Date.now()-t.tapped>750)&&e(n),t.tapped=Date.now()}}(e)),t.addEventListener("click",function(e){return function(n){STX.ScrollManager.isClick(n)&&((!t.tapped||Date.now()-t.tapped>750)&&e(n),t.tapped=Date.now())}}(e))},STX.ScrollManager.start=function(t){STX.ScrollManager.x=t.pageX,STX.ScrollManager.y=t.pageY,t.touches&&t.touches.length>=1&&(STX.ScrollManager.x=t.touches[0].pageX,STX.ScrollManager.y=t.touches[0].pageY),STX.ScrollManager.downTime=(new Date).getTime()},STX.ScrollManager.isClick=function(t){var e=(new Date).getTime();return!(e-STX.ScrollManager.downTime>2e3)&&(!(Math.abs(t.pageX-STX.ScrollManager.x)>10)&&!(Math.abs(t.pageY-STX.ScrollManager.y)>10))},STX.ScrollManager.attachRightClick=function(t,e){function n(t){return function(e){(e.which&&e.which>=2||e.button&&e.button>=2)&&t(e)}}navigator.pointerEnabled?t.addEventListener("pointerup",n(e)):navigator.msMaxTouchPointers>1?t.addEventListener("MSPointerUp",n(e)):t.addEventListener("mouseup",n(e)),t.rightClickable=!0},STX.ScrollManager.onContextMenu=function(t){if(t.target.rightClickable)return t.preventDefault(),!1},document.addEventListener("contextmenu",STX.ScrollManager.onContextMenu,!1),STX.TimeZoneWidget=function(){},STX.TimeZoneWidget.init=function(){if("undefined"!=typeof timezoneJS){STX.TimeZoneWidget.timezoneMenu={};for(var t in timezoneJS.timezone.zones){var e=t.split("/"),n=e[0];if(STX.TimeZoneWidget.timezoneMenu[n]||(STX.TimeZoneWidget.timezoneMenu[n]=[]),e.length>1){var i=e[1];e.length>2&&(i+="/"+e[2]),STX.TimeZoneWidget.timezoneMenu[n].push(i)}}}},STX.TimeZoneWidget.setTimeZone=function(t){STXChart.defaultDisplayTimeZone=t;for(var e=0;e<STXChart.registeredContainers.length;e++){var n=STXChart.registeredContainers[e].stx;n.setTimeZone(n.dataZone,t),n.chart.symbol&&n.draw()}},STX.TimeZoneWidget.removeTimeZone=function(){STXChart.defaultDisplayTimeZone=null;for(var t=0;t<STXChart.registeredContainers.length;t++){var e=STXChart.registeredContainers[t].stx;e.displayZone=null,e.setTimeZone(),STX.TimeZoneWidget.storageCB&&STX.TimeZoneWidget.storageCB(null),e.displayInitialized&&e.draw()}},STX.TimeZoneWidget.timeZoneMap={"(GMT-11:00) Midway Island, Samoa":"Pacific/Midway","(GMT-10:00) Hawaii":"Pacific/Honolulu","(GMT-09:00) Alaska":"America/Juneau","(GMT-08:00) Pacific Time (US and Canada); Tijuana":"America/Los_Angeles","(GMT-07:00) Mountain Time (US and Canada)":"America/Denver","(GMT-07:00) Chihuahua, La Paz, Mazatlan":"America/Chihuahua","(GMT-07:00) Arizona":"America/Phoenix","(GMT-06:00) Central Time (US and Canada)":"America/Chicago","(GMT-06:00) Saskatchewan":"Canada/Saskatchewan","(GMT-06:00) Guadalajara, Mexico City, Monterrey":"America/Mexico_City","(GMT-06:00) Central America":"America/Panama","(GMT-05:00) Eastern Time (US and Canada)":"America/New_York","(GMT-05:00) Indiana (East)":"America/Indiana/Knox","(GMT-05:00) Bogota, Lima, Quito":"America/Bogota","(GMT-04:00) Atlantic Time (Canada)":"Canada/Atlantic","(GMT-04:00) Caracas, La Paz":"America/Caracas","(GMT-04:00) Santiago":"America/Santiago","(GMT-03:30) Newfoundland and Labrador":"Canada/Newfoundland","(GMT-03:00) Brasilia":"Brazil/East","(GMT-03:00) Buenos Aires, Georgetown":"America/Argentina/Buenos_Aires","(GMT-03:00) Greenland":"America/Argentina/Buenos_Aires","(GMT-02:00) Mid-Atlantic":"Atlantic/South_Georgia","(GMT-01:00) Azores":"Atlantic/Azores","(GMT-01:00) Cape Verde Islands":"Atlantic/Cape_Verde","(GMT) Greenwich Mean Time: Reykjavik":"Atlantic/Reykjavik","(GMT) Dublin, Edinburgh, Lisbon, London":"Europe/London","(GMT+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague":"Europe/Belgrade","(GMT+01:00) Sarajevo, Skopje, Warsaw, Zagreb":"Europe/Sarajevo","(GMT+01:00) Brussels, Copenhagen, Madrid, Paris":"Europe/Brussels","(GMT+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna":"Europe/Amsterdam","(GMT+01:00) West Central Africa":"Africa/Windhoek","(GMT+02:00) Bucharest":"Europe/Bucharest","(GMT+02:00) Cairo":"Africa/Cairo","(GMT+02:00) Helsinki, Kiev, Riga, Sofia, Tallinn, Vilnius":"Europe/Helsinki","(GMT+02:00) Athens, Istanbul, Minsk":"Europe/Athens","(GMT+02:00) Jerusalem":"Asia/Jerusalem","(GMT+02:00) Harare, Pretoria":"Africa/Harare","(GMT+03:00) Moscow, St. Petersburg, Volgograd":"Europe/Moscow","(GMT+03:00) Kuwait, Riyadh":"Asia/Kuwait","(GMT+03:00) Nairobi":"Africa/Nairobi","(GMT+03:00) Baghdad":"Asia/Baghdad","(GMT+03:30) Tehran":"Asia/Tehran","(GMT+04:00) Abu Dhabi, Muscat":"Asia/Muscat","(GMT+04:00) Baku, Tbilisi, Yerevan":"Asia/Baku","(GMT+04:30) Kabul":"Asia/Kabul","(GMT+05:00) Ekaterinburg":"Asia/Yekaterinburg","(GMT+05:00) Islamabad, Karachi, Tashkent":"Asia/Karachi","(GMT+05:30) Chennai, Kolkata, Mumbai, New Delhi":"Asia/Kolkata","(GMT+05:45) Kathmandu":"Asia/Katmandu","(GMT+06:00) Astana, Dhaka":"Asia/Dhaka","(GMT+06:00) Sri Jayawardenepura":"Asia/Colombo","(GMT+06:00) Almaty, Novosibirsk":"Asia/Novosibirsk","(GMT+06:30) Yangon Rangoon":"Asia/Rangoon","(GMT+07:00) Bangkok, Hanoi, Jakarta":"Asia/Bangkok","(GMT+07:00) Krasnoyarsk":"Asia/Krasnoyarsk","(GMT+08:00) Beijing, Chongqing, Hong Kong SAR, Urumqi":"Asia/Hong_Kong","(GMT+08:00) Kuala Lumpur, Singapore":"Asia/Kuala_Lumpur","(GMT+08:00) Taipei":"Asia/Taipei","(GMT+08:00) Perth":"Australia/Perth","(GMT+08:00) Irkutsk, Ulaanbaatar":"Asia/Irkutsk","(GMT+09:00) Seoul":"Asia/Seoul","(GMT+09:00) Osaka, Sapporo, Tokyo":"Asia/Tokyo","(GMT+09:00) Yakutsk":"Asia/Yakutsk","(GMT+09:30) Darwin":"Australia/Darwin","(GMT+09:30) Adelaide":"Australia/Adelaide","(GMT+10:00) Canberra, Melbourne, Sydney":"Australia/Canberra","(GMT+10:00) Brisbane":"Australia/Brisbane","(GMT+10:00) Hobart":"Australia/Hobart","(GMT+10:00) Vladivostok":"Asia/Vladivostok","(GMT+10:00) Guam, Port Moresby":"Pacific/Guam","(GMT+11:00) Noumea, Solomon Islands, Sakhalin":"Pacific/Noumea","(GMT+12:00) Fiji Islands, Kamchatka, Marshall Islands":"Pacific/Fiji","(GMT+12:00) Auckland, Wellington":"Pacific/Auckland","(GMT+13:00) Nuku'alofa":"Pacific/Tongatapu","(GMT+14:00) Kiritimati":"Pacific/Kiritimati"},STX.TimeZoneWidget.populateDialog=function(t){function e(t){return function(e){STX.DialogManager.dismissDialog();var n=STX.TimeZoneWidget.timeZoneMap[t];STX.TimeZoneWidget.setTimeZone(n),STX.TimeZoneWidget.storageCB&&STX.TimeZoneWidget.storageCB(n)}}if(STX.TimeZoneWidget.timezoneMenu||STX.TimeZoneWidget.init(),"undefined"!=typeof timezoneJS){var n=$$(t);if(n){var i=n.querySelector("ul"),r=i.querySelector("li#timezoneTemplate").cloneNode(!0);STX.clearNode(i),i.appendChild(r);var a,o=[];for(a in STX.TimeZoneWidget.timeZoneMap)o.push(a);for(var s=0;s<o.length;s++){a=o[s];var l=a,u=r.cloneNode(!0);u.style.display="block",u.innerHTML=l,STX.ScrollManager.attach(u,e(a)),i.appendChild(u)}STX.TimeZoneWidget.iscroll?STX.TimeZoneWidget.iscroll.refresh():STX.TimeZoneWidget.iscroll=new iScroll("timezoneDialogWrapper",{vScrollbar:!1,hScroll:!1,hideScrollbar:!1,vScroll:!0})}}},STX.TimeZoneWidget.initialize=function(t,e){t&&STX.TimeZoneWidget.setTimeZone(t),STX.TimeZoneWidget.storageCB=e},STX.NameValueStore=function(){},STX.NameValueStore.prototype.toJSONIfNecessary=function(t){if(t.constructor==String)return t;try{var e=JSON.stringify(t);return e}catch(e){return console.log("Cannot convert to JSON: "+t),null}},STX.NameValueStore.prototype.fromJSONIfNecessary=function(t){try{var e=JSON.parse(t);return e}catch(e){return t}},STX.NameValueStore.prototype.get=function(t,e){var n=STX.localStorage.getItem(t);e(null,this.fromJSONIfNecessary(n))},STX.NameValueStore.prototype.set=function(t,e,n){STX.localStorage.setItem(t,this.toJSONIfNecessary(e)),n&&n(null)},STX.NameValueStore.prototype.remove=function(t,e){STX.localStorage.removeItem(t),e&&e(null)},STX.StorageManager=function(){},STX.StorageManager.get=function(t,e){if(!STX.localStorage)return null;var n=STX.localStorage.getItem(t);return e&&e(null,n),n},STX.StorageManager.store=function(t,e){STX.localStorage.setItem(t,e)},STX.StorageManager.remove=function(t){STX.localStorage.removeItem(t)},STX.StorageManager.callbacker=function(t){return function(e,n){null===e?STX.StorageManager.remove(t):STX.StorageManager.store(t,e)}},STX.FibDialog=function(){},STX.FibDialog.initialize=function(t){for(var e=$$$(".fib-template",t),n=[-.786,-.618,-.5,-.382,-.236,0,.236,.382,.5,.618,.786,1,1.382,1.618,2.618,4.236],i=0;i<n.length;i++){var r=n[i],a=e.cloneNode(!0);a.style.display="block",$$$(".stx-fib-level",a).innerHTML=r,a.fib=r,a.id="stx-fib-"+r.toString().replace(".",""),e.parentNode.appendChild(a)}},STX.FibDialog.restore=function(t){STX.FibDialog.fibonacci=t;var e,n=document.querySelectorAll(".fib-template");for(e=0;e<n.length;e++)$$$(".check input",n[e]).checked=!1;for(e=0;e<t.fibs.length;e++){var i=t.fibs[e],r=$$$("#stx-fib-"+i.level.toString().replace(".",""));r&&($$$(".check input",r).checked=!0)}},STX.FibDialog.save=function(){var t=STX.FibDialog.fibonacci;t.fibs=[];for(var e=document.querySelectorAll(".fib-template"),n=0;n<e.length;n++){var i=e[n];$$$(".check input",i).checked&&t.fibs.push({level:i.fib,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}})}return STX.FibDialog.drawingToolbar&&(STX.FibDialog.drawingToolbar.stx.currentVectorParameters.fibonacci=t,STX.FibDialog.drawingToolbar.callback&&STX.FibDialog.drawingToolbar.callback()),t},STX.FibDialog.setLine=function(t,e,n){alert(e)},STX.FibDialog.display=function(t){var e=$$$("#fibDialog");STX.FibDialog.drawingToolbar=t,STX.FibDialog.restore(t.stx.currentVectorParameters.fibonacci),STX.DialogManager.displayDialog(e)},STX.DrawingToolbar=function(t,e,n){this.stx=e,this.callback=n,this.initialize(t),this.setVectorType(null)},STX.DrawingToolbar.prototype.initialize=function(t){function e(t){return function(e){"000000"==e||"ffffff"==e?t.stx.currentVectorParameters.currentColor="auto":t.stx.currentVectorParameters.currentColor="#"+e,t.callback&&t.callback()}}function n(t){return function(e){t.stx.currentVectorParameters.fillColor="#"+e,t.callback&&t.callback()}}this.htmlElement=t,t.DrawingToolbar=this;var i=this.htmlElement,r=$$$(".stxLineColorPicker",i);"auto"==this.stx.currentVectorParameters.currentColor?this.stx.currentVectorParameters.currentColor=r.style.backgroundColor:r.style.backgroundColor=this.stx.currentVectorParameters.currentColor,STX.MenuManager.attachColorPicker(r,i,e(this));var a=$$$(".stxFillColorPicker",i);"auto"==this.stx.currentVectorParameters.fillColor?this.stx.currentVectorParameters.fillColor=a.style.backgroundColor:a.style.backgroundColor=this.stx.currentVectorParameters.fillColor,STX.MenuManager.attachColorPicker(a,i,n(this));var o=$$$(".stxAxisLabel",i);o&&(STX.unappendClassName(o,!this.stx.currentVectorParameters.axisLabel),STX.appendClassName(o,this.stx.currentVectorParameters.axisLabel)),"italic"==this.stx.currentVectorParameters.annotation.font.style&&STX.appendClassName($$$(".stx-toolbar .stx-annotation-italic",t),"active"),"bold"==this.stx.currentVectorParameters.annotation.font.weight&&STX.appendClassName($$$(".stx-toolbar .stx-annotation-bold",t),"active"),this.stx.currentVectorParameters.annotation.font.size&&STX.DrawingToolbar.setFont(t,this.stx.currentVectorParameters.annotation.font.size),this.stx.currentVectorParameters.annotation.font.family&&STX.DrawingToolbar.setFont(t,this.stx.currentVectorParameters.annotation.font.family),this.setLine(this.stx.currentVectorParameters.lineWidth,this.stx.currentVectorParameters.pattern)},STX.DrawingToolbar.initialize=function(){},STX.DrawingToolbar.prototype.setLineColor=function(t){var e=$$$(".stxLineColorPicker",this.htmlElement);"transparent"==this.stx.currentVectorParameters.currentColor?e.style.backgroundColor=t.defaultColor:e.style.backgroundColor=this.stx.currentVectorParameters.currentColor},STX.DrawingToolbar.configurator={".stxToolbarFill":{measure:!1,line:!1,ray:!1,segment:!1,annotation:!1,horizontal:!1,vertical:!1,continuous:!1,freeform:!1,pitchfork:!1},".stxToolbarLine":{},".stxToolbarLinePicker":{annotation:!1,fibonacci:!1},".stxToolbarNone":{measure:!1,line:!1,ray:!1,segment:!1,annotation:!1,horizontal:!1,vertical:!1,continuous:!1,fibonacci:!1,channel:!1,gartley:!1,freeform:!1,pitchfork:!1,callout:!1},".stxToolbarDotted":{},".stxToolbarDashed":{},".stxToolbarAxisLabel":{measure:!1,line:!1,ray:!1,segment:!1,annotation:!1,rectangle:!1,ellipse:!1,continuous:!1,fibonacci:!1,channel:!1,gartley:!1,freeform:!1,pitchfork:!1,callout:!1,shape:!1},".stxToolbarAnnotation":{measure:!1,line:!1,ray:!1,segment:!1,horizontal:!1,vertical:!1,rectangle:!1,ellipse:!1,continuous:!1,fibonacci:!1,channel:!1,gartley:!1,freeform:!1,pitchfork:!1,shape:!1},".stxToolbarStylePicker":{measure:!1,line:!1,ray:!1,segment:!1,annotation:!1,horizontal:!1,vertical:!1,rectangle:!1,ellipse:!1,continuous:!1,channel:!1,gartley:!1,freeform:!1,pitchfork:!1,callout:!1},"#stx-toolbar-settings":{measure:!1,line:!1,ray:!1,segment:!1,annotation:!1,horizontal:!1,vertical:!1,rectangle:!1,ellipse:!1,continuous:!1,channel:!1,gartley:!1,freeform:!1,pitchfork:!1,callout:!1,shape:!1}},STX.DrawingToolbar.prototype.setLine=function(t,e){var n="stx-line stxLineDisplay weight"+Math.floor(t);this.stx.currentVectorParameters.lineWidth=t,this.stx.currentVectorParameters.lineWidth==Math.floor(this.stx.currentVectorParameters.lineWidth)&&(this.stx.currentVectorParameters.lineWidth+=.1),"solid"==e?(this.stx.currentVectorParameters.pattern="solid",n+=" style1"):"dotted"==e?(this.stx.currentVectorParameters.pattern="dotted",n+=" style2"):"dashed"==e?(this.stx.currentVectorParameters.pattern="dashed",n+=" style3"):"none"==e&&(this.stx.currentVectorParameters.pattern="none");var i=$$$(".stx-toolbar .stxLineDisplay",this.htmlElement);i&&(i.className=n),this.callback&&this.callback()},STX.DrawingToolbar.setLine=function(t,e,n){var i=STX.DrawingToolbar.findInstance(n);i.setLine(t,e)},STX.DrawingToolbar.prototype.settingsDialog=function(){this.stx.currentVectorParameters.fibonacci&&STX.FibDialog.display(this)},STX.DrawingToolbar.settingsDialog=function(t){var e=STX.DrawingToolbar.findInstance(t);e.settingsDialog()},STX.DrawingToolbar.prototype.toggleAxisLabel=function(){this.stx.currentVectorParameters.axisLabel=!this.stx.currentVectorParameters.axisLabel;var t=$$$(".stx-toolbar .stxAxisLabel",this.htmlElement);t&&(STX.unappendClassName(t,(!this.stx.currentVectorParameters.axisLabel).toString()),STX.appendClassName(t,this.stx.currentVectorParameters.axisLabel.toString())),this.callback&&this.callback()},STX.DrawingToolbar.toggleAxisLabel=function(t){var e=STX.DrawingToolbar.findInstance(t);e.toggleAxisLabel()},STX.DrawingToolbar.setFont=function(t,e){var n,i=new RegExp("[0-9]+px"),r=STX.DrawingToolbar.findInstance(t);"italic"==e?(n=$$$(".stx-toolbar .stx-annotation-italic",r.htmlElement),"italic"==r.stx.currentVectorParameters.annotation.font.style?(r.stx.currentVectorParameters.annotation.font.style=null,STX.unappendClassName(n,"active")):(r.stx.currentVectorParameters.annotation.font.style="italic",STX.appendClassName(n,"active"))):"bold"==e?(n=$$$(".stx-toolbar .stx-annotation-bold",r.htmlElement),"bold"==r.stx.currentVectorParameters.annotation.font.weight?(r.stx.currentVectorParameters.annotation.font.weight=null,STX.unappendClassName(n,"active")):(r.stx.currentVectorParameters.annotation.font.weight="bold",STX.appendClassName(n,"active"))):i.test(e)?(r.stx.currentVectorParameters.annotation.font.size=e,$$$(".stx-toolbar .stx-annotation-size > span",r.htmlElement).innerHTML=STX.stripPX(e)):"Default"==e?(r.stx.currentVectorParameters.annotation.font.family=null,$$$(".stx-toolbar .stx-annotation-family > span",r.htmlElement).innerHTML=e):(r.stx.currentVectorParameters.annotation.font.family=e,$$$(".stx-toolbar .stx-annotation-family > span",r.htmlElement).innerHTML=e),r.callback&&r.callback()},STX.DrawingToolbar.prototype.setVectorType=function(t){var e=this.stx;e.clearMeasure();var n,i,r;if(!t){e.changeVectorType("");for(i in STX.DrawingToolbar.configurator)for(n=this.htmlElement.querySelectorAll(i),r=0;r<n.length;r++)n[r].style.display="none";return void($$$("#toolSelection",this.htmlElement).innerHTML=e.translateIf("Select Tool"))}for(i in STX.DrawingToolbar.configurator){n=this.htmlElement.querySelectorAll(i);var a;try{a=(new STX.Drawing[t]).configurator}catch(t){}for(a||(a=t),r=0;r<n.length;r++)STX.DrawingToolbar.configurator[i][a]===!1?n[r].style.display="none":n[r].style.display=""}"none"!=e.currentVectorParameters.pattern||STX.DrawingToolbar.configurator[".stxToolbarNone"][t]||this.setLine(e.currentVectorParameters.lineWidth,"solid"),e.changeVectorType(t);var o=e.translateIf(t.capitalize());$$$("#toolSelection",this.htmlElement).innerHTML=o,this.setLineColor(e)},STX.DrawingToolbar.setVectorType=function(t,e,n){var i=STX.DrawingToolbar.findInstance(n);i||(i=STX.DrawingToolbar._default=new STX.DrawingToolbar($$$(".stx-toolbar"),t)),i.stx=t,i.setVectorType(e)},STX.DrawingToolbar.setDrawingType=function(t,e){var n=STX.DrawingToolbar.findInstance(e);n.setVectorType(t)},STX.DrawingToolbar.findInstance=function(t){if(!t)return STX.DrawingToolbar._default;for(var e=0;e<40&&!STX.hasClassName(t,"stx-toolbar");e++)if(t=t.parentNode,!t)return STX.DrawingToolbar._default;return t.DrawingToolbar?t.DrawingToolbar:STX.DrawingToolbar._default},STX.DrawingToolbar.prototype.crosshairs=function(t){var e=this.stx;this.setVectorType(null),e.layout.crosshair=t,t?$$$("#toolSelection",this.htmlElement).innerHTML=e.translateIf("Crosshairs"):$$$("#toolSelection",this.htmlElement).innerHTML=e.translateIf("Select Tool"),e.doDisplayCrosshairs(),e.positionCrosshairsAtPointer(),e.findHighlights(!1,!0),e.changeOccurred("layout"),e.draw()},STX.DrawingToolbar.crosshairs=function(t,e,n){var i=STX.DrawingToolbar.findInstance(n);i.stx=t,i.crosshairs(e)},STX.DrawingToolbar.setCrosshairs=function(t,e){var n=STX.DrawingToolbar.findInstance(e);n.crosshairs(t)},STX.MILLISECOND=1,STX.SECOND=1e3,STX.MINUTE=60*STX.SECOND,STX.HOUR=60*STX.MINUTE,STX.DAY=24*STX.HOUR,STX.WEEK=7*STX.DAY,STX.MONTH=31*STX.DAY,STX.YEAR=365*STX.DAY,STX.DECADE=10*STX.YEAR,STXChart.version=["Version 2015-11-01"],STXChart.drawingLine=!1,STXChart.resizingPanel=null,STXChart.vectorType="",STXChart.crosshairX=0,STXChart.crosshairY=0,STXChart.insideChart=!1,STXChart.overXAxis=!1,STXChart.overYAxis=!1,STXChart.currentColor="auto",STXChart.drawingTools={},STXChart.useAnimation=!STX.is_chrome,STXChart.ipadMaxTicks=1500,STXChart.enableCaching=!1,STXChart.ignoreTouch=!1,STXChart.useOldAndroidClear=!0,STXChart.currentVectorParameters={vectorType:null,pattern:"solid",lineWidth:1,fillColor:"#7DA6F5",currentColor:"auto",axisLabel:!0,fibonacci:{trend:{color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},fibs:[{level:-.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:-.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:0,color:"auto",parameters:{pattern:"solid",lineWidth:1}},{level:.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:.5,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:1,color:"auto",parameters:{pattern:"solid",lineWidth:1}},{level:1.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:1.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}}],extendLeft:!1,printLevels:!0,printValues:!1,timezone:{color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}}},annotation:{font:{style:null,size:null,weight:null,family:null}}},STXChart.defaultDisplayTimeZone=null,"undefined"==typeof $$&&($$=function(t){return{}}),STXChart.Chart=function(){this.xAxis=new STXChart.XAxis,this.yAxis=new STXChart.YAxis,this.symbolObject={symbol:null},this.series={},this.seriesRenderers={},this.xaxis=[]},STXChart.Chart.prototype.yaxisPaddingRight=null,STXChart.Chart.prototype.yaxisPaddingLeft=null,STXChart.YAxis=function(){},STXChart.XAxis=function(){},STXChart.Panel=function(t,e){e?this.yAxis=e:this.yAxis=new STXChart.YAxis,this.name=t},STXChart.YAxis.prototype={high:null,low:null,shadow:null,logHigh:null,logLow:null,logShadow:null,multiplier:null,bottom:null,top:null,height:null,left:null,width:null},STXChart.YAxis.prototype.maxDecimalPlaces=5,STXChart.YAxis.prototype.max=null,STXChart.YAxis.prototype.min=null,STXChart.YAxis.prototype.decimalPlaces=null,STXChart.YAxis.prototype.idealTickSizePixels=null,STXChart.YAxis.prototype.minimumPriceTick=null,STXChart.YAxis.prototype.displayBorder=!0,
STXChart.YAxis.prototype.displayGridLines=!0,STXChart.YAxis.prototype.noDraw=null,STXChart.YAxis.prototype.drawCurrentPriceLabel=!0,STXChart.YAxis.prototype.drawPriceLabels=!0,STXChart.YAxis.prototype.yaxisLabelStyle=null,STXChart.YAxis.prototype.justifyRight=null,STXChart.YAxis.prototype.textBackground=!1,STXChart.YAxis.prototype.priceFormatter=null,STXChart.YAxis.prototype.bottomOffset=0,STXChart.YAxis.prototype.topOffset=0,STXChart.YAxis.prototype.initialMarginTop=10,STXChart.YAxis.prototype.initialMarginBottom=10,STXChart.YAxis.prototype.zoom=0,STXChart.YAxis.prototype.scroll=0,STXChart.YAxis.prototype.width=50,STXChart.YAxis.prototype.textStyle=null,STXChart.YAxis.prototype.position=null,STXChart.YAxis.defaultShadowBreaks=[[1e3,2],[1,4]],STXChart.YAxis.smallChartShadowBreaks=[[10,2],[1,4]],STXChart.YAxis.prototype.pretty=!0,STXChart.YAxis.prototype.increments=[1,2.5,5],STXChart.YAxis.prototype.shadowBreaks=STXChart.YAxis.defaultShadowBreaks,STXChart.Panel.prototype={name:null,display:null,chart:null,yAxis:null,top:null,bottom:null,height:null,percent:null},STXChart.XAxis.prototype={formatter:null,adjustTimeZone:!0,useDataDate:!1,idealTickSizePixels:null,timeUnit:null,timeUnitMultiplier:null,axisType:null,displayBorder:!0,displayGridLines:!0,minimumLabelWidth:50,futureTicks:!0,futureTicksInterval:10},STXChart.Chart.prototype={name:null,panel:null,symbol:null,symbolObject:{symbol:null},symbolDisplay:null,series:{},seriesRenderers:{},scroll:0,standStill:0,maxTicks:0,xaxisFactor:30,masterData:null,dataSet:null,scrubbed:null,dataSegment:null,baseline:{includeInDataSegment:!1,defaultLevel:null,userLevel:null,actualLevel:null},xaxis:[],decimalPlaces:2,roundit:100,beginHour:0,beginMinute:0,endHour:23,endMinute:59,minutesInSession:1440,legendRenderer:STX.drawLegend,xAxis:null,customChart:null},STXChart.prototype.debug=function(){},STXChart.prototype.callbacks={studyOverlayEdit:null,studyPanelEdit:null,tap:null,move:null,calculateTradingDecimalPlaces:STX.calculateTradingDecimalPlaces},_exports.STXChart=STXChart,STXChart.DrawingDescriptor={name:"",render:null,intersected:null,click:null,abort:null},STXChart.prototype.prepend=function(t,e){var n;return this instanceof STXChart?(n=this["prepend"+t],n?this["prepend"+t]=[e].concat(n):this["prepend"+t]=[e]):(n=STXChart.prototype["prepend"+t],n?STXChart.prototype["prepend"+t]=[e].concat(n):STXChart.prototype["prepend"+t]=[e]),{method:"prepend"+t,func:e}},STXChart.prototype.append=function(t,e){var n;return this instanceof STXChart?(n=this["append"+t],n?n.push(e):this["append"+t]=[e]):(n=STXChart.prototype["append"+t],n?n.push(e):STXChart.prototype["append"+t]=[e]),{method:"append"+t,func:e}},STXChart.prototype.removeInjection=function(t){var e,n=t.method;if(this instanceof STXChart){if(!this[n])return;for(e=0;e<this[n].length;e++)if(this[n][e]==t.func)return void this[n].splice(e,1)}else{if(!STXChart.prototype[n])return;for(e=0;e<STXChart.prototype[n].length;e++)if(STXChart.prototype[n][e]==t.func)return void STXChart.prototype[n].splice(e,1)}},STXChart.prototype.remove=function(t){this instanceof STXChart?(delete this["append"+t],delete this["prepend"+t]):(delete STXChart.prototype["append"+t],delete STXChart.prototype["prepend"+t])},STXChart.registeredContainers=[],STXChart.handleContextMenu=function(t){t||(t=event);for(var e=0;e<STXChart.registeredContainers.length;e++){var n=STXChart.registeredContainers[e].stx;if(n&&n.anyHighlighted)return t.preventDefault&&t.preventDefault(),!1}},STX.addMemberToMasterdata=function(t,e,n,i,r,a){if(n)for(var o=0,s=0;o<t.masterData.length&&s<n.length;){var l=n[s],u=t.masterData[o];if(l.DT||(l.DT=STX.strToDateTime(l.Date)),l.DT.getTime()!=u.DT.getTime())l.DT<u.DT?s++:o++;else{if(i)for(var c=0;c<i.length;c++)u[i[c]]=l[i[c]];else r?u[e]=l:a?u[e]=l[a]:u[e]=l.Close;s++,o++}}},STX.QuoteFeed=function(){},STX.QuoteFeed.prototype.fetch=function(t,e){t.startDate&&t.endDate||t.startDate||t.endDate},STX.QuoteFeed.prototype.announceError=function(t,e){t.startDate||t.endDate||e.error&&STX.alert("Error fetching quote:"+e.error)},STX.QuoteFeed.prototype.multiFetch=function(t,e){function n(t,e,n){return function(i){if(e.results.push({dataCallback:i,params:t}),e.counter++,e.counter>=e.finished){var r=e.results;e.results=[],n(r)}}}for(var i={counter:0,finished:t.length,results:[]},r=0;r<t.length;r++){var a=t[r];this.fetch(a,n(a,i,e))}},STX.QuoteFeed.Demo=function(t){this.showMarketOnlydata=t},STX.QuoteFeed.Demo.stxInheritsFrom(STX.QuoteFeed),STX.QuoteFeed.Demo.prototype.fetch=function(t,e){return t.startDate&&t.endDate?void("minute"==t.interval||"second"==t.interval||"millisecond"==t.interval?this.generateIntradayRange(t,e):this.generateDaily(t,e)):t.startDate?void("minute"==t.interval||"second"==t.interval||"millisecond"==t.interval?this.update(t,e):e({error:"STX.QuoteFeed.Demo does not support updates for daily charts"})):t.endDate?void("minute"==t.interval||"second"==t.interval||"millisecond"==t.interval?this.loadMore(t,e):e({error:"STX.QuoteFeed.Demo does not support loadMore for daily charts"})):void("minute"==t.interval||"second"==t.interval||"millisecond"==t.interval?this.generateIntraday(t,e):this.generateDaily(t,e))},STX.QuoteFeed.Demo.prototype.update=function(t,e){if(this.showMarketOnlydata)if(STX.LegacyMarket.isForexSymbol(t.symbol)){if(!STX.LegacyMarket.isForexOpen(new Date,t.symbol))return void e({quotes:[]})}else if(!STX.LegacyMarket.isMarketOpen(t.symbol,t.stx))return void e({quotes:[]});var n=t.stx.chart.masterData,i=n[n.length-1],r=n[n.length-2],a=(new Date).getTime(),o=6e4;"second"==t.interval&&(o=1e3),"millisecond"==t.interval&&(o=1),a-=a%(t.period*o);var s={},l=new Date(a);s.DT=l;var u=t.symbol;i[u]||(r[u]?i=r:u="Close"),s.Close=Math.round(100*(i[u]-.8*(Math.random()-.5)))/100,a==n[n.length-1].DT.getTime()?(s.Open=i.Open,s.High=Math.max(i.High,s.Close),s.Low=Math.min(i.Low,s.Close),s.Volume=i.Volume+Math.round(1e3*Math.random())):(s.Open=s.High=s.Low=s.Close,s.Volume=1e3),e({quotes:[s]})},STX.QuoteFeed.Demo.prototype.randomQuote=function(t){var e=t-2*(Math.random()-.5),n=t-2*(Math.random()-.5),i=Math.max(t-2*(Math.random()-.5),e,n),r=Math.min(t-2*(Math.random()-.5),e,n),a={Open:Math.round(100*e)/100,Close:Math.round(100*n)/100,High:Math.round(100*i)/100,Low:Math.round(100*r)/100};return a.Close<a.Open?a.Volume=1e6+Math.round(15e5*Math.random()):a.Volume=1e6+Math.round(3e5*Math.random()),a},STX.QuoteFeed.Demo.prototype.generateDaily=function(t,e){function n(t){var e=t.substr(0,t.indexOf("=")),n=t.substring(t.indexOf(e+"=")+(e+"=").length,t.length-1);try{return JSON.parse(n.replace(/,0+/g,",0").replace(/,[.]/g,",0.").replace(/;/g,""))}catch(t){return[]}}var i=t.symbol.toUpperCase();"^"!=i.charAt(0)&&STX.LegacyMarket.isForexSymbol(i)&&(i="^"+i);var r="http://demoquotes.whitelabelstockcharts.com/"+i;STX.postAjax(r,null,function(i,r){if(200!=i)return void e({error:i});for(var a=n(r),o=[],s=0;s<a.length;s++)o[s]={},o[s].Date=a[s][0],o[s].Open=a[s][1],o[s].High=a[s][2],o[s].Low=a[s][3],o[s].Close=a[s][4],o[s].Volume=a[s][5],o[s].Adj_Close=a[s][6];t.noUpdate=!0,e({quotes:o,moreAvailable:!1,attribution:{source:"chartiq",exchange:"EOD"}})})},STX.QuoteFeed.Demo.prototype.generateIntraday=function(t,e){var n=t.stx.calendarAxis;t.stx.calendarAxis=!this.showMarketOnlydata;var i=155.43,r=[],a=3*t.ticks;isNaN(a)&&(a=t.stx.chart.dataSet.length);var o=(new Date).getTime(),s=6e4;"second"==t.interval&&(s=1e3),"millisecond"==t.interval&&(s=1),o-=o%(t.period*s);var l=new Date(o);l=t.stx.iterate(l,-t.period,t.interval,t.stx.dataZone,t.symbol);for(var u=0;u<a;u++){var c=this.randomQuote(i);c.DT=new Date(l),c.Volume=Math.round(c.Volume*t.period/500);l.getDay();r.push(c),l=t.stx.iterate(l,-t.period,t.interval,t.stx.dataZone,t.symbol),i=c.Close}t.stx.calendarAxis=n,e({quotes:r.reverse(),moreAvailable:!0,attribution:{source:"chartiq",exchange:"RANDOM"}})},STX.QuoteFeed.Demo.prototype.generateIntradayRange=function(t,e){var n=t.stx.calendarAxis;t.stx.calendarAxis=!this.showMarketOnlydata;for(var i=155.43,r=[],a=new Date(t.startDate);a<=t.endDate;){var o=this.randomQuote(i);o.DT=new Date(a),o.Volume=Math.round(o.Volume*t.period/500),r.push(o),a=t.stx.iterate(a,t.period,t.interval,t.stx.dataZone,t.symbol),i=o.Close}t.stx.calendarAxis=n,e({quotes:r})},STX.QuoteFeed.Demo.prototype.loadMore=function(t,e){var n=t.stx.calendarAxis;t.stx.calendarAxis=!this.showMarketOnlydata;var i=t.chart.masterData[0],r=t.symbol;t.chart.series[r]||(r="Close");var a;for(a=0;a<t.chart.masterData.length&&!(t.chart.masterData[a].DT.getTime()>=t.endDate.getTime()&&(i=t.chart.masterData[a],i[r]));a++);i[r]||(r="Close");var o=i[r],s=[],l=t.stx.iterate(t.endDate,-t.period,t.interval,t.stx.dataZone,t.symbol);for(a=0;a<t.ticks;a++){var u=this.randomQuote(o);u.DT=new Date(l),"minute"==t.interval&&(u.Volume=Math.round(u.Volume*t.period/500)),s.push(u),l=t.stx.iterate(l,-t.period,t.interval,t.stx.dataZone,t.symbol),o=u.Close}s.reverse(),t.stx.calendarAxis=n,e({quotes:s,moreAvailable:!0})},STX.QuoteFeed.ChartIQEOD=function(t){this.url=t},STX.QuoteFeed.ChartIQEOD.stxInheritsFrom(STX.QuoteFeed),STX.QuoteFeed.ChartIQEOD.prototype.fetch=function(t,e){function n(t){var e=t.substr(0,t.indexOf("=")),n=t.substring(t.indexOf(e+"=")+(e+"=").length,t.length-1);try{return JSON.parse(n.replace(/,0+/g,",0").replace(/,[.]/g,",0.").replace(/;/g,""))}catch(t){return[]}}if(t.startDate)return void e({error:"STX.QuoteFeed.ChartIQEOD does not support updates for daily charts"});if(t.endDate)return void e({error:"STX.QuoteFeed.ChartIQEOD does not support loadMore for daily charts"});if("minute"==t.interval)return void e({error:"STX.QuoteFeed.ChartIQEOD does not support intraday charts"});var i=t.symbol.toUpperCase();"^"!=i.charAt(0)&&STX.LegacyMarket.isForexSymbol(i)&&(i="^"+i);var r=this.url+"/"+t.symbol.toUpperCase();STX.postAjax(r,null,function(t,i){if(200!=t)return void e({error:t});for(var r=n(i),a=[],o=0;o<r.length;o++)a[o]={},a[o].Date=r[o][0],a[o].Open=r[o][1],a[o].High=r[o][2],a[o].Low=r[o][3],a[o].Close=r[o][4],a[o].Volume=r[o][5],a[o].Adj_Close=r[o][6];e({quotes:a})})},STX.Animate=function(t){this.stx=t,this.desiredFrames=60,this.running={},this.counter=1,this.isAnimating=!1},STX.Animate.prototype.go=function(t){var e,n,i,r=this,a=this.stx.chart.width/2;t.diffCandleWidth=t.newCandleWidth-t.oldCandleWidth,t.diffScroll=t.newScroll-t.oldScroll,t.centerTick=this.stx.tickFromPixel(a);var o;return o=t.diffScroll>0?this.stx.chart.scroll<=this.stx.chart.maxTicks:this.stx.chart.scroll>this.stx.chart.maxTicks,t.centerTick=o?Math.round(this.stx.tickFromPixel(this.stx.chart.width/2)):this.stx.chart.dataSet.length-1,t.callback=function(){var t=r.stx;if(this.candleWidth){var e=t.pixelFromTick(this.centerTick);t.setCandleWidth(this.candleWidth),t.micropixels=0;var n=t.pixelFromTick(this.centerTick),i=n-e,a=i/t.layout.candleWidth,o=Math.round(a);t.chart.scroll-=o,t.microscroll=o-a,t.micropixels=t.layout.candleWidth*t.microscroll}t.draw()},e=function(e,n,i){return r.step(e,n,i,t)},n=function(t){return r.verify(t)},i=function(t,e,n){return r.completed(t,e,n)},this.isAnimating=this.start(e,n,i,250,this.isAnimating?STX.Animate.easeOutCubic:STX.Animate.easeInOutCubic),this.isAnimating},STX.Animate.prototype.step=function(t,e,n,i){n&&(i.oldCandleWidth&&(i.candleWidth=i.oldCandleWidth+i.diffCandleWidth*t),(i.oldScroll||0===i.oldScroll)&&(i.scroll=i.oldScroll+i.diffScroll*t),i.callback&&i.callback())},STX.Animate.prototype.verify=function(t){return this.isAnimating===t},STX.Animate.prototype.completed=function(t,e,n){e===this.isAnimating&&(this.isAnimating=!1)},STX.Animate.easeOutCubic=function(t){return Math.pow(t-1,3)+1},STX.Animate.easeInOutCubic=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},STX.Animate.prototype.stop=function(t){var e=this.running[t]===!0;return e&&(this.running[t]=null),e},STX.Animate.prototype.isRunning=function(t){return this.running[t]===!0},STX.Animate.prototype.start=function(t,e,n,i,r,a){var o=Date.now(),s=o,l=0,u=0,c=this.counter++;if(a||(a=document.body),c%20===0){var h={};for(var p in this.running)h[p]=!0;this.running=h}var d=this,f=function(h){var p=h!==!0,g=Date.now();if(!d.running[c]||e&&!e(c))return d.running[c]=null,void(n&&n(d.desiredFrames-u/((g-o)/1e3),c,!1));if(p)for(var m=Math.round((g-s)/(1e3/d.desiredFrames))-1,y=0;y<Math.min(m,4);y++)f(!0),u++;i&&(l=(g-o)/i,l>1&&(l=1));var v=r?r(l):l;t(v,g,p)!==!1&&1!==l||!p?p&&(s=g,requestAnimationFrame(f,a)):(d.running[c]=null,n&&n(d.desiredFrames-u/((g-o)/1e3),c,1===l||null===i||"undefined"==typeof i))};return this.running[c]=!0,requestAnimationFrame(f,a),c},STX.EaseMachine=function(t,e,n,i){this.fc=t,this.ms=e,(n||0===n)&&this.reset(n,i)},STX.EaseMachine.prototype.reset=function(t,e){t||0===t||(t=this.currentValues),this.hasCompleted=!1,this.running=!1,this.okayToRun=!0,this.useNameValuePairs="object"==typeof e,this.startTime=Date.now(),this.useNameValuePairs?(this.startValues=t,this.endValues=e):(this.startValues={default:t},this.endValues={default:e}),this.changeValues={},this.currentValues={};for(var n in this.startValues)this.changeValues[n]=this.endValues[n]-this.startValues[n]},STX.EaseMachine.prototype.next=function(){var t=Date.now();t>=this.startTime+this.ms&&(t=this.startTime+this.ms,this.hasCompleted=!0,this.running=!1),this.currentValues={};for(var e in this.changeValues)this.currentValues[e]=this.fc(t-this.startTime,this.startValues[e],this.changeValues[e],this.ms);return this.useNameValuePairs?this.currentValues:this.currentValues.default},STX.EaseMachine.prototype.hasCompleted=!1,STX.EaseMachine.prototype.run=function(t,e,n,i){function r(){if(a.afid=null,a.okayToRun){var e=a.next();t(e),a.hasCompleted||(a.afid=requestAnimationFrame(r))}}this.afid&&cancelAnimationFrame(this.afid),this.running=!0,e||0===e?this.reset(e,n):(n||0===n)&&this.reset(this.currentValues,n);var a=this;i?this.afid=requestAnimationFrame(r):r()},STX.EaseMachine.prototype.stop=function(){return this.afid&&cancelAnimationFrame(this.afid),this.afid=null,this.okayToRun=!1,this.running=!1,"undefined"==typeof this.useNameValuePairs?{}:this.useNameValuePairs?this.currentValues:this.currentValues.default},"undefined"!=typeof document&&document.addEventListener("contextmenu",STXChart.handleContextMenu),_exports}var _stx_js_exports={};if("undefined"!=typeof exports&&(_stx_js_exports=exports),"function"==typeof define&&define.amd)define(["stxThirdParty"],function(t){return _stx_js(_stx_js_exports,t)});else{var _stxThirdParty={};"undefined"!=typeof window.STXThirdParty&&(_stxThirdParty=window.STXThirdParty);var _=_stx_js(_stx_js_exports,_stxThirdParty);window.STX=_.STX,window.STXChart=_.STXChart,window.$$=_.$$,window.$$$=_.$$$}}(),function(){function t(t,e){var n=t.plotSpline,i=t.plotSplinePrimitive,r=t.timezoneJS,a=e.STX,o=e.STXChart,s=e.$$,l=e.$$$;o.prototype.plugins={},a.isSurface&&(a.gesture=new MSGesture,a.gesture.target=document.body,a.gesturePointerId=null),o.htmlControls={annotationSave:'<span class="stx-btn stx_annotation_save" style="display: none;">save</span>',annotationCancel:'<span class="stx-btn stx_annotation_cancel" style="display: none; margin-left:10px;">cancel</span>',mSticky:'<div id="mSticky"> <span id="mStickyInterior"></span> <span id="mStickyRightClick" class=""><span id="overlayTrashCan" class="stx-btn" style="display:none"><span class="stx-ico-trash">&nbsp;</span></span> <span id="mouseDeleteInstructions"><span>(</span><span id="mouseDeleteText">right-click to delete</span><span id="mouseManageText">right-click to manage</span><span>)</span></span></span></div>',crossX:'<div class="stx_crosshair stx_crosshair_x" style="display: none;"></div>',crossY:'<div class="stx_crosshair stx_crosshair_y" style="display: none;"></div>',chartControls:'<div class="stx_chart_controls" style="display: none; bottom: 22px;"><div id="chartSize"><span id="zoomOut" class="stx-zoom-out"></span><span id="zoomIn" class="stx-zoom-in"></span></div></div>',home:'<div id="home" class="stx_jump_today home" style="display:none"><span></span></div>',floatDate:'<div class="stx-float-date" style="display: none;"></div>',handleTemplate:'<div class="stx-ico-handle" style="display: none;"><span></span></div> ',iconsTemplate:'<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-btn-panel"><span class="stx-ico-up"></span></div><div class="stx-btn-panel"><span class="stx-ico-focus"></span></div><div class="stx-btn-panel"><span class="stx-ico-down"></span></div><div class="stx-btn-panel"><span class="stx-ico-edit"></span></div><div class="stx-btn-panel"><span class="stx-ico-close"></span></div></div>',baselineHandle:'<div class="stx-baseline-handle fa" style="display: none;"></div>'},o.prototype.registerHTMLElements=function(){var t=this.chart.container;for(var e in o.htmlControls)if("undefined"==typeof this.chart[e]&&"undefined"==typeof this.controls[e]){if(!this.allowZoom&&"chartControls"==e)continue;var n=l("#"+e,t);if(n)this.chart[e]=n,this.controls[e]=n;else{var i=o.htmlControls[e],r=document.createElement("DIV");r.innerHTML=i,n=r.firstChild,t.appendChild(n),this.chart[e]=n,this.controls[e]=n,n.id=e}}if(this.controls.chartControls){var s=l("#zoomIn",this.controls.chartControls),u=l("#zoomOut",this.controls.chartControls);a.safeClickTouch(s,function(t){return function(e){t.zoomIn(),e.stopPropagation()}}(this)),a.safeClickTouch(u,function(t){return function(e){t.zoomOut(),e.stopPropagation()}}(this)),a.touchDevice||(s.onmouseover=function(t){return function(e){t.modalBegin()}}(this),s.onmouseout=function(t){return function(e){t.modalEnd()}}(this),u.onmouseover=function(t){return function(e){t.modalBegin()}}(this),u.onmouseout=function(t){return function(e){t.modalEnd()}}(this))}this.controls.home&&(a.safeClickTouch(this.controls.home,function(t){return function(e){t.home(),e.stopPropagation()}}(this)),a.touchDevice||(this.controls.home.onmouseover=function(t){return function(e){t.modalBegin()}}(this),this.controls.home.onmouseout=function(t){return function(e){t.modalEnd()}}(this)))},a.camelCaseRegExp=/-([a-z])/g,a.makeCamelCase=function(t){return t.replace(a.camelCaseRegExp,function(t){return t[1].toUpperCase()})},o.prototype.cloneStyle=function(t){function e(t){return t[1].toUpperCase()}var n={},i=!1;for(var r in t){var o=t[r];if("backgroundAttachment"==r&&(i=!0),i)o&&o.constructor==String&&isNaN(r)&&(n[r]=o);else if(isNaN(r)){var s=r.replace(a.camelCaseRegExp,e);n[s]=o}else{var l=t.getPropertyValue(o);if(l){o=o.split("-");var u=0;jj=o.length;for(var c=o[0];++u<jj;)c+=o[u].charAt(0).toUpperCase()+o[u].slice(1);n[c]=l}}}return n},o.prototype.canvasStyle=function(t){var e=this.styles[t];if(!e){var n=document.createElement("div");n.className=t,document.body.appendChild(n);var i=getComputedStyle(n);e=this.styles[t]=this.cloneStyle(i),document.body.removeChild(n),i||(this.styles[t]=null)}return e},o.prototype.colorOrStyle=function(t){return t.indexOf("#")!=-1?t:t.indexOf("rgba(")!=-1?t:t.indexOf("rgb(")!=-1?t:"transparent"==t?t:this.canvasStyle(t)},o.prototype.clearStyles=function(){this.styles={}},o.prototype.setStyle=function(t,e,n){this.styles[t]||this.canvasStyle(t),this.styles[t]||(this.styles[t]={}),this.styles[t][a.makeCamelCase(e)]=n},o.prototype.canvasFont=function(t,e){e||(e=this.chart.context);var n=this.canvasStyle(t);if(n){var i=n.fontStyle+" "+n.fontWeight+" "+n.fontSize+" "+n.fontFamily;i.indexOf("undefined")==-1?e.font=i:(this.styles[t]=null,console.log("bad css style for class "+t))}},o.prototype.canvasColor=function(t,e){e||(e=this.chart.context);var n=this.canvasStyle(t);if(n){var i=n.color;a.isTransparent(i)&&(i=this.defaultColor),e.globalAlpha=1,e.fillStyle=i,e.strokeStyle=i;var r=n.opacity;"undefined"!=typeof r&&(e.globalAlpha=r)}},o.prototype.getCanvasFontSize=function(t){var e=this.canvasStyle(t),n=e.fontSize;return n||(n="12"),parseInt(a.stripPX(n))},o.prototype.getCanvasColor=function(t){var e=this.canvasStyle(t);return e.color},o.hideDates=function(){return!1},o.prototype.runPrepend=function(t,e,n){var i=this["prepend"+t];if(!i)return!1;n||(n=this);for(var r=0;r<i.length;r++){var a=i[r].apply(n,e);if(a)return a}return!1},o.prototype.runAppend=function(t,e,n){var i=this["append"+t];if(!i)return!1;n||(n=this);for(var r=0;r<i.length;r++){var a=i[r].apply(n,e);if(a)return a}return!1},o.registerDrawingTool=function(t,e){o.drawingTools[t]=e},o.prototype.createBlock=function(t,e,n,i,r,a){a||(a=this.chart.context),"undefined"!=typeof i&&(this.canvasColor(r,a),a.fillRect(t,n,e,i),a.globalAlpha=1)},o.prototype.changeOccurred=function(t){this.currentlyImporting||this.changeCallback&&this.changeCallback(this,t)},o.prototype.setChartType=function(t){this.layout.chartType=t,this.displayInitialized&&this.draw(),this.changeOccurred("layout")},o.prototype.setAggregationType=function(t){this.layout.aggregationType=t,this.chart.canvas&&(this.createDataSet(),this.draw()),this.changeOccurred("layout")},o.prototype.setChartScale=function(t){t||(t="linear"),this.layout.chartScale=t,this.chart.canvas&&this.draw(),this.changeOccurred("layout")},o.prototype.setAdjusted=function(t){this.layout.adj=t,this.chart.canvas&&(this.createDataSet(),this.draw()),this.changeOccurred("layout")},o.prototype.setVolumeUnderlay=function(t){this.layout.volumeUnderlay=t,this.chart.canvas&&this.draw(),this.changeOccurred("layout")},o.prototype.serializeDrawings=function(){for(var t=[],e=0;e<this.drawingObjects.length;e++)t.push(this.drawingObjects[e].serialize());return t},o.prototype.abortDrawings=function(){for(var t=0;t<this.drawingObjects.length;t++)this.drawingObjects[t].abort(!0);this.drawingObjects=[]},o.prototype.reconstructDrawings=function(t){for(var e=0;e<t.length;e++){var n=t[e];"fibonacci"==n.name&&(n.name="retracement");var i=o.drawingTools[n.name];if(i||a.Drawing[n.name]&&(i=a.Drawing[n.name],o.registerDrawingTool(n.name,i)),i){var r=new i;r.reconstruct(this,n),this.drawingObjects.push(r)}}},o.prototype.clearDrawings=function(t){t?this.undoStamps=[]:this.undoStamp(),this.abortDrawings(),this.changeOccurred("vector"),this.createDataSet(),this.draw()},o.prototype.createDrawing=function(t,e){var n=new a.Drawing[t];return n.reconstruct(this,e),this.drawingObjects.push(n),this.draw(),n},o.prototype.removeDrawing=function(t){for(var e=0;e<this.drawingObjects.length;e++)if(this.drawingObjects[e]==t)return this.drawingObjects.splice(e,1),this.changeOccurred("vector"),void this.draw()},o.prototype.dateFromTick=function(t,e,n){e||(e=this.chart);var i,r,o=this.layout.interval,s=this.layout.periodicity,l=e.dataSet.length;if(t<l&&t>=0)return n?new Date(e.dataSet[t].DT.getTime()):e.dataSet[t].Date;if(t<0)for(i=e.dataSet[0].DT,r=0;r<3e3;r++){if(-r==t)return n?new Date(i.getTime()):a.yyyymmddhhmmssmmm(i);this.isDailyInterval(o)?"day"==o?i=a.LegacyMarket.prevDay(i,s,this):"week"==o?i=a.LegacyMarket.prevWeek(i,s,this):"month"==o&&(i=a.LegacyMarket.prevMonth(i,s,this)):i=a.LegacyMarket.prevPeriod(i,o,s,this,null,this.dataZone)}else for(i=e.dataSet[l-1].DT,r=0;r<3e3;r++){if(l-1+r==t)return n?new Date(i.getTime()):a.yyyymmddhhmmssmmm(i);this.isDailyInterval(o)?"day"==o?i=a.LegacyMarket.nextDay(i,s,this):"week"==o?i=a.LegacyMarket.nextWeek(i,s,this):"month"==o&&(i=a.LegacyMarket.nextMonth(i,s,this)):i=a.LegacyMarket.nextPeriod(i,o,s,this,null,this.dataZone)}return n?new Date(i.getTime()):a.yyyymmddhhmmssmmm(i)},o.prototype.futureTick=function(t,e){var n=a.strToDateTime(t).getTime(),i=this.layout.interval,r=this.layout.periodicity,o=e.dataSet[e.dataSet.length-1].DT,s=o.getTime(),l=0,u=r;if(!this.isDailyInterval(i)){if("second"==this.layout.timeUnit)return l=(n-s)/1e3,e.dataSet.length-1+l;if("millisecond"==this.layout.timeUnit)return l=n-s,e.dataSet.length-1+l;"minute"!=i&&(u=r*i),"tick"==i&&(u=this.chart.xAxis.futureTicksInterval)}for(var c=0;c<1500;c++){if(this.isDailyInterval(i)?(l+=1,"day"==i?o=a.LegacyMarket.nextDay(o,r,this):"week"==i?o=a.LegacyMarket.nextWeek(o,r,this):"month"==i&&(o=a.LegacyMarket.nextMonth(o,r,this))):o.getHours()==e.beginHour&&o.getMinutes()==e.beginMinute&&"tick"!=i&&(n-s)/6e4>e.minutesInSession?(o=a.LegacyMarket.nextDay(o,1,this),0===e.beginHour&&0===o.getDay()&&(o.setHours(15),o.setMinutes(0)),l+=0===e.beginHour&&1==o.getDay()?Math.round(540/u):Math.round(e.minutesInSession/u)):(o=a.LegacyMarket.nextPeriod(o,i,r,this,null,this.dataZone),l+=1),s=o.getTime(),s==n)return e.dataSet.length-1+l;if(n<s)return e.dataSet.length-1+l-1}return e.dataSet.length-1+l},o.prototype.pastTick=function(t,e){var n=a.strToDateTime(t).getTime(),i=this.layout.interval,r=this.layout.periodicity,o=e.dataSet[0].DT,s=o.getTime(),l=0,u=r;if(!this.isDailyInterval(i)){if("second"==this.layout.timeUnit)return(n-s)/1e3;if("millisecond"==this.layout.timeUnit)return n-s;"minute"!=i&&(u=r*i),"tick"==i&&(u=this.chart.xAxis.futureTicksInterval)}for(var c=0;c<1500;c++){if(this.isDailyInterval(i))l+=1;else if(o.getHours()==e.beginHour&&o.getMinutes()==e.beginMinute&&"tick"!=i){var h=a.LegacyMarket.prevDay(o,1,this);(h.getTime()-n)/6e4>e.minutesInSession?(o=h,l+=0===e.beginHour?0===o.getDay()?Math.round(540/u):Math.round(e.minutesInSession/u):9==e.beginHour&&a.LegacyMarket.isHalfDay(o,e.symbol)?Math.round(210/u):Math.round(e.minutesInSession/u)):(o=a.LegacyMarket.prevPeriod(o,i,r,this,null,this.dataZone),l+=1)}else o=a.LegacyMarket.prevPeriod(o,i,r,this,null,this.dataZone),l+=1;if("day"==i?o=a.LegacyMarket.prevDay(o,r,this):"week"==i?o=a.LegacyMarket.prevWeek(o,r,this):"month"==i&&(o=a.LegacyMarket.prevMonth(o,r,this)),s=o.getTime(),s==n)return-l;if(n>s)return-(l+1)}return-l},o.prototype.calculateYAxisMargins=function(t){t.zoom=t.initialMarginTop+t.initialMarginBottom,t.scroll=(t.initialMarginTop-t.initialMarginBottom)/2},o.prototype.home=function(t){if(this.grabbingScreen=!1,o.insideChart&&a.unappendClassName(this.container,"stx-drag-chart"),"object"!=typeof t&&(t={maintainWhitespace:t}),this.cancelTouchSingleClick=!0,!this.chart.dataSet||!this.chart.dataSet.length)return void this.draw();var e=Math.floor(this.chart.width/this.layout.candleWidth);for(var n in this.charts){var i=this.charts[n];i.scroll=Math.min(e+1,i.dataSet.length),this.chart.allowScrollPast&&(i.scroll=e+1);var r;if(t.maintainWhitespace)r=Math.round(this.preferences.whitespace/this.layout.candleWidth),this.chart.scroll-=r;else if("roundRectArrow"==this.yaxisLabelStyle){var s=3,l=this.getCanvasFontSize("stx_yaxis")+2*s,u=l/2;r=Math.round(u/this.layout.candleWidth),r>1&&(i.scroll-=r)}this.calculateYAxisMargins(i.panel.yAxis)}this.draw()},o.prototype.tickFromDate=function(t,e,n){if(e||(e=this.chart),!e.dataSet.length)return 0;var i=a.strToDateTime(t);n||(n=0),o.isDailyInterval(this.layout.interval)||i.setMinutes(i.getMinutes()+n),0===e.beginHour||o.isDailyInterval(this.layout.interval)||0===i.getHours()&&(i.setHours(e.beginHour),i.setMinutes(e.beginMinute),i.setSeconds(0),i.setMilliseconds(0));var r=i.getTime(),s=e.dataSet[e.dataSet.length-1].DT.getTime();if(s<r)return this.futureTick(t,e);var l=e.dataSet[0].DT.getTime();if(r<l)return this.pastTick(t,e);for(var u=e.dataSet.length-1;u>=0;u--)if(s=e.dataSet[u].DT.getTime(),s<=r)return u},o.prototype.timeShiftDate=function(t){var e=t.getTime();return e+=6e4*this.timeZoneOffset,new Date(e)},o.XAxisLabel=function(t,e,n){this.hz=t,this.grid=e,this.text=n},o.prototype.createXAxis=function(t){if(t.dataSegment.length<=0)return null;var e=[t],n=this.runPrepend("createXAxis",e);if(n)return n;var i=this.layout.interval,r=this.layout.timeUnit;if("tick"==i||"ntb"==t.xAxis.axisType||this.hasNTBAxis[this.layout.aggregationType]||"second"==r||"millisecond"==r)return this.createTickXAxisWithDates(t);if("numeric"==t.xAxis.axisType)return this.createNumericXAxis(t);var s=!1,l=this.layout.periodicity,u=this.layout.candleWidth,c=l,h=!1,p=!1,d=!1,f=!1;"week"==i&&(d=!0,c=5*c),"month"==i&&(f=!0,c=20*c),u*(20/c)<50&&(s=!0);var g=0;for(t.xaxis=[];g<t.maxTicks&&!t.dataSegment[g];g++)t.xaxis.push(null);var m;if(t.dataSegment[g])m=t.dataSegment[g].DT;else if(m=new Date,this.dataZone){var y=a.convertTimeZone(now,null,this.dataZone);m=new Date(y.getFullYear(),y.getMonth(),y.getDate(),y.getHours(),y.getMinutes(),y.getSeconds(),y.getMilliseconds())}var v=m.getDate(),S=1440==t.minutesInSession;S&&(v=t.dataSegment[g]&&t.dataSegment[g].displayDate?t.dataSegment[g].displayDate.getDate():this.timeShiftDate(m).getDate());var T=m.getMonth(),b=m.getFullYear(),x=1;this.isDailyInterval(i)?p=!0:(h=!0,"minute"==i&&(i=1),x=Math.ceil(t.minutesInSession/l/i));var M=Math.round(x/Math.ceil(x/Math.floor(100/u)));M<1&&(M=1);var w=M*l*i;if(t.prettyXaxis){var A=t.prettyXaxis[l*i];A||(A=1),w!=A&&(w=Math.floor((w+A)/A)*A)}n=[];var C,k=60*t.beginHour+t.beginMinute;for(u=this.layout.candleWidth,g;g<t.maxTicks;g++){var D,$;if(!f&&t.maxTicks/x<this.chart.width/this.chart.xaxisFactor){if(g<t.dataSegment.length){if(C=t.dataSegment[g],!C)continue;g&&C.leftOffset&&(u=(C.leftOffset-C.candleWidth/2)/g),m=C.DT,t.xAxis.useDataDate?dtShifted=m:C.displayDate?dtShifted=C.displayDate:h?dtShifted=this.timeShiftDate(m):dtShifted=m}else{if(!t.xAxis.futureTicks)break;h?m=a.LegacyMarket.nextPeriod(m,i,l,this,null,this.dataZone):d?m=a.LegacyMarket.nextWeek(m,l,this):f?m=a.LegacyMarket.nextMonth(m,l,this):p&&(m=a.LegacyMarket.nextDay(m,l,this)),t.xAxis.useDataDate?dtShifted=m:h?dtShifted=this.timeShiftDate(m):dtShifted=m}var P=m.getDate()!=v;S&&(P=dtShifted.getDate()!=v);var E=m.getHours()!=t.beginHour||m.getMinutes()!=t.beginMinute;if(S&&(E=0!==dtShifted.getHours()||0!==dtShifted.getMinutes()),P){var O="boundary";if(h||(O="line"),v=m.getDate(),S&&(v=dtShifted.getDate()),D=t.left+g*u-1,"boundary"==O&&(D=t.left+g*u-3),$="",!o.hideDates()){var _=m.getFullYear();_!=b?(b=_,$=_,O="boundary"):$=t.xAxis.formatter?t.xAxis.formatter(dtShifted,O):this.internationalizer?this.internationalizer.monthDay.format(dtShifted):dtShifted.getMonth()+1+"/"+dtShifted.getDate()}D<t.right&&n.push(new o.XAxisLabel(D,O,$))}else if(E){var L=60*m.getHours()+m.getMinutes();L-=0!==this.chart.beginHour||0!==m.getDay()?k:900,S&&(L=60*dtShifted.getHours()+dtShifted.getMinutes()),L%w===0&&(D=t.left+g*u-1,$="",o.hideDates()||($=t.xAxis.formatter?t.xAxis.formatter(dtShifted,"line"):a.timeAsDisplay(dtShifted,this)),D<t.right&&n.push(new o.XAxisLabel(D,"line",$)))}}else{if(g<t.dataSegment.length)C=t.dataSegment[g],g&&C.leftOffset&&(u=(C.leftOffset-C.candleWidth/2)/g),m=C.DT;else{if(!t.xAxis.futureTicks)break;h?m=a.LegacyMarket.nextPeriod(m,i,l,this,null,this.dataZone):d?m=a.LegacyMarket.nextWeek(m,l,this):f?m=a.LegacyMarket.nextMonth(m,l,this):p&&(m=a.LegacyMarket.nextDay(m,l,this))}dtShifted=m;var N=m.getMonth(),X=m.getFullYear();if(X!=b)b=X,T=N,D=t.left+g*u-1,$="",o.hideDates()||($=X),n.push(new o.XAxisLabel(D,"boundary",$));else if(N!=T){var F="monthly";d&&t.maxTicks*l>52?F="quarterly":f&&t.maxTicks*l>12?F="quarterly":p&&t.maxTicks*l>365&&(F="quarterly"),d&&t.maxTicks*l>104?F="none":f&&t.maxTicks*l>24?F="none":p&&t.maxTicks*l>730&&(F="none"),"monthly"!=F&&("quarterly"!=F||0!==N&&3!=N&&6!=N&&9!=N)||(T=N,D=t.left+g*u-1,$="",o.hideDates()||($=a.monthAsDisplay(N,s,this)),n.push(new o.XAxisLabel(D,"line",$)))}}var I={DT:dtShifted,Date:a.yyyymmddhhmm(dtShifted)};g<t.dataSegment.length?I.data=t.dataSegment[g]:I.data=null,t.xaxis.push(I)}return this.runAppend("createXAxis",e),n},o.prototype.drawXAxis=function(t,e){var n=[t,e];if(!this.runPrepend("drawXAxis",n)&&e){var i=this.chart.context;this.canvasFont("stx_xaxis"),i.textAlign="center",i.textBaseline="middle";for(var r,o=0;o<e.length;o++){r=e[o];var s=i.measureText(r.text+"   ").width,l=Math.max(s,t.xAxis.minimumLabelWidth);r.hz=Math.floor(r.hz+this.micropixels)+.5,r.left=r.hz-l/2,r.right=r.hz+l/2,r.unpaddedRight=r.hz+s/2}var u=new a.Plotter;u.newSeries("line","stroke",this.canvasStyle("stx_grid")),u.newSeries("boundary","stroke",this.canvasStyle("stx_grid_dark")),u.newSeries("border","stroke",this.canvasStyle("stx_grid_border"));var c=t.panel.bottom,h=t.panel.yAxis,p=-1,d=Math.MAX_VALUE,f=t.xAxis.displayBorder||null===t.xAxis.displayBorder;this.axisBorders===!0&&(f=!0),this.axisBorders===!1&&(f=!1);var g=f?h.bottom-.5:h.bottom,m=c-this.xaxisHeight/2;
f&&(m+=3);for(var y=0;y<e.length;y++)if("boundary"==e[y].grid){d=e[y].left;break}for(var v=0,S=0,T=0;T<e.length;T++){if(r=e[T],T==y){for(y++;y<e.length;y++)if("boundary"==e[y].grid){d=e[y].left;break}if(y>=e.length&&(y=-1,d=Math.MAX_VALUE),p>-1&&r.left<p)continue}else{if(p>-1&&r.left<p)continue;if(r.right>d)continue}p=r.right,Math.floor(r.unpaddedRight)<=this.chart.right&&(S++,t.xAxis.displayGridLines&&(u.moveTo(r.grid,r.hz,h.top),u.lineTo(r.grid,r.hz,g)),f&&(u.moveTo("border",r.hz,g+.5),u.lineTo("border",r.hz,g+6)),v=r.hz,this.canvasColor("boundary"==r.grid?"stx_xaxis_dark":"stx_xaxis"),i.fillText(r.text,r.hz,m))}if(f){var b=Math.round(h.bottom)+.5,x=Math.round(t.right)+.5;u.moveTo("border",t.left,b),u.lineTo("border",x,b)}u.draw(i),i.textAlign="left",this.runAppend("drawXAxis",n)}},o.prototype.createNumericXAxis=function(t){function e(t,e){var n,i,r;return n=Math.floor(Math.log10(t)),i=t/Math.pow(10,n),r=e?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10,r*Math.pow(10,n)}axisRepresentation=[],t.xaxis=[];for(var n=0;n<t.maxTicks&&!t.dataSegment[n];n++)t.xaxis.push(null);for(var i=n;i<t.maxTicks&&t.dataSegment[n];i++);var r=(i-n)/t.maxTicks,a=t.xAxis.idealTickSizePixels?t.xAxis.idealTickSizePixels:t.xAxis.autoComputedTickSizePixels,s=Math.round(this.chart.width*r/a),l=this.determineMinMax(t.dataSegment,["index"]),u=l[1],c=l[0],h=u-c,p=(e(u-c,!1),e(h/(s-1),!0)),d=Math.floor(c/p)*p,f=(Math.ceil(u/p)*p,d);d<c&&(f=d+p);var g;for(n;n<t.maxTicks;n++){var m=t.dataSegment[n];if(m){var y={index:m.index,data:m};if(t.xaxis.push(y),m.index<f)continue;m.index==f?g=t.left+n*this.layout.candleWidth+this.micropixels:m.index>f&&(g=t.left+n*this.layout.candleWidth-3+this.micropixels),axisRepresentation.push(new o.XAxisLabel(g,"line",f)),f+=p}else t.xaxis.push(null)}return axisRepresentation},o.prototype.createTickXAxisWithDates=function(t){t||(t=this.chart),this.timeIntervalMap||(this.timePossibilities=[a.MILLISECOND,a.SECOND,a.MINUTE,a.HOUR,a.DAY,a.MONTH,a.YEAR],this.timeIntervalMap={},this.timeIntervalMap[a.MILLISECOND]={arr:[1,2,5,10,20,50,100,250,500],minTimeUnit:0,maxTimeUnit:1e3},this.timeIntervalMap[a.SECOND]={arr:[1,2,5,10,15,30],minTimeUnit:0,maxTimeUnit:60},this.timeIntervalMap[a.MINUTE]={arr:[1,2,5,10,15,30],minTimeUnit:0,maxTimeUnit:60},this.timeIntervalMap[a.HOUR]={arr:[1,2,3,4,6,12],minTimeUnit:0,maxTimeUnit:24},this.timeIntervalMap[a.DAY]={arr:[1,2,7,14],minTimeUnit:1,maxTimeUnit:32},this.timeIntervalMap[a.MONTH]={arr:[1,2,3,6],minTimeUnit:1,maxTimeUnit:13},this.timeIntervalMap[a.YEAR]={arr:[1,2,3,5],minTimeUnit:1,maxTimeUnit:2e7},this.timeIntervalMap[a.DECADE]={arr:[10],minTimeUnit:0,maxTimeUnit:2e6});for(var e=[31,28,31,30,31,30,31,31,30,31,30,31],n=t.xAxis.idealTickSizePixels?t.xAxis.idealTickSizePixels:t.xAxis.autoComputedTickSizePixels,i=this.chart.width/n,r=0;r<t.dataSegment.length&&!t.dataSegment[r];r++);if(r==t.dataSegment.length)return[];var s,l=t.dataSegment[t.dataSegment.length-1].DT.getTime()-t.dataSegment[r].DT.getTime();if(l<14*a.DAY&&!o.isDailyInterval(this.layout.interval)){var u=null,c=0,h=0;for(l=0,s=0;s<t.dataSegment.length;s++){var p=t.dataSegment[s];if(p){var d=p.DT.getTime();d>c?(u=new Date(p.DT),u.setHours(t.endHour),u.setMinutes(t.endMinute),c=u.getTime(),c<d&&(console.log("Assertion error: A bar has a time greater than the specified endHour & endMinute for "+this.chart.symbol+". Please check your quotefeed or set chart.endHour & chart.endMinute to match your masterData"),c=d)):(l+=d-h,d-h<0&&console.log("Assertion error: Dates not in ascending order. chart.dataSegment["+s+"].DT=="+p.DT)),h=d}}}l=l/t.dataSegment.length*t.maxTicks;var f=l/i;for(s=0;s<this.timePossibilities.length&&!(this.timePossibilities[s]>f);s++);if(s==this.timePossibilities.length)s--;else{var g=this.timePossibilities[s-1],m=this.timeIntervalMap[g],y=m.arr[m.arr.length-1];f-g*y<this.timePossibilities[s]-f&&s--}var v=this.timePossibilities[s];t.xAxis.timeUnit&&(v=t.xAxis.timeUnit),t.xAxis.activeTimeUnit=v;var S=a.clone(this.timeIntervalMap[v]);for(s=0;s<S.arr.length&&!(S.arr[s]*v>f);s++);s==S.arr.length?s--:f-S.arr[s-1]*v<S.arr[s]*v-f&&s--;var T=S.arr[s];for(t.xAxis.timeUnitMultiplier&&(T=t.xAxis.timeUnitMultiplier),axisRepresentation=[],t.xaxis=[],s=0;s<=t.maxTicks&&!t.dataSegment[s];s++)t.xaxis.push(null);var b=0,x=S.minTimeUnit,M=-1,w=!0,A=this.layout.candleWidth;for(s;s<t.maxTicks;s++){if(s<t.dataSegment.length)prices=t.dataSegment[s],b=prices.displayDate&&t.xAxis.adjustTimeZone&&v<a.DAY?prices.displayDate:prices.DT,s&&prices.leftOffset&&(A=(prices.leftOffset-prices.candleWidth/2)/s);else{var C=this.layout.periodicity,k=this.layout.interval;if(!t.xAxis.futureTicks)break;var D;if(b)D=b;else if(D=new Date,this.dataZone){var $=a.convertTimeZone(now,null,this.dataZone);D=new Date($.getFullYear(),$.getMonth(),$.getDate(),$.getHours(),$.getMinutes(),$.getSeconds(),$.getMilliseconds())}D="day"==k?a.LegacyMarket.nextDay(D,C,this):"week"==k?a.LegacyMarket.nextWeek(D,C,this):"month"==k?a.LegacyMarket.nextMonth(D,C,this):a.LegacyMarket.nextPeriod(D,k,C,this,null,this.dataZone),b=t.xAxis.useDataDate?D:this.isDailyInterval(k)?D:this.timeShiftDate(D)}var P={DT:b,Date:a.yyyymmddhhmmssmmm(b)};s<t.dataSegment.length?P.data=t.dataSegment[s]:P.data=null,t.xaxis.push(P);var E,O;v==a.MILLISECOND?(E=b.getMilliseconds(),O=b.getSeconds()):v==a.SECOND?(E=b.getSeconds(),O=b.getMinutes()):v==a.MINUTE?(E=b.getMinutes(),O=b.getHours()):v==a.HOUR?(E=b.getHours(),O=b.getDate()):v==a.DAY?(E=b.getDate(),O=b.getMonth()+1):v==a.MONTH?(E=b.getMonth()+1,O=b.getFullYear()):v==a.YEAR?(E=b.getFullYear(),O=b.getFullYear()+1e3):(E=b.getFullYear(),O=0);var _=null;if(M!=O&&(E<=x&&(x=S.minTimeUnit),N=t.left+s*A-3,_=null,v==a.HOUR||v==a.MINUTE&&M>O?_=t.xAxis.formatter?t.xAxis.formatter(b,"boundary",a.DAY,1):this.internationalizer?this.internationalizer.monthDay.format(b):b.getMonth()+1+"/"+b.getDate():v==a.DAY?_=M>O?b.getFullYear():a.monthAsDisplay(b.getMonth(),!1,this):v==a.MONTH&&(_=b.getFullYear()),_&&M!=-1&&axisRepresentation.push(new o.XAxisLabel(N,"boundary",_))),E>=x){if(x==S.minTimeUnit&&O==M)continue;var L=new Date(b),N=t.left+s*A-1,X=Math.floor(E/T)*T;if(X<E&&(N=t.left+s*A-3),v==a.MILLISECOND?L.setMilliseconds(X):v==a.SECOND?(L.setMilliseconds(0),L.setSeconds(X)):v==a.MINUTE?(L.setMilliseconds(0),L.setSeconds(0),L.setMinutes(X)):v==a.HOUR?(L.setMilliseconds(0),L.setSeconds(0),L.setMinutes(0),L.setHours(X)):v==a.DAY?L.setDate(X):v==a.MONTH?(L.setDate(1),L.setMonth(X-1)):v==a.YEAR?(L.setDate(1),L.setMonth(0)):(L.setDate(1),L.setMonth(0)),x=X+T,v==a.DAY&&(S.maxTimeUnit=e[L.getMonth()]+1),x>=S.maxTimeUnit&&(x=S.minTimeUnit),M=O,w&&X<E)continue;_||(_=t.xAxis.formatter?t.xAxis.formatter(L,"line",v,T):v==a.DAY?L.getDate():v==a.MONTH?a.monthAsDisplay(b.getMonth(),!1,this):v==a.YEAR||v==a.DECADE?L.getFullYear():a.timeAsDisplay(L,this,v),axisRepresentation.push(new o.XAxisLabel(N,"line",_)))}w=!1}return axisRepresentation};var u=0,c=0;return o.prototype.createYAxis=function(t,e){if(!this.runPrepend("createYAxis",arguments)){var n=t.chart,i=t.name==n.name;e||(e={}),e.noChange=!1;var r=e.yAxis?e.yAxis:t.yAxis;if(o.enableCaching&&r.high==t.cacheHigh&&r.low==t.cacheLow){var a=n.dataSet.length-n.scroll,s=a+n.maxTicks;t.cacheLeft=Math.min(t.cacheLeft,a),t.cacheRight=Math.max(t.cacheRight,s),t.cacheLeft=a,t.cacheRight=s,e.noChange=!0,u++}else t.cacheLeft=1e6,t.cacheRight=-1,t.cacheHigh=r.high,t.cacheLow=r.low,c++;var l=n.xAxis.idealTickSizePixels?n.xAxis.idealTickSizePixels:n.xAxis.autoComputedTickSizePixels;if(r.goldenRatioYAxis&&r.idealTickSizePixels!=l/1.618&&(e.noChange=!1),!e.noChange){var h=r.height=r.bottom-r.top,p=(r.high-r.low)/(h-r.zoom);e.ground?(r.high=r.high-r.low+r.zoom*p,r.low=0):(r.high=r.high+r.zoom/2*p+r.scroll*p,r.low=r.low-r.zoom/2*p+r.scroll*p),(r.min||0===r.min)&&(r.low=r.min),(r.max||0===r.max)&&(r.high=r.max),r.shadow=r.high-r.low,!r.semiLog||this.activeDrawing&&"projection"==this.activeDrawing.name||(r.logHigh=Math.log(r.high)/Math.LN10,r.logLow=Math.log(r.low)/Math.LN10,r.low<=0&&(r.logLow=0),r.logShadow=r.logHigh-r.logLow);var d;r.goldenRatioYAxis&&i?(r.idealTickSizePixels=l/1.618,0===r.idealTickSizePixels&&(d=this.getCanvasFontSize("stx_yaxis"),r.idealTickSizePixels=5*d)):r.idealTickSizePixels||(d=this.getCanvasFontSize("stx_yaxis"),i?r.idealTickSizePixels=5*d:r.idealTickSizePixels=2*d);var f=Math.round(h/r.idealTickSizePixels),g=e.range?e.range[1]-e.range[0]:r.shadow;r.priceTick=Math.floor(g/f);for(var m=1,y=0;y<10&&!(r.priceTick>0);y++)m*=10,r.priceTick=Math.floor(g/f*m)/m;10==y&&(r.priceTick=1e-8),r.priceTick=Math.round(g/f*m)/m;var v=Math.round(g/r.priceTick);if(e.range&&v<g&&!r.noEvenDivisorTicks){for(;v>=1&&g%v!==0;)v--;r.priceTick=g/v}if(r.minimumPriceTick){var S=r.minimumPriceTick;d=this.getCanvasFontSize("stx_yaxis");for(var T=0;T<100;T++){var b=g/S;if(!(h/b<2*d))break;S+=r.minimumPriceTick}T<100&&(r.priceTick=S)}r.multiplier=r.height/r.shadow}if(this.activeDrawing&&"projection"==this.activeDrawing.name||(r.high=this.valueFromPixel(t.top,t,r),r.semiLog&&(r.logHigh=Math.log(r.high)/Math.LN10,r.logLow=Math.log(r.low)/Math.LN10,r.low<=0&&(r.logLow=0),r.logShadow=r.logHigh-r.logLow),r.shadow=r.high-r.low),r.multiplier=r.height/r.shadow,r.decimalPlaces||0===r.decimalPlaces)r.printDecimalPlaces=r.decimalPlaces;else if(i){for(var x=0,M=0;M<t.yAxis.shadowBreaks.length;M++){var w=t.yAxis.shadowBreaks[M];t.yAxis.shadow<w[0]&&(x=w[1])}r.printDecimalPlaces=x}else r.printDecimalPlaces=null;this.runAppend("createYAxis",arguments)}},o.prototype.drawYAxis=function(t,e){e||(e={});var n=e.yAxis?e.yAxis:t.yAxis;if(n.pretty)return this.drawYAxisPretty(t,e);if(!this.runPrepend("drawYAxis",arguments)){if(!e.noDraw&&!n.noDraw){if(!n.yAxisPlotter||!e.noChange){var i=t.chart,r=t.name==i.name&&n===t.yAxis;if(!n.priceTick)return;var o=n.shadow;e.range&&(o=e.range[1]-e.range[0]);var s=o/n.priceTick;s=Math.round(s);var l,u;n.semiLog&&(l=Math.log(this.valueFromPixel(n.bottom,t))/Math.LN10,u=(n.logHigh-n.logLow)/s);var c=n.textStyle?n.textStyle:"stx_yaxis";n.yAxisPlotter=new a.Plotter,n.yAxisPlotter.newSeries("grid","stroke",this.canvasStyle("stx_grid")),n.yAxisPlotter.newSeries("text","fill",this.colorOrStyle(c)),n.yAxisPlotter.newSeries("border","stroke",this.canvasStyle("stx_grid_border"));var h=0,p=e.range?e.range[1]:n.high,d=e.range?e.range[0]:n.low,f=null===n.displayBorder?i.panel.yAxis.displayBorder:n.displayBorder;this.axisBorders===!1&&(f=!1),this.axisBorders===!0&&(f=!0);var g,m=null===n.position?i.panel.yAxis.position:n.position;g="left"==m?n.left+n.width:n.left;var y=Math.round(g)+.5,v=f?3:0;"left"==m&&(v=f?-3:0),h=r?n.shadow<1?(parseInt(d/n.priceTick)+1)*n.priceTick-d:n.priceTick-Math.round(d%n.priceTick*t.chart.roundit)/t.chart.roundit:p%n.priceTick;for(var S=this.getCanvasFontSize("stx_yaxis"),T=0;T<s;T++){var b;if(n.semiLog){var x=l+T*u;b=Math.pow(10,x)}else b=r?d+T*n.priceTick+h:p-T*n.priceTick-h;var M=this.pixelFromPrice(b,t,n),w=Math.round(M)+.5;if(!(w+S/2>t.bottom||w-S/2<t.top)){n.displayGridLines&&(n.yAxisPlotter.moveTo("grid",t.left,w),n.yAxisPlotter.lineTo("grid",t.right,w)),f&&(n.yAxisPlotter.moveTo("border",y-.5,w),n.yAxisPlotter.lineTo("border",y+v,w)),b=n.priceFormatter?n.priceFormatter(this,t,b):this.formatYAxisPrice(b,t,null,n);var A=n.textBackground?this.containerColor:null,C=g+v+3;"left"==m?(C=n.left+3,n.justifyRight&&(C=n.left+n.width+v-3)):n.justifyRight&&(C=g+n.width),n.yAxisPlotter.addText("text",b,C,w,A,null,S)}}if(f){var k=Math.round(n.bottom)+.5;n.yAxisPlotter.moveTo("border",y,n.top),n.yAxisPlotter.lineTo("border",y,k),n.yAxisPlotter.draw(this.chart.context,"border")}}this.plotYAxisGrid(t)}this.runAppend("drawYAxis",arguments)}},o.prototype.drawYAxisPretty=function(t,e){if(!this.runPrepend("drawYAxis",arguments)){e||(e={});var n=e.yAxis?e.yAxis:t.yAxis;if(!e.noDraw&&!n.noDraw){if(!n.yAxisPlotter||!e.noChange){var i=t.chart;t.name==i.name&&n===t.yAxis;if(!n.priceTick)return;if(isNaN(n.high)||isNaN(n.low))return;var r=n.shadow;e.range&&(r=e.range[1]-e.range[0]);var o=n.height/n.idealTickSizePixels;o=Math.round(o);var s=n.textStyle?n.textStyle:"stx_yaxis";n.yAxisPlotter=new a.Plotter,n.yAxisPlotter.newSeries("grid","stroke",this.canvasStyle("stx_grid")),n.yAxisPlotter.newSeries("text","fill",this.colorOrStyle(s)),n.yAxisPlotter.newSeries("border","stroke",this.canvasStyle("stx_grid_border"));var l=e.range?e.range[1]:n.high,u=e.range?e.range[0]:n.low,c=null===n.displayBorder?i.panel.yAxis.displayBorder:n.displayBorder;this.axisBorders===!1&&(c=!1),this.axisBorders===!0&&(c=!0);var h,p=null===n.position?i.panel.yAxis.position:n.position;h="left"==p?n.left+n.width:n.left;var d=Math.round(h)+.5,f=c?3:0;"left"==p&&(f=c?-3:0);for(var g=this.getCanvasFontSize("stx_yaxis"),m=n.increments,y=m.length,v=0,S=1,T=0,b=0,x=0,M=Number.MAX_VALUE,w=0;w<100;w++){T=m[v]*Math.pow(10,x),S=Math.floor(r/T);var A=Math.abs(o-S);if(A>M)break;if(M=A,S==o){b=T;break}S>o?(v++,v>=y&&(v=0,x++)):(v--,v<0&&(v=y-1,x--)),b=T}for(var C=Math.ceil(u/b)*b,k=0,D=0;D<100;D++){var $=C+k*b;if($>l)break;k++;var P=this.pixelFromPrice($,t,n),E=Math.round(P)+.5;if(!(E+g/2>t.bottom||E-g/2<t.top)){n.displayGridLines&&(n.yAxisPlotter.moveTo("grid",t.left,E),n.yAxisPlotter.lineTo("grid",t.right,E)),c&&(n.yAxisPlotter.moveTo("border",d-.5,E),n.yAxisPlotter.lineTo("border",d+f,E)),$=n.priceFormatter?n.priceFormatter(this,t,$):this.formatYAxisPrice($,t,null,n);var O=n.textBackground?this.containerColor:null,_=h+f+3;"left"==p?(_=n.left+3,n.justifyRight&&(_=n.left+n.width+f-3)):n.justifyRight&&(_=h+n.width),n.yAxisPlotter.addText("text",$,_,E,O,null,g)}}if(D>=100&&console.log("drawYAxisPretty: assertion error. zz reached 100"),c){var L=Math.round(n.bottom)+.5;n.yAxisPlotter.moveTo("border",d,n.top),n.yAxisPlotter.lineTo("border",d,L),n.yAxisPlotter.draw(this.chart.context,"border")}}this.plotYAxisGrid(t)}this.runAppend("drawYAxis",arguments)}},o.prototype.plotYAxisGrid=function(t){if(!this.runPrepend("plotYAxisGrid",arguments)){var e=this.chart.context;t.yAxis.yAxisPlotter.draw(e,"grid"),this.runAppend("plotYAxisGrid",arguments)}},o.prototype.plotYAxisText=function(t){if(!this.runPrepend("plotYAxisText",arguments)){for(var e=t.yaxisLHS.concat(t.yaxisRHS),n=0;n<e.length;n++){var i=e[n];if(i.yAxisPlotter&&!i.noDraw){this.canvasFont("stx_yaxis"),this.canvasColor("stx_yaxis");var r=this.chart.context;r.textBaseline="middle",i.justifyRight?r.textAlign="right":r.textAlign="left";this.getCanvasFontSize("stx_yaxis");i.yAxisPlotter.draw(r,"text"),r.textBaseline="alphabetic",r.textAlign="left"}}this.runAppend("plotYAxisText",arguments)}},o.prototype.formatYAxisPrice=function(t,e,n,i){if(null===t||"undefined"==typeof t)return"";var r=i?i:e.yAxis,o=n;return o||0===o||(o=r.printDecimalPlaces),o||0===o||(o=r.priceTick<.01?4:r.priceTick<.1?2:r.priceTick<1?1:0),e.name!=e.chart.name&&r.priceTick>100?a.condenseInt(t):(this.internationalizer?(o>=this.internationalizer.priceFormatters.length&&(o=this.internationalizer.priceFormatters.length-1),t=this.internationalizer.priceFormatters[o].format(t)):t=t.toFixed(o),t)},o.prototype.formatPrice=function(t,e){if(!t||"undefined"==typeof t)return"";if(e||(e=this.currentPanel),e||(e=this.chart.panel),!e)return t;var n=e.decimalPlaces;return n||0===n||(n=e.chart.decimalPlaces),n||0===n?(this.internationalizer?(n>=this.internationalizer.priceFormatters.length&&(n=this.internationalizer.priceFormatters.length-1),t=this.internationalizer.priceFormatters[n].format(t)):t=t.toFixed(n),t):t},o.prototype.createCrosshairs=function(){this.runPrepend("createCrosshairs",arguments)||this.controls.crossX.onmousedown||(this.controls.crossY.onmousedown=function(t){return t||(t=event),t.preventDefault&&t.preventDefault(),!1},this.controls.crossX.onmousedown=function(t){return t||(t=event),t.preventDefault&&t.preventDefault(),!1},this.runAppend("createCrosshairs",arguments))},o.prototype.determineMinMax=function(t,e,n,i){for(var r=Number.MAX_VALUE*-1,a=Number.MAX_VALUE,o=!1,s=0;s<t.length;s++){var l=t[s];if(l){if(!i)if(l.transform)o=!0,l=l.transform;else if(o)continue;for(var u=0,c=0;c<e.length;c++){var h=l[e[c]];if(h){"number"==typeof h&&(h=[h]);for(var p=0;p<h.length;p++){var d=h[p];(d||0===d)&&(n?(u+=d,u>r&&(r=u),u<a&&(a=u)):(d>r&&(r=d),d<a&&(a=d)))}}}}}return[a,r]},o.prototype.calculateYAxisRange=function(t,e,n,i){n==Number.MAX_VALUE&&(n=0,i=0);var r=t.height,a=null,o=null;e.bottomOffset||(e.bottomOffset=this.xaxisHeight),e.bottom=t.bottom-e.bottomOffset,e.top=t.top,e.height=e.bottom-e.top;var s=Math.round(Math.abs(r/5));r-Math.abs(e.scroll)<s&&(e.scroll=(r-s)*(e.scroll<0?-1:1));(i-n)/e.height;if(n||0===n){if(i-n===0)a=2*i,o=0;else if((this.layout.semiLog||"log"==this.layout.chartScale)&&a){var l=Math.log(n)/Math.LN10,u=Math.log(i)/Math.LN10;a=Math.pow(10,u),o=Math.pow(10,l)}else a=i,o=n;e.high=a,e.low=o}if((e.max||0===e.max)&&(e.high=e.max),(e.min||0===e.min)&&(e.low=e.min),e.shadow=e.high-e.low,t.chart.name===t.name&&t.yAxis===e){var c=this.layout.semiLog||"log"==this.layout.chartScale;t.chart.isComparison&&(c=!1),e.semiLog!=c&&(this.clearPixelCache(),e.semiLog=c)}},o.prototype.renderYAxis=function(t){if(!this.runPrepend("renderYAxis",arguments)){var e,n=t.panel,i=n.yaxisRHS.concat(n.yaxisLHS);for(e=0;e<i.length;e++){var r=i[e],a=null,o=null;n.yAxis===r&&(a=t.lowValue,o=t.highValue),this.calculateYAxisRange(n,r,a,o)}var s={};for(e=0;e<i.length;e++)s.yAxis=i[e],this.createYAxis(n,s),this.drawYAxis(n,s);this.runAppend("renderYAxis",arguments)}},o.prototype.initializeDisplay=function(t){if(!this.runPrepend("initializeDisplay",arguments)){var e=[];for(var n in t.series)t.series[n].parameters.shareYAxis&&e.push(n);var i;t.panel=this.panels[t.name];if(o.chartShowsHighs(this.layout.chartType))e.push("Close","High","Low"),i=this.determineMinMax(t.dataSegment,e);else if(e.push("Close"),i=this.determineMinMax(t.dataSegment,e),"baseline_delta"==this.layout.chartType){var r=t.baseline.actualLevel;t.transformFunc&&(r=t.transformFunc(this,t,r));var a=Math.max(r-i[0],i[1]-r);this.repositioningBaseline?i=[t.lowValue,t.highValue]:(i[0]=r-a,i[1]=r+a)}t.lowValue=i[0],t.highValue=i[1],this.runAppend("initializeDisplay",arguments)}},o.prototype.computePosition=function(t,e){"undefined"==typeof e&&(e=0);var n=t*this.layout.candleWidth+e+this.micropixels;return n},o.prototype.computeColor=function(t,e){return t<e?"stx_candle_up":t>e?"stx_candle_down":"stx_candle_shadow"},o.prototype.computeLength=function(t,e){var n=this.pixelFromPrice(t),i=this.pixelFromPrice(e);return i-n},o.prototype.setSeriesRenderer=function(t){var e=t.params;return this.chart.seriesRenderers[t.params.name]?this.chart.seriesRenderers[t.params.name]:(e.yAxis&&this.addYAxis(this.panels[e.panel],e.yAxis),t.stx=this,this.chart.seriesRenderers[t.params.name]=t,t)},o.prototype.removeSeriesRenderer=function(t){for(var e in this.chart.seriesRenderers)if(t.params.name===this.chart.seriesRenderers[e].params.name){var n=this.chart.seriesRenderers[t.params.name],i=n.params.yAxis,r=this.panels[n.params.panel];return delete this.chart.seriesRenderers[t.params.name],void this.deleteYAxisIfUnused(r,i)}},o.prototype.getSeriesRenderer=function(t){return this.chart.seriesRenderers[t]},o.prototype.drawHistogram=function(t,e){function n(t,e,n,i,o,l,h){n||(n=1),a.isIE8?S.globalAlpha=.5:S.globalAlpha=n,S.beginPath();for(var p=s+.5,f=Math.floor(M.pixelFromBar(0,r.chart)-M.layout.candleWidth/2),g=f,m=0;m<c.length;m++){var y=x[m];y||(y=s),0===m&&(p=y);var w=c[m];if(w){var A=w[t]*d;if(!isNaN(A)){var C=M.layout.candleWidth;w.candleWidth&&(C=w.candleWidth,0===m&&(f=g=Math.floor(M.pixelFromBar(0,r.chart)-w.candleWidth/2)));var k=Math.min(Math.floor(y-A)+.5,y);if(o){if(w.Close<w.iqPrevClose){p=k,g+=C;continue}}else if(w.Close>=w.iqPrevClose){p=k,g+=C;continue}var D,$,P=C/M.layout.candleWidth,E=g+(T+l*h)*P;D=Math.round(E)+(i?0:v),$=Math.round(E+h*P)-(i?0:v),$-D<2&&($=D+1),i?roundPixel=0:roundPixel=.5,D%1==roundPixel&&(D+=.5),$%1==roundPixel&&($+=.5),S.moveTo(D,y),s==y?S.lineTo($,y):(S.moveTo($,y),i&&!T&&x[m+1]&&S.moveTo($,Math.max(k,Math.min(y,x[m+1])))),S.lineTo($,k),S.lineTo(D,k),i&&l?(b[m]>k||0===m)&&S.lineTo(D,Math.min(y,b[m])):i&&!T&&"clustered"==u?m>0&&b[m-1]&&b[m-1]>k&&S.lineTo(D,Math.min(y,b[m-1])):i&&!T?(p>k||0===m)&&S.lineTo(D,Math.min(y,p)):S.lineTo(D,y),p=k,g+=C,("clustered"!=u||i)&&(b[m]=k)}}else p=y,g+=M.layout.candleWidth}e||(e="auto"),i?(S.strokeStyle="auto"==e?M.defaultColor:e,S.stroke()):(S.fillStyle="auto"==e?M.defaultColor:e,S.fill()),S.closePath()}if(e&&e.length){var i=t.panel;i||(i="chart");var r=this.panels[i];if(r){var o=t.yAxis?t.yAxis:r.yAxis,s=Math.floor(o.bottom)+.5,l=Math.floor(o.top)+.5,u=t.type;"histogram"==u&&(u=t.subtype);var c=this.chart.dataSegment,h=!1;this.getDefaultColor();var p;for(p=0;p<e.length;p++)h|=e[p].border_color_up&&!a.isTransparent(e[p].border_color_up),h|=e[p].border_color_down&&!a.isTransparent(e[p].border_color_down);t.name||(t.name="Data");var d=o.multiplier;if(t.heightPercentage||(t.heightPercentage=.7),t.widthFactor||(t.widthFactor=.8),!t.bindToYAxis){var f=0;if(!f){for(var g=0;g<this.chart.maxTicks;g++){var m=c[g];if(m){var y=0;for(p=0;p<e.length;p++)m[e[p].field]&&("stacked"==t.subtype?y+=m[e[p].field]:y=Math.max(y,m[e[p].field]));y>f&&(f=y)}}if(0===f)return void this.watermark(i,"center","bottom",this.translateIf(t.name+" Not Available"))}d=(s-l)*t.heightPercentage/f}var v=.5;(this.layout.candleWidth<=1||!h)&&(v=0),this.startClip(i);var S=this.chart.context,T=Math.max(0,(1-t.widthFactor)*this.layout.candleWidth/2),b={},x={},M=this,w=1;for(p=0;p<e.length;p++){var A=e[p];w=this.layout.candleWidth*t.widthFactor;var C=0;"clustered"==u&&(C=p,w/=e.length),n(A.field,A.fill_color_up,A.opacity_up,null,!0,C,w),n(A.field,A.fill_color_down,A.opacity_down,null,null,C,w),this.layout.candleWidth>=2&&h&&(n(A.field,A.border_color_up,A.opacity_up,!0,!0,C,w),n(A.field,A.border_color_down,A.opacity_down,!0,null,C,w)),"stacked"==u&&(x=a.shallowClone(b))}S.globalAlpha=1,this.endClip()}}},o.prototype.drawHeatmap=function(t,e){function n(e,n,i,s,d){p.beginPath(),p.fillStyle=n,p.strokeStyle=n;for(var f,g,m=(a.top,a.bottom,c.layout.candleWidth*s),y=Math.floor(c.pixelFromBar(0,r.chart)-c.layout.candleWidth),v=0;v<o.length;v++){var S=o[v];if(S){S.candleWidth?(y+=0===v?c.layout.candleWidth:(S.candleWidth+m/s)/2,m=S.candleWidth*s):y+=c.layout.candleWidth,f=y-m/2+d,g=y+m/2-d,g-f<2&&(g=f+1),S.transform&&(S=S.transform);var T=S[e];if(T){"number"==typeof T&&(T=[T]);for(var b=0;b<T.length;b++){var x=c.pixelFromPrice(T[b],r,a);if(!h){var M=c.pixelFromPrice(T[b]-t.height,r,a);p.lineWidth=1,l=M-x,u=l/2,h=p.lineWidth}if(i){var w=x+u,A=x-u;p.moveTo(f,w),p.lineTo(f,A),p.lineTo(g,A),p.lineTo(g,w),p.lineTo(f,w)}else p.fillRect(f,x-u,g-f,l)}}}}i&&p.stroke(),p.closePath()}if(e&&e.length){var i=t.panel;i||(i="chart");var r=this.panels[i];if(r){var a=t.yAxis?t.yAxis:r.yAxis,o=(Math.floor(a.bottom)+.5,Math.floor(a.top)+.5,this.chart.dataSegment);this.getDefaultColor(),t.name||(t.name="Data"),t.widthFactor||(t.widthFactor=1);var s=.5;r.chart.tmpWidth<=1&&(s=0);var l=null,u=null,c=this,h=null;this.startClip(i);var p=this.chart.context;p.globalAlpha=t.opacity;for(var d=0;d<e.length;d++){var f=e[d];n(f.field,f.color,null,t.widthFactor,f.border_color?s:-s/4),f.border_color&&this.layout.candleWidth>=2&&n(f.field,f.border_color,!0,t.widthFactor,s)}p.lineWidth=1,p.globalAlpha=1,this.endClip()}}},o.prototype.startClip=function(t,e){t||(t="chart");var n=this.panels[t],i=n.yAxis;this.chart.context.save(),this.chart.context.beginPath();var r=n.left,a=n.width;e&&(r=0,a=this.width),this.chart.context.rect(r,n.top,a,i.height),this.chart.context.clip()},o.prototype.endClip=function(){this.chart.context.restore()},o.prototype.drawCandlesHighPerformance=function(t,e,n,i){var r,s,l,u=t.chart,c=u.dataSegment,h=this.chart.context,p=t.yAxis.top,d=t.yAxis.bottom,f=0;n&&!a.isTransparent(n)&&(f=.5);var g=u.dataSet.length-u.scroll;g+u.maxTicks;h.beginPath(),h.fillStyle=e;for(var m=t.yAxis,y=u.tmpWidth/2,v=this.layout.candleWidth,S=t.left-.5*v+this.micropixels-1,T=0;T<=c.length;T++){S+=v/2,v=this.layout.candleWidth,S+=v/2;var b=c[T];if(b&&!b.projection&&(b.candleWidth&&(S+=(b.candleWidth-v)/2,v=b.candleWidth,"volume_candle"==this.layout.chartType&&(y=v/2)),b.Open!=b.Close&&!(i&o.CANDLEUP&&b.Open>=b.Close||i&o.CANDLEDOWN&&b.Open<=b.Close||i&o.CLOSEUP&&b.Close<=b.iqPrevClose||i&o.CLOSEDOWN&&b.Close>=b.iqPrevClose||i&o.CLOSEEVEN&&b.Close!=b.iqPrevClose))){b.transform&&(b=b.transform);var x=b.cache,M=g+T;if(M<t.cacheLeft||M>t.cacheRight||!x.open){var w=m.semiLog?this.pixelFromPrice(b.Open,t):(m.high-b.Open)*m.multiplier+m.top,A=m.semiLog?this.pixelFromPrice(b.Close,t):(m.high-b.Close)*m.multiplier+m.top;if(r=Math.floor(Math.min(w,A))+f,s=Math.max(w,A),l=Math.floor(s-r),r<p){if(r+l<p){x.open=r,x.close=r;continue}l-=p-r,r=p}r+l>d&&(l-=r+l-d),l=Math.max(l,2),x.open=r,x.close=x.open+l}if(!(x.open>=d||x.close<=p)){var C=Math.floor(S-y)+f,k=Math.round(S+y)-f;b.Open==b.Close?(r=Math.round(x.open)-f,h.moveTo(C,r),h.lineTo(k,r)):(h.moveTo(C,x.open),h.lineTo(k,x.open),h.lineTo(k,x.close),h.lineTo(C,x.close),h.lineTo(C,x.open))}}}h.fill(),f&&(h.lineWidth=1,h.strokeStyle=n,h.stroke()),h.closePath()},o.prototype.drawCandles=function(t,e,n){var i=t.chart;i||(i=t,t=t.chart);var r,o,s,l=i.dataSegment,u=this.chart.context,c=t.yAxis.top,h=t.yAxis.bottom,p="transparent",d="transparent",f=0;a.isTransparent(p)||(f=.5);for(var g=i.dataSet.length-i.scroll,m=(g+i.maxTicks,t.yAxis),y=i.tmpWidth/2,v=this.layout.candleWidth,S=t.left-.5*v+this.micropixels-1,T=0;T<=l.length;T++){S+=v/2,v=this.layout.candleWidth,S+=v/2;var b=l[T];if(b&&!b.projection&&(b.candleWidth&&(S+=(b.candleWidth-v)/2,v=b.candleWidth,"volume_candle"==this.layout.chartType&&(y=v/2)),(b.Open||0===b.Open)&&b.Open!=b.Close)){var x=e(this,b,n?"outline":"solid");if(x){n?p=x:d=x,u.fillStyle=d,b.transform&&(b=b.transform);var M=b.cache,w=g+T;if(w<t.cacheLeft||w>t.cacheRight||!M.open){var A=m.semiLog?this.pixelFromPrice(b.Open,t):(m.high-b.Open)*m.multiplier+m.top,C=m.semiLog?this.pixelFromPrice(b.Close,t):(m.high-b.Close)*m.multiplier+m.top;if(r=Math.floor(Math.min(A,C))+f,o=Math.max(A,C),s=Math.floor(o-r),r<c){if(r+s<c){M.open=r,M.close=r;continue}s-=c-r,r=c}r+s>h&&(s-=r+s-h),s=Math.max(s,2),M.open=r,M.close=M.open+s}if(!(M.open>=h||M.close<=c)){var k=Math.floor(S-y)+f,D=Math.round(S+y)-f;b.Open==b.Close?(r=Math.round(M.open)-f,u.moveTo(k,r),u.lineTo(D,r)):(u.moveTo(k,M.open),u.lineTo(D,M.open),u.lineTo(D,M.close),u.lineTo(k,M.close),u.lineTo(k,M.open)),"transparent"!=d&&u.fill(),f&&(u.lineWidth=1,u.strokeStyle=p,u.stroke())}}}}},o.prototype.drawShadowsHighPerformance=function(t,e,n){var i=t.chart,r=i.dataSegment,a=this.chart.context;a.lineWidth=1;var s,l,u=t.yAxis.top,c=t.yAxis.bottom,h=i.dataSet.length-i.scroll;h+i.maxTicks;a.beginPath();for(var p=t.yAxis,d=this.layout.candleWidth,f=t.left-.5*d+this.micropixels-1,g=0;g<=r.length;g++){f+=d/2,d=this.layout.candleWidth,f+=d/2;var m=r[g];if(m&&!m.projection){if(m.candleWidth&&(f+=(m.candleWidth-d)/2,d=m.candleWidth),n){if(n&o.CANDLEUP&&m.Open>=m.Close)continue;if(n&o.CANDLEDOWN&&m.Open<=m.Close)continue;if(n&o.CLOSEUP&&m.Close<=m.iqPrevClose)continue;if(n&o.CLOSEDOWN&&m.Close>=m.iqPrevClose)continue;if(n&o.CLOSEEVEN&&m.Close!=m.iqPrevClose)continue}m.transform&&(m=m.transform);var y=m.cache,v=h+g;if(v<t.cacheLeft||v>t.cacheRight||!y.top){s=p.semiLog?this.pixelFromPrice(m.High,t):(p.high-m.High)*p.multiplier+p.top,l=p.semiLog?this.pixelFromPrice(m.Low,t):(p.high-m.Low)*p.multiplier+p.top;var S=l-s;if(s<u){if(s+S<u){y.top=s,y.bottom=s;continue}S-=u-s,s=u}s+S>c&&(S-=s+S-c),y.top=s,y.bottom=y.top+S}if(!(y.top>=c||y.bottom<=u)){var T=Math.floor(f)+.5;if(a.moveTo(T,y.top),a.lineTo(T,y.bottom),m.Open==m.Close){var b=this.offset;"volume_candle"==this.layout.chartType&&(b=d/2);var x=f-b,M=f+b,w=p.semiLog?this.pixelFromPrice(m.Open,t):(p.high-m.Open)*p.multiplier+p.top;w<=c&&w>=u&&(a.moveTo(x,w),a.lineTo(M,w))}}}}this.canvasColor(e),a.stroke(),a.closePath()},o.prototype.drawShadows=function(t,e){var n=t.chart;n||(n=t,t=t.chart);var i=n.dataSegment,r=this.chart.context;r.lineWidth=1;for(var a,o,s=t.yAxis.top,l=t.yAxis.bottom,u=n.dataSet.length-n.scroll,c=(u+n.maxTicks,t.yAxis),h=this.layout.candleWidth,p=t.left-.5*h+this.micropixels-1,d=0;d<=i.length;d++){p+=h/2,h=this.layout.candleWidth,p+=h/2;var f=i[d];if(f&&!f.projection){f.candleWidth&&(p+=(f.candleWidth-h)/2,h=f.candleWidth);var g=e(this,f,"shadow");if(g){f.transform&&(f=f.transform);var m=f.cache,y=u+d;if(y<t.cacheLeft||y>t.cacheRight||!m.top){a=c.semiLog?this.pixelFromPrice(f.High,t):(c.high-f.High)*c.multiplier+c.top,o=c.semiLog?this.pixelFromPrice(f.Low,t):(c.high-f.Low)*c.multiplier+c.top;var v=o-a;if(a<s){if(a+v<s){m.top=a,m.bottom=a;continue}v-=s-a,a=s}a+v>l&&(v-=a+v-l),m.top=a,m.bottom=m.top+v}if(!(m.top>=l||m.bottom<=s)){var S=Math.floor(p)+.5;if(r.moveTo(S,m.top),r.lineTo(S,m.bottom),f.Open==f.Close||!f.Open&&0!==f.Open){var T=this.offset;"volume_candle"==this.layout.chartType&&(T=h/2);var b=p-T,x=p+T,M=Math.floor(c.semiLog?this.pixelFromPrice(f.Close,t):(c.high-f.Close)*c.multiplier+c.top)+.5;M<=l&&M>=s&&(r.moveTo(b,M),r.lineTo(x,M))}r.strokeStyle=g,r.stroke()}}}}},o.prototype.scatter=function(t){var e=t.chart,n=e.dataSegment,i=this.chart.context;i.beginPath(),i.lineWidth=4;for(var r=t.yAxis.top,a=t.yAxis.bottom,o=t.left-.5*this.layout.candleWidth+this.micropixels-1,s=0;s<=n.length;s++){o+=this.layout.candleWidth;var l=n[s];if(l&&!l.projection){l.transform&&(l=l.transform);var u=[l.Close];"Scatter"in l&&(u=l.Scatter);for(var c=0;c<u.length;c++){var h=this.pixelFromPrice(u[c],t);h<r||h>a||(i.moveTo(o-2,h),i.lineTo(o+2,h))}}}this.canvasColor("stx_scatter_chart"),i.stroke(),i.closePath(),i.lineWidth=1},o.prototype.drawKagiSquareWave=function(t,e,n){var i=t.chart;this.startClip(t.name);var r=i.dataSegment,o=i.context,s=this.canvasStyle(e),l=this.canvasStyle(n);this.canvasColor(e);var u=o.strokeStyle;this.canvasColor(n);var c=o.strokeStyle,h=1;s.width&&parseInt(s.width,10)<=25&&(h=Math.max(1,a.stripPX(s.width)));var p=1;l.width&&parseInt(l.width,10)<=25&&(p=Math.max(1,a.stripPX(l.width))),o.beginPath();for(var d=i.dataSet.length-i.scroll,f=t.yAxis,g=!0,m=null,y=null,v=null,S=t.left-.5*this.layout.candleWidth+this.micropixels-1,T=0;T<=r.length;T++){S+=this.layout.candleWidth;var b=r[T];if(b){if(b.projection)break;b.transform&&(b=b.transform);var x=b.cache,M=d+T;(M<t.cacheLeft||M>t.cacheRight||!x.open)&&(x.open=f.semiLog?this.pixelFromPrice(b.Open,t):(f.high-b.Open)*f.multiplier+f.top,x.close=f.semiLog?this.pixelFromPrice(b.Close,t):(f.high-b.Close)*f.multiplier+f.top),y=x.close,g&&(o.moveTo(Math.floor(S),x.open),m=x.open,v=x.close>x.open?1:-1,g=!1),v!=-1&&x.close<m&&m<x.open?(o.lineTo(Math.floor(S),m),o.strokeStyle=c,o.lineWidth=p,o.stroke(),o.closePath(),o.beginPath(),v=-1,o.moveTo(Math.floor(S),m)):1!=v&&x.close>m&&m>x.open&&(o.lineTo(Math.floor(S),m),o.strokeStyle=u,o.lineWidth=h,o.stroke(),o.closePath(),o.beginPath(),v=1,o.moveTo(Math.floor(S),m)),o.lineTo(Math.floor(S),x.close),T+1<r.length&&(o.lineTo(Math.floor(S+this.layout.candleWidth),x.close),m=x.open)}}v==-1||null===v&&y<m?(o.strokeStyle=u,o.lineWidth=h):(o.strokeStyle=c,o.lineWidth=p),o.stroke(),o.closePath(),this.endClip(),o.lineWidth=1},o.prototype.drawPointFigureChart=function(t,e,n){var i=t.chart;this.startClip(t.name);var r=i.dataSegment,o=i.context;this.canvasColor(e);var s=this.canvasStyle(e),l=parseInt(s.paddingTop,10),u=parseInt(s.paddingBottom,10),c=parseInt(s.paddingLeft,10),h=parseInt(s.paddingRight,10);s.width&&parseInt(s.width,10)<=25?o.lineWidth=Math.max(1,a.stripPX(s.width)):o.lineWidth=2,o.beginPath(),this.chart.pandf||(this.chart.pandf={box:1,reversal:3});for(var p,d,f,g=this.chart.pandf.box,m=i.dataSet.length-i.scroll,y=t.yAxis,v=this.layout.candleWidth,S=t.left-v+this.micropixels-1,T=0;T<r.length;T++){var b=r[T];if(b){if(b.projection)break;if(S+=v,b.candleWidth&&(v=b.candleWidth),b.transform&&(b=b.transform),!("X"==n&&b.Open>b.Close||"O"==n&&b.Open<b.Close)){var x=b.cache,M=m+T;(M<t.cacheLeft||M>t.cacheRight||!x.open)&&(x.open=y.semiLog?this.pixelFromPrice(b.Open,t):(y.high-b.Open)*y.multiplier+y.top,
x.close=y.semiLog?this.pixelFromPrice(b.Close,t):(y.high-b.Close)*y.multiplier+y.top);var w=Math.round(S),A=Math.round(S+v);p=Math.abs(Math.round((b.Close-b.Open)/g)),d=Math.abs((x.open-x.close)/p);var C=d/2;for(f=x.open;p>=0;p--)"X"==n?(o.moveTo(w+c,f-u+C),o.lineTo(A-h,f-d+l+C),o.moveTo(w+c,f-d+l+C),o.lineTo(A-h,f-u+C),f-=d):"O"==n&&(o.moveTo((w+A)/2,f+l-C),o.bezierCurveTo(A+h,f+l-C,A+h,f+d-u-C,(w+A)/2,f+d-u-C),o.bezierCurveTo(w-c,f+d-u-C,w-c,f+l-C,(w+A)/2,f+l-C),f+=d)}}}o.stroke(),this.endClip(),o.lineWidth=1},o.prototype.drawBarChartHighPerformance=function(t,e,n){var i=t.chart,r=i.dataSegment,s=i.context,l=this.canvasStyle(e);l.width&&parseInt(l.width,10)<=25?s.lineWidth=Math.max(1,a.stripPX(l.width)):s.lineWidth=1,s.beginPath();for(var u,c,h,p=t.yAxis.top,d=t.yAxis.bottom,f=i.dataSet.length-i.scroll,g=(f+i.maxTicks,t.yAxis),m=t.left-.5*this.layout.candleWidth+this.micropixels-1,y=i.tmpWidth/2,v=s.lineWidth/2,S=0;S<=r.length;S++){m+=this.layout.candleWidth;var T=r[S];if(T){if(T.projection)break;if(n){if(n&o.CLOSEUP&&T.Close<=T.iqPrevClose)continue;if(n&o.CLOSEDOWN&&T.Close>=T.iqPrevClose)continue;if(n&o.CLOSEEVEN&&T.Close!=T.iqPrevClose)continue}T.transform&&(T=T.transform);var b=T.cache,x=f+S;if(x<t.cacheLeft||x>t.cacheRight||!b.top){if(u=g.semiLog?this.pixelFromPrice(T.High,t):(g.high-T.High)*g.multiplier+g.top,c=g.semiLog?this.pixelFromPrice(T.Low,t):(g.high-T.Low)*g.multiplier+g.top,h=c-u,b.open=g.semiLog?this.pixelFromPrice(T.Open,t):(g.high-T.Open)*g.multiplier+g.top,b.close=g.semiLog?this.pixelFromPrice(T.Close,t):(g.high-T.Close)*g.multiplier+g.top,u<p){if(u+h<p){b.top=u,b.bottom=u;continue}h-=p-u,u=p}u+h>d&&(h-=u+h-d),b.top=u,b.bottom=u+h}var M=Math.floor(m)+.5;b.top<d&&b.bottom>p&&(s.moveTo(M,b.top-v),s.lineTo(M,b.bottom+v)),b.open>p&&b.open<d&&(s.moveTo(M,b.open),s.lineTo(M-y,b.open)),b.close>p&&b.close<d&&(s.moveTo(M,b.close),s.lineTo(M+y,b.close))}}this.canvasColor(e),s.stroke(),s.closePath(),s.lineWidth=1},o.prototype.drawBarChart=function(t,e,n){var i=t.chart;i||(i=t,t=t.chart);var r=i.dataSegment,o=i.context,s=this.canvasStyle(e);s.width&&parseInt(s.width,10)<=25?o.lineWidth=Math.max(1,a.stripPX(s.width)):o.lineWidth=1;for(var l,u,c,h=t.yAxis.top,p=t.yAxis.bottom,d=i.dataSet.length-i.scroll,f=(d+i.maxTicks,t.yAxis),g={},m=i.tmpWidth/2,y=o.lineWidth/2,v=this.layout.candleWidth,S=t.left-.5*v+this.micropixels-1,T=0;T<=r.length;T++){S+=v/2,v=this.layout.candleWidth,S+=v/2;var b=r[T];if(b){if(b.projection)break;b.candleWidth&&(S+=(b.candleWidth-v)/2,v=b.candleWidth);var x=n(this,b);if(x){g[x]=1,o.strokeStyle=x,o.beginPath(),b.transform&&(b=b.transform);var M=b.cache,w=d+T;if(w<t.cacheLeft||w>t.cacheRight||!M.top){if(l=this.pixelFromPrice(b.High,t),u=this.pixelFromPrice(b.Low,t),c=u-l,M.open=f.semiLog?this.pixelFromPrice(b.Open,t):(f.high-b.Open)*f.multiplier+f.top,M.close=f.semiLog?this.pixelFromPrice(b.Close,t):(f.high-b.Close)*f.multiplier+f.top,l<h){if(l+c<h){M.top=l,M.bottom=l;continue}c-=h-l,l=h}l+c>p&&(c-=l+c-p),M.top=l,M.bottom=l+c}var A=Math.floor(S)+.5;M.top<p&&M.bottom>h&&(o.moveTo(A,M.top-y),o.lineTo(A,M.bottom+y)),M.open>h&&M.open<p&&(o.moveTo(A,M.open),o.lineTo(A-m,M.open)),M.close>h&&M.close<p&&(o.moveTo(A,M.close),o.lineTo(A+m,M.close)),o.stroke()}}}return o.lineWidth=1,g},o.prototype.plotLineChart=function(t,e,n,r,a){var o=!1,s=!1,l=!1,u=0,c=[];r&&(o=r.skipProjections,s=r.skipTransform,l=r.noSlopes,u=r.tension);var h=t.chart,p=this.chart.context,d=!0,f=t.yAxis,g=(f.top,f.bottom,h.dataSet.length-h.scroll),m=null,y={},v=[0,0],S=this.layout.candleWidth,T=t.left-(r.noSlopes?1:.5)*S+this.micropixels-1;this.startClip(t.name),p.beginPath();for(var b=0;b<=e.length;b++){T+=S/2,r.noSlopes&&(T+=S/2),S=this.layout.candleWidth,r.noSlopes||(T+=S/2);var x=e[b];if(x){if(o&&x.projection)break;x.candleWidth&&(r.noSlopes||(T+=(x.candleWidth-S)/2),S=x.candleWidth),!s&&x.transform&&(x=x.transform);var M=T,w=x.cache,A=g+b;if(x[n]||0===x[n]){(A<t.cacheLeft||A>t.cacheRight||!w[n])&&(w[n]=f.semiLog?this.pixelFromPrice(x[n],t):(f.high-x[n])*f.multiplier+f.top),M<=t.right&&(m=x),b==e.length-1&&(this.extendLastTick&&(M+=this.offset),r.lastTickOffset&&(M+=r.lastTickOffset));var C=w[n],k=null;if(a){var D=a(this,x);if(!D)continue;"object"==typeof D&&(k=D.pattern,D=D.color),p.strokeStyle!=D&&(d||(p.stroke(),p.beginPath(),p.moveTo(v[0],v[1])),p.strokeStyle=D,y[D]=1)}if(d){if(d=!1,l||g<=0)p.moveTo(b?M:0,C),u?c.push(M,C):k?p.dashedLineTo(0,C,M,C,k):p.lineTo(M,C);else if(g>0){var $=h.dataSet[g];!s&&$.transform&&($=$.transform);var P=$[n];if(!P||isNaN(P))p.moveTo(b?M:0,C),u&&c.push(M,C);else{P=f.semiLog?this.pixelFromPrice(P,t):(f.high-P)*f.multiplier+f.top;var E=M-S;k?p.dashedLineTo(E,P,M,C,k):(p.moveTo(E,P),u?c.push(E,P,M,C):p.lineTo(M,C))}}}else if(l){var O=e[b-1];if(!O)continue;!s&&O.transform&&(O=O.transform),b&&(k?p.dashedLineTo(v[0],v[1],M,v[1],k):p.lineTo(M,v[1]),p.moveTo(M,C)),b==e.length-1&&(k?p.dashedLineTo(M,C,M+S,C,k):p.lineTo(M+S,C))}else k?p.dashedLineTo(v[0],v[1],M,C,k):u?c.push(M,C):p.lineTo(M,C);v=[M,C],b===e.length-1&&u&&(c.push(M,C),i(c,u,p))}}}if(p.stroke(),this.endClip(),r.label&&m){var _;_=f.priceFormatter?f.priceFormatter(this,t,m[n],r.labelDecimalPlaces):this.formatYAxisPrice(m[n],t,r.labelDecimalPlaces);var L=this.yaxisLabelStyle;t.yAxis.yaxisLabelStyle&&(L=t.yAxis.yaxisLabelStyle);var N="noop"==L?p.strokeStyle:null;this.yAxisLabels.push({src:"plot",args:[t,_,m.cache[n],"noop"==L?"#FFFFFF":p.strokeStyle,N]})}return y},o.prototype.plotMountainChart=function(t,e,n,r){var a=!1,o=!1,s=!1,l=0,u=[];r&&(a=r.skipProjections,o=r.skipTransform,s=r.reverse,l=r.tension);var c=t.chart,h=this.chart.context,p=!0,d=t.yAxis.top,f=t.yAxis.bottom;this.startClip(t.name),h.beginPath();for(var g=c.dataSet.length-c.scroll,m=null,y=null,v=t.yAxis,S=0,T=0;T<=e.length;T++){var b=e[T];if(b){if(a&&b.projection)break;!o&&b.transform&&(b=b.transform);var x=b.cache,M=g+T;if(M<t.cacheLeft||M>t.cacheRight||!x[n]){if(!b[n]&&0!==b[n])continue;x[n]=v.semiLog?this.pixelFromPrice(b[n],t):(v.high-b[n])*v.multiplier+v.top}S=t.left+(T+.5)*this.layout.candleWidth+this.micropixels-1,T==e.length-1&&(this.extendLastTick&&(S+=this.offset),r.lastTickOffset&&(S+=r.lastTickOffset)),null===m&&(m=S);var w=x[n];if(null===y&&(y=w),p)if(p=!1,g<=0)h.moveTo(S,w),l&&u.push(S,w);else{var A=c.dataSet[g];A.transform&&(A=A.transform);var C=A[n];C=v.semiLog?this.pixelFromPrice(C,t):(v.high-C)*v.multiplier+v.top,m=S-this.layout.candleWidth,h.moveTo(m,C),l?u.push(m,C,S,w):h.lineTo(S,w)}else l?u.push(S,w):h.lineTo(S,w);T===e.length-1&&l&&(u.push(S,w),i(u,l,h))}}h.lineTo(S,s?d:f),h.lineTo(m,s?d:f),s?y<d&&(y=d):y>f&&(y=f),h.lineTo(m,y),h.fill(),h.closePath(),this.endClip()},o.prototype.drawLineChart=function(t,e,n){var i=this.chart.context,r=this.canvasStyle(e);r.width&&parseInt(r.width,10)<=25?i.lineWidth=Math.max(1,a.stripPX(r.width)):i.lineWidth=1,this.canvasColor(e);var o={skipProjections:!0};t.chart.tension&&(o.tension=t.chart.tension),t.chart.lastTickOffset&&(o.lastTickOffset=t.chart.lastTickOffset);var s=this.plotLineChart(t,t.chart.dataSegment,"Close",o,n);return i.lineWidth=1,s},o.prototype.drawMountainChart=function(t){var e=this.chart.context,n=this.canvasStyle("stx_mountain_chart");n.width&&parseInt(n.width,10)<=25?e.lineWidth=Math.max(1,a.stripPX(n.width)):e.lineWidth=1;var i=this.pixelFromPrice(t.chart.highValue,t);isNaN(i)&&(i=0);var r=n.backgroundColor,o=n.color;if(o&&"transparent"!=o){var s=e.createLinearGradient(0,i,0,t.yAxis.bottom);s.addColorStop(0,r),s.addColorStop(1,o),e.fillStyle=s}else e.fillStyle=r;var l={skipProjections:!0};t.chart.tension&&(l.tension=t.chart.tension),t.chart.lastTickOffset&&(l.lastTickOffset=t.chart.lastTickOffset),this.plotMountainChart(t,t.chart.dataSegment,"Close",l);var u=n.borderTopColor;u&&"transparent"!=u&&(e.strokeStyle=u,this.plotLineChart(t,t.chart.dataSegment,"Close",l)),e.lineWidth=1},o.prototype.drawWaveChart=function(t){var e=t.chart,n=e.dataSegment,i=this.chart.context;this.startClip(t.name),i.beginPath();for(var r=!1,o=!1,s=t.yAxis.top,l=t.yAxis.bottom,u=t.left+Math.floor(-.5*this.layout.candleWidth+this.micropixels),c=0;c<=n.length;c++){u+=this.layout.candleWidth;var h=n[c];if(h){if(h.projection)break;h.transform&&(h=h.transform);var p=u-3*this.layout.candleWidth/8,d=this.pixelFromPrice(h.Open,t);if(d<s){if(d=s,o){i.moveTo(p,d);continue}o=!0}else if(d>l){if(d=l,o){i.moveTo(p,d);continue}o=!0}else o=!1;if(r)i.lineTo(p,d);else{r=!0;var f=e.dataSet.length-e.scroll;if(f<=0)i.moveTo(p,d);else if(f>0){var g=e.dataSet[f-1];g.transform&&(g=g.transform);var m=g.Close;m=t.yAxis.semiLog?this.pixelFromPrice(m,t):(t.yAxis.high-m)*t.yAxis.multiplier+s,m=Math.min(Math.max(m,s),l),i.moveTo(t.left+(c-1)*this.layout.candleWidth+this.micropixels,m),i.lineTo(p,d)}i.moveTo(p,d)}p+=this.layout.candleWidth/4,h.Open<h.Close?(d=this.pixelFromPrice(h.Low,t),d<s&&(d=s),d>l&&(d=l),i.lineTo(p,d),p+=this.layout.candleWidth/4,d=this.pixelFromPrice(h.High,t),d<s&&(d=s),d>l&&(d=l),i.lineTo(p,d)):(d=this.pixelFromPrice(h.High,t),d<s&&(d=s),d>l&&(d=l),i.lineTo(p,d),p+=this.layout.candleWidth/4,d=this.pixelFromPrice(h.Low,t),d<s&&(d=s),d>l&&(d=l),i.lineTo(p,d)),p+=this.layout.candleWidth/4,d=this.pixelFromPrice(h.Close,t),d<s&&(d=s),d>l&&(d=l),i.lineTo(p,d)}}var y=this.canvasStyle("stx_line_chart");y.width&&parseInt(y.width,10)<=25?i.lineWidth=Math.max(1,a.stripPX(y.width)):i.lineWidth=1,this.canvasColor("stx_line_chart"),i.stroke(),i.closePath(),this.endClip(),i.lineWidth=1},o.prototype.updateFloatHRLabel=function(t){var e=t.yaxisLHS.concat(t.yaxisRHS);if(this.floatCanvas.isDirty&&a.clearCanvas(this.floatCanvas,this),"none"!=this.controls.crossX.style.display){if(this.controls.crossY){var n=t.width;"roundRectArrow"==this.yaxisLabelStyle&&(n-=7),this.controls.crossY.style.left=t.left+"px",this.controls.crossY.style.width=n+"px"}for(var i=0;i<e.length;i++){var r=e[i],o=this.valueFromPixel(this.cy,t,r);if(!isNaN(o)&&!((t.min||0===t.min)&&o<t.min||(t.max||0===t.max)&&o>t.max)){var s=null;r!==t.chart.yAxis&&(s=0,r.shadow<1e3&&(s=2),r.shadow<5&&(s=4),(r.decimalPlaces||0===r.decimalPlaces)&&(s=r.decimalPlaces)),o=r.priceFormatter?r.priceFormatter(this,t,o,r):this.formatYAxisPrice(o,t,s,r);var l=this.canvasStyle("stx-float-price");this.createYAxisLabel(t,o,this.cy,l.backgroundColor,l.color,this.floatCanvas.context,r),this.floatCanvas.isDirty=!0}}}},o.prototype.headsUpHR=function(){if(!this.runPrepend("headsUpHR",arguments)){var t=this.currentPanel;if(t){var e=t.chart;if(this.updateFloatHRLabel(t),this.controls.floatDate&&!o.hideDates()){var n=this.barFromPixel(this.cx),i=e.xaxis[n];if(i&&i.DT)if(e.xAxis.formatter)this.controls.floatDate.innerHTML=e.xAxis.formatter(i.DT);else if(this.internationalizer){var r=this.internationalizer.monthDay.format(i.DT);0===i.DT.getHours()&&0===i.DT.getMinutes()&&o.isDailyInterval(this.layout.interval)?r=this.internationalizer.yearMonthDay.format(i.DT):r+=" "+this.internationalizer.hourMinute.format(i.DT),this.controls.floatDate.innerHTML=r}else{var s=i.DT.getMonth()+1;s<10&&(s="0"+s);var l=i.DT.getDate();l<10&&(l="0"+l);var u=i.DT.getHours();u<10&&(u="0"+u);var c=i.DT.getMinutes();if(c<10&&(c="0"+c),"00"==u&&"00"==c||o.isDailyInterval(this.layout.interval))this.controls.floatDate.innerHTML=s+"-"+l+"-"+i.DT.getFullYear();else{this.controls.floatDate.innerHTML=s+"-"+l+" "+u+":"+c;var h=e.xAxis.activeTimeUnit&&e.xAxis.activeTimeUnit<=a.SECOND||"second"==this.layout.timeUnit,p=e.xAxis.activeTimeUnit&&e.xAxis.activeTimeUnit<=a.MILLISECOND||"millisecond"==this.layout.timeUnit;if(h||p){var d=i.DT.getSeconds();if(d<10&&(d="0"+d),this.controls.floatDate.innerHTML+=":"+d,p){var f=i.DT.getMilliseconds();f<10&&(f="0"+f),f<100&&(f="0"+f),this.controls.floatDate.innerHTML+=":"+f}}}}else i&&i.index?this.controls.floatDate.innerHTML=i.index:this.controls.floatDate.innerHTML=""}this.runAppend("headsUpHR",arguments)}}},o.prototype.setCrosshairColors=function(){},o.prototype.magnetize=function(){if(this.magnetizedPrice=null,!this.runPrepend("magnetize",arguments)&&("annotation"!=this.currentVectorParameters.vectorType&&"callout"!=this.currentVectorParameters.vectorType||!o.drawingLine)&&"projection"!=this.currentVectorParameters.vectorType&&"freeform"!=this.currentVectorParameters.vectorType){var t=this.currentPanel;if(t.name==t.chart.name){var e=t.chart,n=this.tickFromPixel(o.crosshairX-this.left,e);if(n>e.dataSet.length)return;var i=e.dataSet[n];if(!i)return;var r=this.valueFromPixel(this.cy,t);if(this.magnetizedPrice=i.Close,"bar"==this.layout.chartType||"candle"==this.layout.chartType||"colored_bar"==this.layout.chartType||"hollow_candle"==this.layout.chartType||"volume_candle"==this.layout.chartType)for(var a=["Open","High","Low","Close"],s=1e9,l=0;l<a.length;l++){var u=i[a[l]];Math.abs(r-u)<s&&(s=Math.abs(r-u),this.magnetizedPrice=u)}var c=this.pixelFromTick(n,e),h=this.pixelFromPrice(this.magnetizedPrice,this.currentPanel),p=this.chart.tempCanvas.context;p.beginPath(),p.lineWidth=1;var d=Math.max(this.layout.candleWidth,8)/2;p.arc(c,h,d,0,2*Math.PI,!1),p.fillStyle="#FFFFFF",p.strokeStyle="#000000",p.fill(),p.stroke(),p.closePath()}this.runAppend("magnetize",arguments)}},o.prototype.positionCrosshairsAtPointer=function(){if(this.currentPanel){var t=this.currentPanel.chart,e=this.container.getBoundingClientRect();this.top=e.top,this.left=e.left,this.right=this.left+this.width,this.bottom=this.top+this.height;var n=this.tickFromPixel(this.backOutX(o.crosshairX),t);this.cy=this.backOutY(o.crosshairY),this.cx=this.backOutX(o.crosshairX),this.controls.crossX.style.left=this.pixelFromTick(n,t)-.5+"px",this.controls.crossY.style.top=this.backOutY(o.crosshairY)+"px",this.updateChartAccessories()}},o.prototype.doDisplayCrosshairs=function(){this.runPrepend("doDisplayCrosshairs",arguments)||(this.displayInitialized&&(this.layout.crosshair||""!==this.currentVectorParameters.vectorType&&this.currentVectorParameters.vectorType?a.Drawing[this.currentVectorParameters.vectorType]&&(new a.Drawing[this.currentVectorParameters.vectorType]).dragToDraw?this.undisplayCrosshairs():(""!==this.controls.crossX.style.display&&(this.controls.crossX.style.display="",this.controls.crossY.style.display="",this.preferences.magnet&&this.currentVectorParameters.vectorType?a.unappendClassName(this.container,"stx-crosshair-on"):a.appendClassName(this.container,"stx-crosshair-on")),this.controls.floatDate&&!o.hideDates()&&(this.controls.floatDate.style.display="block")):this.undisplayCrosshairs()),this.runAppend("doDisplayCrosshairs",arguments))},o.prototype.undisplayCrosshairs=function(){this.runPrepend("undisplayCrosshairs",arguments)||(this.controls.crossX&&"none"!=this.controls.crossX.style.display&&(this.controls.crossX.style.display="none",this.controls.crossY.style.display="none"),this.displayInitialized&&this.controls.floatDate&&(this.controls.floatDate.style.display="none"),a.unappendClassName(this.container,"stx-crosshair-on"),this.floatCanvas&&this.floatCanvas.isDirty&&a.clearCanvas(this.floatCanvas,this),this.runAppend("undisplayCrosshairs",arguments))},o.prototype.modalBegin=function(){this.openDialog="modal",this.undisplayCrosshairs()},o.prototype.modalEnd=function(){this.cancelTouchSingleClick=!0,this.openDialog="",this.doDisplayCrosshairs()},o.prototype.updateChartAccessories=function(){if(!this.runPrepend("updateChartAccessories",arguments)){this.accessoryTimer=null,this.lastAccessoryUpdate=(new Date).getTime();var t=this.controls.floatDate;if(t){var e=this.currentPanel;if(e||(e=this.chart.panel),e){var n=e.chart,i=this.tickFromPixel(this.backOutX(o.crosshairX),n);t.style.left=this.pixelFromTick(i,n)-t.offsetWidth/2-.5+"px",t.style.bottom=this.chart.canvasHeight-n.panel.bottom+"px"}}this.headsUpHR(),this.runAppend("updateChartAccessories",arguments)}},o.prototype.mousemove=function(t){var e=t?t:event;o.crosshairX=e.clientX,o.crosshairY=e.clientY,this.runPrepend("mousemove",arguments)||this.displayInitialized&&""===this.openDialog&&(this.mousemoveinner(e.clientX,e.clientY),this.runAppend("mousemove",arguments))},o.prototype.setResizeTimer=function(t){function e(t){return function(){if(t.chart.canvas)return a.isAndroid||t.chart.canvas.height==Math.floor(t.devicePixelRatio*t.chart.container.clientHeight)&&t.chart.canvas.width==Math.floor(t.devicePixelRatio*t.chart.container.clientWidth)?void 0:void t.resizeChart()}}this.resizeDetectMS=t,t?(this.resizeTimeout&&window.clearInterval(this.resizeTimeout),this.resizeTimeout=window.setInterval(e(this),t)):(this.resizeTimeout&&window.clearInterval(this.resizeTimeout),this.resizeTimeout=null)},o.prototype.whichYAxis=function(t,e){"undefined"==typeof e&&(e=this.cx);for(var n=t.yaxisLHS.concat(t.yaxisRHS),i=0;i<n.length;i++){var r=n[i];if(r.left<=e&&r.left+r.width>=e)return r}return this.chart.panel.yAxis},o.prototype.mousemoveinner=function(t,e){if(this.chart.canvas){if(!(a.isAndroid||a.isIOS7or8||this.chart.canvas.height==Math.floor(this.devicePixelRatio*this.chart.container.clientHeight)&&this.chart.canvas.width==Math.floor(this.devicePixelRatio*this.chart.container.clientWidth)))return void this.resizeChart();if(!this.runPrepend("mousemoveinner",arguments)){var n=this.container.getBoundingClientRect();this.top=n.top,this.left=n.left,this.right=this.left+this.width,this.bottom=this.top+this.height,o.crosshairX=t,o.crosshairY=e;var i=this.cy=this.backOutY(o.crosshairY),r=this.cx=this.backOutX(o.crosshairX);if(this.currentPanel=this.whichPanel(i),this.currentPanel||(this.currentPanel=this.chart.panel),this.currentPanel){var s=this.currentPanel.chart;if(s.dataSet&&(this.crosshairTick=this.tickFromPixel(r,s),this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,this.valueFromPixel(i,this.currentPanel))),o.crosshairX>=this.left&&o.crosshairX<=this.right&&o.crosshairY>=this.top&&o.crosshairY<=this.bottom?o.insideChart=!0:o.insideChart=!1,this.overXAxis=o.crosshairY>=this.top+this.chart.panel.yAxis.bottom&&o.crosshairY<=this.top+this.chart.panel.bottom&&o.insideChart,this.overYAxis=(this.cx>=this.currentPanel.right||this.cx<=this.currentPanel.left)&&o.insideChart,!this.overXAxis&&!this.overYAxis&&(o.insideChart||this.grabbingScreen)||(this.undisplayCrosshairs(),this.overXAxis||this.overYAxis)){if(!this.displayCrosshairs&&!o.resizingPanel)return void this.undisplayCrosshairs();this.controls.baselineHandle;if(this.repositioningBaseline)return M=this.panels[this.chart.panel.name],this.chart.baseline.userLevel=this.adjustIfNecessary(M,this.crosshairTick,this.valueFromPixelUntransform(this.backOutY(o.crosshairY),M)),void(Date.now()-this.repositioningBaseline.lastDraw>100&&(this.draw(),this.repositioningBaseline.lastDraw=Date.now()));if(this.grabbingScreen&&!o.resizingPanel){if(this.anyHighlighted){a.clearCanvas(this.chart.tempCanvas,this),this.anyHighlighted=!1;var l;for(l in this.overlays)this.overlays[l].highlight=!1;for(l in s.series)s.series[l].highlight=!1;this.displaySticky()}this.preferences.magnet&&this.currentVectorParameters.vectorType&&a.clearCanvas(this.chart.tempCanvas,this),this.grabStartX==-1&&(this.grabStartX=o.crosshairX,this.grabStartScrollX=s.scroll),this.grabStartY==-1&&(this.grabStartY=o.crosshairY,this.grabStartScrollY=s.panel.yAxis.scroll);var u=o.crosshairX-this.grabStartX,c=o.crosshairY-this.grabStartY;if(0===u&&0===c)return;Math.abs(u)+Math.abs(c)>5&&(this.grabOverrideClick=!0);var h;if(this.allowZoom&&"pan"!=this.grabMode&&(0===this.grabMode.indexOf("zoom")||this.ctrl||this.overXAxis||this.overYAxis)){""===this.grabMode&&(this.overXAxis?this.grabMode="zoom-x":this.overYAxis&&(this.grabMode="zoom-y")),"zoom-x"==this.grabMode?c=0:"zoom-y"==this.grabMode&&(u=0),h=u/25;var p=!0;s.scroll<s.maxTicks&&(p=!1);var d=this.grabStartCandleWidth+h;d<this.minimumCandleWidth&&(d=this.minimumCandleWidth);var f=(this.layout.candleWidth-d)/this.layout.candleWidth;if(Math.abs(f)>.2?this.grossDragging=new Date:this.grossDragging=0,f>.1?d=.9*this.layout.candleWidth:f<-.1&&(d=1.1*this.layout.candleWidth),a.ipad&&Math.round(this.chart.width/this.layout.candleWidth-.499)-1<o.ipadMaxTicks&&Math.round(this.chart.width/d-.499)-1>o.ipadMaxTicks)return;var g;if(this.pinchingCenter){var m=this.backOutX(this.pinchingCenter),y=this.tickFromPixel(m,s);this.setCandleWidth(d,s);var v=this.tickFromPixel(m,s);s.scroll+=Math.floor(v-y)}else if(p)g=Math.round(this.chart.width/d-.499),g!=s.maxTicks&&(this.setCandleWidth(d,s),s.scroll+=Math.round((g-s.maxTicks)/2));else if(g=Math.round(this.chart.width/d-.499),g!=Math.round(this.chart.width/this.layout.candleWidth-.499)){this.setCandleWidth(d,s);var S=Math.round(this.preferences.whitespace/this.layout.candleWidth);s.scroll=s.maxTicks-S}this.layout.span=null;var T=this.whichYAxis(this.grabbingPanel,this.cx);this.overYAxis&&(T.zoom=Math.round(this.grabStartZoom+c),this.grabStartZoom<T.height?T.zoom>=T.height&&(T.zoom=T.height-1):T.zoom<=T.height&&(T.zoom=T.height+1))}else{if(this.allowScroll){if(Math.abs(c)<this.yTolerance){if(!this.yToleranceBroken&&(c=0,0===u))return}else this.yToleranceBroken=!0;this.grabMode="pan",h=Math.round(u/this.layout.candleWidth),this.microscroll=h-u/this.layout.candleWidth,this.micropixels=this.layout.candleWidth*this.microscroll*-1,this.shift&&(h*=5),Math.abs(s.scroll-this.grabStartScrollX-h)>20?this.grossDragging=new Date:this.grossDragging=0,s.scroll=this.grabStartScrollX+h,s.scroll<1&&(s.scroll=1),s.scroll>=s.maxTicks?this.preferences.whitespace=30:this.preferences.whitespace=(s.maxTicks-s.scroll)*this.layout.candleWidth,this.currentPanel.name==s.name&&(this.chart.panel.yAxis.scroll=this.grabStartScrollY+c)}this.callbacks.move&&this.callbacks.move({stx:this,panel:this.currentPanel,x:this.cx,y:this.cy,grab:this.grabbingScreen})}var b=function(t){return function(){t.draw()}};return o.useAnimation?window.requestAnimationFrame?window.requestAnimationFrame(b(this)):this.grossDragging?setTimeout(function(t){return function e(){new Date-t.grossDragging<500?setTimeout(e,100):(t.grossDragging=0,t.draw())}}(this),100):this.draw():this.draw(),this.activeDrawing&&(a.clearCanvas(this.chart.tempCanvas,this),this.activeDrawing.render(this.chart.tempCanvas.context),this.activeDrawing.measure()),void this.undisplayCrosshairs()}if(this.grabMode="",this.grabbingPanel=this.currentPanel,!this.overXAxis&&!this.overYAxis){var x=this.tickFromPixel(this.backOutX(o.crosshairX),s);this.controls.crossX.style.left=this.pixelFromTick(x,s)-.5+"px",this.controls.crossY.style.top=this.cy+"px",this.setCrosshairColors(),o.insideChart&&!o.resizingPanel?(a.Drawing[this.currentVectorParameters.vectorType]&&(new a.Drawing[this.currentVectorParameters.vectorType]).dragToDraw||this.doDisplayCrosshairs(),null!==this.accessoryTimer&&clearTimeout(this.accessoryTimer),o.drawingLine||!a.touchDevice?this.updateChartAccessories():((new Date).getTime()-this.lastAccessoryUpdate>100&&this.updateChartAccessories(),this.accessoryTimer=setTimeout(function(t){return function(){t.updateChartAccessories()}}(this),10))):this.undisplayCrosshairs();var M,w;this.repositioningDrawing?(M=this.panels[this.repositioningDrawing.panelName],w=this.adjustIfNecessary(M,this.crosshairTick,this.valueFromPixelUntransform(this.backOutY(o.crosshairY),M)),this.preferences.magnet&&this.magnetizedPrice&&M.name==M.chart.name&&(w=this.adjustIfNecessary(M,this.crosshairTick,this.magnetizedPrice)),a.clearCanvas(this.chart.tempCanvas,this),this.repositioningDrawing.reposition(this.chart.tempCanvas.context,this.repositioningDrawing.repositioner,this.crosshairTick,w),this.repositioningDrawing.measure&&this.repositioningDrawing.measure()):o.drawingLine?this.activeDrawing&&(M=this.panels[this.activeDrawing.panelName],w=this.adjustIfNecessary(M,this.crosshairTick,this.valueFromPixelUntransform(this.backOutY(o.crosshairY),M)),this.preferences.magnet&&this.magnetizedPrice&&M.name==M.chart.name&&(w=this.adjustIfNecessary(M,this.crosshairTick,this.magnetizedPrice)),a.clearCanvas(this.chart.tempCanvas,this),this.activeDrawing.move(this.chart.tempCanvas.context,this.crosshairTick,w),this.activeDrawing.measure&&this.activeDrawing.measure()):o.resizingPanel?(this.resizePanels(),this.drawTemporaryPanel()):o.insideChart&&this.findHighlights(),o.insideChart&&(this.callbacks.move&&this.callbacks.move({stx:this,panel:this.currentPanel,x:this.cx,y:this.cy,grab:this.grabbingScreen}),this.findHighlights()),this.preferences.magnet&&this.currentVectorParameters.vectorType&&(o.drawingLine||this.anyHighlighted||a.clearCanvas(this.chart.tempCanvas),this.magnetize()),this.runAppend("mousemoveinner",arguments)}}}}}},o.prototype.findHighlights=function(t,e){var n=10;t&&(n=30);var i=this.cy,r=this.cx;if(this.currentPanel){var o=this.currentPanel.chart;this.anyHighlighted=!1,this.preferences.magnet&&this.currentVectorParameters.vectorType&&a.clearCanvas(this.chart.tempCanvas,this);for(var s=!1,l=null,u=["","",!0,null,"drawing"],c={x0:this.tickFromPixel(r-n,o),x1:this.tickFromPixel(r+n,o),y0:this.valueFromPixelUntransform(i-n,this.currentPanel),y1:this.valueFromPixelUntransform(i+n,this.currentPanel)},h=0;h<this.drawingObjects.length;h++){var p=this.drawingObjects[h];if(!p.permanent){var d=p.highlighted,f=p.panelName==this.currentPanel.name;p.repositioner=p.intersected(this.crosshairTick,this.crosshairValue,c),f=f&&p.repositioner,!e&&f?(d?l=p:d!=p.highlight(!0)&&(l||(l=p),s=!0),this.anyHighlighted=!0):d!=p.highlight(!1)&&(s=!0)}}var g,m,y;for(g in this.overlays)m=this.overlays[g],m.prev=m.highlight,m.highlight=!1;for(g in o.seriesRenderers)for(var v=o.seriesRenderers[g],S=0;S<v.seriesParams.length;S++)y=v.seriesParams[S],y.prev=y.highlight,y.highlight=!1;if(!e){var T=this.barFromPixel(r);if(T<o.dataSegment.length){var b;for(g in this.overlays)if(m=this.overlays[g],m.panel==this.currentPanel.name)if(m.libraryEntry.isHighlighted&&m.libraryEntry.isHighlighted(this,r,i))m.highlight=!0,this.anyHighlighted=!0;else{var x=o.dataSegment[T];if(x)for(var M in this.overlays[g].outputMap){var w=x[M];if(b=0,b=this.currentPanel.name==o.name?this.pixelFromPriceTransform(w,this.currentPanel):this.pixelFromPrice(w,this.currentPanel),i-n<b&&i+n>b){m.highlight=!0,this.anyHighlighted=!0;break}}}for(g in o.seriesRenderers){var A=o.seriesRenderers[g];if(A.params.highlightable)for(var C=0;C<A.seriesParams.length;C++)if(y=A.seriesParams[C],b=A.caches[y.field][T],b||0===b)if(i-n<b&&i+n>b)y.highlight=!0,this.anyHighlighted=!0;else if(("step"==A.params.subtype||"step"==y.type)&&T>0){var k=A.caches[y.field][T-1];(i>b&&i<k||i<b&&i>k)&&(y.highlight=!0,this.anyHighlighted=!0)}}}}for(g in this.overlays)m=this.overlays[g],m.highlight&&(this.anyHighlighted=!0,u=[m.inputs.display?m.inputs.display:m.name,null,null,m.permanent,"study"],l=null),m.prev!=m.highlight&&(s=!0);for(g in o.seriesRenderers){var D=o.seriesRenderers[g];if(D.params.highlightable)for(var $=0;$<D.seriesParams.length;$++)y=D.seriesParams[$],y.highlight&&(this.anyHighlighted=!0,u=[y.display,y.color,!1,y.permanent,"series"],l=null),y.prev!=y.highlight&&(s=!0)}s&&(this.draw(),this.displaySticky.apply(this,u),this.clearMeasure(),l&&l.measure()),this.anyHighlighted||this.setMeasure()}},o.prototype.positionSticky=function(t){var e=Math.max(this.cy-t.offsetHeight-60,0),n=Math.min(this.chart.canvasWidth-(this.cx-50),this.chart.canvasWidth-t.offsetWidth);t.style.top=e+"px",t.style.right=n+"px"},o.prototype.displaySticky=function(t,e,n,i,r){var o=this.controls.mSticky;if(o){var s=o.children[0];if(s){var l=o.children[1].children[0],u=o.children[1].children[1];n||t?(t||(t=""),n&&!t?(s.style.backgroundColor="",s.style.color="",s.style.display="none"):e?(s.style.backgroundColor=e,s.style.color=a.chooseForegroundColor(e),s.style.display="inline-block"):(s.style.backgroundColor="",s.style.color="",s.style.display="inline-block"),s.innerHTML=t,r&&(o.children[1].className="rightclick_"+r),o.style.display="inline-block",this.positionSticky(o),i?(l.style.display="none",u.style.display="none"):a.touchDevice&&l?(l.style.display="inline-block",u.style.display="none"):!a.touchDevice&&u&&(u.style.display="block")):(s.innerHTML="",o.style.display="none",a.touchDevice&&l?l.style.display="none":!a.touchDevice&&u&&(u.style.display="none"))}}},o.prototype.setMeasure=function(t,e,n,i,r){if(!this.runPrepend("setMeasure",arguments)){var a=s("mMeasure"),o="";if(t){var l=Math.round(Math.abs(t-e)*this.chart.roundit)/this.chart.roundit;o+=this.internationalizer?this.internationalizer.numbers.format(l):l;var u=(e-t)/t;u=Math.abs(u)>.1?Math.round(100*u):Math.abs(u)>.01?Math.round(1e3*u)/10:Math.round(1e4*u)/100,this.internationalizer?u=this.internationalizer.percent.format(u/100):u+="%",o+=" ("+u+")";var c=Math.abs(i-n);c=Math.round(c)+1;var h="Bars";this.translationCallback&&(h=this.translationCallback(h)),o+=" "+c+" "+h,a&&("measureLit"!=a.className&&(a.className="measureLit"),a.innerHTML=o)}else a&&"measureUnlit"!=a.className&&(a.className="measureUnlit"),this.anyHighlighted||""!==this.currentVectorParameters.vectorType||this.clearMeasure();this.activeDrawing||(a=this.controls.mSticky,a&&(r?(a.style.display="inline-block",a.children[0].style.display="inline-block",t&&(a.children[0].innerHTML=o),this.positionSticky(a)):(a.style.display="none",a.children[0].innerHTML="")),this.runAppend("setMeasure",arguments))}},o.prototype.clearMeasure=function(){var t=s("mMeasure");t&&("measureUnlit"!=t.className&&(t.className="measureUnlit"),t.innerHTML="")},o.prototype.drawTemporaryPanel=function(){var t=Math.round(o.resizingPanel.right-3)+.5;a.clearCanvas(this.chart.tempCanvas,this);var e=o.crosshairY-this.top;this.plotLine(o.resizingPanel.left,t,e,e,this.canvasStyle("stx_panel_drag"),"segment",this.chart.tempCanvas.context,!1,{}),o.resizingPanel.handle.style.top=e-o.resizingPanel.handle.offsetHeight/2+"px"},o.prototype.setTrashCan=function(){if(a.touchDevice){var t=this.controls.mSticky;t&&(t.style.display="inline-block",t.children[0].style.display="none",t.children[1].style.display="inline-block",t.children[2]&&(t.children[2].style.display="none"),t.style.top=this.backOutY(o.crosshairY)-60+"px",t.style.right=this.chart.canvasWidth-(this.backOutX(o.crosshairX)-50)+"px")}},o.prototype.pixelFromBar=function(t,e){e||(e=this.chart);var n=0;return n=this.chart.dataSegment&&this.chart.dataSegment[t]&&this.chart.dataSegment[t].leftOffset?this.chart.dataSegment[t].leftOffset:(t+.5)*this.layout.candleWidth,n=e.panel.left+Math.floor(n+this.micropixels)-1},o.prototype.barFromPixel=function(t,e){if(e||(e=this.chart),"volume_candle"==this.layout.chartType){var n=t-e.panel.left-this.micropixels,i=2,r=Math.round(this.chart.dataSegment.length/i),a=this.chart.dataSegment[this.chart.dataSegment.length-1].leftOffset+this.chart.dataSegment[this.chart.dataSegment.length-1].candleWidth/2;if(n>a)return this.chart.dataSegment.length+Math.floor((t-a-e.panel.left-this.micropixels)/this.layout.candleWidth);for(var o=1;o<this.chart.dataSegment.length&&(i*=2,this.chart.dataSegment[r]);o++){var s=this.chart.dataSegment[r].leftOffset-this.chart.dataSegment[r].candleWidth/2,l=this.chart.dataSegment[r].leftOffset+this.chart.dataSegment[r].candleWidth/2;if(0===r||n>=s&&n<l)break;n<s?r-=Math.max(1,Math.round(this.chart.dataSegment.length/i)):r+=Math.max(1,Math.round(this.chart.dataSegment.length/i)),r=Math.max(0,Math.min(this.chart.dataSegment.length-1,r))}if(!this.chart.dataSegment[r])for(o=0;o<this.chart.dataSegment.length;o++)if(this.chart.dataSegment[o]){if(n<this.chart.dataSegment[o].leftOffset-this.chart.dataSegment[o].candleWidth/2)return Math.max(0,o-1);if(n<this.chart.dataSegment[o].leftOffset+this.chart.dataSegment[o].candleWidth/2)return o;if(n>=this.chart.dataSegment[o].leftOffset+this.chart.dataSegment[o].candleWidth/2)return o+1}return r}return Math.floor((t-e.panel.left-this.micropixels)/this.layout.candleWidth)},o.prototype.tickFromPixel=function(t,e){e||(e=this.chart);var n=e.dataSet.length-e.scroll+1;return n+="volume_candle"==this.layout.chartType?this.barFromPixel(t,e):Math.floor((t-e.panel.left-this.micropixels)/this.layout.candleWidth)},o.prototype.pixelFromTick=function(t,e){e||(e=this.chart);var n=t-e.dataSet.length+e.scroll-1;
if(this.chart.dataSegment&&this.chart.dataSegment[n]&&this.chart.dataSegment[n].leftOffset)return e.panel.left+Math.floor(this.chart.dataSegment[n].leftOffset+this.micropixels)-1;var i=0,r=0;return this.chart.dataSegment&&this.chart.dataSegment[this.chart.dataSegment.length-1]&&this.chart.dataSegment[this.chart.dataSegment.length-1].leftOffset&&this.chart.dataSegment.length<t-e.dataSet.length+e.scroll&&(i=this.chart.dataSegment[this.chart.dataSegment.length-1].leftOffset-this.chart.dataSegment[this.chart.dataSegment.length-1].candleWidth/2,r=this.chart.dataSegment.length),i+e.panel.left+Math.floor((t-r-e.dataSet.length+e.scroll-.5)*this.layout.candleWidth+this.micropixels)-1},o.prototype.pixelFromDate=function(t,e){return this.pixelFromTick(this.tickFromDate(t,e),e)},o.prototype.priceFromPixel=function(t,e,n){e||(e=this.chart.panel);var i=(e.chart,n?n:e.yAxis);t=i.bottom-t;var r=i.low+t/i.multiplier;if(i.semiLog){var a=i.logLow+t*i.logShadow/i.height;r=Math.pow(10,a)}return r},o.prototype.valueFromPixel=function(t,e,n){e||(e=this.whichPanel(t));var i=this.priceFromPixel(t,e,n);return i},o.prototype.valueFromPixelUntransform=function(t,e,n){e||(e=this.whichPanel(t)),e||(e=t<=0?this.panels[a.first(this.panels)]:this.panels[a.last(this.panels)]);var i=this.priceFromPixel(t,e,n);return e.chart.untransformFunc&&e.name==e.chart.name&&(i=e.chart.untransformFunc(this,e.chart,i)),i},o.prototype.pixelFromPriceTransform=function(t,e,n){return e.chart.transformFunc&&(t=e.chart.transformFunc(this,e.chart,t,n)),this.pixelFromPrice(t,e,n)},o.prototype.pixelFromPrice=function(t,e,n){e||(e=this.chart.panel);var i=n?n:e.yAxis,r=(i.high-t)*i.multiplier;if(i.semiLog){var a=Math.log(t)/Math.LN10;t<=0&&(a=0);var o=i.height;r=o-o*(a-i.logLow)/i.logShadow}return r+=i.top},o.prototype.pixelFromValueAdjusted=function(t,e,n,i){if(this.layout.adj||!this.charts[t.name])return this.pixelFromPriceTransform(n,t,i);var r,a=Math.round(e);return a>0&&a<t.chart.dataSet.length&&(r=t.chart.dataSet[a].ratio)?this.pixelFromPriceTransform(n*r,t,i):this.pixelFromPriceTransform(n,t,i)},o.prototype.adjustIfNecessary=function(t,e,n){if(this.layout.adj)return n;if(!t||!this.charts[t.name])return n;var i,r=Math.round(e);return r>0&&r<t.chart.dataSet.length&&(i=t.chart.dataSet[r].ratio)?n/i:n},o.prototype.setTransform=function(t,e,n){t.transformFunc=e,t.untransformFunc=n},o.prototype.unsetTransform=function(t){delete t.transformFunc,delete t.untransformFunc;for(var e=0;e<t.dataSet.length;e++)t.dataSet[e].transform=null},o.prototype.undo=function(){this.runPrepend("undo",arguments)||(this.activeDrawing&&(this.activeDrawing.abort(),this.activeDrawing=null,a.clearCanvas(this.chart.tempCanvas,this),this.draw(),a.swapClassName(this.controls.crossX,"stx_crosshair","stx_crosshair_drawing"),a.swapClassName(this.controls.crossY,"stx_crosshair","stx_crosshair_drawing"),o.drawingLine=!1),this.runAppend("undo",arguments))},o.prototype.undoStamp=function(){this.undoStamps.push(a.shallowClone(this.drawingObjects))},o.prototype.undoLast=function(){this.activeDrawing?this.undo():this.undoStamps.length&&(this.drawingObjects=this.undoStamps.pop(),this.changeOccurred("vector"),this.draw())},o.prototype.addDrawing=function(t){this.undoStamp(),this.drawingObjects.push(t)},o.prototype.plotLine=function(t,e,n,i,r,o,s,l,u){if(u||(u={}),"none"!=u.pattern&&(l===!0&&(l=this.chart.panel),null!==s&&"undefined"!=typeof s||(s=this.chart.context),!(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i)))){var c=0,h=this.chart.canvasHeight,p=0,d=this.right;l&&(h=l.yAxis.bottom,c=l.yAxis.top,p=l.left,d=l.right);var f,g,m;if("ray"==o&&(f=1e7,e<t&&(f=-1e7),m={x0:t,x1:e,y0:n,y1:i},g=a.yIntersection(m,f),e=f,i=g),"line"==o||"horizontal"==o||"vertical"==o){f=1e7;var y=-1e7;m={x0:t,x1:e,y0:n,y1:i},g=a.yIntersection(m,f);var v=a.yIntersection(m,y);t=y,e=f,n=v,i=g}for(var S,T,b,x=0,M=1,w=e-t,A=i-n,C=0;C<4;C++){if(0===C&&(S=-w,T=-(p-t)),1==C&&(S=w,T=d-t),2==C&&(S=-A,T=-(c-n)),3==C&&(S=A,T=h-n),b=T/S,(i||0===i)&&0===S&&T<0)return!1;if(S<0){if(b>M)return!1;b>x&&(x=b)}else if(S>0){if(b<x)return!1;b<M&&(M=b)}}var k=t+x*w,D=n+x*A,$=t+M*w,P=n+M*A;if(i||0===i||n||0===n){if(!i&&0!==i){if(P=m.y0<m.y1?h:c,k=m.x0,$=m.x0,m.x0>d)return!1;if(m.x0<p)return!1}}else{if(D=c,P=h,k=m.x0,$=m.x0,m.x0>d)return!1;if(m.x0<p)return!1}s.lineWidth=1.1,"object"==typeof r?(s.strokeStyle=r.color,r.opacity?s.globalAlpha=r.opacity:s.globalAlpha=1,s.lineWidth=parseInt(a.stripPX(r.width))):!r||"auto"==r||a.isTransparent(r)?s.strokeStyle=this.defaultColor:s.strokeStyle=r,u.opacity&&(s.globalAlpha=u.opacity),u.lineWidth&&(s.lineWidth=u.lineWidth),"zig zag"==o&&(s.lineWidth=5);var E=null;u.pattern&&(E=u.pattern,"solid"==E?E=null:"dotted"==E?E=[s.lineWidth,s.lineWidth]:"dashed"==E&&(E=[5*s.lineWidth,5*s.lineWidth])),s.stxLine(k,D,$,P,s.strokeStyle,s.globalAlpha,s.lineWidth,E),s.globalAlpha=1,s.lineWidth=1}},o.prototype.connectTheDots=function(t,e,n,i,r,o){if(o||(o={}),"none"!=o.pattern&&(r===!0&&(r=this.chart.panel),null!==i&&"undefined"!=typeof i||(i=this.chart.context),!(t.length<4))){var s=0,l=this.chart.canvasHeight,u=0,c=this.chart.width;r&&(l=r.yAxis.bottom,s=r.yAxis.top),i.lineWidth=1.1,"object"==typeof e?(i.strokeStyle=e.color,e.opacity?i.globalAlpha=e.opacity:i.globalAlpha=1,i.lineWidth=parseInt(a.stripPX(e.width))):!e||"auto"==e||a.isTransparent(e)?i.strokeStyle=this.defaultColor:i.strokeStyle=e,o.opacity&&(i.globalAlpha=o.opacity),o.lineWidth&&(i.lineWidth=o.lineWidth);var h=null;o.pattern&&(h=o.pattern,"solid"==h?h=null:"dotted"==h?h=[i.lineWidth,i.lineWidth]:"dashed"==h&&(h=[5*i.lineWidth,5*i.lineWidth])),i.beginPath();for(var p=0;p<t.length-2;p+=2){var d=t[p],f=t[p+1],g=t[p+2],m=t[p+3];if(isNaN(d)||isNaN(g)||isNaN(f)||isNaN(m))return;for(var y,v,S,T=0,b=1,x=g-d,M=m-f,w=0;w<4;w++){if(0===w&&(y=-x,v=-(u-d)),1==w&&(y=x,v=c-d),2==w&&(y=-M,v=-(s-f)),3==w&&(y=M,v=l-f),S=v/y,(m||0===m)&&0===y&&v<0)return!1;if(y<0){if(S>b)return!1;S>T&&(T=S)}else if(y>0){if(S<T)return!1;S<b&&(b=S)}}var A=d+T*x,C=f+T*M,k=d+b*x,D=f+b*M;try{h?i.dashedLineTo(A,C,k,D,h):(i.moveTo(A,C),i.lineTo(k,D))}catch(t){}}i.stroke(),i.closePath(),i.globalAlpha=1,i.lineWidth=1}},o.prototype.plotSpline=function(t,e,i,r,o,s,l){if(l||(l={}),"none"!=l.pattern){s===!0&&(s=this.chart.panel),null!==o&&"undefined"!=typeof o||(o=this.chart.context),o.save(),o.lineWidth=1.1,"object"==typeof i?(o.strokeStyle=i.color,i.opacity?o.globalAlpha=i.opacity:o.globalAlpha=1,o.lineWidth=parseInt(a.stripPX(i.width))):!i||"auto"==i||a.isTransparent(i)?o.strokeStyle=this.defaultColor:o.strokeStyle=i,l.opacity&&(o.globalAlpha=l.opacity),l.lineWidth&&(o.lineWidth=l.lineWidth);var u=null;l.pattern&&(u=l.pattern,"solid"==u?u=null:"dotted"==u?u=[o.lineWidth,o.lineWidth]:"dashed"==u&&(u=[5*o.lineWidth,5*o.lineWidth])),u&&o.setLineDash&&(o.setLineDash(u),o.lineDashOffset=0),n(t,e,o),o.restore()}},o.prototype.drawingClick=function(t,e,n){if(!this.activeDrawing){if(!t)return;var i=o.drawingTools[this.currentVectorParameters.vectorType];if(i||a.Drawing[this.currentVectorParameters.vectorType]&&(i=a.Drawing[this.currentVectorParameters.vectorType],o.registerDrawingTool(this.currentVectorParameters.vectorType,i)),i&&(this.activeDrawing=new i,this.activeDrawing.construct(this,t),!this.charts[t.name]&&this.activeDrawing.chartsOnly))return void(this.activeDrawing=null)}if(this.activeDrawing){if(this.userPointerDown&&!this.activeDrawing.dragToDraw)return void(o.drawingLine||(this.activeDrawing=null));var r=this.tickFromPixel(e,t.chart),s=this.panels[this.activeDrawing.panelName],l=this.adjustIfNecessary(s,r,this.valueFromPixelUntransform(n,s));return this.preferences.magnet&&this.magnetizedPrice&&(l=this.adjustIfNecessary(s,r,this.magnetizedPrice)),this.activeDrawing.click(this.chart.tempCanvas.context,r,l)?this.activeDrawing&&(o.drawingLine=!1,a.clearCanvas(this.chart.tempCanvas,this),this.addDrawing(this.activeDrawing),this.activeDrawing=null,this.adjustDrawings(),this.draw(),this.changeOccurred("vector"),a.swapClassName(this.controls.crossX,"stx_crosshair","stx_crosshair_drawing"),a.swapClassName(this.controls.crossY,"stx_crosshair","stx_crosshair_drawing")):(this.changeOccurred("drawing"),o.drawingLine=!0,a.swapClassName(this.controls.crossX,"stx_crosshair_drawing","stx_crosshair"),a.swapClassName(this.controls.crossY,"stx_crosshair_drawing","stx_crosshair")),!0}return!1},o.prototype.whichPanel=function(t){for(var e in this.panels){var n=this.panels[e];if(!n.hidden&&t>n.top&&t<n.bottom)return n}return null},o.prototype.mouseup=function(t){if(!this.runPrepend("mouseup",arguments)){if(this.repositioningDrawing){if(!this.currentVectorParameters.vectorType||Date.now()-this.mouseTimer>250)return this.changeOccurred("vector"),a.clearCanvas(this.chart.tempCanvas,this),this.repositioningDrawing=null,this.adjustDrawings(),void this.draw();this.repositioningDrawing=!1}if(this.repositioningBaseline)return this.repositioningBaseline=null,this.chart.panel.yAxis.scroll=this.pixelFromPriceTransform(this.chart.baseline.userLevel,this.chart.panel)-(this.chart.panel.yAxis.top+this.chart.panel.yAxis.bottom)/2,void this.draw();var e=this.userPointerDown;if(this.userPointerDown=!1,this.displayInitialized){if(this.grabbingScreen=!1,""!==this.openDialog)return void(o.insideChart&&a.unappendClassName(this.container,"stx-drag-chart"));if(this.grabOverrideClick)return a.unappendClassName(this.container,"stx-drag-chart"),void(this.grabOverrideClick=!1);if(o.insideChart&&a.unappendClassName(this.container,"stx-drag-chart"),o.resizingPanel)return a.clearCanvas(this.chart.tempCanvas,this),this.resizePanels(),void(o.resizingPanel=null);if(t||(t=event),t.which&&t.which>=2||t.button&&t.button>=2)return!this.anyHighlighted||(this.rightClickHighlighted(),t.preventDefault&&t.preventDefault(),t.stopPropagation(),!1);if(!(t.clientX<this.left||t.clientX>this.right||t.clientY<this.top||t.clientY>this.bottom)){var n=this.backOutY(t.clientY),i=this.backOutX(t.clientX);e&&this.drawingClick(this.currentPanel,i,n),this.activeDrawing||this.callbacks.tap&&this.callbacks.tap({stx:this,panel:this.currentPanel,x:i,y:n}),this.runAppend("mouseup",arguments)}}}},o.prototype.grabbingHand=function(){this.allowScroll&&this.grabbingScreen&&(a.touchDevice||a.appendClassName(this.container,"stx-drag-chart"))},o.prototype.mousedown=function(t){if(!this.runPrepend("mousedown",arguments)&&(this.grabOverrideClick=!1,""===this.openDialog&&this.displayInitialized&&this.displayCrosshairs&&o.insideChart&&(this.manageTouchAndMouse&&t&&t.preventDefault&&t.preventDefault(),this.mouseTimer=Date.now(),this.userPointerDown=!0,t||(t=event),!(t.which&&t.which>=2||t.button&&t.button>=2)))){for(var e in this.panels){var n=this.panels[e];if(n.highlighted)return void(o.resizingPanel=n)}var i=this.currentPanel.chart;if(t.clientX>=this.left&&t.clientX<this.right&&t.clientY>=this.top&&t.clientY<=this.bottom){if(this.repositioningDrawing)return;for(var r=0;r<this.drawingObjects.length;r++){var a=this.drawingObjects[r];if(a.highlighted){if(this.ctrl){var s=o.drawingTools[a.name],l=new s;return l.reconstruct(this,a.serialize()),this.drawingObjects.push(l),this.repositioningDrawing=l,void(l.repositioner=a.repositioner)}return void(this.repositioningDrawing=a)}}if("baseline_delta"==this.layout.chartType&&i.baseline.userLevel!==!1){var u=this.valueFromPixelUntransform(this.cy-5,this.currentPanel),c=this.valueFromPixelUntransform(this.cy+5,this.currentPanel),h=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,10);if(i.baseline.actualLevel<u&&i.baseline.actualLevel>c&&this.cx>h)return void(this.repositioningBaseline={lastDraw:Date.now()})}if(this.drawingClick(this.currentPanel,this.cx,this.cy),this.activeDrawing&&this.activeDrawing.dragToDraw)return}this.grabbingScreen=!0,this.yToleranceBroken=!1,t||(t=event),this.grabStartX=t.clientX,this.grabStartY=t.clientY,this.grabStartScrollX=i.scroll,this.grabStartScrollY=i.panel.yAxis.scroll,this.grabStartCandleWidth=this.layout.candleWidth,this.grabStartZoom=this.whichYAxis(this.currentPanel).zoom,setTimeout(function(t){return function(){t.grabbingHand()}}(this),100),this.runAppend("mousedown",arguments)}},o.prototype.changeVectorType=function(t){this.currentVectorParameters.vectorType=t,o.drawingLine&&this.undo(),this.setCrosshairColors(),o.insideChart&&this.doDisplayCrosshairs()},o.prototype.rightClickOverlay=function(t){if(!this.runPrepend("rightClickOverlay",arguments)){var e=this.overlays[t];e.editFunction?e.editFunction():this.removeOverlay(t),this.runAppend("rightClickOverlay",arguments)}},o.prototype.removeOverlay=function(t){if(!this.runPrepend("removeOverlay",arguments)){var e;for(var n in this.overlays){var i=this.overlays[n];i.inputs.Field&&i.inputs.Field.indexOf(t)!=-1?this.removeOverlay(i.name):i.name==t&&(e=i)}var r=this.layout.studies[t];a.deleteRHS(a.Studies.studyPanelMap,r),e&&this.cleanupRemovedStudy(e),delete this.overlays[t],this.displaySticky(),this.createDataSet(),this.changeOccurred("layout"),this.runAppend("removeOverlay",arguments)}},o.prototype.addSeries=function(t,e,n){function i(n){for(var i=0,r=0;e.data&&i<n.masterData.length&&r<e.data.length;){var o=e.data[r],s=n.masterData[i];o.DT&&"undefined"!=typeof o.DT||(o.DT=a.strToDateTime(o.Date)),o.DT.getTime()!=s.DT.getTime()?o.DT<s.DT?r++:i++:("undefined"!=typeof o.Value?s[t]=o.Value:n.layout.adj&&"undefined"!=typeof o.Adj_Close?s[t]=o.Adj_Close:s[t]=o.Close,r++,i++)}}function r(e,n){if(n.parameters.color){var i=e.getSeriesRenderer("_generic_series");i||(i=e.setSeriesRenderer(new a.Renderer.Lines({params:{panel:n.parameters.panel,type:"legacy",name:"_generic_series",overChart:!0}}))),i.attachSeries(t,n.parameters).ready()}}if(!this.runPrepend("addSeries",arguments)){e||(e={}),e.chartName||(e.chartName=this.chart.name);var o={parameters:a.clone(e),yValueCache:[],display:t};"display"in o.parameters&&(o.display=o.parameters.display),o.parameters.isComparison&&(o.parameters.shareYAxis=!0),!o.parameters.chartType&&o.parameters.color&&(o.parameters.chartType="line"),o.parameters.chartType&&"mountain"!=o.parameters.chartType&&(o.parameters.chartType="line"),o.parameters.panel||(o.parameters.panel=this.chart.panel.name);var s=this.charts[e.chartName],l=this;s&&(s.series[t]=o),e.isComparison&&l.setComparison(!0,s);var u=!1;if(e.data)if(e.data.useDefaultQuoteFeed){var c=this.quoteDriver,h=c.makeParams(t,this.chart);h.startDate=this.chart.masterData[0].DT,h.endDate=this.chart.masterData[this.chart.masterData.length-1].DT,e.symbolObject&&(h.symbolObject=e.symbolObject),u=!0,c.quoteFeed.fetch(h,function(t){t.error||(e.data=t.quotes,i(l),r(l,o)),n&&n(t.error),l.runAppend("addSeries",arguments)})}else this.masterData&&i(this);else o.addSeriesData=i;return u||(r(l,o),n&&n(),this.runAppend("addSeries",arguments)),o}},o.prototype.removeSeries=function(t,e){if(!this.runPrepend("removeSeries",arguments)){e||(e=this.chart),delete e.series[t];var n=!1;for(var i in e.series)if(e.series[i].parameters.isComparison){n=!0;break}this.setComparison(n,e);for(var r in this.panels)if(0===this.panels[r].name.indexOf(a.Comparison.correlationPanel)){for(var o=this.layout.studies[this.panels[r].name].inputs["Compare To"],s=0;s<o.length;s++)o[s]==t&&o.splice(s,1);delete this.layout.studies[this.panels[r].name].outputs["Result "+t],delete this.layout.studies[this.panels[r].name].outputMap["Result "+t+" "+this.panels[r].name],o.length||this.panelClose(this.panels[r])}this.runAppend("removeSeries",arguments)}},o.prototype.rendererAction=function(t,e){if(!this.runPrepend("rendererAction",arguments)){for(var n in t.seriesRenderers){var i=t.seriesRenderers[n];i.params.overChart&&"underlay"==e||(i.params.overChart||"overlay"!=e)&&this.panels[i.params.panel]&&this.panels[i.params.panel].chart===t&&("calculate"==e?i.performCalculations():(i.draw(),i.cb&&i.cb(i.colors)))}this.runAppend("rendererAction",arguments)}},o.prototype.drawSeries=function(t,e,n){if(!this.runPrepend("drawSeries",arguments)){var i=t.dataSegment,r={},o=null;e||(e=t.series);for(var s in e){o=e[s];var l=o.parameters;if(l.chartType){var u=t.panel;if(l.panel&&(u=this.panels[l.panel]),u){var c=n?n:u.yAxis,h=[l.minimum,l.maximum];if(!l.minimum&&0!==l.minimum||!l.maximum&&0!==l.maximum){var p=a.minMax(i,s);l.minimum||0===l.minimum||(h[0]=p[0]),l.maximum||0===l.maximum||(h[1]=p[1])}var d=h[0],f=c.top,g=c.bottom,m=g-f,y=l.marginTop,v=l.marginBottom;y&&(f=y>1?f+y:f+m*y),v&&(g=v>1?g-v:g-m*v);var S=(g-f)/(h[1]-d),T=!1,b=null,x=null,M=null,w=null,A=null,C=null,k=this.layout.candleWidth,D=this.chart.context,$="step"==l.type||"step"==l.subtype,P=l.color;P||(P=this.defaultColor);var E=l.width;(!E||isNaN(E)||E<1)&&(E=1),(o.highlight||o.parameters.highlight)&&(E*=2),this.startClip(u.name),seriesPlotter=new a.Plotter,seriesPlotter.newSeries("line","stroke",P,1,E),l.gaps&&l.gaps.color?seriesPlotter.newSeries("gap","stroke",l.gaps.color,1,E):seriesPlotter.newSeries("gap","stroke",P,1,E),o.yValueCache=new Array(i.length);for(var O=o.yValueCache,_=null,L=null,N=[],X=o.parameters.shareYAxis&&!n,F=o.parameters.shareYAxis||n,I=u.left-($?1:.5)*k+this.micropixels-1,R=I,H=0;H<i.length;H++){I+=k/2,$&&(I+=k/2),k=this.layout.candleWidth,$||(I+=k/2),null!==M&&null!==w&&(L&&!l.gaps||N.push([M,w]));var z=i[H];if(z)if(z.candleWidth&&($||(I+=(z.candleWidth-k)/2),k=z.candleWidth),z.transform&&X&&(z=z.transform),x=z[s],x||0===x){if(!$&&b&&b!=H-1?(A=M,C=w):A=null,M=I,M<=u.right&&(_=z),this.extendLastTick&&H==i.length-1&&(M+=this.offset),$&&T&&(L&&l.gaps&&l.gaps.pattern?seriesPlotter.dashedLineTo("gap",M,w,l.gaps.pattern):L&&!l.gaps?(N.push([M,g]),seriesPlotter.moveTo("gap",M,w)):!L&&l.pattern?seriesPlotter.dashedLineTo("line",M,w,l.pattern):seriesPlotter.lineTo(L?"gap":"line",M,w),N.push([M,w])),w=F?this.pixelFromPrice(x,u,c):g-(x-d)*S,null!==A)for(var B={x0:A,x1:M,y0:C,y1:w};b!=H;b++){var W=u.left+Math.floor(I+(b-H+.5)*k)+this.micropixels-1,Y=a.yIntersection(B,W);O[b]=Y}if(O[H]=w,H&&N.length&&T&&!O[H-1]&&0!==O[H-1])for(var U=H-1;U>=0&&!O[U];U--)O[U]=N[N.length-1][1];if(T)L&&l.gaps&&l.gaps.pattern?seriesPlotter.dashedLineTo("gap",M,w,l.gaps.pattern):L&&!l.gaps?(N.push([M,g]),seriesPlotter.moveTo("gap",M,w)):!L&&l.pattern?(seriesPlotter.dashedLineTo("line",M,w,l.pattern),$&&H==i.length-1&&seriesPlotter.dashedLineTo("line",M+k,w,l.pattern)):(seriesPlotter.lineTo(L?"gap":"line",M,w),$&&H==i.length-1&&!L&&seriesPlotter.lineTo("line",M+k,w));else{T=!0;var V=t.dataSet.length-t.scroll;if(V<=0)seriesPlotter.moveTo(L?"gap":"line",M,w);else{var j=t.dataSet[V];j.transform&&X&&(j=j.transform);var q=j[s];q=F?this.pixelFromPrice(q,u,c):g-(q-d)*S,q=Math.min(Math.max(q,f),g),isNaN(q)?seriesPlotter.moveTo(L?"gap":"line",M,w):(seriesPlotter.moveTo(L?"gap":"line",R,q),$&&(L?l.gaps?seriesPlotter.lineTo("gap",M,q):seriesPlotter.moveTo("gap",M,q):seriesPlotter.lineTo("line",M,q)),L&&!l.gaps||($&&N.unshift([M,q]),N.unshift([R,q])),L&&l.gaps&&l.gaps.pattern?seriesPlotter.dashedLineTo("gap",M,w,l.gaps.pattern):L&&!l.gaps?(N.unshift([M,g]),N.unshift([R,g]),seriesPlotter.moveTo("gap",M,w)):!L&&l.pattern?seriesPlotter.dashedLineTo("line",M,w,l.pattern):seriesPlotter.lineTo(L?"gap":"line",M,w))}}b=H,L&&seriesPlotter.moveTo("line",M,w),L=!1}else($||l.gaps)&&(O[H]=w),L===!1&&($&&(M+=k,seriesPlotter.lineTo("line",M,w)),seriesPlotter.moveTo("gap",M,w)),L=!0,M&&!l.gaps&&N.push([M,g])}if(L&&(M=u.left+Math.floor(I+k+this.micropixels)-1,this.extendLastTick&&(M+=this.offset),l.gaps&&l.gaps.pattern?T&&seriesPlotter.dashedLineTo("gap",M,w,l.gaps.pattern):l.gaps&&seriesPlotter.lineTo("gap",M,w)),"mountain"==o.parameters.chartType&&N.length){N.push([M,L&&!l.gaps?g:w]),l.fillStyle||(l.fillStyle=P,l.fillOpacity||(l.fillOpacity=.3)),seriesPlotter.newSeries("mountain","fill",l.fillStyle,l.fillOpacity);for(var G=0;G<N.length;G++)seriesPlotter[G?"lineTo":"moveTo"]("mountain",N[G][0],Math.min(g,N[G][1]));seriesPlotter.lineTo("mountain",M,g),seriesPlotter.lineTo("mountain",N[0][0],g),seriesPlotter.draw(D,"mountain")}seriesPlotter.draw(D,"gap"),seriesPlotter.draw(D,"line"),this.endClip(),F&&_&&(c.priceFormatter?txt=c.priceFormatter(this,u,_[s],c):txt=this.formatYAxisPrice(_[s],u,null,c),this.yAxisLabels.push({src:"series",args:[u,txt,this.pixelFromPrice(_[s],u,c),P,null,null,c]}));var J=o.parameters.display;J||(J=o.display),r[s]={color:P,display:J}}}}t.legend&&o&&o.useChartLegend&&t.legendRenderer&&t.legendRenderer(this,{chart:t,legendColorMap:r,coordinates:{x:t.legend.x,y:t.legend.y+t.panel.yAxis.top}}),this.runAppend("drawSeries",arguments)}},o.prototype.isDailyInterval=function(t){return"day"==t||("week"==t||"month"==t)},o.prototype.setPeriodicityV2=function(t,e,n,i){if(!this.runPrepend("setPeriodicityV2",arguments)){"function"==typeof n&&(i=n,n=null);if(e){"year"==e&&(e="month",t||(t=1),t=12*t);var r=!1;if(this.chart.symbol){var a=this.isDailyInterval(e),o=this.isDailyInterval(this.layout.interval);a?n=null:"tick"==e?n=null:n||(n="minute"),(a!=o||this.dontRoll)&&(r=!0),o||this.layout.interval!=e&&(r=!0),n!=this.layout.timeUnit&&(r=!0)}if(r){if(this.layout.interval=e,this.layout.periodicity=t,this.layout.timeUnit=n,this.changeOccurred("layout"),this.quoteDriver){for(var s in this.charts)this.charts[s].symbol&&this.quoteDriver.newChart({symbol:this.charts[s].symbol,chart:this.charts[s]},i);return}return this.dataCallback?(this.dataCallback(),void(i&&i(null))):void console.log("cannot change periodicity because neither dataCallback or quoteDriver are set")}this.layout.interval=e}var l,u;for(l in this.charts){u=this.charts[l];var c,h=Math.round(u.maxTicks/2);this.setCandleWidth(this.layout.candleWidth,u);var p=!0,d=!1;if(u.scroll<u.maxTicks?p=!1:u.dataSegment&&!u.dataSegment[h]&&(p=!1,d=u.scroll-u.dataSet.length),p&&u.dataSegment&&u.dataSegment.length>0&&(u.maxTicks<(Math.round(this.chart.width/this.layout.candleWidth-.499)-1)/2&&(h=u.dataSegment.length-1),h>=u.dataSegment.length?(c=u.dataSegment[u.dataSegment.length-1].DT,h=u.dataSegment.length-1):c=u.dataSegment[h].DT),this.layout.periodicity=t,this.createDataSet(),p){if(u.dataSegment&&u.dataSegment.length>0)for(var f=u.dataSet.length-1;f>=0;f--){var g=u.dataSet[f].DT;if(g.getTime()<c.getTime()){u.scroll=u.dataSet.length-f+h;break}}}else if(d)u.scroll=u.dataSet.length+d;else{var m=Math.round(this.preferences.whitespace/this.layout.candleWidth);u.scroll=u.maxTicks-m}}if(this.displayInitialized&&this.draw(),this.changeOccurred("layout"),this.quoteDriver)for(l in this.charts)u=this.charts[l],u.symbol&&u.moreAvailable&&this.quoteDriver.checkLoadMore(u);i&&i(null),this.runAppend("setPeriodicityV2",arguments)}},o.prototype.drawVectors=function(){if(!this.vectorsShowing&&!this.runPrepend("drawVectors",arguments)){if(this.vectorsShowing=!0,!this.chart.hideDrawings){var t,e,n={};for(e=0;e<this.drawingObjects.length;e++){var i=this.drawingObjects[e];t=i.panelName,this.panels[i.panelName]&&(n[t]||(n[t]=[]),n[t].push(i))}for(t in n){this.startClip(t);var r=n[t];for(e=0;e<r.length;e++)r[e].render(this.chart.context);this.endClip()}}this.runAppend("drawVectors",arguments)}},o.prototype.consolidatedQuote=function(t,e,n,i,r,a,o){function s(e,n){var i=1;e.layout.adj&&t[n].Adj_Close&&(i=t[n].Adj_Close/t[n].Close),"High"in t[n]&&t[n].High*i>p.High&&(p.High=t[n].High*i),"Low"in t[n]&&t[n].Low*i<p.Low&&(p.Low=t[n].Low*i),p.Volume+=t[n].Volume,"Close"in t[n]&&null!==t[n].Close&&(p.Close=t[n].Close*i),p.ratio=i;for(var r in t[n])p[r]||(p[r]=t[n][r])}function l(e,n){var i=t[e-1].DT,r=t[e].DT;if("week"==n){if(r.getDay()<i.getDay())return!0}else if("month"==n){if(r.getMonth()!=i.getMonth())return!0}else if(r.getDay()!=i.getDay())return!0;return!1}function u(e,n,i,r,a){var s=r*i,l=new Date(t[e].DT);"millisecond"===a?l.setMilliseconds(l.getMilliseconds()+s):"second"===a?l.setSeconds(l.getSeconds()+s):l.setMinutes(l.getMinutes()+s);var u=t[n].DT;return!!(o&&t[e].DT.getMinutes()%s&&u.getMinutes()%s===0)||u.getTime()>=l.getTime()}if(e<0)return null;var c=[t,e,n,i,a,o];if(this.runPrepend("consolidatedQuote",c))return null;!a&&this.dontRoll&&(a=!0);var h,p=t[e],d=e;if("week"!=i&&"month"!=i||a)if(!this.isDailyInterval(i)&&"tick"!=i&&n>1)for(h=1;h<n;h++){if(d=e+h,d<t.length&&u(e,d,n,i,r)){d--;break}d>=0&&d<t.length&&s(this,d)}else for(h=1;h<n;h++)d=e+h,d>=0&&d<t.length&&s(this,d);else for(h=1;h<=n;h++){for(;d+1<t.length&&!l(d+1,i);)d++,s(this,d);h!=n&&(d++,d<t.length&&s(this,d))}for(h in this.plugins){var f=this.plugins[h];f.consolidate&&f.consolidate(t,e,d,p)}return this.runAppend("consolidatedQuote",c),{quote:p,position:d+1}},o.NONE=0,o.CLOSEUP=1,o.CLOSEDOWN=2,o.CLOSEEVEN=4,o.CANDLEUP=8,o.CANDLEDOWN=16,o.CANDLEEVEN=32,o.prototype.displayChart=function(t){var e=this.layout.candleWidth-t.tmpWidth<2&&t.tmpWidth<=3;if(!this.runPrepend("displayChart",arguments)){this.chart.baseLegendColors=[];var n=this.layout.chartType,i=null;t.customChart&&(t.customChart.chartType&&(n=t.customChart.chartType),t.customChart.colorFunction&&(i=t.customChart.colorFunction)),this.controls.baselineHandle.style.display="none";var r=t.panel;if("kagi"==this.layout.aggregationType)this.drawKagiSquareWave(r,"stx_kagi_up","stx_kagi_down"),this.chart.baseLegendColors.push(this.getCanvasColor("stx_kagi_up")),this.chart.baseLegendColors.push(this.getCanvasColor("stx_kagi_down"));else if("pandf"==this.layout.aggregationType)this.drawPointFigureChart(r,"stx_pandf_up","X"),this.chart.baseLegendColors.push(this.getCanvasColor("stx_pandf_up")),this.drawPointFigureChart(r,"stx_pandf_down","O"),this.chart.baseLegendColors.push(this.getCanvasColor("stx_pandf_down"));else if("line"==n)this.drawLineChart(r,"stx_line_chart");else if("mountain"==n)this.chart.baseLegendColors=null,this.drawMountainChart(r);else if("wave"==n)this.drawWaveChart(r);else if("bar"==n)this.startClip(r.name),this.drawBarChartHighPerformance(r,"stx_bar_chart"),this.endClip();else if("colored_line"==n){this.startClip(r.name);var s=this.getCanvasColor("stx_line_up"),l=this.getCanvasColor("stx_line_down"),u=this.getCanvasColor("stx_line_chart");i||(i=function(t,e,n){return e.Close>e.iqPrevClose?s:e.Close<e.iqPrevClose?l:u});var c=this.drawLineChart(r,"stx_line_chart",i);for(var h in c)this.chart.baseLegendColors.push(h);this.endClip()}else if("colored_bar"==n){if(this.startClip(r.name),i){var p=this.drawBarChart(r,"stx_bar_chart",i);for(var d in p)this.chart.baseLegendColors.push(d)}else this.drawBarChartHighPerformance(r,"stx_bar_up",o.CLOSEUP),this.drawBarChartHighPerformance(r,"stx_bar_down",o.CLOSEDOWN),this.drawBarChartHighPerformance(r,"stx_bar_even",o.CLOSEEVEN),this.chart.baseLegendColors.push(this.getCanvasColor("stx_bar_up")),this.chart.baseLegendColors.push(this.getCanvasColor("stx_bar_down"));this.endClip()}else if("hollow_candle"==n||"volume_candle"==n){if(this.startClip(r.name),i)this.noWicksOnCandles[this.layout.aggregationType]||this.drawShadows(r,i),this.drawCandles(r,i,!1),this.drawCandles(r,i,!0);else{this.noWicksOnCandles[this.layout.aggregationType]||(this.drawShadowsHighPerformance(r,"stx_hollow_candle_up",o.CLOSEUP),this.drawShadowsHighPerformance(r,"stx_hollow_candle_down",o.CLOSEDOWN),this.drawShadowsHighPerformance(r,"stx_hollow_candle_even",o.CLOSEEVEN));var f=this.getCanvasColor("stx_hollow_candle_up"),g=this.getCanvasColor("stx_hollow_candle_down"),m=this.getCanvasColor("stx_hollow_candle_even");this.drawCandlesHighPerformance(r,f,"transparent",o.CLOSEUP|o.CANDLEDOWN),this.drawCandlesHighPerformance(r,g,"transparent",o.CLOSEDOWN|o.CANDLEDOWN),this.drawCandlesHighPerformance(r,m,"transparent",o.CLOSEEVEN|o.CANDLEDOWN),this.drawCandlesHighPerformance(r,this.containerColor,f,o.CLOSEUP|o.CANDLEUP),this.drawCandlesHighPerformance(r,this.containerColor,g,o.CLOSEDOWN|o.CANDLEUP),this.drawCandlesHighPerformance(r,this.containerColor,m,o.CLOSEEVEN|o.CANDLEUP),this.chart.baseLegendColors.push(f),this.chart.baseLegendColors.push(g)}this.endClip()}else if("candle"==n){this.startClip(r.name);var y=this.getCanvasColor("stx_candle_shadow_up"),v=this.getCanvasColor("stx_candle_shadow_down"),S=y!=v;if(!i&&S){var T=this.getCanvasColor("stx_candle_shadow"),b=this.getCanvasColor("stx_candle_up"),x=this.getCanvasColor("stx_candle_down"),M=this.canvasStyle("stx_candle_up"),w=this.canvasStyle("stx_candle_down");i=function(t,e,n){if("shadow"==n){if(S){if(e.Close>e.Open)return y;if(e.Close<e.Open)return v}return T}if("solid"==n){if(e.Close>e.Open)return b;if(e.Close<e.Open)return x;if(e.Close==e.Open)return T}else if("outline"==n){var i;if(e.Close>e.Open)i=M;else{if(!(e.Close<e.Open))return null;i=w}var r=i["border-left-color"];return r||(r=i.borderLeftColor),r}return null}}if(i)this.noWicksOnCandles[this.layout.aggregationType]||this.drawShadows(r,i),this.drawCandles(r,i,!1),e||this.drawCandles(r,i,!0);else{this.noWicksOnCandles[this.layout.aggregationType]||this.drawShadowsHighPerformance(r,"stx_candle_shadow");var A=this.canvasStyle("stx_candle_up"),C=A["border-left-color"];C||(C=A.borderLeftColor),e&&(C=null),this.drawCandlesHighPerformance(r,this.getCanvasColor("stx_candle_up"),C,o.CANDLEUP),this.chart.baseLegendColors.push(A.color),A=this.canvasStyle("stx_candle_down"),C=A["border-left-color"],C||(C=A.borderLeftColor),e&&(C=null),this.drawCandlesHighPerformance(r,this.getCanvasColor("stx_candle_down"),C,o.CANDLEDOWN),this.chart.baseLegendColors.push(A.color)}this.endClip()}else if("baseline_delta"==n){this.startClip(r.name),this.setStyle("stx_baseline_trace","opacity",0),this.drawLineChart(r,"stx_baseline_trace");var k=t.baseline.actualLevel;if(null!==k){k=this.pixelFromPriceTransform(k,t.panel);var D={over:"stx_baseline_up",under:"stx_baseline_down"};for(var $ in D){var P={panelName:"chart",band:"Close",threshold:t.baseline.actualLevel,color:this.getCanvasColor(D[$]),direction:"over"==$?1:-1,edgeHighlight:this.getCanvasColor(D[$]),edgeParameters:{pattern:"solid",lineWidth:parseInt(this.canvasStyle(D[$]).width,10)+.1,opacity:1}},E=P.color;if(E&&"transparent"!=E){var O=t.context.createLinearGradient(0,"over"==$?0:2*k,0,k);O.addColorStop(0,a.hexToRgba(E,60)),O.addColorStop(1,a.hexToRgba(E,10)),P.color=O,P.opacity=1}a.Studies.preparePeakValleyFill(this,t.dataSegment,P),this.chart.baseLegendColors.push(E)}this.plotLine(0,1,k,k,this.containerColor,"line",t.context,!0,{pattern:"solid",lineWidth:"1.1",opacity:1}),this.plotLine(0,1,k,k,this.getCanvasColor("stx_baseline"),"line",t.context,!0,{pattern:"dotted",lineWidth:"2.1",opacity:.5}),this.chart.baseline.userLevel!==!1&&(this.controls.baselineHandle.style.top=k-parseInt(getComputedStyle(this.controls.baselineHandle).height,10)/2+"px",this.controls.baselineHandle.style.left=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,10)+"px",this.controls.baselineHandle.style.display="block")}this.endClip()}else"scatterplot"==n?(this.startClip(r.name),this.scatter(r),this.endClip()):this.chart.baseLegendColors=null;this.runAppend("displayChart",arguments)}},o.prototype.calculateATR=function(t,e){e||(e=20);for(var n=0,i=1;i<t.dataSet.length;i++){var r=t.dataSet[i],a=t.dataSet[i-1],o=Math.max(Math.max(r.High-r.Low,r.High-a.Close),a.Close-r.Low);n+=o,i>e&&(n-=t.dataSet[i-e].trueRange),r.trueRange=o,r.atr=n/e}},o.prototype.currentQuote=function(){if(!this.chart.dataSet)return null;for(var t=this.chart.dataSet.length-1;t>=0;t--)if(this.chart.dataSet[t])return this.chart.dataSet[t];return null},o.prototype.correctIfOffEdge=function(t){if(!this.runPrepend("correctIfOffEdge",arguments)){for(var e in this.charts){var n=this.charts[e],i=Math.round(n.maxTicks/3);if(i>n.dataSet.length&&(i=n.dataSet.length),n.allowScrollPast){var r=n.maxTicks-i;n.maxTicks-r>n.dataSet.length&&(r=n.maxTicks-n.dataSet.length),n.scroll-r>n.dataSet.length&&(n.scroll=n.dataSet.length+r),n.scroll<i&&(n.scroll=i,this.micropixels=-this.layout.candleWidth/2)}else n.scroll<i&&(n.scroll=i),n.scroll>n.dataSet.length&&(n.scroll=n.dataSet.length);this.preferences.whitespace=(n.maxTicks-n.scroll)*this.layout.candleWidth}this.runAppend("correctIfOffEdge",arguments)}},o.prototype.createDataSegment=function(t){if(!this.runPrepend("createDataSegment",arguments)){for(var e in this.charts){var n=this.charts[e];t&&(n=t),n.baseline.actualLevel=n.baseline.userLevel?n.baseline.userLevel:n.baseline.defaultLevel,
n.dataSegment=[];for(var i=n.dataSet.length-n.scroll-1,r=-1;r<n.scroll&&r<n.maxTicks;r++)i++,(r!=-1||n.baseline.includeInDataSegment)&&(i<n.dataSet.length&&i>=0?(n.dataSet[i].candleWidth&&(n.dataSet[i].candleWidth=null,n.dataSet[i].leftOffset=null),n.dataSegment.push(n.dataSet[i]),null===n.baseline.actualLevel&&r>=0&&(n.baseline.actualLevel=n.dataSet[i].iqPrevClose)):i<0&&n.dataSegment.push(null));if("volume_candle"==this.layout.chartType){for(var a=0,o=0;o<n.dataSegment.length;o++)n.dataSegment[o]&&(a+=n.dataSegment[o].Volume);for(var s=0,l=0;l<n.dataSegment.length;l++)if(n.dataSegment[l])if(n.dataSegment[l].Volume){var u=n.width;n.scroll<n.maxTicks&&(u-=this.preferences.whitespace),n.dataSegment[l].candleWidth=u*n.dataSegment[l].Volume/a,n.dataSegment[l].leftOffset=s+n.dataSegment[l].candleWidth/2,s+=n.dataSegment[l].candleWidth}else n.dataSegment[l].candleWidth=this.layout.candleWidth,n.dataSegment[l].leftOffset=s+this.layout.candleWidth/2,s+=this.layout.candleWidth;else s+=this.layout.candleWidth}if(t)break}this.runAppend("createDataSegment",arguments)}},o.prototype.leftTick=function(){return this.chart.dataSet.length-this.chart.scroll},o.prototype.getStartDateOffset=function(){for(var t=0;t<this.chart.dataSegment.length;t++)if(this.chart.dataSegment[t])return t;return 0},o.prototype.setStartDate=function(t){for(var e=0;e<this.chart.dataSet.length;e++){var n=this.chart.dataSet[e];if(n.DT.getTime()==t.getTime())return this.chart.scroll=this.chart.dataSet.length-e,void this.draw()}},o.prototype.updateListeners=function(t){for(var e in this.plugins){var n=this.plugins[e];n.display&&n.listener&&n.listener(this,t)}},o.prototype.clearPixelCache=function(){for(var t in this.panels){var e=this.panels[t];e.cacheHigh=null,e.cacheLow=null,e.cacheLeft=1e6,e.cacheRight=-1}for(var n in this.charts){var i=this.charts[n];if(i.dataSet)for(var r=0;r<i.dataSet.length;r++)i.dataSet[r].cache={}}},o.prototype.createYAxisLabel=function(t,e,n,i,r,o,s){if(t.yAxis.drawPriceLabels!==!1){var l=s?s:t.yAxis,u=o?o:this.chart.context,c=3,h=this.getCanvasFontSize("stx_yaxis")+2*c;this.canvasFont("stx_yaxis",u);var p,d=l.displayBorder||this.axisBorders,f=d?3:0;try{p=u.measureText(e).width+f+2*c}catch(t){p=l.width}var g=l.left-c+3,m=g+c+f,y=3,v=null===l.position?t.chart.yAxis.position:l.position;"left"===v&&(g=l.left+l.width+c-3,p*=-1,m=g,y=-3,u.textAlign="right"),n+h/2>l.bottom&&(n=l.bottom-h/2),n-h/2<l.top&&(n=l.top+h/2),u.fillStyle=i,"undefined"==typeof a[this.yaxisLabelStyle]&&(this.yaxisLabelStyle="roundRectArrow");var S=this.yaxisLabelStyle;l.yaxisLabelStyle&&(S=l.yaxisLabelStyle),a[S](u,g,n-h/2,p,h,y,!0,!1),u.textBaseline="middle",u.fillStyle=r?r:a.chooseForegroundColor(i),u.fillStyle==i&&("#FFFFFF"==i.toUpperCase()?u.fillStyle="#000000":u.fillStyle="#FFFFFF"),u.fillText(e,m,n+1),u.textAlign="left"}},o.prototype.createXAxisLabel=function(t,e,n,i,r,o){var s=this.chart.context,l=2,u="stx-float-date",c=this.getCanvasFontSize(u)+2*l;this.canvasFont(u,s);var h;try{h=s.measureText(e).width+2*l}catch(t){h=0}var p=t.top+t.height-c;if(n+h/2>t.right&&(n=t.right-h/2),n-h/2<t.left&&(n=t.left+h/2),s.fillStyle=i,a.roundRect(s,n-h/2,p,h,c,3,!0,!1),o){var d=t.bottom-t.yAxis.bottom-c;s.beginPath(),s.moveTo(n-d,p),s.lineTo(n,p-d),s.lineTo(n+d,p),s.closePath(),s.fill()}s.textBaseline="top",s.fillStyle=r?r:a.chooseForegroundColor(i),s.fillStyle==i&&("#FFFFFF"==i.toUpperCase()?s.fillStyle="#000000":s.fillStyle="#FFFFFF"),s.fillText(e,n-h/2+l,p+l)},o.prototype.drawCurrentHR=function(){if(!this.runPrepend("drawCurrentHR",arguments)){var t,e;for(var n in this.charts){var i=this.charts[n],r=i.panel,a=r.yAxis;if(a.drawCurrentPriceLabel!==!1&&(!i.customChart||"none"!=i.customChart.chartType)){var o=a.whichSet;o||(o="dataSet");var s=i[o].length;if("dataSegment"==o)for(;s>(i.width-this.micropixels+this.layout.candleWidth/2+1)/this.layout.candleWidth;)s--;if(s){var l=i[o][s-1],u=l.Close,c=l.Close;if(i.dataSet.length>=2){var h=i[o][s-2];u=h.Close}c<u?(t=this.canvasStyle("stx_current_hr_down").backgroundColor,e=this.canvasStyle("stx_current_hr_down").color):(t=this.canvasStyle("stx_current_hr_up").backgroundColor,e=this.canvasStyle("stx_current_hr_up").color),l.transform&&(l=l.transform);var p,d=Math.max(r.yAxis.printDecimalPlaces,r.chart.decimalPlaces);(a.maxDecimalPlaces||0===a.maxDecimalPlaces)&&(d=Math.min(d,a.maxDecimalPlaces)),p=a.priceFormatter?a.priceFormatter(this,r,l.Close,d):this.formatYAxisPrice(l.Close,r,d);var f=this.pixelFromPrice(l.Close,r);this.createYAxisLabel(r,p,f,t,e)}}}this.runAppend("drawCurrentHR",arguments)}},o.prototype.getDefaultColor=function(){this.defaultColor="#000000";for(var t=null,e=this.chart.container;!t||a.isTransparent(t);){var n=getComputedStyle(e);if(!n)return;if(t=n.backgroundColor,a.isTransparent(t)&&(t="transparent"),e=e.parentNode,!e||!e.tagName)break}if(t)if("transparent"==t&&(t="#FFFFFF"),this.containerColor=t,a.isTransparent(t))this.defaultColor="#000000";else{var i=a.hsv(t),r=i[2];r>.65?this.defaultColor="#000000":this.defaultColor="#FFFFFF"}else this.containerColor="#FFFFFF"},o.prototype.startAsyncAction=function(){this.pendingAsyncs||(this.pendingAsyncs=[]),this.pendingAsyncs.push(!0)},o.prototype.registerChartDrawnCallback=function(t){return this.asyncCallbacks||(this.asyncCallbacks=[]),this.asyncCallbacks.push(t),{fc:t}},o.prototype.unregisterChartDrawnCallback=function(t){for(var e=0;e<this.asyncCallbacks.length;e++)if(this.asyncCallbacks[e]==t.fc)return void this.asyncCallbacks.splice(e,1)},o.prototype.makeAsyncCallbacks=function(){if(this.asyncCallbacks&&(!this.pendingAsyncs||!this.pendingAsyncs.length))for(var t=0;t<this.asyncCallbacks.length;t++)this.asyncCallbacks[t]()},o.prototype.completeAsyncAction=function(){this.pendingAsyncs.pop(),this.makeAsyncCallbacks()},o.prototype.draw=function(){if(this.debug(),this.chart.canvas&&this.chart.dataSet&&this.chart.canvasHeight&&(this.useAnimation||!(new Date-this.grossDragging<500))&&(this.offset=this.layout.candleWidth*this.candleWidthPercent/2,a.clearCanvas(this.chart.canvas,this),!this.runPrepend("draw",arguments))){this.xaxisHeight||(this.xaxisHeight=this.getCanvasFontSize("stx_xaxis")+4,(this.chart.xAxis.displayBorder||this.axisBorders)&&(this.xaxisHeight+=3)),this.getDefaultColor(),this.vectorsShowing=!1,this.drawPanels(),this.yAxisLabels=[];var t,e,n,i;for(n in this.charts){e=this.charts[n],this.correctIfOffEdge(),this.createDataSegment();var r=this.createXAxis(e);this.initializeDisplay(e),this.rendererAction(e,"calculate"),this.renderYAxis(e),this.drawXAxis(e,r),e.tmpWidth=Math.floor(this.layout.candleWidth*this.candleWidthPercent),e.tmpWidth%2===0&&(e.tmpWidth+=1,e.tmpWidth>this.layout.candleWidth&&(e.tmpWidth-=2)),e.tmpWidth<.5&&(e.tmpWidth=.5);for(t in this.plugins)i=this.plugins[t],i.display&&i.drawUnder&&i.drawUnder(this,e);this.rendererAction(e,"underlay"),a.Studies.displayStudies(this,e,!0),this.displayChart(e),a.Studies.displayStudies(this,e,!1),this.rendererAction(e,"overlay")}for(n in this.charts){e=this.charts[n];for(t in this.plugins)i=this.plugins[t],i.display&&i.drawOver&&i.drawOver(this,e)}for(var o in this.panels)this.plotYAxisText(this.panels[o]);for(var s=0;s<this.yAxisLabels.length;s++)this.createYAxisLabel.apply(this,this.yAxisLabels[s].args);this.createCrosshairs(),this.drawVectors(),this.drawCurrentHR(),this.displayInitialized=!0,this.controls.home&&(this.chart.scroll-1>Math.ceil(this.chart.width/this.layout.candleWidth)?this.controls.home.style.display="block":this.controls.home.style.display="none"),this.positionMarkers();for(n in this.charts)e=this.charts[n],this.quoteDriver&&this.quoteDriver.checkLoadMore(e);this.runAppend("draw",arguments),this.makeAsyncCallbacks()}},o.prototype.adjustBackingStore=function(t,e){this.devicePixelRatio=window.devicePixelRatio||1,this.devicePixelRatio<1&&(this.devicePixelRatio=1),backingStoreRatio=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;var n=this.devicePixelRatio/backingStoreRatio;if(!a.isAndroid||a.is_chrome){var i=t.width,r=t.height;t.width=i*n,t.height=r*n,t.style.width=i+"px",t.style.height=r+"px",e.scale(n,n)}},o.prototype.resizeCanvas=function(){this.chart.panel||(this.chart.panel=this.panels.chart);var t=this.chart.canvas,e=this.chart.context;t&&e&&(this.chart.tempCanvas.height=t.height=this.chart.container.clientHeight,this.chart.tempCanvas.width=t.width=this.chart.container.clientWidth,this.adjustBackingStore(t,e),this.adjustBackingStore(this.chart.tempCanvas,this.chart.tempCanvas.context),this.floatCanvas.height=this.chart.container.clientHeight,this.floatCanvas.width=this.chart.container.clientWidth,this.adjustBackingStore(this.floatCanvas,this.floatCanvas.context));var n=this.container.getBoundingClientRect();this.top=n.top,this.left=n.left,this.canvasWidth=this.chart.canvasWidth=this.chart.container.clientWidth,this.right=this.left+this.canvasWidth,this.height=this.chart.container.clientHeight,this.width=this.right-this.left,this.bottom=this.top+this.height,this.calculateYAxisPositions(),this.chart.canvasRight=this.right,this.chart.canvasHeight=this.height;var i=this.layout.candleWidth;"undefined"==typeof i&&(i=8);for(var r in this.charts){var a=this.charts[r];if(this.layout.span)this.setCandleWidth(this.getSpanCandleWidth(this.layout.span),a);else if(this.setCandleWidth(i,a),a.scroll<a.width/i){a.scroll=Math.floor(a.width/i);var o=Math.round(this.preferences.whitespace/this.layout.candleWidth);a.scroll-=o}var s,l=10;try{s=2*e.measureText("10:00").width}catch(t){s=100}for(;l>1&&!(this.chart.width/s>l);)l/=1.5;a.xAxis.autoComputedTickSizePixels=Math.round(this.chart.width/l),a.xAxis.autoComputedTickSizePixels<1&&(a.xAxis.autoComputedTickSizePixels=1)}},o.prototype.setCandleWidth=function(t,e){e||(e=this.chart),t<=0&&(t=8),this.layout.candleWidth=t,e.maxTicks=Math.ceil(this.chart.width/t+.5)},o.prototype.resizeChart=function(t){t!==!1&&(t=!0),t&&this.preAdjustScroll();var e=this.chart.canvasHeight;this.resizeCanvas(),t&&this.postAdjustScroll(),this.adjustPanelPositions(),this.displayInitialized?this.draw():0!==this.chart.canvasHeight&&0===e&&this.draw()},o.prototype.calculateMinutesInSession=function(t){var e=60*(t.endHour-t.beginHour);e+=t.endMinute,e-=t.beginMinute,59==t.endMinute&&e++,t.minutesInSession=e},o.prototype.newChart=function(t,e,n,i,r){n||(n=this.chart),r||(r={}),r.periodicity&&(r.periodicity.interval&&(this.layout.interval=r.periodicity.interval),r.periodicity.period&&(this.layout.periodicity=r.periodicity.period),this.layout.timeUnit=r.periodicity.timeUnit);var o=n.symbol,s=a.clone(n.symbolObject);if(t?"object"==typeof t?(n.symbol=t.symbol,n.symbolObject=t):(n.symbol=t,n.symbolObject.symbol=t):(n.symbol=null,n.symbolObject={symbol:null}),null===n.endHour&&null===n.beginHour&&null===n.endMinute&&null===n.beginMinute||n.endHour+n.beginHour+n.endMinute+n.beginMinute===0||this.automaticMarketHours){var l=a.LegacyMarket.getHours(n.symbolObject.symbol,this.layout.extended);n.endHour=l.endHour,n.beginHour=l.beginHour,n.endMinute=l.endMinute,n.beginMinute=l.beginMinute,this.automaticMarketHours=!0}if(!e&&this.quoteDriver){var u=function(t){t&&(n.symbol=o,n.symbolObject=s),i&&i(t)};if(r.span&&r.span.multiplier&&r.span.base)this.setSpan({maintainPeriodicity:!0,multiplier:r.span.multiplier,span:r.span.base,symbol:n.symbol},u);else{var c=this;this.quoteDriver.newChart({symbol:n.symbol,chart:n,initializeChart:!0},function(){c.adjustPanelPositions(),u.apply(c,arguments)})}}else e||console.log("Warning: No masterData specified and no QuoteFeed configured"),n.symbol||(n.symbol=""),this.setMasterData(e,n),this.createDataSet(),this.initializeChart(),r.span&&r.span.multiplier&&r.span.base?this.setSpan({maintainPeriodicity:!0,multiplier:r.span.multiplier,span:r.span.base}):this.draw(),this.adjustPanelPositions(),i&&i()},o.prototype.setMasterData=function(t,e){e||(e=this.chart),this.calculateMinutesInSession(e),e.masterData=t,"chart"==e.name&&(this.masterData=t);var n;for(n=0;t&&n<t.length;n++){var i=t[n];i.DT?(i.DT=new Date(i.DT),i.Date=a.yyyymmddhhmmssmmm(i.DT)):i.Date?i.DT=a.strToDateTime(i.Date):console.log("setMasterData : Missing DT and Date on masterData object"),i.Volume&&(i.Volume=parseInt(i.Volume,10)),i.Close&&"number"==typeof i.Close||console.log("setMasterData : Close is missing or not a number. Use parseFloat() if your data server provides strings. Value = "+i.Close),null===i.High&&delete i.High,null===i.Low&&delete i.Low,null===i.Open&&delete i.Open}e.decimalPlaces=this.callbacks.calculateTradingDecimalPlaces({stx:this,chart:e,symbol:e.symbolObject.symbol,symbolObject:e.symbolObject}),o.isDailyInterval(this.layout.interval)||this.setDisplayDates(t),this.chart.roundit=Math.pow(10,e.decimalPlaces);for(n in this.plugins){var r=this.plugins[n];r.display&&r.setMasterData&&r.setMasterData(this,e)}for(var s in this.chart.series){var l=this.chart.series[s];l.addSeriesData&&l.addSeriesData(this)}},o.prototype.setDisplayDate=function(t){var e,n=t.DT,i=1e3*n.getSeconds()+n.getMilliseconds();this.dataZone&&(e=new r.Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),this.dataZone),n=new Date(e.getTime()+i)),this.displayZone&&(e=new r.Date(n.getTime(),this.displayZone),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()),n=new Date(n.getTime()+i)),t.displayDate=n},o.prototype.setDisplayDates=function(t){if(t)for(var e=0;e<t.length;e++){var n=t[e];n.DT&&this.setDisplayDate(n)}},o.prototype.streamTrade=function(t,e,n,i){var r=this.chart;i||(i={}),i.chart&&(r=i.chart);var o=null,s=null,l=null,u=0;"object"==typeof t?(o=t.last,s=t.bid,l=t.ask,u=t.volume):(o=arguments[0],u=arguments[1],e=arguments[2],n=arguments[3]);var c=r.masterData;if(e)e=new Date(e);else if(e=new Date,this.dataZone){var h=a.convertTimeZone(e,null,this.dataZone);e=new Date(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds())}"second"==this.layout.timeUnit?e.setMilliseconds(0):"minute"==this.layout.timeUnit&&(e.setMilliseconds(0),e.setSeconds(0));var p;if(c&&c.length&&"tick"!=this.layout.interval){p=a.clone(c[c.length-1]);var d=this.getNextInterval(p.DT,null,this.dataZone);if(e<d){n?(o||0===o)&&(p[n]=o):((o||0===o)&&(p.Close=o,o>p.High&&(p.High=o),o<p.Low&&(p.Low=o)),u&&(p.Volume+=u),(s||0===s)&&(p.Bid=s),(l||0===l)&&(p.Ask=l));var f=a.clone(i);this.appendMasterData([p],r,f)}else{for(var g=this.getNextInterval(d,null,this.dataZone),m=[];g<e;){var y={Date:a.yyyymmddhhmmssmmm(d),DT:d,Close:p.Close,Open:p.Close,High:p.Close,Low:p.Close,Volume:0,Bid:p.Bid,Ask:p.Ask};m.push(y),d=g,g=this.getNextInterval(d,null,this.dataZone)}p={Date:a.yyyymmddhhmmssmmm(d),DT:d,Open:o,Close:o,High:o,Low:o,Volume:u,Bid:s,Ask:l},m.push(p),this.appendMasterData(m,r,i)}}else p={Date:a.yyyymmddhhmmssmmm(e),DT:e,Open:o,Close:o,High:o,Low:o,Volume:u,Bid:s,Ask:l},this.appendMasterData([p],r,i)},o.prototype.appendMasterData=function(t,e,n){if(n||(n={}),e||(e=this.chart),t.constructor==Object&&(t=[t]),!this.runPrepend("appendMasterData",[t,e,n])&&t&&t.length){var i=t[0].DT;i||(i=a.strToDateTime(t[0].Date));var r,s=e.masterData;if(s&&s.length){for(r=s.length-1;r>=0;){var l=s[r].DT;if(l||(l=a.strToDateTime(s[r].Date)),l.getTime()<=i.getTime()){var u=0;l.getTime()<i.getTime()&&(u=1);for(var c=0;c<t.length;c++){if(!u){"undefined"!=typeof s[r+c]&&(!t[c].Volume&&s[r+c].Volume&&(t[c].Volume=s[r+c].Volume),n.allowReplaceOHL||(s[r+c].Open&&(t[c].Open=s[r+c].Open),s[r+c].High>t[c].High&&(t[c].High=s[r+c].High),s[r+c].Low&&s[r+c].Low<t[c].Low&&(t[c].Low=s[r+c].Low)));for(var h in this.chart.series)"undefined"==typeof t[c][h]&&"undefined"!=typeof s[r+c]&&(t[c][h]=s[r+c][h]);for(var p in this.panels)if(this.panels[p].studyQuotes)for(var d in this.panels[p].studyQuotes)this.panels[p].studyQuotes[d]&&"undefined"==typeof t[c][d]&&"undefined"!=typeof s[r+c]&&(t[c][d]=s[r+c][d])}s[r+c+u]=t[c],s[r+c+u].DT?s[r+c+u].Date=a.yyyymmddhhmmssmmm(s[r+c+u].DT):s[r+c+u].DT=a.strToDateTime(s[r+c+u].Date),s[r+c+u].Volume&&"number"!=typeof s[r+c+u].Volume&&(s[r+c+u].Volume=parseInt(s[r+c+u].Volume,10)),o.isDailyInterval(this.layout.interval)||this.setDisplayDate(this.masterData[r+c+u]),e.scroll>e.maxTicks+1&&u&&(e.scroll++,this.grabStartScrollX++)}break}r--}for(r in this.plugins){var f=this.plugins[r];f.display&&f.appendMasterData&&f.appendMasterData(this,t,e)}}else for(s=e.masterData=a.clone(t),r=0;r<s.length;r++)s[r].DT?s[r].Date=a.yyyymmddhhmmssmmm(s[r].DT):s[r].DT=a.strToDateTime(s[r].Date),s[r].Volume&&"number"!=typeof s[r].Volume&&(s[r].Volume=parseInt(s[r].Volume,10)),o.isDailyInterval(this.layout.interval)||this.setDisplayDate(s[r]);if(this.masterData&&this.masterData.length||(this.masterData=s),!n.noCreateDataSet){var g=this.streamParameters;if(++g.count>g.maxTicks||n.bypassGovernor)clearTimeout(g.timeout),this.createDataSet(),this.draw(),this.updateChartAccessories(),g.count=0,g.timeout=-1;else{var m=this;g.timeout==-1&&(g.timeout=setTimeout(function(){m.createDataSet(),m.draw(),m.updateChartAccessories(),m.streamParameters.count=0,m.streamParameters.timeout=-1},g.maxWait))}}this.runAppend("appendMasterData",arguments)}},o.prototype.displayAll=function(t,e){function n(){r.masterData.length&&(a.setRange({dtLeft:new Date(1),dtRight:r.masterData[r.masterData.length-1].DT}),e&&e())}function i(){a.quoteDriver.loadAll(r,n)}var r=this.chart;t&&t.chart&&(r=t.chart);var a=this;return this.quoteDriver?void(this.dontRoll&&"month"!=this.layout.interval?this.setPeriodicityV2(1,"month",i):o.isDailyInterval(this.layout.interval)?r.moreAvailable?i():n():this.setPeriodicityV2(1,"day",i)):void n()},o.prototype.setRange=function(t,e){function n(){var n,i=s.dataSet.length-1;if(t.dtRight){for(u=t.dtRight.getTime();i>=0&&(n=s.dataSet[i],!(n.DT.getTime()<=u));i--);if(i==s.dataSet.length-1&&t.goIntoFuture)for(var r=s.dataSet[s.dataSet.length-1].DT,a=0;a<2e4&&!(r.getTime()>=u);a++)i++,r=c.getNextInterval(r,c.layout.periodicity,c.dataZone)}if(!(i<0)){for(var o=i;o>=0&&(o>=s.dataSet.length||(n=s.dataSet[o],!(n.DT.getTime()<l)));o--);var h=i-o;if(h<1)return void(e&&e());c.setCandleWidth((c.chart.width-t.padding)/h,s),s.scroll=s.dataSet.length-i+Math.floor((c.chart.width-t.padding)/c.layout.candleWidth),c.preferences.whitespace=(s.maxTicks-s.scroll)*c.layout.candleWidth,c.draw(),c.changeOccurred("layout"),e&&e()}}function i(){return h++,h>10?(console.log("STXChart.setRange(): Too many loads (10) from server. Stopping. Check periodicity logic."),void n()):void(s.moreAvailable&&s.masterData[0].DT.getTime()>l?c.quoteDriver.checkLoadMore(s,!0,!1,function(t){t||i()}):n())}function r(t,e,n,i,r){var s=0,l=t-e;if(o.isDailyInterval(n))if("month"!=n&&"week"!=n||!r)s=l/a.DAY/i;else{var u="week"==n?7:30;s=l/(a.DAY*u)/i}else s=isNaN(n)?"millisecond"==n?l/i:"second"==n?l/a.SECOND/i:"hour"==n?l/a.HOUR/i:l/a.MINUTE/i:l/(a.MINUTE*n)/i;return Math.round(s)}a.isEmpty(t)&&(t={dtLeft:arguments[0],dtRight:arguments[1],padding:arguments[2],chart:arguments[3],goIntoFuture:!1},e=arguments[4]),t.chart||(t.chart=this.chart),"undefined"==typeof t.padding&&(t.padding=this.preferences.whitespace);var s=t.chart,l=t.dtLeft.getTime(),u=Date.now();t.dtRight&&(u=t.dtRight.getTime());var c=this,h=0;if(this.quoteDriver){var p,d,f;if(t.periodicity)p=t.periodicity.interval,f=t.periodicity.timeUnit,d=t.periodicity.period;else{this.rangePeriodicityMap||(this.rangePeriodicityMap=[],this.rangePeriodicityMap.push({range:a.WEEK,periodicity:1,interval:5}),this.rangePeriodicityMap.push({range:a.MONTH,periodicity:1,interval:30}),this.rangePeriodicityMap.push({range:7*a.MONTH,periodicity:1,interval:"day"}),this.rangePeriodicityMap.push({range:a.DECADE,periodicity:1,interval:"day"}),this.rangePeriodicityMap.push({range:10*a.DECADE,periodicity:1,interval:"month"}),this.rangePeriodicityMap.push({range:Number.MAX_VALUE,periodicity:12,interval:"month"}));for(var g=t.rangePeriodicityMap?t.rangePeriodicityMap:this.rangePeriodicityMap,m=u-l,y=null,v=0;v<g.length;v++){var S=g[v];if(m<=S.range){y=S;break}}p=y.interval,d=y.periodicity,f=y.timeUnit}if(this.chart.scroll=this.chart.maxTicks=r(u,l,p,d,this.dontRoll),this.layout.candleWidth=this.chart.width/this.chart.maxTicks,this.chart.masterData&&this.layout.interval==p&&this.layout.periodicity==d&&this.layout.timeUnit==f)i();else{this.layout.interval=p,this.layout.periodicity=d,this.layout.timeUnit=f,this.layout.timeUnit||(o.isDailyInterval(this.layout.interval)?this.layout.timeUnit=null:"second"==this.layout.interval?this.layout.timeUnit="second":this.layout.timeUnit="minute");var T={symbol:s.symbol,chart:s};this.displayInitialized||(T.initializeChart=!0),this.quoteDriver.newChart(T,i)}}else n()},o.prototype.setSpan=function(t,e){var n=arguments[0],i=arguments[1],r=arguments[2],s=arguments[3],l=arguments[4];"object"==typeof t?(n=t.multiplier?t.multiplier:t.period,i=t.span?t.span:t.interval,r=t.padding,s=t.chart,l=t.useMarketTZ):(t={period:n,interval:i,padding:r,chart:s,useMarketTZ:l},e=arguments[5]),t.padding||(t.padding=0),s||(s=this.chart);var u,c=new Date;if(u=a.LegacyMarket.isForexFuturesSymbol(s.symbol)?a.LegacyMarket.isForexOpen(c,s.symbol):a.LegacyMarket.isMarketOpen(s.symbol,this),u||(c=a.LegacyMarket.getPreviousClose(c,s.symbol,this.dataZone,this)),"ytd"==i.toLowerCase())c=new Date,c.setMonth(0),c.setDate(1),c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0);else if("year"==i.toLowerCase())c.setFullYear(c.getFullYear()-n);else if("month"==i.toLowerCase())c.setMonth(c.getMonth()-n);else if("day"==i.toLowerCase()||"today"==i.toLowerCase())if("day"==i.toLowerCase()&&o.isDailyInterval(this.layout.interval))l?c=a.LegacyMarket.prevDay(c,n-1,this):c.setDate(c.getDate()-n+1),c.setHours(0,0,0,0);else{if(l&&s.dataSet[s.dataSet.length-1].displayDate){var h=a.LegacyMarket.getDailyCycleStartTime(c,s);h.getTime()>c.getTime()&&(h=a.LegacyMarket.prevDay(h,1,this)),c.setTime(h.getTime())}else c.setHours(0,0,0,0);for(var p=0;p<n-1;p++)c=a.LegacyMarket.prevDay(c,1,this)}else if("week"==i.toLowerCase())c.setDate(c.getDate()-7*n);else if("hour"==i.toLowerCase())c.setHours(c.getHours()-n);else if("minute"==i.toLowerCase())c.setMinutes(c.getMinutes()-n);else if("second"==i.toLowerCase())c.setSeconds(c.getSeconds()-n);else if("all"==i.toLowerCase())return void this.displayAll(t,e);var d=a.shallowClone(t);d.dtLeft=c,"today"==i.toLowerCase()&&(d.goIntoFuture=!0,d.dtRight=new Date(d.dtLeft),d.dtRight.setHours(s.endHour),d.dtRight.setMinutes(s.endMinute),d.dtRight.setSeconds(0)),t.maintainPeriodicity&&(d.periodicity={},d.periodicity.interval=this.layout.interval,d.periodicity.period=this.layout.periodicity),this.setRange(d,e)},o.prototype.getSpanCandleWidth=function(t){var e=t.split(",");if(!(e.length<2)){var n=parseFloat(e[0]),i=new Date,r=new Date;"year"==e[1]?r.setFullYear(r.getFullYear()-n):"month"==e[1]?r.setMonth(r.getMonth()-n):"day"==e[1]?r.setDate(r.getDate()-n):"week"==e[1]&&r.setDate(r.getDate()-7*n);var a=(i.getTime()-r.getTime())/1e3/60/60/24;a=5*a/7;var o=this.chart.width/a;return o}},o.prototype.setMaxTicks=function(t,e){e||(e={}),t=Math.round(t),t<2&&(t=2);var n=e.padding;n||(n=0),this.layout.candleWidth=(this.chart.width-n)/t,this.layout.candleWidth||(this.layout.candleWidth=8),this.chart.maxTicks=Math.round(this.chart.width/this.layout.candleWidth-.499),(e.padding||0===e.padding)&&(this.chart.scroll=t+1)},o.prototype.construct=function(){this.stackPanel("chart","chart",1),this.adjustPanelPositions(),this.chart.panel=this.panels[this.chart.name],this.cx=0,this.cy=0,this.micropixels=0,this.chart.panel.subholder.appendChild(this.controls.home)},o.prototype.deleteYAxisIfUnused=function(t,e){if(e&&e!==t.yAxis){for(var n in this.chart.seriesRenderers){var i=this.chart.seriesRenderers[n];if(i.params.yAxis===e&&0!==i.seriesParams.length)return}var r;for(r=0;r<t.yaxisLHS.length;r++)t.yaxisLHS[r]===e&&t.yaxisLHS.splice(r,1);for(r=1;r<t.yaxisRHS.length;r++)t.yaxisRHS[r]===e&&t.yaxisRHS.splice(r,1);this.resizeCanvas(),this.adjustPanelPositions()}},o.prototype.addYAxis=function(t,e){if(e){t.yaxisLHS||(t.yaxisLHS=[],t.yaxisRHS=[],"right"==t.yAxis.position?t.yaxisRHS.push(t.yAxis):t.yaxisLHS.push(t.yAxis));for(var n=t.yaxisLHS.concat(t.yaxisRHS),i=0;i<n.length;i++)if(n[i]===e)return;"left"===e.position?t.yaxisLHS.unshift(e):(e.position="right",t.yaxisRHS.push(e)),this.preAdjustScroll(),this.resizeCanvas(),this.adjustPanelPositions(),this.postAdjustScroll()}},o.prototype.calculateYAxisPositions=function(){var t=[];for(var e in this.charts)t.push(e);for(var n in this.panels){var i=this.panels[n];i.name!==i.chart.name&&t.push(n)}for(var r=0;r<t.length;r++){var a=this.panels[t[r]];if(a){var o=a.name===a.chart.name;if(!a.yaxisLHS)if(a.yaxisLHS=[],a.yaxisRHS=[],a.name===a.chart.name||a.yAxis.position)"left"==a.yAxis.position?a.yaxisLHS.push(a.yAxis):a.yaxisRHS.push(a.yAxis);else{var s=a.chart.panel.yAxis.position;s&&"right"!=s?a.yaxisLHS.push(a.yAxis):a.yaxisRHS.push(a.yAxis)}a.yAxis.width||(a.yAxis.width=this.yaxisWidth),a.yaxisTotalWidthRight=0;var l,u;for(a.yaxisTotalWidthLeft=0,l=0;l<a.yaxisLHS.length;l++)u=a.yaxisLHS[l],a.yaxisTotalWidthLeft+=u.width,u.justifyRight=null===u.justifyRight?a.chart.yAxis.justifyRight:u.justifyRight,null===u.justifyRight&&(u.justifyRight=!0);for(l=0;l<a.yaxisRHS.length;l++)u=a.yaxisRHS[l],a.yaxisTotalWidthRight+=u.width;var c=0;for(l=0;l<a.yaxisLHS.length;l++)u=a.yaxisLHS[l],u.left=c,c+=u.width;for(c=this.width-a.yaxisTotalWidthRight,l=0;l<a.yaxisRHS.length;l++)u=a.yaxisRHS[l],u.left=c,c+=u.width;"undefined"!=typeof this.yaxisLeft&&(a.yaxisPaddingRight=this.yaxisLeft),a.yaxisCalculatedPaddingRight=a.yaxisTotalWidthRight,(a.yaxisPaddingRight||0===a.yaxisPaddingRight)&&(a.yaxisCalculatedPaddingRight=a.yaxisPaddingRight),a.yaxisCalculatedPaddingLeft=a.yaxisTotalWidthLeft,(a.yaxisPaddingLeft||0===a.yaxisPaddingLeft)&&(a.yaxisCalculatedPaddingLeft=a.yaxisPaddingLeft),o?(a.left=a.yaxisCalculatedPaddingLeft,a.right=this.width-a.yaxisCalculatedPaddingRight):(a.left=a.chart.panel.left,a.right=a.chart.panel.right),a.width=a.right-a.left,o&&(a.chart.left=a.left,a.chart.right=a.right,a.chart.width=a.right-a.left)}}},o.prototype.initializeChart=function(t){if(!this.runPrepend("initializeChart",arguments)){if(this.chart.symbolObject.symbol||(this.chart.symbolObject.symbol=this.chart.symbol),this.locale&&this.setLocale(this.locale),!this.displayZone&&o.defaultDisplayTimeZone&&this.setTimeZone(null,o.defaultDisplayTimeZone),this.calculateYAxisPositions(),this.micropixels=0,t&&(this.chart.container=t),this.chart.container.stx=this,this.chart.container.STXRegistered||(this.chart.container.STXRegistered=!0,o.registeredContainers.push(this.chart.container)),a.isSurface&&(this.gesture||(this.gesture=new MSGesture,this.manageTouchAndMouse?this.gesture.target=this.chart.container:this.gesture.target=document.body,this.gesturePointerId=null)),this.registerHTMLElements(),this.chart.canvas&&document.createElement("canvas").getContext?(this.chart.canvas.id||(this.chart.container.removeChild(this.chart.canvas),this.chart.canvas=null),this.chart.tempCanvas&&!this.chart.tempCanvas.id&&(this.chart.container.removeChild(this.chart.tempCanvas),this.chart.tempCanvas=null),this.floatCanvas&&!this.floatCanvas.id&&(this.chart.container.removeChild(this.floatCanvas),this.floatCanvas=null)):(this.layout.candleWidth<this.minimumCandleWidth||this.layout.candleWidth>50)&&(this.layout.candleWidth=8),this.chart.canvas||(this.chart.canvas=document.createElement("canvas")),this.chart.canvas.getContext?this.chart.container.appendChild(this.chart.canvas):(this.chart.canvas=this.chart.container.querySelectorAll("#ie8canvas")[0],this.chart.canvas.getContext||window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.chart.canvas),this.chart.canvas.style.display="block"),this.chart.canvas.style.position="absolute",this.chart.canvas.style.left="0px",this.chart.context=this.chart.canvas.getContext("2d"),this.chart.canvas.context=this.chart.context,this.chart.context.lineWidth=1,this.chart.tempCanvas||(this.chart.tempCanvas=document.createElement("canvas")),this.chart.tempCanvas.getContext?this.chart.container.appendChild(this.chart.tempCanvas):(this.chart.tempCanvas=this.chart.container.querySelectorAll("#ie8canvasTemp")[0],this.chart.tempCanvas.getContext||window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.chart.tempCanvas),this.chart.tempCanvas.style.display="block"),this.chart.tempCanvas.style.position="absolute",this.chart.tempCanvas.style.left="0px",this.chart.tempCanvas.context=this.chart.tempCanvas.getContext("2d"),this.chart.tempCanvas.context.lineWidth=1,this.floatCanvas||(this.floatCanvas=document.createElement("canvas")),this.floatCanvas.getContext?this.chart.container.appendChild(this.floatCanvas):(this.floatCanvas=this.chart.container.querySelectorAll("#ie8canvasFloat")[0],this.floatCanvas.getContext||window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.chart.tempCanvas),this.floatCanvas.style.display="block"),this.floatCanvas.style.position="absolute",this.floatCanvas.style.left="0px",this.floatCanvas.context=this.floatCanvas.getContext("2d"),this.floatCanvas.context.lineWidth=1,this.resizeCanvas(),a.isAndroid&&(this.chart.tempCanvas.ontouchstart=function(t){t.preventDefault&&t.preventDefault()},this.floatCanvas.ontouchstart=function(t){t.preventDefault&&t.preventDefault()}),this.panels.chart.display=this.chart.symbol,this.chart.symbolDisplay&&(this.panels.chart.display=this.chart.symbolDisplay),this.adjustPanelPositions(),this.chart.panel=this.panels[this.chart.name],this.calculateYAxisMargins(this.chart.panel.yAxis),this.chart.dataSet&&this.chart.dataSet.length>0){this.chart.scroll=Math.floor(this.chart.width/this.layout.candleWidth);var e=Math.round(this.preferences.whitespace/this.layout.candleWidth);this.chart.scroll-=e}if(a.touchDevice){var n=this.chart.container.querySelectorAll("#overlayTrashCan")[0],i=this.chart.container.querySelectorAll("#vectorTrashCan")[0];n&&(n.onmspointerup=n.ontouchend=function(t){return function(e){t.deleteHighlighted(!0)}}(this)),i&&(i.onmspointerup=i.ontouchend=function(t){return function(e){t.deleteHighlighted(!0)}}(this))}this.manageTouchAndMouse&&this.registerTouchAndMouseEvents(),this.chart.container.onmouseout=function(t){return function(e){t.handleMouseOut(e)}}(this),this.controls.chartControls&&(this.controls.chartControls.style.display="block"),this.abortDrawings(),this.undoStamps=[];for(var r in this.panels){var s=this.panels[r];s.markerHolder&&(this.chart.container.removeChild(s.markerHolder),s.markerHolder=null)}for(var l in this.plugins){var u=this.plugins[l];u.display&&u.initializeChart&&u.initializeChart(this)}if(!this.resizeListenerInitialized){this.resizeListenerInitialized=!0;var c=function(t){return function(e){t.resizeChart()}};if(window.attachEvent)window.attachEvent("onresize",c(this));else{var h=c(this);window.addEventListener("resize",h,!0),this.eventListeners.push({element:window,event:"resize",function:h})}}this.chart.baseline.userLevel&&(this.chart.baseline.userLevel=null),this.setResizeTimer(this.resizeDetectMS),this.runAppend("initializeChart",arguments)}},o.prototype.destroy=function(){this.setResizeTimer(0),this.quoteDriver&&this.quoteDriver.die(),this.styles={};for(var t=0;t<this.eventListeners.length;t++){var e=this.eventListeners[t];e.element.removeEventListener(e.event,e.function)}},o.prototype.handleMouseOut=function(t){if(t=t||window.event,!a.withinElement(this.chart.container,t.pageX,t.pageY)){if(this.runPrepend("handleMouseOut",arguments))return;if(this.undisplayCrosshairs(),this.grabbingScreen=!1,this.touches=[],this.touching=!1,this.activeDrawing&&this.userPointerDown){this.userPointerDown=!1,this.drawingLine=!1;var e=this.backOutY(t.pageY),n=this.backOutX(t.pageX);this.drawingClick(this.currentPanel,n,e)}o.insideChart=!1,this.displaySticky(),this.runAppend("handleMouseOut",arguments)}},o.prototype.registerTouchAndMouseEvents=function(){if(!this.touchAndMouseEventsRegistered){this.touchAndMouseEventsRegistered=!0;
var t=this.chart.container,e=(l("#home",this.controls.chartControls),l("#zoomIn",this.controls.chartControls)),n=l("#zoomOut",this.controls.chartControls);a.touchDevice?a.isSurface?(t.addEventListener("mousemove",function(t){return function(e){t.msMouseMoveProxy(e)}}(this),!1),t.addEventListener("mousedown",function(t){return function(e){t.msMouseDownProxy(e)}}(this),!1),t.addEventListener("mouseup",function(t){return function(e){t.msMouseUpProxy(e)}}(this),!1),window.navigator.msPointerEnabled?(t.addEventListener("MSPointerDown",function(t){return function(e){return t.startProxy(e)}}(this),!1),t.addEventListener("MSGestureStart",function(t){return function(e){t.gestureInEffect=!0}}(this),!1),t.addEventListener("MSGestureChange",function(t){return function(e){return t.touchmove(e)}}(this),!1),t.addEventListener("MSGestureEnd",function(t){return function(e){return t.gestureInEffect=!1,t.touchend(e)}}(this),!1),t.addEventListener("MSPointerMove",function(t){return function(e){t.moveProxy(e)}}(this),!1),t.addEventListener("MSPointerUp",function(t){return function(e){return t.endProxy(e)}}(this),!1)):(t.addEventListener("pointerdown",function(t){return function(e){return t.startProxy(e)}}(this),!1),t.addEventListener("MSGestureStart",function(t){return function(e){t.gestureInEffect=!0}}(this),!1),t.addEventListener("MSGestureChange",function(t){return function(e){return t.touchmove(e)}}(this),!1),t.addEventListener("MSGestureEnd",function(t){return function(e){return t.gestureInEffect=!1,t.touchend(e)}}(this),!1),t.addEventListener("pointermove",function(t){return function(e){t.moveProxy(e)}}(this),!1),t.addEventListener("pointerup",function(t){return function(e){return t.endProxy(e)}}(this),!1))):(a.isAndroid||a.ipad||a.iphone||(t.addEventListener("mousemove",function(t){return function(e){t.iosMouseMoveProxy(e)}}(this),!1),t.addEventListener("mousedown",function(t){return function(e){t.iosMouseDownProxy(e)}}(this),!1),t.addEventListener("mouseup",function(t){return function(e){t.iosMouseUpProxy(e)}}(this),!1)),t.addEventListener("touchstart",function(t){return function(e){t.touchstart(e)}}(this),!1),t.addEventListener("touchmove",function(t){return function(e){t.touchmove(e)}}(this),!1),t.addEventListener("touchend",function(t){return function(e){t.touchend(e)}}(this),!1),e&&(e.removeAttribute("onMouseOver"),e.removeAttribute("onMouseOut")),n&&(n.removeAttribute("onMouseOver"),n.removeAttribute("onMouseOut"))):(t.addEventListener("mousemove",function(t){return function(e){t.mousemove(e)}}(this),!1),t.addEventListener("mousedown",function(t){return function(e){t.mousedown(e)}}(this),!1),t.addEventListener("mouseup",function(t){return function(e){t.mouseup(e)}}(this),!1));var i="wheel"in document.createElement("div")||"onwheel"in document?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";t.addEventListener(i,function(t,e){return function(n){t.mouseWheel(n,e)}}(this,i),!1)}},o.prototype.rightClickHighlighted=function(){this.runPrepend("rightClickHighlighted",arguments)||(this.deleteHighlighted(!0),this.runAppend("rightClickHighlighted",arguments))},o.prototype.deleteHighlighted=function(t){if(!this.runPrepend("deleteHighlighted",arguments)){this.cancelTouchSingleClick=!0,a.clearCanvas(this.chart.tempCanvas,this);for(var e=this.drawingObjects.length-1;e>=0;e--){var n=this.drawingObjects[e];if(n.highlighted&&!n.permanent){var i=n.abort();i||(this.undoStamp(),this.drawingObjects.splice(e,1)),this.changeOccurred("vector")}}for(var r in this.overlays){var o=this.overlays[r];o.highlight&&!o.permanent&&(t?this.rightClickOverlay(r):this.removeOverlay(r))}for(var s in this.currentPanel.chart.seriesRenderers)for(var l=this.currentPanel.chart.seriesRenderers[s],u=l.seriesParams.length-1;u>=0;u--){var c=l.seriesParams[u];c.highlight&&!c.permanent&&l.removeSeries(c.field)}this.draw(),this.controls.mSticky&&(this.controls.mSticky.style.display="none",this.controls.mSticky.children[0].innerHTML=""),this.runAppend("deleteHighlighted",arguments)}},o.prototype.panelExists=function(t){for(var e in this.panels){var n=this.panels[e];if(n.name==t)return!0}return!1},o.prototype.hideCrosshairs=function(){this.displayCrosshairs=!1},o.prototype.showCrosshairs=function(){this.displayCrosshairs=!0},o.prototype.grabHandle=function(t,e){this.runPrepend("grabHandle",arguments)||(t.preventDefault&&t.preventDefault(),e&&(o.crosshairY=e.top+this.top,o.resizingPanel=e,this.drawTemporaryPanel(),this.runAppend("grabHandle",arguments)))},o.prototype.releaseHandle=function(t){this.runPrepend("releaseHandle",arguments)||(t.preventDefault&&t.preventDefault(),a.clearCanvas(this.chart.tempCanvas,this),this.resizePanels(),o.resizingPanel=null,this.runAppend("releaseHandle",arguments))},o.prototype.storePanels=function(){this.layout||(this.layout={});var t=this.layout;t.panels={};for(var e in this.panels){var n=this.panels[e];t.panels[n.name]={percent:n.percent,display:n.display}}},o.prototype.savePanels=function(t){this.storePanels(),t!==!1&&this.changeOccurred("layout")},o.prototype.resolveY=function(t){return this.top+t},o.prototype.resolveX=function(t){return this.left+t},o.prototype.backOutY=function(t){return t-this.top},o.prototype.backOutX=function(t){return t-this.left},o.prototype.cleanupRemovedStudy=function(t){t.libraryEntry&&(t.libraryEntry.removeFN&&t.libraryEntry.removeFN(this,t),t.libraryEntry.feed&&t.libraryEntry.quoteFeed&&this.detachTagAlongQuoteFeed(t.libraryEntry.feed));for(var e in this.plugins)e.indexOf("{"+t.id+"}")>-1&&delete this.plugins[e];this.layout.studies&&delete this.layout.studies[t.name]},o.prototype.privateDeletePanel=function(t){if(this.layout.studies){var e=this.layout.studies[t.name];e&&this.cleanupRemovedStudy(e)}delete this.panels[t.name];for(var n in a.Studies.studyPanelMap)a.Studies.studyPanelMap[n].panel==t.name&&delete a.Studies.studyPanelMap[n];for(var i in this.overlays)this.overlays[i].panel==t.name&&(delete this.layout.studies[i],delete this.overlays[i]);if(t.holder){this.chart.container.removeChild(t.holder);for(var r=this.getMarkerArray("panelName",t.name),o=0;o<r.length;o++)this.removeFromHolder(r[o])}t.handle.parentNode.removeChild(t.handle)},o.prototype.panelClose=function(t){if(t&&!this.runPrepend("panelClose",arguments)){if(this.cancelTouchSingleClick=!0,o.drawingLine=!1,t.soloing&&this.panelSolo(t),this.charts[t.name]){for(var e in this.panels){var n=this.panels[e];n.chart.name==t.name&&this.privateDeletePanel(n)}d